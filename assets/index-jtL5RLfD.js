(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function Qu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var om={exports:{}},du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function iC(){if(JE)return du;JE=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return du.Fragment=t,du.jsx=e,du.jsxs=e,du}var tT;function rC(){return tT||(tT=1,om.exports=iC()),om.exports}var w=rC(),lm={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function sC(){if(eT)return Mt;eT=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,z={};function P(V,tt,ut){this.props=V,this.context=tt,this.refs=z,this.updater=ut||N}P.prototype.isReactComponent={},P.prototype.setState=function(V,tt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,tt,"setState")},P.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=P.prototype;function X(V,tt,ut){this.props=V,this.context=tt,this.refs=z,this.updater=ut||N}var Q=X.prototype=new Z;Q.constructor=X,U(Q,P.prototype),Q.isPureReactComponent=!0;var W=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},at=Object.prototype.hasOwnProperty;function D(V,tt,ut,rt,ht,vt){return ut=vt.ref,{$$typeof:i,type:V,key:tt,ref:ut!==void 0?ut:null,props:vt}}function R(V,tt){return D(V.type,tt,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function M(V){var tt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ut){return tt[ut]})}var k=/\/+/g;function j(V,tt){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):tt.toString(36)}function O(){}function xt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(O,O):(V.status="pending",V.then(function(tt){V.status==="pending"&&(V.status="fulfilled",V.value=tt)},function(tt){V.status==="pending"&&(V.status="rejected",V.reason=tt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ct(V,tt,ut,rt,ht){var vt=typeof V;(vt==="undefined"||vt==="boolean")&&(V=null);var Et=!1;if(V===null)Et=!0;else switch(vt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(V.$$typeof){case i:case t:Et=!0;break;case v:return Et=V._init,Ct(Et(V._payload),tt,ut,rt,ht)}}if(Et)return ht=ht(V),Et=rt===""?"."+j(V,0):rt,W(ht)?(ut="",Et!=null&&(ut=Et.replace(k,"$&/")+"/"),Ct(ht,tt,ut,"",function(Te){return Te})):ht!=null&&(I(ht)&&(ht=R(ht,ut+(ht.key==null||V&&V.key===ht.key?"":(""+ht.key).replace(k,"$&/")+"/")+Et)),tt.push(ht)),1;Et=0;var te=rt===""?".":rt+":";if(W(V))for(var Pt=0;Pt<V.length;Pt++)rt=V[Pt],vt=te+j(rt,Pt),Et+=Ct(rt,tt,ut,vt,ht);else if(Pt=A(V),typeof Pt=="function")for(V=Pt.call(V),Pt=0;!(rt=V.next()).done;)rt=rt.value,vt=te+j(rt,Pt++),Et+=Ct(rt,tt,ut,vt,ht);else if(vt==="object"){if(typeof V.then=="function")return Ct(xt(V),tt,ut,rt,ht);throw tt=String(V),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Et}function $(V,tt,ut){if(V==null)return V;var rt=[],ht=0;return Ct(V,rt,"","",function(vt){return tt.call(ut,vt,ht++)}),rt}function lt(V){if(V._status===-1){var tt=V._result;tt=tt(),tt.then(function(ut){(V._status===0||V._status===-1)&&(V._status=1,V._result=ut)},function(ut){(V._status===0||V._status===-1)&&(V._status=2,V._result=ut)}),V._status===-1&&(V._status=0,V._result=tt)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ot(){}return Mt.Children={map:$,forEach:function(V,tt,ut){$(V,function(){tt.apply(this,arguments)},ut)},count:function(V){var tt=0;return $(V,function(){tt++}),tt},toArray:function(V){return $(V,function(tt){return tt})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Mt.Component=P,Mt.Fragment=e,Mt.Profiler=o,Mt.PureComponent=X,Mt.StrictMode=s,Mt.Suspense=m,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return st.H.useMemoCache(V)}},Mt.cache=function(V){return function(){return V.apply(null,arguments)}},Mt.cloneElement=function(V,tt,ut){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=U({},V.props),ht=V.key,vt=void 0;if(tt!=null)for(Et in tt.ref!==void 0&&(vt=void 0),tt.key!==void 0&&(ht=""+tt.key),tt)!at.call(tt,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&tt.ref===void 0||(rt[Et]=tt[Et]);var Et=arguments.length-2;if(Et===1)rt.children=ut;else if(1<Et){for(var te=Array(Et),Pt=0;Pt<Et;Pt++)te[Pt]=arguments[Pt+2];rt.children=te}return D(V.type,ht,void 0,void 0,vt,rt)},Mt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Mt.createElement=function(V,tt,ut){var rt,ht={},vt=null;if(tt!=null)for(rt in tt.key!==void 0&&(vt=""+tt.key),tt)at.call(tt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(ht[rt]=tt[rt]);var Et=arguments.length-2;if(Et===1)ht.children=ut;else if(1<Et){for(var te=Array(Et),Pt=0;Pt<Et;Pt++)te[Pt]=arguments[Pt+2];ht.children=te}if(V&&V.defaultProps)for(rt in Et=V.defaultProps,Et)ht[rt]===void 0&&(ht[rt]=Et[rt]);return D(V,vt,void 0,void 0,null,ht)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(V){return{$$typeof:d,render:V}},Mt.isValidElement=I,Mt.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:lt}},Mt.memo=function(V,tt){return{$$typeof:g,type:V,compare:tt===void 0?null:tt}},Mt.startTransition=function(V){var tt=st.T,ut={};st.T=ut;try{var rt=V(),ht=st.S;ht!==null&&ht(ut,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ot,ft)}catch(vt){ft(vt)}finally{st.T=tt}},Mt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Mt.use=function(V){return st.H.use(V)},Mt.useActionState=function(V,tt,ut){return st.H.useActionState(V,tt,ut)},Mt.useCallback=function(V,tt){return st.H.useCallback(V,tt)},Mt.useContext=function(V){return st.H.useContext(V)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(V,tt){return st.H.useDeferredValue(V,tt)},Mt.useEffect=function(V,tt,ut){var rt=st.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(V,tt)},Mt.useId=function(){return st.H.useId()},Mt.useImperativeHandle=function(V,tt,ut){return st.H.useImperativeHandle(V,tt,ut)},Mt.useInsertionEffect=function(V,tt){return st.H.useInsertionEffect(V,tt)},Mt.useLayoutEffect=function(V,tt){return st.H.useLayoutEffect(V,tt)},Mt.useMemo=function(V,tt){return st.H.useMemo(V,tt)},Mt.useOptimistic=function(V,tt){return st.H.useOptimistic(V,tt)},Mt.useReducer=function(V,tt,ut){return st.H.useReducer(V,tt,ut)},Mt.useRef=function(V){return st.H.useRef(V)},Mt.useState=function(V){return st.H.useState(V)},Mt.useSyncExternalStore=function(V,tt,ut){return st.H.useSyncExternalStore(V,tt,ut)},Mt.useTransition=function(){return st.H.useTransition()},Mt.version="19.1.1",Mt}var nT;function wg(){return nT||(nT=1,lm.exports=sC()),lm.exports}var C=wg();const kn=Qu(C);var um={exports:{}},pu={},cm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function aC(){return iT||(iT=1,(function(i){function t($,lt){var ft=$.length;$.push(lt);t:for(;0<ft;){var Ot=ft-1>>>1,V=$[Ot];if(0<o(V,lt))$[Ot]=lt,$[ft]=V,ft=Ot;else break t}}function e($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var lt=$[0],ft=$.pop();if(ft!==lt){$[0]=ft;t:for(var Ot=0,V=$.length,tt=V>>>1;Ot<tt;){var ut=2*(Ot+1)-1,rt=$[ut],ht=ut+1,vt=$[ht];if(0>o(rt,ft))ht<V&&0>o(vt,rt)?($[Ot]=vt,$[ht]=ft,Ot=ht):($[Ot]=rt,$[ut]=ft,Ot=ut);else if(ht<V&&0>o(vt,ft))$[Ot]=vt,$[ht]=ft,Ot=ht;else break t}}return lt}function o($,lt){var ft=$.sortIndex-lt.sortIndex;return ft!==0?ft:$.id-lt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();i.unstable_now=function(){return f.now()-d}}var m=[],g=[],v=1,T=null,A=3,N=!1,U=!1,z=!1,P=!1,Z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function W($){for(var lt=e(g);lt!==null;){if(lt.callback===null)s(g);else if(lt.startTime<=$)s(g),lt.sortIndex=lt.expirationTime,t(m,lt);else break;lt=e(g)}}function st($){if(z=!1,W($),!U)if(e(m)!==null)U=!0,at||(at=!0,j());else{var lt=e(g);lt!==null&&Ct(st,lt.startTime-$)}}var at=!1,D=-1,R=5,I=-1;function M(){return P?!0:!(i.unstable_now()-I<R)}function k(){if(P=!1,at){var $=i.unstable_now();I=$;var lt=!0;try{t:{U=!1,z&&(z=!1,X(D),D=-1),N=!0;var ft=A;try{e:{for(W($),T=e(m);T!==null&&!(T.expirationTime>$&&M());){var Ot=T.callback;if(typeof Ot=="function"){T.callback=null,A=T.priorityLevel;var V=Ot(T.expirationTime<=$);if($=i.unstable_now(),typeof V=="function"){T.callback=V,W($),lt=!0;break e}T===e(m)&&s(m),W($)}else s(m);T=e(m)}if(T!==null)lt=!0;else{var tt=e(g);tt!==null&&Ct(st,tt.startTime-$),lt=!1}}break t}finally{T=null,A=ft,N=!1}lt=void 0}}finally{lt?j():at=!1}}}var j;if(typeof Q=="function")j=function(){Q(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,xt=O.port2;O.port1.onmessage=k,j=function(){xt.postMessage(null)}}else j=function(){Z(k,0)};function Ct($,lt){D=Z(function(){$(i.unstable_now())},lt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function($){switch(A){case 1:case 2:case 3:var lt=3;break;default:lt=A}var ft=A;A=lt;try{return $()}finally{A=ft}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function($,lt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ft=A;A=$;try{return lt()}finally{A=ft}},i.unstable_scheduleCallback=function($,lt,ft){var Ot=i.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ot+ft:Ot):ft=Ot,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,$={id:v++,callback:lt,priorityLevel:$,startTime:ft,expirationTime:V,sortIndex:-1},ft>Ot?($.sortIndex=ft,t(g,$),e(m)===null&&$===e(g)&&(z?(X(D),D=-1):z=!0,Ct(st,ft-Ot))):($.sortIndex=V,t(m,$),U||N||(U=!0,at||(at=!0,j()))),$},i.unstable_shouldYield=M,i.unstable_wrapCallback=function($){var lt=A;return function(){var ft=A;A=lt;try{return $.apply(this,arguments)}finally{A=ft}}}})(fm)),fm}var rT;function oC(){return rT||(rT=1,cm.exports=aC()),cm.exports}var hm={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function lC(){if(sT)return ln;sT=1;var i=wg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,v)},ln.flushSync=function(m){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=v,s.d.f()}},ln.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},ln.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},ln.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:N}):v==="script"&&s.d.X(m,{crossOrigin:T,integrity:A,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},ln.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},ln.requestFormReset=function(m){s.d.r(m)},ln.unstable_batchedUpdates=function(m,g){return m(g)},ln.useFormState=function(m,g,v){return f.H.useFormState(m,g,v)},ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},ln.version="19.1.1",ln}var aT;function _A(){if(aT)return hm.exports;aT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),hm.exports=lC(),hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function uC(){if(oT)return pu;oT=1;var i=oC(),t=wg(),e=_A();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function m(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return d(h),n;if(p===l)return d(h),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=p;else{for(var E=!1,S=h.child;S;){if(S===a){E=!0,a=h,l=p;break}if(S===l){E=!0,l=h,a=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===a){E=!0,a=p,l=h;break}if(S===l){E=!0,l=p,a=h;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function xt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case P:return"Profiler";case z:return"StrictMode";case st:return"Suspense";case at:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case Q:return(n.displayName||"Context")+".Provider";case X:return(n._context.displayName||"Context")+".Consumer";case W:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return r=n.displayName||null,r!==null?r:xt(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return xt(n(r))}catch{}}return null}var Ct=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ot=[],V=-1;function tt(n){return{current:n}}function ut(n){0>V||(n.current=Ot[V],Ot[V]=null,V--)}function rt(n,r){V++,Ot[V]=n.current,n.current=r}var ht=tt(null),vt=tt(null),Et=tt(null),te=tt(null);function Pt(n,r){switch(rt(Et,r),rt(vt,n),rt(ht,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?CE(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=CE(r),n=IE(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ut(ht),rt(ht,n)}function Te(){ut(ht),ut(vt),ut(Et)}function Ge(n){n.memoizedState!==null&&rt(te,n);var r=ht.current,a=IE(r,n.type);r!==a&&(rt(vt,n),rt(ht,a))}function Le(n){vt.current===n&&(ut(ht),ut(vt)),te.current===n&&(ut(te),lu._currentValue=ft)}var en=Object.prototype.hasOwnProperty,nn=i.unstable_scheduleCallback,rn=i.unstable_cancelCallback,Kt=i.unstable_shouldYield,Un=i.unstable_requestPaint,ge=i.unstable_now,ks=i.unstable_getCurrentPriorityLevel,qi=i.unstable_ImmediatePriority,sn=i.unstable_UserBlockingPriority,vn=i.unstable_NormalPriority,Mr=i.unstable_LowPriority,ii=i.unstable_IdlePriority,jn=i.log,Fi=i.unstable_setDisableYieldValue,Tt=null,Vt=null;function Ie(n){if(typeof jn=="function"&&Fi(n),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Tt,n)}catch{}}var an=Math.clz32?Math.clz32:Ps,pc=Math.log,ud=Math.LN2;function Ps(n){return n>>>=0,n===0?32:31-(pc(n)/ud|0)|0}var Ls=256,Us=4194304;function ri(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ma(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?h=ri(l):(E&=S,E!==0?h=ri(E):a||(a=S&~n,a!==0&&(h=ri(a))))):(S=l&~p,S!==0?h=ri(S):E!==0?h=ri(E):a||(a=l&~n,a!==0&&(h=ri(a)))),h===0?0:r!==0&&r!==h&&(r&p)===0&&(p=h&-h,a=r&-r,p>=a||p===32&&(a&4194048)!==0)?r:h}function js(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ll(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ul(){var n=Ls;return Ls<<=1,(Ls&4194048)===0&&(Ls=256),n}function cl(){var n=Us;return Us<<=1,(Us&62914560)===0&&(Us=4194304),n}function Gi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function $i(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function fl(n,r,a,l,h,p){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,x=n.expirationTimes,F=n.hiddenUpdates;for(a=E&~a;0<a;){var J=31-an(a),nt=1<<J;S[J]=0,x[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}a&=~nt}l!==0&&mi(n,l,0),p!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~r))}function mi(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-an(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function hl(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-an(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function Vr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Va(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function kr(){var n=lt.p;return n!==0?n:(n=window.event,n===void 0?32:KE(n.type))}function mc(n,r){var a=lt.p;try{return lt.p=n,r()}finally{lt.p=a}}var ue=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ue,Ae="__reactProps$"+ue,Bn="__reactContainer$"+ue,dl="__reactEvents$"+ue,cd="__reactListeners$"+ue,Pr="__reactHandles$"+ue,gc="__reactResources$"+ue,Bs="__reactMarker$"+ue;function Lr(n){delete n[Oe],delete n[Ae],delete n[dl],delete n[cd],delete n[Pr]}function Ki(n){var r=n[Oe];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Bn]||a[Oe]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=xE(n);n!==null;){if(a=n[Oe])return a;n=xE(n)}return r}n=a,a=n.parentNode}return null}function gi(n){if(n=n[Oe]||n[Bn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function yi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function pn(n){var r=n[gc];return r||(r=n[gc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ye(n){n[Bs]=!0}var pl=new Set,ka={};function si(n,r){Yi(n,r),Yi(n+"Capture",r)}function Yi(n,r){for(ka[n]=r,n=0;n<r.length;n++)pl.add(r[n])}var yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},zs={};function _c(n){return en.call(zs,n)?!0:en.call(vc,n)?!1:yc.test(n)?zs[n]=!0:(vc[n]=!0,!1)}function Ur(n,r,a){if(_c(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function vi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function $e(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Hs,Ec;function Qi(n){if(Hs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Hs=r&&r[1]||"",Ec=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+n+Ec}var Pa=!1;function La(n,r){if(!n||Pa)return"";Pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(K){var G=K}Reflect.construct(n,[],nt)}else{try{nt.call()}catch(K){G=K}n.call(nt.prototype)}}else{try{throw Error()}catch(K){G=K}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var x=E.split(`
`),F=S.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===F.length)for(l=x.length-1,h=F.length-1;1<=l&&0<=h&&x[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==F[h]){var J=`
`+x[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=h);break}}}finally{Pa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Qi(a):""}function ml(n){switch(n.tag){case 26:case 27:case 5:return Qi(n.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return La(n.type,!1);case 11:return La(n.type.render,!1);case 1:return La(n.type,!0);case 31:return Qi("Activity");default:return""}}function Ua(n){try{var r="";do r+=ml(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fd(n){var r=gl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ja(n){n._valueTracker||(n._valueTracker=fd(n))}function yl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=gl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function qs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var hd=/[\n"\\]/g;function Se(n){return n.replace(hd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Cn(n,r,a,l,h,p,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+mn(r)):n.value!==""+mn(r)&&(n.value=""+mn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?jr(n,E,mn(r)):a!=null?jr(n,E,mn(a)):l!=null&&n.removeAttribute("value"),h==null&&p!=null&&(n.defaultChecked=!!p),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+mn(S):n.removeAttribute("name")}function Fs(n,r,a,l,h,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;a=a!=null?""+mn(a):"",r=r!=null?""+mn(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function jr(n,r,a){r==="number"&&qs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Xi(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+mn(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function ee(n,r,a){if(r!=null&&(r=""+mn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+mn(a):""}function Gs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=mn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function zn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var $s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||$s.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function vl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Tc(n,h,l)}else for(var p in r)r.hasOwnProperty(p)&&Tc(n,p,r[p])}function _l(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(n){return pd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Wi=null;function Hn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zi=null,Ji=null;function El(n){var r=gi(n);if(r&&(n=r.stateNode)){var a=n[Ae]||null;t:switch(n=r.stateNode,r.type){case"input":if(Cn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[Ae]||null;if(!h)throw Error(s(90));Cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&yl(l)}break t;case"textarea":ee(n,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Xi(n,!!a.multiple,r,!1)}}}var _i=!1;function Ac(n,r,a){if(_i)return n(r,a);_i=!0;try{var l=n(r);return l}finally{if(_i=!1,(Zi!==null||Ji!==null)&&(gf(),Zi&&(r=Zi,n=Ji,Ji=Zi=null,El(r),n)))for(r=0;r<n.length;r++)El(n[r])}}function Ks(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Ae]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(ai)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{qn=!1}var Ei=null,Br=null,tr=null;function Tl(){if(tr)return tr;var n,r=Br,a=r.length,l,h="value"in Ei?Ei.value:Ei.textContent,p=h.length;for(n=0;n<a&&r[n]===h[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===h[p-l];l++);return tr=h.slice(n,1<l?1-l:void 0)}function Ti(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ai(){return!0}function Al(){return!1}function Ue(n){function r(a,l,h,p,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ai:Al,this.isPropagationStopped=Al,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),r}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Ue(Xt),Qs=v({},Xt,{view:0,detail:0}),Sc=Ue(Qs),Ha,qa,Si,Xs=v({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Si&&(Si&&n.type==="mousemove"?(Ha=n.screenX-Si.screenX,qa=n.screenY-Si.screenY):qa=Ha=0,Si=n),Ha)},movementY:function(n){return"movementY"in n?n.movementY:qa}}),Fn=Ue(Xs),bc=v({},Xs,{dataTransfer:0}),md=Ue(bc),Ws=v({},Qs,{relatedTarget:0}),Fa=Ue(Ws),Sl=v({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=Ue(Sl),wc=v({},Xt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$a=Ue(wc),gd=v({},Xt,{data:0}),bl=Ue(gd),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Cc[n])?!!r[n]:!1}function Js(){return wl}var Ic=v({},Qs,{key:function(n){if(n.key){var r=Zs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ti(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Rc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(n){return n.type==="keypress"?Ti(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ti(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ka=Ue(Ic),Oc=v({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Ue(Oc),er=v({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),Nc=Ue(er),Dc=v({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),xc=Ue(Dc),Mc=v({},Xs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ya=Ue(Mc),gn=v({},Xt,{newState:0,oldState:0}),Vc=Ue(gn),kc=[9,13,27,32],bi=ai&&"CompositionEvent"in window,c=null;ai&&"documentMode"in document&&(c=document.documentMode);var y=ai&&"TextEvent"in window&&!c,_=ai&&(!bi||c&&8<c&&11>=c),b=" ",H=!1;function Y(n,r){switch(n){case"keyup":return kc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qt=!1;function Ne(n,r){switch(n){case"compositionend":return ct(r);case"keypress":return r.which!==32?null:(H=!0,b);case"textInput":return n=r.data,n===b&&H?null:n;default:return null}}function Ft(n,r){if(qt)return n==="compositionend"||!bi&&Y(n,r)?(n=Tl(),tr=Br=Ei=null,qt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!je[n.type]:r==="textarea"}function nr(n,r,a,l){Zi?Ji?Ji.push(l):Ji=[l]:Zi=l,r=Af(r,"onChange"),0<r.length&&(a=new za("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Ke=null,wi=null;function Cl(n){AE(n,0)}function Pc(n){var r=yi(n);if(yl(r))return n}function qy(n,r){if(n==="change")return r}var Fy=!1;if(ai){var yd;if(ai){var vd="oninput"in document;if(!vd){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),vd=typeof Gy.oninput=="function"}yd=vd}else yd=!1;Fy=yd&&(!document.documentMode||9<document.documentMode)}function $y(){Ke&&(Ke.detachEvent("onpropertychange",Ky),wi=Ke=null)}function Ky(n){if(n.propertyName==="value"&&Pc(wi)){var r=[];nr(r,wi,n,Hn(n)),Ac(Cl,r)}}function M1(n,r,a){n==="focusin"?($y(),Ke=r,wi=a,Ke.attachEvent("onpropertychange",Ky)):n==="focusout"&&$y()}function V1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Pc(wi)}function k1(n,r){if(n==="click")return Pc(r)}function P1(n,r){if(n==="input"||n==="change")return Pc(r)}function L1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var In=typeof Object.is=="function"?Object.is:L1;function Il(n,r){if(In(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!en.call(r,h)||!In(n[h],r[h]))return!1}return!0}function Yy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Qy(n,r){var a=Yy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Yy(a)}}function Xy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Xy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Wy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=qs(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=qs(n.document)}return r}function _d(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var U1=ai&&"documentMode"in document&&11>=document.documentMode,Qa=null,Ed=null,Ol=null,Td=!1;function Zy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Td||Qa==null||Qa!==qs(l)||(l=Qa,"selectionStart"in l&&_d(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ol&&Il(Ol,l)||(Ol=l,l=Af(Ed,"onSelect"),0<l.length&&(r=new za("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Qa)))}function ta(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Xa={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},Ad={},Jy={};ai&&(Jy=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ea(n){if(Ad[n])return Ad[n];if(!Xa[n])return n;var r=Xa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Jy)return Ad[n]=r[a];return n}var tv=ea("animationend"),ev=ea("animationiteration"),nv=ea("animationstart"),j1=ea("transitionrun"),B1=ea("transitionstart"),z1=ea("transitioncancel"),iv=ea("transitionend"),rv=new Map,Sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sd.push("scrollEnd");function oi(n,r){rv.set(n,r),si(r,[n])}var sv=new WeakMap;function Gn(n,r){if(typeof n=="object"&&n!==null){var a=sv.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ua(r)},sv.set(n,r),r)}return{value:n,source:r,stack:Ua(r)}}var $n=[],Wa=0,bd=0;function Lc(){for(var n=Wa,r=bd=Wa=0;r<n;){var a=$n[r];$n[r++]=null;var l=$n[r];$n[r++]=null;var h=$n[r];$n[r++]=null;var p=$n[r];if($n[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}p!==0&&av(a,h,p)}}function Uc(n,r,a,l){$n[Wa++]=n,$n[Wa++]=r,$n[Wa++]=a,$n[Wa++]=l,bd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function wd(n,r,a,l){return Uc(n,r,a,l),jc(n)}function Za(n,r){return Uc(n,null,null,r),jc(n)}function av(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(h=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,h&&r!==null&&(h=31-an(a),n=p.hiddenUpdates,l=n[h],l===null?n[h]=[r]:l.push(r),r.lane=a|536870912),p):null}function jc(n){if(50<tu)throw tu=0,Dp=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ja={};function H1(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(n,r,a,l){return new H1(n,r,a,l)}function Rd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ir(n,r){var a=n.alternate;return a===null?(a=On(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ov(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Bc(n,r,a,l,h,p){var E=0;if(l=n,typeof n=="function")Rd(n)&&(E=1);else if(typeof n=="string")E=FR(n,a,ht.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case I:return n=On(31,a,r,h),n.elementType=I,n.lanes=p,n;case U:return na(a.children,h,p,r);case z:E=8,h|=24;break;case P:return n=On(12,a,r,h|2),n.elementType=P,n.lanes=p,n;case st:return n=On(13,a,r,h),n.elementType=st,n.lanes=p,n;case at:return n=On(19,a,r,h),n.elementType=at,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Z:case Q:E=10;break t;case X:E=9;break t;case W:E=11;break t;case D:E=14;break t;case R:E=16,l=null;break t}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=On(E,a,r,h),r.elementType=n,r.type=l,r.lanes=p,r}function na(n,r,a,l){return n=On(7,n,l,r),n.lanes=a,n}function Cd(n,r,a){return n=On(6,n,null,r),n.lanes=a,n}function Id(n,r,a){return r=On(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var to=[],eo=0,zc=null,Hc=0,Kn=[],Yn=0,ia=null,rr=1,sr="";function ra(n,r){to[eo++]=Hc,to[eo++]=zc,zc=n,Hc=r}function lv(n,r,a){Kn[Yn++]=rr,Kn[Yn++]=sr,Kn[Yn++]=ia,ia=n;var l=rr;n=sr;var h=32-an(l)-1;l&=~(1<<h),a+=1;var p=32-an(r)+h;if(30<p){var E=h-h%5;p=(l&(1<<E)-1).toString(32),l>>=E,h-=E,rr=1<<32-an(r)+h|a<<h|l,sr=p+n}else rr=1<<p|a<<h|l,sr=n}function Od(n){n.return!==null&&(ra(n,1),lv(n,1,0))}function Nd(n){for(;n===zc;)zc=to[--eo],to[eo]=null,Hc=to[--eo],to[eo]=null;for(;n===ia;)ia=Kn[--Yn],Kn[Yn]=null,sr=Kn[--Yn],Kn[Yn]=null,rr=Kn[--Yn],Kn[Yn]=null}var yn=null,pe=null,Qt=!1,sa=null,Ri=!1,Dd=Error(s(519));function aa(n){var r=Error(s(418,""));throw xl(Gn(r,n)),Dd}function uv(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Oe]=n,r[Ae]=l,a){case"dialog":jt("cancel",r),jt("close",r);break;case"iframe":case"object":case"embed":jt("load",r);break;case"video":case"audio":for(a=0;a<nu.length;a++)jt(nu[a],r);break;case"source":jt("error",r);break;case"img":case"image":case"link":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"input":jt("invalid",r),Fs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ja(r);break;case"select":jt("invalid",r);break;case"textarea":jt("invalid",r),Gs(r,l.value,l.defaultValue,l.children),ja(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||RE(r.textContent,a)?(l.popover!=null&&(jt("beforetoggle",r),jt("toggle",r)),l.onScroll!=null&&jt("scroll",r),l.onScrollEnd!=null&&jt("scrollend",r),l.onClick!=null&&(r.onclick=Sf),r=!0):r=!1,r||aa(n)}function cv(n){for(yn=n.return;yn;)switch(yn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:yn=yn.return}}function Nl(n){if(n!==yn)return!1;if(!Qt)return cv(n),Qt=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Kp(n.type,n.memoizedProps)),a=!a),a&&pe&&aa(n),cv(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){pe=ui(n.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}pe=null}}else r===27?(r=pe,ns(n.type)?(n=Wp,Wp=null,pe=n):pe=r):pe=yn?ui(n.stateNode.nextSibling):null;return!0}function Dl(){pe=yn=null,Qt=!1}function fv(){var n=sa;return n!==null&&(Tn===null?Tn=n:Tn.push.apply(Tn,n),sa=null),n}function xl(n){sa===null?sa=[n]:sa.push(n)}var xd=tt(null),oa=null,ar=null;function zr(n,r,a){rt(xd,r._currentValue),r._currentValue=a}function or(n){n._currentValue=xd.current,ut(xd)}function Md(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Vd(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=h;for(var x=0;x<r.length;x++)if(S.context===r[x]){p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),Md(p.return,a,n),l||(E=null);break t}p=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),Md(E,a,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Ml(n,r,a,l){n=null;for(var h=r,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=h.type;In(h.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(h===te.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(lu):n=[lu])}h=h.return}n!==null&&Vd(r,n,a,l),r.flags|=262144}function qc(n){for(n=n.firstContext;n!==null;){if(!In(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function la(n){oa=n,ar=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function on(n){return hv(oa,n)}function Fc(n,r){return oa===null&&la(n),hv(n,r)}function hv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ar===null){if(n===null)throw Error(s(308));ar=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ar=ar.next=r;return a}var q1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},F1=i.unstable_scheduleCallback,G1=i.unstable_NormalPriority,xe={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kd(){return{controller:new q1,data:new Map,refCount:0}}function Vl(n){n.refCount--,n.refCount===0&&F1(G1,function(){n.controller.abort()})}var kl=null,Pd=0,no=0,io=null;function $1(n,r){if(kl===null){var a=kl=[];Pd=0,no=Up(),io={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pd++,r.then(dv,dv),r}function dv(){if(--Pd===0&&kl!==null){io!==null&&(io.status="fulfilled");var n=kl;kl=null,no=0,io=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function K1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var pv=$.S;$.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&$1(n,r),pv!==null&&pv(n,r)};var ua=tt(null);function Ld(){var n=ua.current;return n!==null?n:ae.pooledCache}function Gc(n,r){r===null?rt(ua,ua.current):rt(ua,r.pool)}function mv(){var n=Ld();return n===null?null:{parent:xe._currentValue,pool:n}}var Pl=Error(s(460)),gv=Error(s(474)),$c=Error(s(542)),Ud={then:function(){}};function yv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Kc(){}function vv(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Kc,Kc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Ev(n),n;default:if(typeof r.status=="string")r.then(Kc,Kc);else{if(n=ae,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Ev(n),n}throw Ll=r,Pl}}var Ll=null;function _v(){if(Ll===null)throw Error(s(459));var n=Ll;return Ll=null,n}function Ev(n){if(n===Pl||n===$c)throw Error(s(483))}var Hr=!1;function jd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function qr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Fr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=jc(n),av(n,null,a),r}return Uc(n,l,r,a),jc(n)}function Ul(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,hl(n,a)}}function zd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?h=p=r:p=p.next=r}else h=p=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Hd=!1;function jl(){if(Hd){var n=io;if(n!==null)throw n}}function Bl(n,r,a,l){Hd=!1;var h=n.updateQueue;Hr=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var x=S,F=x.next;x.next=null,E===null?p=F:E.next=F,E=x;var J=n.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==E&&(S===null?J.firstBaseUpdate=F:S.next=F,J.lastBaseUpdate=x))}if(p!==null){var nt=h.baseState;E=0,J=F=x=null,S=p;do{var G=S.lane&-536870913,K=G!==S.lane;if(K?(Gt&G)===G:(l&G)===G){G!==0&&G===no&&(Hd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var It=n,St=S;G=r;var re=a;switch(St.tag){case 1:if(It=St.payload,typeof It=="function"){nt=It.call(re,nt,G);break t}nt=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=St.payload,G=typeof It=="function"?It.call(re,nt,G):It,G==null)break t;nt=v({},nt,G);break t;case 2:Hr=!0}}G=S.callback,G!==null&&(n.flags|=64,K&&(n.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(F=J=K,x=nt):J=J.next=K,E|=G;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(x=nt),h.baseState=x,h.firstBaseUpdate=F,h.lastBaseUpdate=J,p===null&&(h.shared.lanes=0),Zr|=E,n.lanes=E,n.memoizedState=nt}}function Tv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Av(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Tv(a[n],r)}var ro=tt(null),Yc=tt(0);function Sv(n,r){n=pr,rt(Yc,n),rt(ro,r),pr=n|r.baseLanes}function qd(){rt(Yc,pr),rt(ro,ro.current)}function Fd(){pr=Yc.current,ut(ro),ut(Yc)}var Gr=0,kt=null,ne=null,be=null,Qc=!1,so=!1,ca=!1,Xc=0,zl=0,ao=null,Y1=0;function ve(){throw Error(s(321))}function Gd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!In(n[a],r[a]))return!1;return!0}function $d(n,r,a,l,h,p){return Gr=p,kt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=n===null||n.memoizedState===null?a_:o_,ca=!1,p=a(l,h),ca=!1,so&&(p=wv(r,a,l,h)),bv(n),p}function bv(n){$.H=nf;var r=ne!==null&&ne.next!==null;if(Gr=0,be=ne=kt=null,Qc=!1,zl=0,ao=null,r)throw Error(s(300));n===null||Be||(n=n.dependencies,n!==null&&qc(n)&&(Be=!0))}function wv(n,r,a,l){kt=n;var h=0;do{if(so&&(ao=null),zl=0,so=!1,25<=h)throw Error(s(301));if(h+=1,be=ne=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=eR,p=r(a,l)}while(so);return p}function Q1(){var n=$.H,r=n.useState()[0];return r=typeof r.then=="function"?Hl(r):r,n=n.useState()[0],(ne!==null?ne.memoizedState:null)!==n&&(kt.flags|=1024),r}function Kd(){var n=Xc!==0;return Xc=0,n}function Yd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Qd(n){if(Qc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Qc=!1}Gr=0,be=ne=kt=null,so=!1,zl=Xc=0,ao=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?kt.memoizedState=be=n:be=be.next=n,be}function we(){if(ne===null){var n=kt.alternate;n=n!==null?n.memoizedState:null}else n=ne.next;var r=be===null?kt.memoizedState:be.next;if(r!==null)be=r,ne=n;else{if(n===null)throw kt.alternate===null?Error(s(467)):Error(s(310));ne=n,n={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},be===null?kt.memoizedState=be=n:be=be.next=n}return be}function Xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(n){var r=zl;return zl+=1,ao===null&&(ao=[]),n=vv(ao,n,r),r=kt,(be===null?r.memoizedState:be.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?a_:o_),n}function Wc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Hl(n);if(n.$$typeof===Q)return on(n)}throw Error(s(438,String(n)))}function Wd(n){var r=null,a=kt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=kt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Xd(),kt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=M;return r.index++,a}function lr(n,r){return typeof r=="function"?r(n):r}function Zc(n){var r=we();return Zd(r,ne,n)}function Zd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,p=l.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}r.baseQueue=h=p,l.pending=null}if(p=n.baseState,h===null)n.memoizedState=p;else{r=h.next;var S=E=null,x=null,F=r,J=!1;do{var nt=F.lane&-536870913;if(nt!==F.lane?(Gt&nt)===nt:(Gr&nt)===nt){var G=F.revertLane;if(G===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),nt===no&&(J=!0);else if((Gr&G)===G){F=F.next,G===no&&(J=!0);continue}else nt={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(S=x=nt,E=p):x=x.next=nt,kt.lanes|=G,Zr|=G;nt=F.action,ca&&a(p,nt),p=F.hasEagerState?F.eagerState:a(p,nt)}else G={lane:nt,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(S=x=G,E=p):x=x.next=G,kt.lanes|=nt,Zr|=nt;F=F.next}while(F!==null&&F!==r);if(x===null?E=p:x.next=S,!In(p,n.memoizedState)&&(Be=!0,J&&(a=io,a!==null)))throw a;n.memoizedState=p,n.baseState=E,n.baseQueue=x,l.lastRenderedState=p}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Jd(n){var r=we(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,p=r.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do p=n(p,E.action),E=E.next;while(E!==h);In(p,r.memoizedState)||(Be=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function Rv(n,r,a){var l=kt,h=we(),p=Qt;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!In((ne||h).memoizedState,a);E&&(h.memoizedState=a,Be=!0),h=h.queue;var S=Ov.bind(null,l,h,n);if(ql(2048,8,S,[n]),h.getSnapshot!==r||E||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,oo(9,Jc(),Iv.bind(null,l,h,a,r),null),ae===null)throw Error(s(349));p||(Gr&124)!==0||Cv(l,r,a)}return a}function Cv(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=kt.updateQueue,r===null?(r=Xd(),kt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Iv(n,r,a,l){r.value=a,r.getSnapshot=l,Nv(r)&&Dv(n)}function Ov(n,r,a){return a(function(){Nv(r)&&Dv(n)})}function Nv(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!In(n,a)}catch{return!0}}function Dv(n){var r=Za(n,2);r!==null&&Vn(r,n,2)}function tp(n){var r=_n();if(typeof n=="function"){var a=n;if(n=a(),ca){Ie(!0);try{a()}finally{Ie(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:n},r}function xv(n,r,a,l){return n.baseState=a,Zd(n,ne,typeof l=="function"?l:lr)}function X1(n,r,a,l,h){if(ef(n))throw Error(s(485));if(n=r.action,n!==null){var p={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};$.T!==null?a(!0):p.isTransition=!1,l(p),a=r.pending,a===null?(p.next=r.pending=p,Mv(r,p)):(p.next=a.next,r.pending=a.next=p)}}function Mv(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var p=$.T,E={};$.T=E;try{var S=a(h,l),x=$.S;x!==null&&x(E,S),Vv(n,r,S)}catch(F){ep(n,r,F)}finally{$.T=p}}else try{p=a(h,l),Vv(n,r,p)}catch(F){ep(n,r,F)}}function Vv(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){kv(n,r,l)},function(l){return ep(n,r,l)}):kv(n,r,a)}function kv(n,r,a){r.status="fulfilled",r.value=a,Pv(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Mv(n,a)))}function ep(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Pv(r),r=r.next;while(r!==l)}n.action=null}function Pv(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Lv(n,r){return r}function Uv(n,r){if(Qt){var a=ae.formState;if(a!==null){t:{var l=kt;if(Qt){if(pe){e:{for(var h=pe,p=Ri;h.nodeType!==8;){if(!p){h=null;break e}if(h=ui(h.nextSibling),h===null){h=null;break e}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){pe=ui(h.nextSibling),l=h.data==="F!";break t}}aa(l)}l=!1}l&&(r=a[0])}}return a=_n(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lv,lastRenderedState:r},a.queue=l,a=i_.bind(null,kt,l),l.dispatch=a,l=tp(!1),p=ap.bind(null,kt,!1,l.queue),l=_n(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=X1.bind(null,kt,h,p,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function jv(n){var r=we();return Bv(r,ne,n)}function Bv(n,r,a){if(r=Zd(n,r,Lv)[0],n=Zc(lr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Hl(r)}catch(E){throw E===Pl?$c:E}else l=r;r=we();var h=r.queue,p=h.dispatch;return a!==r.memoizedState&&(kt.flags|=2048,oo(9,Jc(),W1.bind(null,h,a),null)),[l,p,n]}function W1(n,r){n.action=r}function zv(n){var r=we(),a=ne;if(a!==null)return Bv(r,a,n);we(),r=r.memoizedState,a=we();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function oo(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=kt.updateQueue,r===null&&(r=Xd(),kt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Jc(){return{destroy:void 0,resource:void 0}}function Hv(){return we().memoizedState}function tf(n,r,a,l){var h=_n();l=l===void 0?null:l,kt.flags|=n,h.memoizedState=oo(1|r,Jc(),a,l)}function ql(n,r,a,l){var h=we();l=l===void 0?null:l;var p=h.memoizedState.inst;ne!==null&&l!==null&&Gd(l,ne.memoizedState.deps)?h.memoizedState=oo(r,p,a,l):(kt.flags|=n,h.memoizedState=oo(1|r,p,a,l))}function qv(n,r){tf(8390656,8,n,r)}function Fv(n,r){ql(2048,8,n,r)}function Gv(n,r){return ql(4,2,n,r)}function $v(n,r){return ql(4,4,n,r)}function Kv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Yv(n,r,a){a=a!=null?a.concat([n]):null,ql(4,4,Kv.bind(null,r,n),a)}function np(){}function Qv(n,r){var a=we();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Gd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Xv(n,r){var a=we();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Gd(r,l[1]))return l[0];if(l=n(),ca){Ie(!0);try{n()}finally{Ie(!1)}}return a.memoizedState=[l,r],l}function ip(n,r,a){return a===void 0||(Gr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=J_(),kt.lanes|=n,Zr|=n,a)}function Wv(n,r,a,l){return In(a,r)?a:ro.current!==null?(n=ip(n,a,l),In(n,r)||(Be=!0),n):(Gr&42)===0?(Be=!0,n.memoizedState=a):(n=J_(),kt.lanes|=n,Zr|=n,r)}function Zv(n,r,a,l,h){var p=lt.p;lt.p=p!==0&&8>p?p:8;var E=$.T,S={};$.T=S,ap(n,!1,r,a);try{var x=h(),F=$.S;if(F!==null&&F(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var J=K1(x,l);Fl(n,r,J,Mn(n))}else Fl(n,r,l,Mn(n))}catch(nt){Fl(n,r,{then:function(){},status:"rejected",reason:nt},Mn())}finally{lt.p=p,$.T=E}}function Z1(){}function rp(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=Jv(n).queue;Zv(n,h,r,ft,a===null?Z1:function(){return t_(n),a(l)})}function Jv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:ft},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function t_(n){var r=Jv(n).next.queue;Fl(n,r,{},Mn())}function sp(){return on(lu)}function e_(){return we().memoizedState}function n_(){return we().memoizedState}function J1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Mn();n=qr(a);var l=Fr(r,n,a);l!==null&&(Vn(l,r,a),Ul(l,r,a)),r={cache:kd()},n.payload=r;return}r=r.return}}function tR(n,r,a){var l=Mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ef(n)?r_(r,a):(a=wd(n,r,a,l),a!==null&&(Vn(a,n,l),s_(a,r,l)))}function i_(n,r,a){var l=Mn();Fl(n,r,a,l)}function Fl(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ef(n))r_(r,h);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,S=p(E,a);if(h.hasEagerState=!0,h.eagerState=S,In(S,E))return Uc(n,r,h,0),ae===null&&Lc(),!1}catch{}finally{}if(a=wd(n,r,h,l),a!==null)return Vn(a,n,l),s_(a,r,l),!0}return!1}function ap(n,r,a,l){if(l={lane:2,revertLane:Up(),action:l,hasEagerState:!1,eagerState:null,next:null},ef(n)){if(r)throw Error(s(479))}else r=wd(n,a,l,2),r!==null&&Vn(r,n,2)}function ef(n){var r=n.alternate;return n===kt||r!==null&&r===kt}function r_(n,r){so=Qc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function s_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,hl(n,a)}}var nf={readContext:on,use:Wc,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},a_={readContext:on,use:Wc,useCallback:function(n,r){return _n().memoizedState=[n,r===void 0?null:r],n},useContext:on,useEffect:qv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,tf(4194308,4,Kv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return tf(4194308,4,n,r)},useInsertionEffect:function(n,r){tf(4,2,n,r)},useMemo:function(n,r){var a=_n();r=r===void 0?null:r;var l=n();if(ca){Ie(!0);try{n()}finally{Ie(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=_n();if(a!==void 0){var h=a(r);if(ca){Ie(!0);try{a(r)}finally{Ie(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=tR.bind(null,kt,n),[l.memoizedState,n]},useRef:function(n){var r=_n();return n={current:n},r.memoizedState=n},useState:function(n){n=tp(n);var r=n.queue,a=i_.bind(null,kt,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:np,useDeferredValue:function(n,r){var a=_n();return ip(a,n,r)},useTransition:function(){var n=tp(!1);return n=Zv.bind(null,kt,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=kt,h=_n();if(Qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ae===null)throw Error(s(349));(Gt&124)!==0||Cv(l,r,a)}h.memoizedState=a;var p={value:a,getSnapshot:r};return h.queue=p,qv(Ov.bind(null,l,p,n),[n]),l.flags|=2048,oo(9,Jc(),Iv.bind(null,l,p,a,r),null),a},useId:function(){var n=_n(),r=ae.identifierPrefix;if(Qt){var a=sr,l=rr;a=(l&~(1<<32-an(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Xc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Y1++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:sp,useFormState:Uv,useActionState:Uv,useOptimistic:function(n){var r=_n();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ap.bind(null,kt,!0,a),a.dispatch=r,[n,r]},useMemoCache:Wd,useCacheRefresh:function(){return _n().memoizedState=J1.bind(null,kt)}},o_={readContext:on,use:Wc,useCallback:Qv,useContext:on,useEffect:Fv,useImperativeHandle:Yv,useInsertionEffect:Gv,useLayoutEffect:$v,useMemo:Xv,useReducer:Zc,useRef:Hv,useState:function(){return Zc(lr)},useDebugValue:np,useDeferredValue:function(n,r){var a=we();return Wv(a,ne.memoizedState,n,r)},useTransition:function(){var n=Zc(lr)[0],r=we().memoizedState;return[typeof n=="boolean"?n:Hl(n),r]},useSyncExternalStore:Rv,useId:e_,useHostTransitionStatus:sp,useFormState:jv,useActionState:jv,useOptimistic:function(n,r){var a=we();return xv(a,ne,n,r)},useMemoCache:Wd,useCacheRefresh:n_},eR={readContext:on,use:Wc,useCallback:Qv,useContext:on,useEffect:Fv,useImperativeHandle:Yv,useInsertionEffect:Gv,useLayoutEffect:$v,useMemo:Xv,useReducer:Jd,useRef:Hv,useState:function(){return Jd(lr)},useDebugValue:np,useDeferredValue:function(n,r){var a=we();return ne===null?ip(a,n,r):Wv(a,ne.memoizedState,n,r)},useTransition:function(){var n=Jd(lr)[0],r=we().memoizedState;return[typeof n=="boolean"?n:Hl(n),r]},useSyncExternalStore:Rv,useId:e_,useHostTransitionStatus:sp,useFormState:zv,useActionState:zv,useOptimistic:function(n,r){var a=we();return ne!==null?xv(a,ne,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Wd,useCacheRefresh:n_},lo=null,Gl=0;function rf(n){var r=Gl;return Gl+=1,lo===null&&(lo=[]),vv(lo,n,r)}function $l(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function sf(n,r){throw r.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function l_(n){var r=n._init;return r(n._payload)}function u_(n){function r(B,L){if(n){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function h(B,L){return B=ir(B,L),B.index=0,B.sibling=null,B}function p(B,L,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=67108866,L):q):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function E(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function S(B,L,q,et){return L===null||L.tag!==6?(L=Cd(q,B.mode,et),L.return=B,L):(L=h(L,q),L.return=B,L)}function x(B,L,q,et){var mt=q.type;return mt===U?J(B,L,q.props.children,et,q.key):L!==null&&(L.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&l_(mt)===L.type)?(L=h(L,q.props),$l(L,q),L.return=B,L):(L=Bc(q.type,q.key,q.props,null,B.mode,et),$l(L,q),L.return=B,L)}function F(B,L,q,et){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Id(q,B.mode,et),L.return=B,L):(L=h(L,q.children||[]),L.return=B,L)}function J(B,L,q,et,mt){return L===null||L.tag!==7?(L=na(q,B.mode,et,mt),L.return=B,L):(L=h(L,q),L.return=B,L)}function nt(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Cd(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return q=Bc(L.type,L.key,L.props,null,B.mode,q),$l(q,L),q.return=B,q;case N:return L=Id(L,B.mode,q),L.return=B,L;case R:var et=L._init;return L=et(L._payload),nt(B,L,q)}if(Ct(L)||j(L))return L=na(L,B.mode,q,null),L.return=B,L;if(typeof L.then=="function")return nt(B,rf(L),q);if(L.$$typeof===Q)return nt(B,Fc(B,L),q);sf(B,L)}return null}function G(B,L,q,et){var mt=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return mt!==null?null:S(B,L,""+q,et);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===mt?x(B,L,q,et):null;case N:return q.key===mt?F(B,L,q,et):null;case R:return mt=q._init,q=mt(q._payload),G(B,L,q,et)}if(Ct(q)||j(q))return mt!==null?null:J(B,L,q,et,null);if(typeof q.then=="function")return G(B,L,rf(q),et);if(q.$$typeof===Q)return G(B,L,Fc(B,q),et);sf(B,q)}return null}function K(B,L,q,et,mt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(q)||null,S(L,B,""+et,mt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case A:return B=B.get(et.key===null?q:et.key)||null,x(L,B,et,mt);case N:return B=B.get(et.key===null?q:et.key)||null,F(L,B,et,mt);case R:var Lt=et._init;return et=Lt(et._payload),K(B,L,q,et,mt)}if(Ct(et)||j(et))return B=B.get(q)||null,J(L,B,et,mt,null);if(typeof et.then=="function")return K(B,L,q,rf(et),mt);if(et.$$typeof===Q)return K(B,L,q,Fc(L,et),mt);sf(L,et)}return null}function It(B,L,q,et){for(var mt=null,Lt=null,_t=L,bt=L=0,He=null;_t!==null&&bt<q.length;bt++){_t.index>bt?(He=_t,_t=null):He=_t.sibling;var Yt=G(B,_t,q[bt],et);if(Yt===null){_t===null&&(_t=He);break}n&&_t&&Yt.alternate===null&&r(B,_t),L=p(Yt,L,bt),Lt===null?mt=Yt:Lt.sibling=Yt,Lt=Yt,_t=He}if(bt===q.length)return a(B,_t),Qt&&ra(B,bt),mt;if(_t===null){for(;bt<q.length;bt++)_t=nt(B,q[bt],et),_t!==null&&(L=p(_t,L,bt),Lt===null?mt=_t:Lt.sibling=_t,Lt=_t);return Qt&&ra(B,bt),mt}for(_t=l(_t);bt<q.length;bt++)He=K(_t,B,bt,q[bt],et),He!==null&&(n&&He.alternate!==null&&_t.delete(He.key===null?bt:He.key),L=p(He,L,bt),Lt===null?mt=He:Lt.sibling=He,Lt=He);return n&&_t.forEach(function(os){return r(B,os)}),Qt&&ra(B,bt),mt}function St(B,L,q,et){if(q==null)throw Error(s(151));for(var mt=null,Lt=null,_t=L,bt=L=0,He=null,Yt=q.next();_t!==null&&!Yt.done;bt++,Yt=q.next()){_t.index>bt?(He=_t,_t=null):He=_t.sibling;var os=G(B,_t,Yt.value,et);if(os===null){_t===null&&(_t=He);break}n&&_t&&os.alternate===null&&r(B,_t),L=p(os,L,bt),Lt===null?mt=os:Lt.sibling=os,Lt=os,_t=He}if(Yt.done)return a(B,_t),Qt&&ra(B,bt),mt;if(_t===null){for(;!Yt.done;bt++,Yt=q.next())Yt=nt(B,Yt.value,et),Yt!==null&&(L=p(Yt,L,bt),Lt===null?mt=Yt:Lt.sibling=Yt,Lt=Yt);return Qt&&ra(B,bt),mt}for(_t=l(_t);!Yt.done;bt++,Yt=q.next())Yt=K(_t,B,bt,Yt.value,et),Yt!==null&&(n&&Yt.alternate!==null&&_t.delete(Yt.key===null?bt:Yt.key),L=p(Yt,L,bt),Lt===null?mt=Yt:Lt.sibling=Yt,Lt=Yt);return n&&_t.forEach(function(nC){return r(B,nC)}),Qt&&ra(B,bt),mt}function re(B,L,q,et){if(typeof q=="object"&&q!==null&&q.type===U&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:t:{for(var mt=q.key;L!==null;){if(L.key===mt){if(mt=q.type,mt===U){if(L.tag===7){a(B,L.sibling),et=h(L,q.props.children),et.return=B,B=et;break t}}else if(L.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&l_(mt)===L.type){a(B,L.sibling),et=h(L,q.props),$l(et,q),et.return=B,B=et;break t}a(B,L);break}else r(B,L);L=L.sibling}q.type===U?(et=na(q.props.children,B.mode,et,q.key),et.return=B,B=et):(et=Bc(q.type,q.key,q.props,null,B.mode,et),$l(et,q),et.return=B,B=et)}return E(B);case N:t:{for(mt=q.key;L!==null;){if(L.key===mt)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(B,L.sibling),et=h(L,q.children||[]),et.return=B,B=et;break t}else{a(B,L);break}else r(B,L);L=L.sibling}et=Id(q,B.mode,et),et.return=B,B=et}return E(B);case R:return mt=q._init,q=mt(q._payload),re(B,L,q,et)}if(Ct(q))return It(B,L,q,et);if(j(q)){if(mt=j(q),typeof mt!="function")throw Error(s(150));return q=mt.call(q),St(B,L,q,et)}if(typeof q.then=="function")return re(B,L,rf(q),et);if(q.$$typeof===Q)return re(B,L,Fc(B,q),et);sf(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(B,L.sibling),et=h(L,q),et.return=B,B=et):(a(B,L),et=Cd(q,B.mode,et),et.return=B,B=et),E(B)):a(B,L)}return function(B,L,q,et){try{Gl=0;var mt=re(B,L,q,et);return lo=null,mt}catch(_t){if(_t===Pl||_t===$c)throw _t;var Lt=On(29,_t,null,B.mode);return Lt.lanes=et,Lt.return=B,Lt}finally{}}}var uo=u_(!0),c_=u_(!1),Qn=tt(null),Ci=null;function $r(n){var r=n.alternate;rt(Me,Me.current&1),rt(Qn,n),Ci===null&&(r===null||ro.current!==null||r.memoizedState!==null)&&(Ci=n)}function f_(n){if(n.tag===22){if(rt(Me,Me.current),rt(Qn,n),Ci===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ci=n)}}else Kr()}function Kr(){rt(Me,Me.current),rt(Qn,Qn.current)}function ur(n){ut(Qn),Ci===n&&(Ci=null),ut(Me)}var Me=tt(0);function af(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xp(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function op(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var lp={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Mn(),h=qr(l);h.payload=r,a!=null&&(h.callback=a),r=Fr(n,h,l),r!==null&&(Vn(r,n,l),Ul(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Mn(),h=qr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Fr(n,h,l),r!==null&&(Vn(r,n,l),Ul(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Mn(),l=qr(a);l.tag=2,r!=null&&(l.callback=r),r=Fr(n,l,a),r!==null&&(Vn(r,n,a),Ul(r,n,a))}};function h_(n,r,a,l,h,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,E):r.prototype&&r.prototype.isPureReactComponent?!Il(a,l)||!Il(h,p):!0}function d_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&lp.enqueueReplaceState(r,r.state,null)}function fa(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=v({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var of=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function p_(n){of(n)}function m_(n){console.error(n)}function g_(n){of(n)}function lf(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function y_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function up(n,r,a){return a=qr(a),a.tag=3,a.payload={element:null},a.callback=function(){lf(n,r)},a}function v_(n){return n=qr(n),n.tag=3,n}function __(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;n.payload=function(){return h(p)},n.callback=function(){y_(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){y_(r,a,l),typeof h!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function nR(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ml(r,a,h,!0),a=Qn.current,a!==null){switch(a.tag){case 13:return Ci===null?Mp():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ud?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),kp(n,l,h)),!1;case 22:return a.flags|=65536,l===Ud?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),kp(n,l,h)),!1}throw Error(s(435,a.tag))}return kp(n,l,h),Mp(),!1}if(Qt)return r=Qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Dd&&(n=Error(s(422),{cause:l}),xl(Gn(n,a)))):(l!==Dd&&(r=Error(s(423),{cause:l}),xl(Gn(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Gn(l,a),h=up(n.stateNode,l,h),zd(n,h),me!==4&&(me=2)),!1;var p=Error(s(520),{cause:l});if(p=Gn(p,a),Jl===null?Jl=[p]:Jl.push(p),me!==4&&(me=2),r===null)return!0;l=Gn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=up(a.stateNode,l,n),zd(a,n),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Jr===null||!Jr.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=v_(h),__(h,n,a,l),zd(a,h),!1}a=a.return}while(a!==null);return!1}var E_=Error(s(461)),Be=!1;function Ye(n,r,a,l){r.child=n===null?c_(r,null,a,l):uo(r,n.child,a,l)}function T_(n,r,a,l,h){a=a.render;var p=r.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return la(r),l=$d(n,r,a,E,p,h),S=Kd(),n!==null&&!Be?(Yd(n,r,h),cr(n,r,h)):(Qt&&S&&Od(r),r.flags|=1,Ye(n,r,l,h),r.child)}function A_(n,r,a,l,h){if(n===null){var p=a.type;return typeof p=="function"&&!Rd(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,S_(n,r,p,l,h)):(n=Bc(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!yp(n,h)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:Il,a(E,l)&&n.ref===r.ref)return cr(n,r,h)}return r.flags|=1,n=ir(p,l),n.ref=r.ref,n.return=r,r.child=n}function S_(n,r,a,l,h){if(n!==null){var p=n.memoizedProps;if(Il(p,l)&&n.ref===r.ref)if(Be=!1,r.pendingProps=l=p,yp(n,h))(n.flags&131072)!==0&&(Be=!0);else return r.lanes=n.lanes,cr(n,r,h)}return cp(n,r,a,l,h)}function b_(n,r,a){var l=r.pendingProps,h=l.children,p=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,n!==null){for(h=r.child=n.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return w_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Gc(r,p!==null?p.cachePool:null),p!==null?Sv(r,p):qd(),f_(r);else return r.lanes=r.childLanes=536870912,w_(n,r,p!==null?p.baseLanes|a:a,a)}else p!==null?(Gc(r,p.cachePool),Sv(r,p),Kr(),r.memoizedState=null):(n!==null&&Gc(r,null),qd(),Kr());return Ye(n,r,h,a),r.child}function w_(n,r,a,l){var h=Ld();return h=h===null?null:{parent:xe._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&Gc(r,null),qd(),f_(r),n!==null&&Ml(n,r,l,!0),null}function uf(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function cp(n,r,a,l,h){return la(r),a=$d(n,r,a,l,void 0,h),l=Kd(),n!==null&&!Be?(Yd(n,r,h),cr(n,r,h)):(Qt&&l&&Od(r),r.flags|=1,Ye(n,r,a,h),r.child)}function R_(n,r,a,l,h,p){return la(r),r.updateQueue=null,a=wv(r,l,a,h),bv(n),l=Kd(),n!==null&&!Be?(Yd(n,r,p),cr(n,r,p)):(Qt&&l&&Od(r),r.flags|=1,Ye(n,r,a,p),r.child)}function C_(n,r,a,l,h){if(la(r),r.stateNode===null){var p=Ja,E=a.contextType;typeof E=="object"&&E!==null&&(p=on(E)),p=new a(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=lp,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},jd(r),E=a.contextType,p.context=typeof E=="object"&&E!==null?on(E):Ja,p.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(op(r,a,E,l),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&lp.enqueueReplaceState(p,p.state,null),Bl(r,l,p,h),jl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){p=r.stateNode;var S=r.memoizedProps,x=fa(a,S);p.props=x;var F=p.context,J=a.contextType;E=Ja,typeof J=="object"&&J!==null&&(E=on(J));var nt=a.getDerivedStateFromProps;J=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||F!==E)&&d_(r,p,l,E),Hr=!1;var G=r.memoizedState;p.state=G,Bl(r,l,p,h),jl(),F=r.memoizedState,S||G!==F||Hr?(typeof nt=="function"&&(op(r,a,nt,l),F=r.memoizedState),(x=Hr||h_(r,a,x,l,G,F,E))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),p.props=l,p.state=F,p.context=E,l=x):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Bd(n,r),E=r.memoizedProps,J=fa(a,E),p.props=J,nt=r.pendingProps,G=p.context,F=a.contextType,x=Ja,typeof F=="object"&&F!==null&&(x=on(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==nt||G!==x)&&d_(r,p,l,x),Hr=!1,G=r.memoizedState,p.state=G,Bl(r,l,p,h),jl();var K=r.memoizedState;E!==nt||G!==K||Hr||n!==null&&n.dependencies!==null&&qc(n.dependencies)?(typeof S=="function"&&(op(r,a,S,l),K=r.memoizedState),(J=Hr||h_(r,a,J,l,G,K,x)||n!==null&&n.dependencies!==null&&qc(n.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,K,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,K,x)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),p.props=l,p.state=K,p.context=x,l=J):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),l=!1)}return p=l,uf(n,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&l?(r.child=uo(r,n.child,null,h),r.child=uo(r,null,a,h)):Ye(n,r,a,h),r.memoizedState=p.state,n=r.child):n=cr(n,r,h),n}function I_(n,r,a,l){return Dl(),r.flags|=256,Ye(n,r,a,l),r.child}var fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hp(n){return{baseLanes:n,cachePool:mv()}}function dp(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Xn),n}function O_(n,r,a){var l=r.pendingProps,h=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Me.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Qt){if(h?$r(r):Kr(),Qt){var S=pe,x;if(x=S){t:{for(x=S,S=Ri;x.nodeType!==8;){if(!S){S=null;break t}if(x=ui(x.nextSibling),x===null){S=null;break t}}S=x}S!==null?(r.memoizedState={dehydrated:S,treeContext:ia!==null?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},x=On(18,null,null,0),x.stateNode=S,x.return=r,r.child=x,yn=r,pe=null,x=!0):x=!1}x||aa(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Xp(S)?r.lanes=32:r.lanes=536870912,null;ur(r)}return S=l.children,l=l.fallback,h?(Kr(),h=r.mode,S=cf({mode:"hidden",children:S},h),l=na(l,h,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,h=r.child,h.memoizedState=hp(a),h.childLanes=dp(n,E,a),r.memoizedState=fp,l):($r(r),pp(r,S))}if(x=n.memoizedState,x!==null&&(S=x.dehydrated,S!==null)){if(p)r.flags&256?($r(r),r.flags&=-257,r=mp(n,r,a)):r.memoizedState!==null?(Kr(),r.child=n.child,r.flags|=128,r=null):(Kr(),h=l.fallback,S=r.mode,l=cf({mode:"visible",children:l.children},S),h=na(h,S,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,uo(r,n.child,null,a),l=r.child,l.memoizedState=hp(a),l.childLanes=dp(n,E,a),r.memoizedState=fp,r=h);else if($r(r),Xp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,xl({value:l,source:null,stack:null}),r=mp(n,r,a)}else if(Be||Ml(n,r,a,!1),E=(a&n.childLanes)!==0,Be||E){if(E=ae,E!==null&&(l=a&-a,l=(l&42)!==0?1:Vr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Za(n,l),Vn(E,n,l),E_;S.data==="$?"||Mp(),r=mp(n,r,a)}else S.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=x.treeContext,pe=ui(S.nextSibling),yn=r,Qt=!0,sa=null,Ri=!1,n!==null&&(Kn[Yn++]=rr,Kn[Yn++]=sr,Kn[Yn++]=ia,rr=n.id,sr=n.overflow,ia=r),r=pp(r,l.children),r.flags|=4096);return r}return h?(Kr(),h=l.fallback,S=r.mode,x=n.child,F=x.sibling,l=ir(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,F!==null?h=ir(F,h):(h=na(h,S,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,S=n.child.memoizedState,S===null?S=hp(a):(x=S.cachePool,x!==null?(F=xe._currentValue,x=x.parent!==F?{parent:F,pool:F}:x):x=mv(),S={baseLanes:S.baseLanes|a,cachePool:x}),h.memoizedState=S,h.childLanes=dp(n,E,a),r.memoizedState=fp,l):($r(r),a=n.child,n=a.sibling,a=ir(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function pp(n,r){return r=cf({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function cf(n,r){return n=On(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function mp(n,r,a){return uo(r,n.child,null,a),n=pp(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function N_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Md(n.return,r,a)}function gp(n,r,a,l,h){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=h)}function D_(n,r,a){var l=r.pendingProps,h=l.revealOrder,p=l.tail;if(Ye(n,r,l.children,a),l=Me.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&N_(n,a,r);else if(n.tag===19)N_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(rt(Me,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&af(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),gp(r,!1,h,a,p);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&af(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}gp(r,!0,a,null,p);break;case"together":gp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function cr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Zr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Ml(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=ir(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ir(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function yp(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&qc(n)))}function iR(n,r,a){switch(r.tag){case 3:Pt(r,r.stateNode.containerInfo),zr(r,xe,n.memoizedState.cache),Dl();break;case 27:case 5:Ge(r);break;case 4:Pt(r,r.stateNode.containerInfo);break;case 10:zr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?($r(r),r.flags|=128,null):(a&r.child.childLanes)!==0?O_(n,r,a):($r(r),n=cr(n,r,a),n!==null?n.sibling:null);$r(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ml(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return D_(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(Me,Me.current),l)break;return null;case 22:case 23:return r.lanes=0,b_(n,r,a);case 24:zr(r,xe,n.memoizedState.cache)}return cr(n,r,a)}function x_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Be=!0;else{if(!yp(n,a)&&(r.flags&128)===0)return Be=!1,iR(n,r,a);Be=(n.flags&131072)!==0}else Be=!1,Qt&&(r.flags&1048576)!==0&&lv(r,Hc,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Rd(l)?(n=fa(l,n),r.tag=1,r=C_(null,r,l,n,a)):(r.tag=0,r=cp(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===W){r.tag=11,r=T_(null,r,l,n,a);break t}else if(h===D){r.tag=14,r=A_(null,r,l,n,a);break t}}throw r=xt(l)||l,Error(s(306,r,""))}}return r;case 0:return cp(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=fa(l,r.pendingProps),C_(n,r,l,h,a);case 3:t:{if(Pt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var p=r.memoizedState;h=p.element,Bd(n,r),Bl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,zr(r,xe,l),l!==p.cache&&Vd(r,[xe],a,!0),jl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=I_(n,r,l,a);break t}else if(l!==h){h=Gn(Error(s(424)),r),xl(h),r=I_(n,r,l,a);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(pe=ui(n.firstChild),yn=r,Qt=!0,sa=null,Ri=!0,a=c_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Dl(),l===h){r=cr(n,r,a);break t}Ye(n,r,l,a)}r=r.child}return r;case 26:return uf(n,r),n===null?(a=PE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qt||(a=r.type,n=r.pendingProps,l=bf(Et.current).createElement(a),l[Oe]=r,l[Ae]=n,Xe(l,a,n),ye(l),r.stateNode=l):r.memoizedState=PE(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ge(r),n===null&&Qt&&(l=r.stateNode=ME(r.type,r.pendingProps,Et.current),yn=r,Ri=!0,h=pe,ns(r.type)?(Wp=h,pe=ui(l.firstChild)):pe=h),Ye(n,r,r.pendingProps.children,a),uf(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Qt&&((h=l=pe)&&(l=DR(l,r.type,r.pendingProps,Ri),l!==null?(r.stateNode=l,yn=r,pe=ui(l.firstChild),Ri=!1,h=!0):h=!1),h||aa(r)),Ge(r),h=r.type,p=r.pendingProps,E=n!==null?n.memoizedProps:null,l=p.children,Kp(h,p)?l=null:E!==null&&Kp(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=$d(n,r,Q1,null,null,a),lu._currentValue=h),uf(n,r),Ye(n,r,l,a),r.child;case 6:return n===null&&Qt&&((n=a=pe)&&(a=xR(a,r.pendingProps,Ri),a!==null?(r.stateNode=a,yn=r,pe=null,n=!0):n=!1),n||aa(r)),null;case 13:return O_(n,r,a);case 4:return Pt(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=uo(r,null,l,a):Ye(n,r,l,a),r.child;case 11:return T_(n,r,r.type,r.pendingProps,a);case 7:return Ye(n,r,r.pendingProps,a),r.child;case 8:return Ye(n,r,r.pendingProps.children,a),r.child;case 12:return Ye(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,zr(r,r.type,l.value),Ye(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,la(r),h=on(h),l=l(h),r.flags|=1,Ye(n,r,l,a),r.child;case 14:return A_(n,r,r.type,r.pendingProps,a);case 15:return S_(n,r,r.type,r.pendingProps,a);case 19:return D_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=cf(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ir(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return b_(n,r,a);case 24:return la(r),l=on(xe),n===null?(h=Ld(),h===null&&(h=ae,p=kd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),r.memoizedState={parent:l,cache:h},jd(r),zr(r,xe,h)):((n.lanes&a)!==0&&(Bd(n,r),Bl(r,null,null,a),jl()),h=n.memoizedState,p=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),zr(r,xe,l)):(l=p.cache,zr(r,xe,l),l!==h.cache&&Vd(r,[xe],a,!0))),Ye(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function fr(n){n.flags|=4}function M_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!zE(r)){if(r=Qn.current,r!==null&&((Gt&4194048)===Gt?Ci!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||r!==Ci))throw Ll=Ud,gv;n.flags|=8192}}function ff(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?cl():536870912,n.lanes|=r,po|=r)}function Kl(n,r){if(!Qt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function he(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function rR(n,r,a){var l=r.pendingProps;switch(Nd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(r),null;case 1:return he(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),or(xe),Te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Nl(r)?fr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,fv())),he(r),null;case 26:return a=r.memoizedState,n===null?(fr(r),a!==null?(he(r),M_(r,a)):(he(r),r.flags&=-16777217)):a?a!==n.memoizedState?(fr(r),he(r),M_(r,a)):(he(r),r.flags&=-16777217):(n.memoizedProps!==l&&fr(r),he(r),r.flags&=-16777217),null;case 27:Le(r),a=Et.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&fr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return he(r),null}n=ht.current,Nl(r)?uv(r):(n=ME(h,l,a),r.stateNode=n,fr(r))}return he(r),null;case 5:if(Le(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&fr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return he(r),null}if(n=ht.current,Nl(r))uv(r);else{switch(h=bf(Et.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Oe]=r,n[Ae]=l;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;t:switch(Xe(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&fr(r)}}return he(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&fr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Et.current,Nl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=yn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Oe]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||RE(n.nodeValue,a)),n||aa(r)}else n=bf(n).createTextNode(l),n[Oe]=r,r.stateNode=n}return he(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Nl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Oe]=r}else Dl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;he(r),h=!1}else h=fv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ur(r),r):(ur(r),null)}if(ur(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),ff(r,r.updateQueue),he(r),null;case 4:return Te(),n===null&&Hp(r.stateNode.containerInfo),he(r),null;case 10:return or(r.type),he(r),null;case 19:if(ut(Me),h=r.memoizedState,h===null)return he(r),null;if(l=(r.flags&128)!==0,p=h.rendering,p===null)if(l)Kl(h,!1);else{if(me!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=af(n),p!==null){for(r.flags|=128,Kl(h,!1),n=p.updateQueue,r.updateQueue=n,ff(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)ov(a,n),a=a.sibling;return rt(Me,Me.current&1|2),r.child}n=n.sibling}h.tail!==null&&ge()>pf&&(r.flags|=128,l=!0,Kl(h,!1),r.lanes=4194304)}else{if(!l)if(n=af(p),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,ff(r,n),Kl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Qt)return he(r),null}else 2*ge()-h.renderingStartTime>pf&&a!==536870912&&(r.flags|=128,l=!0,Kl(h,!1),r.lanes=4194304);h.isBackwards?(p.sibling=r.child,r.child=p):(n=h.last,n!==null?n.sibling=p:r.child=p,h.last=p)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=ge(),r.sibling=null,n=Me.current,rt(Me,l?n&1|2:n&1),r):(he(r),null);case 22:case 23:return ur(r),Fd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(he(r),r.subtreeFlags&6&&(r.flags|=8192)):he(r),a=r.updateQueue,a!==null&&ff(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ut(ua),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),or(xe),he(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function sR(n,r){switch(Nd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return or(xe),Te(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Le(r),null;case 13:if(ur(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Dl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ut(Me),null;case 4:return Te(),null;case 10:return or(r.type),null;case 22:case 23:return ur(r),Fd(),n!==null&&ut(ua),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return or(xe),null;case 25:return null;default:return null}}function V_(n,r){switch(Nd(r),r.tag){case 3:or(xe),Te();break;case 26:case 27:case 5:Le(r);break;case 4:Te();break;case 13:ur(r);break;case 19:ut(Me);break;case 10:or(r.type);break;case 22:case 23:ur(r),Fd(),n!==null&&ut(ua);break;case 24:or(xe)}}function Yl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var p=a.create,E=a.inst;l=p(),E.destroy=l}a=a.next}while(a!==h)}}catch(S){se(r,r.return,S)}}function Yr(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&n)===n){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=r;var x=a,F=S;try{F()}catch(J){se(h,x,J)}}}l=l.next}while(l!==p)}}catch(J){se(r,r.return,J)}}function k_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Av(r,a)}catch(l){se(n,n.return,l)}}}function P_(n,r,a){a.props=fa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){se(n,r,l)}}function Ql(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){se(n,r,h)}}function Ii(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){se(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){se(n,r,h)}else a.current=null}function L_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){se(n,n.return,h)}}function vp(n,r,a){try{var l=n.stateNode;RR(l,n.type,a,r),l[Ae]=r}catch(h){se(n,n.return,h)}}function U_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ns(n.type)||n.tag===4}function _p(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||U_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ns(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ep(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Sf));else if(l!==4&&(l===27&&ns(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Ep(n,r,a),n=n.sibling;n!==null;)Ep(n,r,a),n=n.sibling}function hf(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&ns(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(hf(n,r,a),n=n.sibling;n!==null;)hf(n,r,a),n=n.sibling}function j_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Xe(r,l,a),r[Oe]=n,r[Ae]=a}catch(p){se(n,n.return,p)}}var hr=!1,_e=!1,Tp=!1,B_=typeof WeakSet=="function"?WeakSet:Set,ze=null;function aR(n,r){if(n=n.containerInfo,Gp=Nf,n=Wy(n),_d(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var E=0,S=-1,x=-1,F=0,J=0,nt=n,G=null;e:for(;;){for(var K;nt!==a||h!==0&&nt.nodeType!==3||(S=E+h),nt!==p||l!==0&&nt.nodeType!==3||(x=E+l),nt.nodeType===3&&(E+=nt.nodeValue.length),(K=nt.firstChild)!==null;)G=nt,nt=K;for(;;){if(nt===n)break e;if(G===a&&++F===h&&(S=E),G===p&&++J===l&&(x=E),(K=nt.nextSibling)!==null)break;nt=G,G=nt.parentNode}nt=K}a=S===-1||x===-1?null:{start:S,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for($p={focusedElem:n,selectionRange:a},Nf=!1,ze=r;ze!==null;)if(r=ze,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,ze=n;else for(;ze!==null;){switch(r=ze,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=r,h=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var It=fa(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(It,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(St){se(a,a.return,St)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Qp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Qp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,ze=n;break}ze=r.return}}function z_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qr(n,a),l&4&&Yl(5,a);break;case 1:if(Qr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){se(a,a.return,E)}else{var h=fa(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){se(a,a.return,E)}}l&64&&k_(a),l&512&&Ql(a,a.return);break;case 3:if(Qr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Av(n,r)}catch(E){se(a,a.return,E)}}break;case 27:r===null&&l&4&&j_(a);case 26:case 5:Qr(n,a),r===null&&l&4&&L_(a),l&512&&Ql(a,a.return);break;case 12:Qr(n,a);break;case 13:Qr(n,a),l&4&&F_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=mR.bind(null,a),MR(n,a))));break;case 22:if(l=a.memoizedState!==null||hr,!l){r=r!==null&&r.memoizedState!==null||_e,h=hr;var p=_e;hr=l,(_e=r)&&!p?Xr(n,a,(a.subtreeFlags&8772)!==0):Qr(n,a),hr=h,_e=p}break;case 30:break;default:Qr(n,a)}}function H_(n){var r=n.alternate;r!==null&&(n.alternate=null,H_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Lr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ce=null,En=!1;function dr(n,r,a){for(a=a.child;a!==null;)q_(n,r,a),a=a.sibling}function q_(n,r,a){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Tt,a)}catch{}switch(a.tag){case 26:_e||Ii(a,r),dr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_e||Ii(a,r);var l=ce,h=En;ns(a.type)&&(ce=a.stateNode,En=!1),dr(n,r,a),ru(a.stateNode),ce=l,En=h;break;case 5:_e||Ii(a,r);case 6:if(l=ce,h=En,ce=null,dr(n,r,a),ce=l,En=h,ce!==null)if(En)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(p){se(a,r,p)}else try{ce.removeChild(a.stateNode)}catch(p){se(a,r,p)}break;case 18:ce!==null&&(En?(n=ce,DE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),hu(n)):DE(ce,a.stateNode));break;case 4:l=ce,h=En,ce=a.stateNode.containerInfo,En=!0,dr(n,r,a),ce=l,En=h;break;case 0:case 11:case 14:case 15:_e||Yr(2,a,r),_e||Yr(4,a,r),dr(n,r,a);break;case 1:_e||(Ii(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&P_(a,r,l)),dr(n,r,a);break;case 21:dr(n,r,a);break;case 22:_e=(l=_e)||a.memoizedState!==null,dr(n,r,a),_e=l;break;default:dr(n,r,a)}}function F_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{hu(n)}catch(a){se(r,r.return,a)}}function oR(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new B_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new B_),r;default:throw Error(s(435,n.tag))}}function Ap(n,r){var a=oR(n);r.forEach(function(l){var h=gR.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Nn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],p=n,E=r,S=E;t:for(;S!==null;){switch(S.tag){case 27:if(ns(S.type)){ce=S.stateNode,En=!1;break t}break;case 5:ce=S.stateNode,En=!1;break t;case 3:case 4:ce=S.stateNode.containerInfo,En=!0;break t}S=S.return}if(ce===null)throw Error(s(160));q_(p,E,h),ce=null,En=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)G_(r,n),r=r.sibling}var li=null;function G_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nn(r,n),Dn(n),l&4&&(Yr(3,n,n.return),Yl(3,n),Yr(5,n,n.return));break;case 1:Nn(r,n),Dn(n),l&512&&(_e||a===null||Ii(a,a.return)),l&64&&hr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=li;if(Nn(r,n),Dn(n),l&512&&(_e||a===null||Ii(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Bs]||p[Oe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),Xe(p,l,a),p[Oe]=n,ye(p),l=p;break t;case"link":var E=jE("link","href",h).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break e}}p=h.createElement(l),Xe(p,l,a),h.head.appendChild(p);break;case"meta":if(E=jE("meta","content",h).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break e}}p=h.createElement(l),Xe(p,l,a),h.head.appendChild(p);break;default:throw Error(s(468,l))}p[Oe]=n,ye(p),l=p}n.stateNode=l}else BE(h,n.type,n.stateNode);else n.stateNode=UE(h,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?BE(h,n.type,n.stateNode):UE(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&vp(n,n.memoizedProps,a.memoizedProps)}break;case 27:Nn(r,n),Dn(n),l&512&&(_e||a===null||Ii(a,a.return)),a!==null&&l&4&&vp(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Nn(r,n),Dn(n),l&512&&(_e||a===null||Ii(a,a.return)),n.flags&32){h=n.stateNode;try{zn(h,"")}catch(K){se(n,n.return,K)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,vp(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Tp=!0);break;case 6:if(Nn(r,n),Dn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(K){se(n,n.return,K)}}break;case 3:if(Cf=null,h=li,li=wf(r.containerInfo),Nn(r,n),li=h,Dn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hu(r.containerInfo)}catch(K){se(n,n.return,K)}Tp&&(Tp=!1,$_(n));break;case 4:l=li,li=wf(n.stateNode.containerInfo),Nn(r,n),Dn(n),li=l;break;case 12:Nn(r,n),Dn(n);break;case 13:Nn(r,n),Dn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ip=ge()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ap(n,l)));break;case 22:h=n.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,F=hr,J=_e;if(hr=F||h,_e=J||x,Nn(r,n),_e=J,hr=F,Dn(n),l&8192)t:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||x||hr||_e||ha(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(p=x.stateNode,h)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=x.stateNode;var nt=x.memoizedProps.style,G=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){se(x,x.return,K)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(K){se(x,x.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ap(n,a))));break;case 19:Nn(r,n),Dn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ap(n,l)));break;case 30:break;case 21:break;default:Nn(r,n),Dn(n)}}function Dn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(U_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,p=_p(n);hf(n,p,h);break;case 5:var E=a.stateNode;a.flags&32&&(zn(E,""),a.flags&=-33);var S=_p(n);hf(n,S,E);break;case 3:case 4:var x=a.stateNode.containerInfo,F=_p(n);Ep(n,F,x);break;default:throw Error(s(161))}}catch(J){se(n,n.return,J)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function $_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;$_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Qr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)z_(n,r.alternate,r),r=r.sibling}function ha(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Yr(4,r,r.return),ha(r);break;case 1:Ii(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&P_(r,r.return,a),ha(r);break;case 27:ru(r.stateNode);case 26:case 5:Ii(r,r.return),ha(r);break;case 22:r.memoizedState===null&&ha(r);break;case 30:ha(r);break;default:ha(r)}n=n.sibling}}function Xr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:Xr(h,p,a),Yl(4,p);break;case 1:if(Xr(h,p,a),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){se(l,l.return,F)}if(l=p,h=l.updateQueue,h!==null){var S=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Tv(x[h],S)}catch(F){se(l,l.return,F)}}a&&E&64&&k_(p),Ql(p,p.return);break;case 27:j_(p);case 26:case 5:Xr(h,p,a),a&&l===null&&E&4&&L_(p),Ql(p,p.return);break;case 12:Xr(h,p,a);break;case 13:Xr(h,p,a),a&&E&4&&F_(h,p);break;case 22:p.memoizedState===null&&Xr(h,p,a),Ql(p,p.return);break;case 30:break;default:Xr(h,p,a)}r=r.sibling}}function Sp(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Vl(a))}function bp(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Vl(n))}function Oi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)K_(n,r,a,l),r=r.sibling}function K_(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Oi(n,r,a,l),h&2048&&Yl(9,r);break;case 1:Oi(n,r,a,l);break;case 3:Oi(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Vl(n)));break;case 12:if(h&2048){Oi(n,r,a,l),n=r.stateNode;try{var p=r.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){se(r,r.return,x)}}else Oi(n,r,a,l);break;case 13:Oi(n,r,a,l);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?Oi(n,r,a,l):Xl(n,r):p._visibility&2?Oi(n,r,a,l):(p._visibility|=2,co(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Sp(E,r);break;case 24:Oi(n,r,a,l),h&2048&&bp(r.alternate,r);break;default:Oi(n,r,a,l)}}function co(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,E=r,S=a,x=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:co(p,E,S,x,h),Yl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?co(p,E,S,x,h):Xl(p,E):(J._visibility|=2,co(p,E,S,x,h)),h&&F&2048&&Sp(E.alternate,E);break;case 24:co(p,E,S,x,h),h&&F&2048&&bp(E.alternate,E);break;default:co(p,E,S,x,h)}r=r.sibling}}function Xl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:Xl(a,l),h&2048&&Sp(l.alternate,l);break;case 24:Xl(a,l),h&2048&&bp(l.alternate,l);break;default:Xl(a,l)}r=r.sibling}}var Wl=8192;function fo(n){if(n.subtreeFlags&Wl)for(n=n.child;n!==null;)Y_(n),n=n.sibling}function Y_(n){switch(n.tag){case 26:fo(n),n.flags&Wl&&n.memoizedState!==null&&$R(li,n.memoizedState,n.memoizedProps);break;case 5:fo(n);break;case 3:case 4:var r=li;li=wf(n.stateNode.containerInfo),fo(n),li=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Wl,Wl=16777216,fo(n),Wl=r):fo(n));break;default:fo(n)}}function Q_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Zl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];ze=l,W_(l,n)}Q_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)X_(n),n=n.sibling}function X_(n){switch(n.tag){case 0:case 11:case 15:Zl(n),n.flags&2048&&Yr(9,n,n.return);break;case 3:Zl(n);break;case 12:Zl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,df(n)):Zl(n);break;default:Zl(n)}}function df(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];ze=l,W_(l,n)}Q_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Yr(8,r,r.return),df(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,df(r));break;default:df(r)}n=n.sibling}}function W_(n,r){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Yr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=n;ze!==null;){l=ze;var h=l.sibling,p=l.return;if(H_(l),l===a){ze=null;break t}if(h!==null){h.return=p,ze=h;break t}ze=p}}}var lR={getCacheForType:function(n){var r=on(xe),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},uR=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ae=null,Ut=null,Gt=0,Jt=0,xn=null,Wr=!1,ho=!1,wp=!1,pr=0,me=0,Zr=0,da=0,Rp=0,Xn=0,po=0,Jl=null,Tn=null,Cp=!1,Ip=0,pf=1/0,mf=null,Jr=null,Qe=0,ts=null,mo=null,go=0,Op=0,Np=null,Z_=null,tu=0,Dp=null;function Mn(){if((Zt&2)!==0&&Gt!==0)return Gt&-Gt;if($.T!==null){var n=no;return n!==0?n:Up()}return kr()}function J_(){Xn===0&&(Xn=(Gt&536870912)===0||Qt?ul():536870912);var n=Qn.current;return n!==null&&(n.flags|=32),Xn}function Vn(n,r,a){(n===ae&&(Jt===2||Jt===9)||n.cancelPendingCommit!==null)&&(yo(n,0),es(n,Gt,Xn,!1)),$i(n,a),((Zt&2)===0||n!==ae)&&(n===ae&&((Zt&2)===0&&(da|=a),me===4&&es(n,Gt,Xn,!1)),Ni(n))}function tE(n,r,a){if((Zt&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||js(n,r),h=l?hR(n,r):Vp(n,r,!0),p=l;do{if(h===0){ho&&!l&&es(n,r,0,!1);break}else{if(a=n.current.alternate,p&&!cR(a)){h=Vp(n,r,!1),p=!1;continue}if(h===2){if(p=r,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var S=n;h=Jl;var x=S.current.memoizedState.isDehydrated;if(x&&(yo(S,E).flags|=256),E=Vp(S,E,!1),E!==2){if(wp&&!x){S.errorRecoveryDisabledLanes|=p,da|=p,h=4;break t}p=Tn,Tn=h,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}h=E}if(p=!1,h!==2)continue}}if(h===1){yo(n,0),es(n,r,0,!0);break}t:{switch(l=n,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:es(l,r,Xn,!Wr);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Ip+300-ge(),10<h)){if(es(l,r,Xn,!Wr),Ma(l,0,!0)!==0)break t;l.timeoutHandle=OE(eE.bind(null,l,a,Tn,mf,Cp,r,Xn,da,po,Wr,p,2,-0,0),h);break t}eE(l,a,Tn,mf,Cp,r,Xn,da,po,Wr,p,0,-0,0)}}break}while(!0);Ni(n)}function eE(n,r,a,l,h,p,E,S,x,F,J,nt,G,K){if(n.timeoutHandle=-1,nt=r.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(ou={stylesheets:null,count:0,unsuspend:GR},Y_(r),nt=KR(),nt!==null)){n.cancelPendingCommit=nt(lE.bind(null,n,r,p,a,l,h,E,S,x,J,1,G,K)),es(n,p,E,!F);return}lE(n,r,p,a,l,h,E,S,x)}function cR(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],p=h.getSnapshot;h=h.value;try{if(!In(p(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function es(n,r,a,l){r&=~Rp,r&=~da,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var p=31-an(h),E=1<<p;l[p]=-1,h&=~E}a!==0&&mi(n,a,r)}function gf(){return(Zt&6)===0?(eu(0),!1):!0}function xp(){if(Ut!==null){if(Jt===0)var n=Ut.return;else n=Ut,ar=oa=null,Qd(n),lo=null,Gl=0,n=Ut;for(;n!==null;)V_(n.alternate,n),n=n.return;Ut=null}}function yo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,IR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),xp(),ae=n,Ut=a=ir(n.current,null),Gt=r,Jt=0,xn=null,Wr=!1,ho=js(n,r),wp=!1,po=Xn=Rp=da=Zr=me=0,Tn=Jl=null,Cp=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-an(l),p=1<<h;r|=n[h],l&=~p}return pr=r,Lc(),a}function nE(n,r){kt=null,$.H=nf,r===Pl||r===$c?(r=_v(),Jt=3):r===gv?(r=_v(),Jt=4):Jt=r===E_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,Ut===null&&(me=1,lf(n,Gn(r,n.current)))}function iE(){var n=$.H;return $.H=nf,n===null?nf:n}function rE(){var n=$.A;return $.A=lR,n}function Mp(){me=4,Wr||(Gt&4194048)!==Gt&&Qn.current!==null||(ho=!0),(Zr&134217727)===0&&(da&134217727)===0||ae===null||es(ae,Gt,Xn,!1)}function Vp(n,r,a){var l=Zt;Zt|=2;var h=iE(),p=rE();(ae!==n||Gt!==r)&&(mf=null,yo(n,r)),r=!1;var E=me;t:do try{if(Jt!==0&&Ut!==null){var S=Ut,x=xn;switch(Jt){case 8:xp(),E=6;break t;case 3:case 2:case 9:case 6:Qn.current===null&&(r=!0);var F=Jt;if(Jt=0,xn=null,vo(n,S,x,F),a&&ho){E=0;break t}break;default:F=Jt,Jt=0,xn=null,vo(n,S,x,F)}}fR(),E=me;break}catch(J){nE(n,J)}while(!0);return r&&n.shellSuspendCounter++,ar=oa=null,Zt=l,$.H=h,$.A=p,Ut===null&&(ae=null,Gt=0,Lc()),E}function fR(){for(;Ut!==null;)sE(Ut)}function hR(n,r){var a=Zt;Zt|=2;var l=iE(),h=rE();ae!==n||Gt!==r?(mf=null,pf=ge()+500,yo(n,r)):ho=js(n,r);t:do try{if(Jt!==0&&Ut!==null){r=Ut;var p=xn;e:switch(Jt){case 1:Jt=0,xn=null,vo(n,r,p,1);break;case 2:case 9:if(yv(p)){Jt=0,xn=null,aE(r);break}r=function(){Jt!==2&&Jt!==9||ae!==n||(Jt=7),Ni(n)},p.then(r,r);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:yv(p)?(Jt=0,xn=null,aE(r)):(Jt=0,xn=null,vo(n,r,p,7));break;case 5:var E=null;switch(Ut.tag){case 26:E=Ut.memoizedState;case 5:case 27:var S=Ut;if(!E||zE(E)){Jt=0,xn=null;var x=S.sibling;if(x!==null)Ut=x;else{var F=S.return;F!==null?(Ut=F,yf(F)):Ut=null}break e}}Jt=0,xn=null,vo(n,r,p,5);break;case 6:Jt=0,xn=null,vo(n,r,p,6);break;case 8:xp(),me=6;break t;default:throw Error(s(462))}}dR();break}catch(J){nE(n,J)}while(!0);return ar=oa=null,$.H=l,$.A=h,Zt=a,Ut!==null?0:(ae=null,Gt=0,Lc(),me)}function dR(){for(;Ut!==null&&!Kt();)sE(Ut)}function sE(n){var r=x_(n.alternate,n,pr);n.memoizedProps=n.pendingProps,r===null?yf(n):Ut=r}function aE(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=R_(a,r,r.pendingProps,r.type,void 0,Gt);break;case 11:r=R_(a,r,r.pendingProps,r.type.render,r.ref,Gt);break;case 5:Qd(r);default:V_(a,r),r=Ut=ov(r,pr),r=x_(a,r,pr)}n.memoizedProps=n.pendingProps,r===null?yf(n):Ut=r}function vo(n,r,a,l){ar=oa=null,Qd(r),lo=null,Gl=0;var h=r.return;try{if(nR(n,h,r,a,Gt)){me=1,lf(n,Gn(a,n.current)),Ut=null;return}}catch(p){if(h!==null)throw Ut=h,p;me=1,lf(n,Gn(a,n.current)),Ut=null;return}r.flags&32768?(Qt||l===1?n=!0:ho||(Gt&536870912)!==0?n=!1:(Wr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),oE(r,n)):yf(r)}function yf(n){var r=n;do{if((r.flags&32768)!==0){oE(r,Wr);return}n=r.return;var a=rR(r.alternate,r,pr);if(a!==null){Ut=a;return}if(r=r.sibling,r!==null){Ut=r;return}Ut=r=n}while(r!==null);me===0&&(me=5)}function oE(n,r){do{var a=sR(n.alternate,n);if(a!==null){a.flags&=32767,Ut=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ut=n;return}Ut=n=a}while(n!==null);me=6,Ut=null}function lE(n,r,a,l,h,p,E,S,x){n.cancelPendingCommit=null;do vf();while(Qe!==0);if((Zt&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=bd,fl(n,a,p,E,S,x),n===ae&&(Ut=ae=null,Gt=0),mo=r,ts=n,go=a,Op=p,Np=h,Z_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,yR(vn,function(){return dE(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=lt.p,lt.p=2,E=Zt,Zt|=4;try{aR(n,r,a)}finally{Zt=E,lt.p=h,$.T=l}}Qe=1,uE(),cE(),fE()}}function uE(){if(Qe===1){Qe=0;var n=ts,r=mo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=lt.p;lt.p=2;var h=Zt;Zt|=4;try{G_(r,n);var p=$p,E=Wy(n.containerInfo),S=p.focusedElem,x=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&Xy(S.ownerDocument.documentElement,S)){if(x!==null&&_d(S)){var F=x.start,J=x.end;if(J===void 0&&(J=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(J,S.value.length);else{var nt=S.ownerDocument||document,G=nt&&nt.defaultView||window;if(G.getSelection){var K=G.getSelection(),It=S.textContent.length,St=Math.min(x.start,It),re=x.end===void 0?St:Math.min(x.end,It);!K.extend&&St>re&&(E=re,re=St,St=E);var B=Qy(S,St),L=Qy(S,re);if(B&&L&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var q=nt.createRange();q.setStart(B.node,B.offset),K.removeAllRanges(),St>re?(K.addRange(q),K.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),K.addRange(q))}}}}for(nt=[],K=S;K=K.parentNode;)K.nodeType===1&&nt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var et=nt[S];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Nf=!!Gp,$p=Gp=null}finally{Zt=h,lt.p=l,$.T=a}}n.current=r,Qe=2}}function cE(){if(Qe===2){Qe=0;var n=ts,r=mo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=lt.p;lt.p=2;var h=Zt;Zt|=4;try{z_(n,r.alternate,r)}finally{Zt=h,lt.p=l,$.T=a}}Qe=3}}function fE(){if(Qe===4||Qe===3){Qe=0,Un();var n=ts,r=mo,a=go,l=Z_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Qe=5:(Qe=0,mo=ts=null,hE(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Jr=null),Va(a),r=r.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Tt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,h=lt.p,lt.p=2,$.T=null;try{for(var p=n.onRecoverableError,E=0;E<l.length;E++){var S=l[E];p(S.value,{componentStack:S.stack})}}finally{$.T=r,lt.p=h}}(go&3)!==0&&vf(),Ni(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Dp?tu++:(tu=0,Dp=n):tu=0,eu(0)}}function hE(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Vl(r)))}function vf(n){return uE(),cE(),fE(),dE()}function dE(){if(Qe!==5)return!1;var n=ts,r=Op;Op=0;var a=Va(go),l=$.T,h=lt.p;try{lt.p=32>a?32:a,$.T=null,a=Np,Np=null;var p=ts,E=go;if(Qe=0,mo=ts=null,go=0,(Zt&6)!==0)throw Error(s(331));var S=Zt;if(Zt|=4,X_(p.current),K_(p,p.current,E,a),Zt=S,eu(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Tt,p)}catch{}return!0}finally{lt.p=h,$.T=l,hE(n,r)}}function pE(n,r,a){r=Gn(a,r),r=up(n.stateNode,r,2),n=Fr(n,r,2),n!==null&&($i(n,2),Ni(n))}function se(n,r,a){if(n.tag===3)pE(n,n,a);else for(;r!==null;){if(r.tag===3){pE(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jr===null||!Jr.has(l))){n=Gn(a,n),a=v_(2),l=Fr(r,a,2),l!==null&&(__(a,l,r,n),$i(l,2),Ni(l));break}}r=r.return}}function kp(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new uR;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(wp=!0,h.add(a),n=pR.bind(null,n,r,a),r.then(n,n))}function pR(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ae===n&&(Gt&a)===a&&(me===4||me===3&&(Gt&62914560)===Gt&&300>ge()-Ip?(Zt&2)===0&&yo(n,0):Rp|=a,po===Gt&&(po=0)),Ni(n)}function mE(n,r){r===0&&(r=cl()),n=Za(n,r),n!==null&&($i(n,r),Ni(n))}function mR(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),mE(n,a)}function gR(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),mE(n,a)}function yR(n,r){return nn(n,r)}var _f=null,_o=null,Pp=!1,Ef=!1,Lp=!1,pa=0;function Ni(n){n!==_o&&n.next===null&&(_o===null?_f=_o=n:_o=_o.next=n),Ef=!0,Pp||(Pp=!0,_R())}function eu(n,r){if(!Lp&&Ef){Lp=!0;do for(var a=!1,l=_f;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var E=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-an(42|n)+1)-1,p&=h&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,_E(l,p))}else p=Gt,p=Ma(l,l===ae?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||js(l,p)||(a=!0,_E(l,p));l=l.next}while(a);Lp=!1}}function vR(){gE()}function gE(){Ef=Pp=!1;var n=0;pa!==0&&(CR()&&(n=pa),pa=0);for(var r=ge(),a=null,l=_f;l!==null;){var h=l.next,p=yE(l,r);p===0?(l.next=null,a===null?_f=h:a.next=h,h===null&&(_o=a)):(a=l,(n!==0||(p&3)!==0)&&(Ef=!0)),l=h}eu(n)}function yE(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-an(p),S=1<<E,x=h[E];x===-1?((S&a)===0||(S&l)!==0)&&(h[E]=ll(S,r)):x<=r&&(n.expiredLanes|=S),p&=~S}if(r=ae,a=Gt,a=Ma(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Jt===2||Jt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&rn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||js(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&rn(l),Va(a)){case 2:case 8:a=sn;break;case 32:a=vn;break;case 268435456:a=ii;break;default:a=vn}return l=vE.bind(null,n),a=nn(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&rn(l),n.callbackPriority=2,n.callbackNode=null,2}function vE(n,r){if(Qe!==0&&Qe!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(vf()&&n.callbackNode!==a)return null;var l=Gt;return l=Ma(n,n===ae?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(tE(n,l,r),yE(n,ge()),n.callbackNode!=null&&n.callbackNode===a?vE.bind(null,n):null)}function _E(n,r){if(vf())return null;tE(n,r,!0)}function _R(){OR(function(){(Zt&6)!==0?nn(qi,vR):gE()})}function Up(){return pa===0&&(pa=ul()),pa}function EE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ba(""+n)}function TE(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function ER(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var p=EE((h[Ae]||null).action),E=l.submitter;E&&(r=(r=E[Ae]||null)?EE(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var S=new za("action","action",null,l,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pa!==0){var x=E?TE(h,E):new FormData(h);rp(a,{pending:!0,data:x,method:h.method,action:p},null,x)}}else typeof p=="function"&&(S.preventDefault(),x=E?TE(h,E):new FormData(h),rp(a,{pending:!0,data:x,method:h.method,action:p},p,x))},currentTarget:h}]})}}for(var jp=0;jp<Sd.length;jp++){var Bp=Sd[jp],TR=Bp.toLowerCase(),AR=Bp[0].toUpperCase()+Bp.slice(1);oi(TR,"on"+AR)}oi(tv,"onAnimationEnd"),oi(ev,"onAnimationIteration"),oi(nv,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(j1,"onTransitionRun"),oi(B1,"onTransitionStart"),oi(z1,"onTransitionCancel"),oi(iv,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function AE(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;t:{var p=void 0;if(r)for(var E=l.length-1;0<=E;E--){var S=l[E],x=S.instance,F=S.currentTarget;if(S=S.listener,x!==p&&h.isPropagationStopped())break t;p=S,h.currentTarget=F;try{p(h)}catch(J){of(J)}h.currentTarget=null,p=x}else for(E=0;E<l.length;E++){if(S=l[E],x=S.instance,F=S.currentTarget,S=S.listener,x!==p&&h.isPropagationStopped())break t;p=S,h.currentTarget=F;try{p(h)}catch(J){of(J)}h.currentTarget=null,p=x}}}}function jt(n,r){var a=r[dl];a===void 0&&(a=r[dl]=new Set);var l=n+"__bubble";a.has(l)||(SE(r,n,2,!1),a.add(l))}function zp(n,r,a){var l=0;r&&(l|=4),SE(a,n,l,r)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function Hp(n){if(!n[Tf]){n[Tf]=!0,pl.forEach(function(a){a!=="selectionchange"&&(SR.has(a)||zp(a,!1,n),zp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Tf]||(r[Tf]=!0,zp("selectionchange",!1,r))}}function SE(n,r,a,l){switch(KE(r)){case 2:var h=XR;break;case 8:h=WR;break;default:h=nm}a=h.bind(null,r,a,n),h=void 0,!qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function qp(n,r,a,l,h){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=l.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Ki(S),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){l=p=E;continue t}S=S.parentNode}}l=l.return}Ac(function(){var F=p,J=Hn(a),nt=[];t:{var G=rv.get(n);if(G!==void 0){var K=za,It=n;switch(n){case"keypress":if(Ti(a)===0)break t;case"keydown":case"keyup":K=Ka;break;case"focusin":It="focus",K=Fa;break;case"focusout":It="blur",K=Fa;break;case"beforeblur":case"afterblur":K=Fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=md;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Nc;break;case tv:case ev:case nv:K=Ga;break;case iv:K=xc;break;case"scroll":case"scrollend":K=Sc;break;case"wheel":K=Ya;break;case"copy":case"cut":case"paste":K=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Rl;break;case"toggle":case"beforetoggle":K=Vc}var St=(r&4)!==0,re=!St&&(n==="scroll"||n==="scrollend"),B=St?G!==null?G+"Capture":null:G;St=[];for(var L=F,q;L!==null;){var et=L;if(q=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||q===null||B===null||(et=Ks(L,B),et!=null&&St.push(iu(L,et,q))),re)break;L=L.return}0<St.length&&(G=new K(G,It,null,a,J),nt.push({event:G,listeners:St}))}}if((r&7)===0){t:{if(G=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",G&&a!==Wi&&(It=a.relatedTarget||a.fromElement)&&(Ki(It)||It[Bn]))break t;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(It=a.relatedTarget||a.toElement,K=F,It=It?Ki(It):null,It!==null&&(re=u(It),St=It.tag,It!==re||St!==5&&St!==27&&St!==6)&&(It=null)):(K=null,It=F),K!==It)){if(St=Fn,et="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(St=Rl,et="onPointerLeave",B="onPointerEnter",L="pointer"),re=K==null?G:yi(K),q=It==null?G:yi(It),G=new St(et,L+"leave",K,a,J),G.target=re,G.relatedTarget=q,et=null,Ki(J)===F&&(St=new St(B,L+"enter",It,a,J),St.target=q,St.relatedTarget=re,et=St),re=et,K&&It)e:{for(St=K,B=It,L=0,q=St;q;q=Eo(q))L++;for(q=0,et=B;et;et=Eo(et))q++;for(;0<L-q;)St=Eo(St),L--;for(;0<q-L;)B=Eo(B),q--;for(;L--;){if(St===B||B!==null&&St===B.alternate)break e;St=Eo(St),B=Eo(B)}St=null}else St=null;K!==null&&bE(nt,G,K,St,!1),It!==null&&re!==null&&bE(nt,re,It,St,!0)}}t:{if(G=F?yi(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var mt=qy;else if(De(G))if(Fy)mt=P1;else{mt=V1;var Lt=M1}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&_l(F.elementType)&&(mt=qy):mt=k1;if(mt&&(mt=mt(n,F))){nr(nt,mt,a,J);break t}Lt&&Lt(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&jr(G,"number",G.value)}switch(Lt=F?yi(F):window,n){case"focusin":(De(Lt)||Lt.contentEditable==="true")&&(Qa=Lt,Ed=F,Ol=null);break;case"focusout":Ol=Ed=Qa=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,Zy(nt,a,J);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":Zy(nt,a,J)}var _t;if(bi)t:{switch(n){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else qt?Y(n,a)&&(bt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(bt="onCompositionStart");bt&&(_&&a.locale!=="ko"&&(qt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&qt&&(_t=Tl()):(Ei=J,Br="value"in Ei?Ei.value:Ei.textContent,qt=!0)),Lt=Af(F,bt),0<Lt.length&&(bt=new bl(bt,n,null,a,J),nt.push({event:bt,listeners:Lt}),_t?bt.data=_t:(_t=ct(a),_t!==null&&(bt.data=_t)))),(_t=y?Ne(n,a):Ft(n,a))&&(bt=Af(F,"onBeforeInput"),0<bt.length&&(Lt=new bl("onBeforeInput","beforeinput",null,a,J),nt.push({event:Lt,listeners:bt}),Lt.data=_t)),ER(nt,n,F,a,J)}AE(nt,r)})}function iu(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Af(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Ks(n,a),h!=null&&l.unshift(iu(n,h,p)),h=Ks(n,r),h!=null&&l.push(iu(n,h,p))),n.tag===3)return l;n=n.return}return[]}function Eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function bE(n,r,a,l,h){for(var p=r._reactName,E=[];a!==null&&a!==l;){var S=a,x=S.alternate,F=S.stateNode;if(S=S.tag,x!==null&&x===l)break;S!==5&&S!==26&&S!==27||F===null||(x=F,h?(F=Ks(a,p),F!=null&&E.unshift(iu(a,F,x))):h||(F=Ks(a,p),F!=null&&E.push(iu(a,F,x)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var bR=/\r\n?/g,wR=/\u0000|\uFFFD/g;function wE(n){return(typeof n=="string"?n:""+n).replace(bR,`
`).replace(wR,"")}function RE(n,r){return r=wE(r),wE(n)===r}function Sf(){}function ie(n,r,a,l,h,p){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||zn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&zn(n,""+l);break;case"className":vi(n,"class",l);break;case"tabIndex":vi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(n,a,l);break;case"style":vl(n,l,p);break;case"data":if(r!=="object"){vi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ba(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&ie(n,r,"name",h.name,h,null),ie(n,r,"formEncType",h.formEncType,h,null),ie(n,r,"formMethod",h.formMethod,h,null),ie(n,r,"formTarget",h.formTarget,h,null)):(ie(n,r,"encType",h.encType,h,null),ie(n,r,"method",h.method,h,null),ie(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ba(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Sf);break;case"onScroll":l!=null&&jt("scroll",n);break;case"onScrollEnd":l!=null&&jt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ba(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":jt("beforetoggle",n),jt("toggle",n),Ur(n,"popover",l);break;case"xlinkActuate":$e(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$e(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$e(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$e(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$e(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$e(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$e(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$e(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$e(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ur(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dd.get(a)||a,Ur(n,a,l))}}function Fp(n,r,a,l,h,p){switch(a){case"style":vl(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?zn(n,l):(typeof l=="number"||typeof l=="bigint")&&zn(n,""+l);break;case"onScroll":l!=null&&jt("scroll",n);break;case"onScrollEnd":l!=null&&jt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ka.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),p=n[Ae]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(r,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ur(n,a,l)}}}function Xe(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",n),jt("load",n);var l=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ie(n,r,p,E,a,null)}}h&&ie(n,r,"srcSet",a.srcSet,a,null),l&&ie(n,r,"src",a.src,a,null);return;case"input":jt("invalid",n);var S=p=E=h=null,x=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":E=J;break;case"checked":x=J;break;case"defaultChecked":F=J;break;case"value":p=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:ie(n,r,l,J,a,null)}}Fs(n,p,S,x,F,E,h,!1),ja(n);return;case"select":jt("invalid",n),l=E=p=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:ie(n,r,h,S,a,null)}r=p,a=E,n.multiple=!!l,r!=null?Xi(n,!!l,r,!1):a!=null&&Xi(n,!!l,a,!0);return;case"textarea":jt("invalid",n),p=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ie(n,r,E,S,a,null)}Gs(n,l,h,p),ja(n);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ie(n,r,x,l,a,null)}return;case"dialog":jt("beforetoggle",n),jt("toggle",n),jt("cancel",n),jt("close",n);break;case"iframe":case"object":jt("load",n);break;case"video":case"audio":for(l=0;l<nu.length;l++)jt(nu[l],n);break;case"image":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"embed":case"source":case"link":jt("error",n),jt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ie(n,r,F,l,a,null)}return;default:if(_l(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Fp(n,r,J,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ie(n,r,S,l,a,null))}function RR(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,S=null,x=null,F=null,J=null;for(K in a){var nt=a[K];if(a.hasOwnProperty(K)&&nt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":x=nt;default:l.hasOwnProperty(K)||ie(n,r,K,null,l,nt)}}for(var G in l){var K=l[G];if(nt=a[G],l.hasOwnProperty(G)&&(K!=null||nt!=null))switch(G){case"type":p=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":J=K;break;case"value":E=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==nt&&ie(n,r,G,K,l,nt)}}Cn(n,E,S,x,F,J,p,h);return;case"select":K=E=S=G=null;for(p in a)if(x=a[p],a.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":K=x;default:l.hasOwnProperty(p)||ie(n,r,p,null,l,x)}for(h in l)if(p=l[h],x=a[h],l.hasOwnProperty(h)&&(p!=null||x!=null))switch(h){case"value":G=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==x&&ie(n,r,h,p,l,x)}r=S,a=E,l=K,G!=null?Xi(n,!!a,G,!1):!!l!=!!a&&(r!=null?Xi(n,!!a,r,!0):Xi(n,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ie(n,r,S,null,l,h)}for(E in l)if(h=l[E],p=a[E],l.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&ie(n,r,E,h,l,p)}ee(n,G,K);return;case"option":for(var It in a)if(G=a[It],a.hasOwnProperty(It)&&G!=null&&!l.hasOwnProperty(It))switch(It){case"selected":n.selected=!1;break;default:ie(n,r,It,null,l,G)}for(x in l)if(G=l[x],K=a[x],l.hasOwnProperty(x)&&G!==K&&(G!=null||K!=null))switch(x){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ie(n,r,x,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)G=a[St],a.hasOwnProperty(St)&&G!=null&&!l.hasOwnProperty(St)&&ie(n,r,St,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:ie(n,r,F,G,l,K)}return;default:if(_l(r)){for(var re in a)G=a[re],a.hasOwnProperty(re)&&G!==void 0&&!l.hasOwnProperty(re)&&Fp(n,r,re,void 0,l,G);for(J in l)G=l[J],K=a[J],!l.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||Fp(n,r,J,G,l,K);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&ie(n,r,B,null,l,G);for(nt in l)G=l[nt],K=a[nt],!l.hasOwnProperty(nt)||G===K||G==null&&K==null||ie(n,r,nt,G,l,K)}var Gp=null,$p=null;function bf(n){return n.nodeType===9?n:n.ownerDocument}function CE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IE(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Kp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Yp=null;function CR(){var n=window.event;return n&&n.type==="popstate"?n===Yp?!1:(Yp=n,!0):(Yp=null,!1)}var OE=typeof setTimeout=="function"?setTimeout:void 0,IR=typeof clearTimeout=="function"?clearTimeout:void 0,NE=typeof Promise=="function"?Promise:void 0,OR=typeof queueMicrotask=="function"?queueMicrotask:typeof NE<"u"?function(n){return NE.resolve(null).then(n).catch(NR)}:OE;function NR(n){setTimeout(function(){throw n})}function ns(n){return n==="head"}function DE(n,r){var a=r,l=0,h=0;do{var p=a.nextSibling;if(n.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&ru(E.documentElement),a&2&&ru(E.body),a&4)for(a=E.head,ru(a),E=a.firstChild;E;){var S=E.nextSibling,x=E.nodeName;E[Bs]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(h===0){n.removeChild(p),hu(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=p}while(a);hu(r)}function Qp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qp(a),Lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function DR(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Bs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ui(n.nextSibling),n===null)break}return null}function xR(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ui(n.nextSibling),n===null))return null;return n}function Xp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function MR(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ui(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Wp=null;function xE(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function ME(n,r,a){switch(r=bf(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function ru(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Lr(n)}var Wn=new Map,VE=new Set;function wf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var mr=lt.d;lt.d={f:VR,r:kR,D:PR,C:LR,L:UR,m:jR,X:zR,S:BR,M:HR};function VR(){var n=mr.f(),r=gf();return n||r}function kR(n){var r=gi(n);r!==null&&r.tag===5&&r.type==="form"?t_(r):mr.r(n)}var To=typeof document>"u"?null:document;function kE(n,r,a){var l=To;if(l&&typeof r=="string"&&r){var h=Se(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),VE.has(h)||(VE.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Xe(r,"link",n),ye(r),l.head.appendChild(r)))}}function PR(n){mr.D(n),kE("dns-prefetch",n,null)}function LR(n,r){mr.C(n,r),kE("preconnect",n,r)}function UR(n,r,a){mr.L(n,r,a);var l=To;if(l&&n&&r){var h='link[rel="preload"][as="'+Se(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Se(a.imageSizes)+'"]')):h+='[href="'+Se(n)+'"]';var p=h;switch(r){case"style":p=Ao(n);break;case"script":p=So(n)}Wn.has(p)||(n=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Wn.set(p,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(su(p))||r==="script"&&l.querySelector(au(p))||(r=l.createElement("link"),Xe(r,"link",n),ye(r),l.head.appendChild(r)))}}function jR(n,r){mr.m(n,r);var a=To;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(n)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=So(n)}if(!Wn.has(p)&&(n=v({rel:"modulepreload",href:n},r),Wn.set(p,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(au(p)))return}l=a.createElement("link"),Xe(l,"link",n),ye(l),a.head.appendChild(l)}}}function BR(n,r,a){mr.S(n,r,a);var l=To;if(l&&n){var h=pn(l).hoistableStyles,p=Ao(n);r=r||"default";var E=h.get(p);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(su(p)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Wn.get(p))&&Zp(n,a);var x=E=l.createElement("link");ye(x),Xe(x,"link",n),x._p=new Promise(function(F,J){x.onload=F,x.onerror=J}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Rf(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(p,E)}}}function zR(n,r){mr.X(n,r);var a=To;if(a&&n){var l=pn(a).hoistableScripts,h=So(n),p=l.get(h);p||(p=a.querySelector(au(h)),p||(n=v({src:n,async:!0},r),(r=Wn.get(h))&&Jp(n,r),p=a.createElement("script"),ye(p),Xe(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function HR(n,r){mr.M(n,r);var a=To;if(a&&n){var l=pn(a).hoistableScripts,h=So(n),p=l.get(h);p||(p=a.querySelector(au(h)),p||(n=v({src:n,async:!0,type:"module"},r),(r=Wn.get(h))&&Jp(n,r),p=a.createElement("script"),ye(p),Xe(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function PE(n,r,a,l){var h=(h=Et.current)?wf(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ao(a.href),a=pn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ao(a.href);var p=pn(h).hoistableStyles,E=p.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=h.querySelector(su(n)))&&!p._p&&(E.instance=p,E.state.loading=5),Wn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(n,a),p||qR(h,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=So(a),a=pn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ao(n){return'href="'+Se(n)+'"'}function su(n){return'link[rel="stylesheet"]['+n+"]"}function LE(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function qR(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Xe(r,"link",a),ye(r),n.head.appendChild(r))}function So(n){return'[src="'+Se(n)+'"]'}function au(n){return"script[async]"+n}function UE(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return r.instance=l,ye(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ye(l),Xe(l,"style",h),Rf(l,a.precedence,n),r.instance=l;case"stylesheet":h=Ao(a.href);var p=n.querySelector(su(h));if(p)return r.state.loading|=4,r.instance=p,ye(p),p;l=LE(a),(h=Wn.get(h))&&Zp(l,h),p=(n.ownerDocument||n).createElement("link"),ye(p);var E=p;return E._p=new Promise(function(S,x){E.onload=S,E.onerror=x}),Xe(p,"link",l),r.state.loading|=4,Rf(p,a.precedence,n),r.instance=p;case"script":return p=So(a.src),(h=n.querySelector(au(p)))?(r.instance=h,ye(h),h):(l=a,(h=Wn.get(p))&&(l=v({},a),Jp(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),ye(h),Xe(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Rf(l,a.precedence,n));return r.instance}function Rf(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===r)p=S;else if(p!==h)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Zp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Jp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Cf=null;function jE(n,r,a){if(Cf===null){var l=new Map,h=Cf=new Map;h.set(a,l)}else h=Cf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var p=a[h];if(!(p[Bs]||p[Oe]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=n+E;var S=l.get(E);S?S.push(p):l.set(E,[p])}}return l}function BE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function FR(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function zE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ou=null;function GR(){}function $R(n,r,a){if(ou===null)throw Error(s(475));var l=ou;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ao(a.href),p=n.querySelector(su(h));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=If.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=p,ye(p);return}p=n.ownerDocument||n,a=LE(a),(h=Wn.get(h))&&Zp(a,h),p=p.createElement("link"),ye(p);var E=p;E._p=new Promise(function(S,x){E.onload=S,E.onerror=x}),Xe(p,"link",a),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=If.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function KR(){if(ou===null)throw Error(s(475));var n=ou;return n.stylesheets&&n.count===0&&tm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&tm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function If(){if(this.count--,this.count===0){if(this.stylesheets)tm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Of=null;function tm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Of=new Map,r.forEach(YR,n),Of=null,If.call(n))}function YR(n,r){if(!(r.state.loading&4)){var a=Of.get(n);if(a)var l=a.get(null);else{a=new Map,Of.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),p=a.get(E)||l,p===l&&a.set(null,h),a.set(E,h),this.count++,l=If.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var lu={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function QR(n,r,a,l,h,p,E,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function HE(n,r,a,l,h,p,E,S,x,F,J,nt){return n=new QR(n,r,a,E,S,x,F,nt),r=1,p===!0&&(r|=24),p=On(3,null,null,r),n.current=p,p.stateNode=n,r=kd(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:r},jd(p),n}function qE(n){return n?(n=Ja,n):Ja}function FE(n,r,a,l,h,p){h=qE(h),l.context===null?l.context=h:l.pendingContext=h,l=qr(r),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Fr(n,l,r),a!==null&&(Vn(a,n,r),Ul(a,n,r))}function GE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function em(n,r){GE(n,r),(n=n.alternate)&&GE(n,r)}function $E(n){if(n.tag===13){var r=Za(n,67108864);r!==null&&Vn(r,n,67108864),em(n,67108864)}}var Nf=!0;function XR(n,r,a,l){var h=$.T;$.T=null;var p=lt.p;try{lt.p=2,nm(n,r,a,l)}finally{lt.p=p,$.T=h}}function WR(n,r,a,l){var h=$.T;$.T=null;var p=lt.p;try{lt.p=8,nm(n,r,a,l)}finally{lt.p=p,$.T=h}}function nm(n,r,a,l){if(Nf){var h=im(l);if(h===null)qp(n,r,l,Df,a),YE(n,l);else if(JR(h,n,r,a,l))l.stopPropagation();else if(YE(n,l),r&4&&-1<ZR.indexOf(n)){for(;h!==null;){var p=gi(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=ri(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var x=1<<31-an(E);S.entanglements[1]|=x,E&=~x}Ni(p),(Zt&6)===0&&(pf=ge()+500,eu(0))}}break;case 13:S=Za(p,2),S!==null&&Vn(S,p,2),gf(),em(p,2)}if(p=im(l),p===null&&qp(n,r,l,Df,a),p===h)break;h=p}h!==null&&l.stopPropagation()}else qp(n,r,l,null,a)}}function im(n){return n=Hn(n),rm(n)}var Df=null;function rm(n){if(Df=null,n=Ki(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=f(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Df=n,null}function KE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case qi:return 2;case sn:return 8;case vn:case Mr:return 32;case ii:return 268435456;default:return 32}default:return 32}}var sm=!1,is=null,rs=null,ss=null,uu=new Map,cu=new Map,as=[],ZR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YE(n,r){switch(n){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":uu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(r.pointerId)}}function fu(n,r,a,l,h,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},r!==null&&(r=gi(r),r!==null&&$E(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function JR(n,r,a,l,h){switch(r){case"focusin":return is=fu(is,n,r,a,l,h),!0;case"dragenter":return rs=fu(rs,n,r,a,l,h),!0;case"mouseover":return ss=fu(ss,n,r,a,l,h),!0;case"pointerover":var p=h.pointerId;return uu.set(p,fu(uu.get(p)||null,n,r,a,l,h)),!0;case"gotpointercapture":return p=h.pointerId,cu.set(p,fu(cu.get(p)||null,n,r,a,l,h)),!0}return!1}function QE(n){var r=Ki(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){n.blockedOn=r,mc(n.priority,function(){if(a.tag===13){var l=Mn();l=Vr(l);var h=Za(a,l);h!==null&&Vn(h,a,l),em(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xf(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=im(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Wi=l,a.target.dispatchEvent(l),Wi=null}else return r=gi(a),r!==null&&$E(r),n.blockedOn=a,!1;r.shift()}return!0}function XE(n,r,a){xf(n)&&a.delete(r)}function tC(){sm=!1,is!==null&&xf(is)&&(is=null),rs!==null&&xf(rs)&&(rs=null),ss!==null&&xf(ss)&&(ss=null),uu.forEach(XE),cu.forEach(XE)}function Mf(n,r){n.blockedOn===r&&(n.blockedOn=null,sm||(sm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tC)))}var Vf=null;function WE(n){Vf!==n&&(Vf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Vf===n&&(Vf=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var p=gi(a);p!==null&&(n.splice(r,3),r-=3,rp(p,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function hu(n){function r(x){return Mf(x,n)}is!==null&&Mf(is,n),rs!==null&&Mf(rs,n),ss!==null&&Mf(ss,n),uu.forEach(r),cu.forEach(r);for(var a=0;a<as.length;a++){var l=as[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)QE(a),a.blockedOn===null&&as.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],p=a[l+1],E=h[Ae]||null;if(typeof p=="function")E||WE(a);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[Ae]||null)S=E.formAction;else if(rm(h)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),WE(a)}}}function am(n){this._internalRoot=n}kf.prototype.render=am.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Mn();FE(a,l,n,r,null,null)},kf.prototype.unmount=am.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;FE(n.current,2,null,n,null,null),gf(),r[Bn]=null}};function kf(n){this._internalRoot=n}kf.prototype.unstable_scheduleHydration=function(n){if(n){var r=kr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<as.length&&r!==0&&r<as[a].priority;a++);as.splice(a,0,n),a===0&&QE(n)}};var ZE=t.version;if(ZE!=="19.1.1")throw Error(s(527,ZE,"19.1.1"));lt.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var eC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{Tt=Pf.inject(eC),Vt=Pf}catch{}}return pu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=p_,p=m_,E=g_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=HE(n,1,!1,null,null,a,l,h,p,E,S,null),n[Bn]=r.current,Hp(n),new am(r)},pu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",p=p_,E=m_,S=g_,x=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=HE(n,1,!0,r,a??null,l,h,p,E,S,x,F),r.context=qE(null),a=r.current,l=Mn(),l=Vr(l),h=qr(l),h.callback=null,Fr(a,h,l),a=l,r.current.lanes=a,$i(r,a),Ni(r),n[Bn]=r.current,Hp(n),new kf(r)},pu.version="19.1.1",pu}var lT;function cC(){if(lT)return um.exports;lT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),um.exports=uC(),um.exports}var fC=cC();const hC=()=>{};var uT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},dC=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const o=i[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],f=i[e++],d=i[e++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[e++],f=i[e++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},TA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,d=f?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,v=u>>2,T=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,N=g&63;m||(N=64,f||(A=64)),s.push(e[v],e[T],e[A],e[N])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(EA(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):dC(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],d=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const T=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new pC;const A=u<<2|d>>4;if(s.push(A),g!==64){const N=d<<4&240|g>>2;if(s.push(N),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class pC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mC=function(i){const t=EA(i);return TA.encodeByteArray(t,!0)},sh=function(i){return mC(i).replace(/\./g,"")},AA=function(i){try{return TA.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=()=>gC().__FIREBASE_DEFAULTS__,vC=()=>{if(typeof process>"u"||typeof uT>"u")return;const i=uT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},_C=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&AA(i[1]);return t&&JSON.parse(t)},xh=()=>{try{return hC()||yC()||vC()||_C()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},SA=i=>xh()?.emulatorHosts?.[i],EC=i=>{const t=SA(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},bA=()=>xh()?.config,wA=i=>xh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[sh(JSON.stringify(e)),sh(JSON.stringify(f)),""].join(".")}const bu={};function SC(){const i={prod:[],emulator:[]};for(const t of Object.keys(bu))bu[t]?i.emulator.push(t):i.prod.push(t);return i}function bC(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let cT=!1;function CA(i,t){if(typeof window>"u"||typeof document>"u"||!Wo(window.location.host)||bu[i]===t||bu[i]||cT)return;bu[i]=t;function e(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=SC().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{cT=!0,f()},A}function v(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=bC(s),N=e("text"),U=document.getElementById(N)||document.createElement("span"),z=e("learnmore"),P=document.getElementById(z)||document.createElement("a"),Z=e("preprendIcon"),X=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;d(Q),v(P,z);const W=g();m(X,Z),Q.append(X,U,P,W),document.body.appendChild(Q)}u?(U.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function RC(){const i=xh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function OC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NC(){const i=dn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function DC(){return!RC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xC(){try{return typeof indexedDB=="object"}catch{return!1}}function MC(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="FirebaseError";class Dr extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=VC,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?kC(u,s):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new Dr(o,d,s)}}function kC(i,t){return i.replace(PC,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const PC=/\{\$([^}]+)}/g;function LC(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Aa(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const u=i[o],f=t[o];if(fT(u)&&fT(f)){if(!Aa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function fT(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(i){const t=[];for(const[e,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function yu(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function vu(i){const t=i.indexOf("?");if(!t)return"";const e=i.indexOf("#",t);return i.substring(t,e>0?e:void 0)}function UC(i,t){const e=new jC(i,t);return e.subscribe.bind(e)}class jC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");BC(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BC(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(i){return i&&i._delegate?i._delegate:i}class Sa{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zC=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new TC;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qC(t))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ma){return this.instances.has(t)}getOptions(t=ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&f.resolve(o)}return o}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HC(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ma){return this.component?this.component.multipleInstances?t:ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HC(i){return i===ma?void 0:i}function qC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new zC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Bt||(Bt={}));const GC={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},$C=Bt.INFO,KC={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},YC=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=KC[t];if(o)console[o](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rg{constructor(t){this.name=t,this._logLevel=$C,this._logHandler=YC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const QC=(i,t)=>t.some(e=>i instanceof e);let hT,dT;function XC(){return hT||(hT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WC(){return dT||(dT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IA=new WeakMap,Pm=new WeakMap,OA=new WeakMap,pm=new WeakMap,Cg=new WeakMap;function ZC(i){const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{e(ms(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(e=>{e instanceof IDBCursor&&IA.set(e,i)}).catch(()=>{}),Cg.set(t,i),t}function JC(i){if(Pm.has(i))return;const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{e(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Pm.set(i,t)}let Lm={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return Pm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||OA.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ms(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function tI(i){Lm=i(Lm)}function eI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call(mm(this),t,...e);return OA.set(s,t.sort?t.sort():[t]),ms(s)}:WC().includes(i)?function(...t){return i.apply(mm(this),t),ms(IA.get(this))}:function(...t){return ms(i.apply(mm(this),t))}}function nI(i){return typeof i=="function"?eI(i):(i instanceof IDBTransaction&&JC(i),QC(i,XC())?new Proxy(i,Lm):i)}function ms(i){if(i instanceof IDBRequest)return ZC(i);if(pm.has(i))return pm.get(i);const t=nI(i);return t!==i&&(pm.set(i,t),Cg.set(t,i)),t}const mm=i=>Cg.get(i);function iI(i,t,{blocked:e,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,t),d=ms(f);return s&&f.addEventListener("upgradeneeded",m=>{s(ms(f.result),m.oldVersion,m.newVersion,ms(f.transaction),m)}),e&&f.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const rI=["get","getKey","getAll","getAllKeys","count"],sI=["put","add","delete","clear"],gm=new Map;function pT(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(gm.get(t))return gm.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=sI.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||rI.includes(e)))return;const u=async function(f,...d){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&m.done]))[0]};return gm.set(t,u),u}tI(i=>({...i,get:(t,e,s)=>pT(t,e)||i.get(t,e,s),has:(t,e)=>!!pT(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(oI(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function oI(i){return i.getComponent()?.type==="VERSION"}const Um="@firebase/app",mT="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Rg("@firebase/app"),lI="@firebase/app-compat",uI="@firebase/analytics-compat",cI="@firebase/analytics",fI="@firebase/app-check-compat",hI="@firebase/app-check",dI="@firebase/auth",pI="@firebase/auth-compat",mI="@firebase/database",gI="@firebase/data-connect",yI="@firebase/database-compat",vI="@firebase/functions",_I="@firebase/functions-compat",EI="@firebase/installations",TI="@firebase/installations-compat",AI="@firebase/messaging",SI="@firebase/messaging-compat",bI="@firebase/performance",wI="@firebase/performance-compat",RI="@firebase/remote-config",CI="@firebase/remote-config-compat",II="@firebase/storage",OI="@firebase/storage-compat",NI="@firebase/firestore",DI="@firebase/ai",xI="@firebase/firestore-compat",MI="firebase",VI="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",kI={[Um]:"fire-core",[lI]:"fire-core-compat",[cI]:"fire-analytics",[uI]:"fire-analytics-compat",[hI]:"fire-app-check",[fI]:"fire-app-check-compat",[dI]:"fire-auth",[pI]:"fire-auth-compat",[mI]:"fire-rtdb",[gI]:"fire-data-connect",[yI]:"fire-rtdb-compat",[vI]:"fire-fn",[_I]:"fire-fn-compat",[EI]:"fire-iid",[TI]:"fire-iid-compat",[AI]:"fire-fcm",[SI]:"fire-fcm-compat",[bI]:"fire-perf",[wI]:"fire-perf-compat",[RI]:"fire-rc",[CI]:"fire-rc-compat",[II]:"fire-gcs",[OI]:"fire-gcs-compat",[NI]:"fire-fst",[xI]:"fire-fst-compat",[DI]:"fire-vertex","fire-js":"fire-js",[MI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,PI=new Map,Bm=new Map;function gT(i,t){try{i.container.addComponent(t)}catch(e){br.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Lo(i){const t=i.name;if(Bm.has(t))return br.debug(`There were multiple attempts to register component ${t}.`),!1;Bm.set(t,i);for(const e of ah.values())gT(e,i);for(const e of PI.values())gT(e,i);return!0}function Ig(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function fi(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Xu("app","Firebase",LI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=VI;function NA(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s={name:jm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw gs.create("bad-app-name",{appName:String(o)});if(e||(e=bA()),!e)throw gs.create("no-options");const u=ah.get(o);if(u){if(Aa(e,u.options)&&Aa(s,u.config))return u;throw gs.create("duplicate-app",{appName:o})}const f=new FC(o);for(const m of Bm.values())f.addComponent(m);const d=new UI(e,s,f);return ah.set(o,d),d}function DA(i=jm){const t=ah.get(i);if(!t&&i===jm&&bA())return NA();if(!t)throw gs.create("no-app",{appName:i});return t}function ys(i,t,e){let s=kI[i]??i;e&&(s+=`-${e}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),br.warn(f.join(" "));return}Lo(new Sa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firebase-heartbeat-database",BI=1,Vu="firebase-heartbeat-store";let ym=null;function xA(){return ym||(ym=iI(jI,BI,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Vu)}catch(e){console.warn(e)}}}}).catch(i=>{throw gs.create("idb-open",{originalErrorMessage:i.message})})),ym}async function zI(i){try{const e=(await xA()).transaction(Vu),s=await e.objectStore(Vu).get(MA(i));return await e.done,s}catch(t){if(t instanceof Dr)br.warn(t.message);else{const e=gs.create("idb-get",{originalErrorMessage:t?.message});br.warn(e.message)}}}async function yT(i,t){try{const s=(await xA()).transaction(Vu,"readwrite");await s.objectStore(Vu).put(t,MA(i)),await s.done}catch(e){if(e instanceof Dr)br.warn(e.message);else{const s=gs.create("idb-set",{originalErrorMessage:e?.message});br.warn(s.message)}}}function MA(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=1024,qI=30;class FI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new $I(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>qI){const o=KI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){br.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vT(),{heartbeatsToSend:e,unsentEntries:s}=GI(this._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return br.warn(t),""}}}function vT(){return new Date().toISOString().substring(0,10)}function GI(i,t=HI){const e=[];let s=i.slice();for(const o of i){const u=e.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),_T(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),_T(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class $I{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xC()?MC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await zI(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return yT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return yT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function _T(i){return sh(JSON.stringify({version:2,heartbeats:i})).length}function KI(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let s=1;s<i.length;s++)i[s].date<e&&(e=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(i){Lo(new Sa("platform-logger",t=>new aI(t),"PRIVATE")),Lo(new Sa("heartbeat",t=>new FI(t),"PRIVATE")),ys(Um,mT,i),ys(Um,mT,"esm2020"),ys("fire-js","")}YI("");var ET=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,VA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,R){function I(){}I.prototype=R.prototype,D.D=R.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(M,k,j){for(var O=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)O[xt-2]=arguments[xt];return R.prototype[k].apply(M,O)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,I){I||(I=0);var M=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)M[k]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(k=0;16>k;++k)M[k]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=D.g[0],I=D.g[1],k=D.g[2];var j=D.g[3],O=R+(j^I&(k^j))+M[0]+3614090360&4294967295;R=I+(O<<7&4294967295|O>>>25),O=j+(k^R&(I^k))+M[1]+3905402710&4294967295,j=R+(O<<12&4294967295|O>>>20),O=k+(I^j&(R^I))+M[2]+606105819&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(R^k&(j^R))+M[3]+3250441966&4294967295,I=k+(O<<22&4294967295|O>>>10),O=R+(j^I&(k^j))+M[4]+4118548399&4294967295,R=I+(O<<7&4294967295|O>>>25),O=j+(k^R&(I^k))+M[5]+1200080426&4294967295,j=R+(O<<12&4294967295|O>>>20),O=k+(I^j&(R^I))+M[6]+2821735955&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(R^k&(j^R))+M[7]+4249261313&4294967295,I=k+(O<<22&4294967295|O>>>10),O=R+(j^I&(k^j))+M[8]+1770035416&4294967295,R=I+(O<<7&4294967295|O>>>25),O=j+(k^R&(I^k))+M[9]+2336552879&4294967295,j=R+(O<<12&4294967295|O>>>20),O=k+(I^j&(R^I))+M[10]+4294925233&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(R^k&(j^R))+M[11]+2304563134&4294967295,I=k+(O<<22&4294967295|O>>>10),O=R+(j^I&(k^j))+M[12]+1804603682&4294967295,R=I+(O<<7&4294967295|O>>>25),O=j+(k^R&(I^k))+M[13]+4254626195&4294967295,j=R+(O<<12&4294967295|O>>>20),O=k+(I^j&(R^I))+M[14]+2792965006&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(R^k&(j^R))+M[15]+1236535329&4294967295,I=k+(O<<22&4294967295|O>>>10),O=R+(k^j&(I^k))+M[1]+4129170786&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(R^I))+M[6]+3225465664&4294967295,j=R+(O<<9&4294967295|O>>>23),O=k+(R^I&(j^R))+M[11]+643717713&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(k^j))+M[0]+3921069994&4294967295,I=k+(O<<20&4294967295|O>>>12),O=R+(k^j&(I^k))+M[5]+3593408605&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(R^I))+M[10]+38016083&4294967295,j=R+(O<<9&4294967295|O>>>23),O=k+(R^I&(j^R))+M[15]+3634488961&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(k^j))+M[4]+3889429448&4294967295,I=k+(O<<20&4294967295|O>>>12),O=R+(k^j&(I^k))+M[9]+568446438&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(R^I))+M[14]+3275163606&4294967295,j=R+(O<<9&4294967295|O>>>23),O=k+(R^I&(j^R))+M[3]+4107603335&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(k^j))+M[8]+1163531501&4294967295,I=k+(O<<20&4294967295|O>>>12),O=R+(k^j&(I^k))+M[13]+2850285829&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(R^I))+M[2]+4243563512&4294967295,j=R+(O<<9&4294967295|O>>>23),O=k+(R^I&(j^R))+M[7]+1735328473&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(k^j))+M[12]+2368359562&4294967295,I=k+(O<<20&4294967295|O>>>12),O=R+(I^k^j)+M[5]+4294588738&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^k)+M[8]+2272392833&4294967295,j=R+(O<<11&4294967295|O>>>21),O=k+(j^R^I)+M[11]+1839030562&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^R)+M[14]+4259657740&4294967295,I=k+(O<<23&4294967295|O>>>9),O=R+(I^k^j)+M[1]+2763975236&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^k)+M[4]+1272893353&4294967295,j=R+(O<<11&4294967295|O>>>21),O=k+(j^R^I)+M[7]+4139469664&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^R)+M[10]+3200236656&4294967295,I=k+(O<<23&4294967295|O>>>9),O=R+(I^k^j)+M[13]+681279174&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^k)+M[0]+3936430074&4294967295,j=R+(O<<11&4294967295|O>>>21),O=k+(j^R^I)+M[3]+3572445317&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^R)+M[6]+76029189&4294967295,I=k+(O<<23&4294967295|O>>>9),O=R+(I^k^j)+M[9]+3654602809&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^k)+M[12]+3873151461&4294967295,j=R+(O<<11&4294967295|O>>>21),O=k+(j^R^I)+M[15]+530742520&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^R)+M[2]+3299628645&4294967295,I=k+(O<<23&4294967295|O>>>9),O=R+(k^(I|~j))+M[0]+4096336452&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~k))+M[7]+1126891415&4294967295,j=R+(O<<10&4294967295|O>>>22),O=k+(R^(j|~I))+M[14]+2878612391&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~R))+M[5]+4237533241&4294967295,I=k+(O<<21&4294967295|O>>>11),O=R+(k^(I|~j))+M[12]+1700485571&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~k))+M[3]+2399980690&4294967295,j=R+(O<<10&4294967295|O>>>22),O=k+(R^(j|~I))+M[10]+4293915773&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~R))+M[1]+2240044497&4294967295,I=k+(O<<21&4294967295|O>>>11),O=R+(k^(I|~j))+M[8]+1873313359&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~k))+M[15]+4264355552&4294967295,j=R+(O<<10&4294967295|O>>>22),O=k+(R^(j|~I))+M[6]+2734768916&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~R))+M[13]+1309151649&4294967295,I=k+(O<<21&4294967295|O>>>11),O=R+(k^(I|~j))+M[4]+4149444226&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~k))+M[11]+3174756917&4294967295,j=R+(O<<10&4294967295|O>>>22),O=k+(R^(j|~I))+M[2]+718787259&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~R))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var I=R-this.blockSize,M=this.B,k=this.h,j=0;j<R;){if(k==0)for(;j<=I;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<R;)if(M[k++]=D.charCodeAt(j++),k==this.blockSize){o(this,M),k=0;break}}else for(;j<R;)if(M[k++]=D[j++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var I=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=I&255,I/=256;for(this.u(D),D=Array(16),R=I=0;4>R;++R)for(var M=0;32>M;M+=8)D[I++]=this.g[R]>>>M&255;return D};function u(D,R){var I=d;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=R(D)}function f(D,R){this.h=R;for(var I=[],M=!0,k=D.length-1;0<=k;k--){var j=D[k]|0;M&&j==R||(I[k]=j,M=!1)}this.g=I}var d={};function m(D){return-128<=D&&128>D?u(D,function(R){return new f([R|0],0>R?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return P(g(-D));for(var R=[],I=1,M=0;D>=I;M++)R[M]=D/I|0,I*=4294967296;return new f(R,0)}function v(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return P(v(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),M=T,k=0;k<D.length;k+=8){var j=Math.min(8,D.length-k),O=parseInt(D.substring(k,k+j),R);8>j?(j=g(Math.pow(R,j)),M=M.j(j).add(g(O))):(M=M.j(I),M=M.add(g(O)))}return M}var T=m(0),A=m(1),N=m(16777216);i=f.prototype,i.m=function(){if(z(this))return-P(this).m();for(var D=0,R=1,I=0;I<this.g.length;I++){var M=this.i(I);D+=(0<=M?M:4294967296+M)*R,R*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(z(this))return"-"+P(this).toString(D);for(var R=g(Math.pow(D,6)),I=this,M="";;){var k=W(I,R).g;I=Z(I,k.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=k,U(I))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function z(D){return D.h==-1}i.l=function(D){return D=Z(this,D),z(D)?-1:U(D)?0:1};function P(D){for(var R=D.g.length,I=[],M=0;M<R;M++)I[M]=~D.g[M];return new f(I,~D.h).add(A)}i.abs=function(){return z(this)?P(this):this},i.add=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],M=0,k=0;k<=R;k++){var j=M+(this.i(k)&65535)+(D.i(k)&65535),O=(j>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);M=O>>>16,j&=65535,O&=65535,I[k]=O<<16|j}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Z(D,R){return D.add(P(R))}i.j=function(D){if(U(this)||U(D))return T;if(z(this))return z(D)?P(this).j(P(D)):P(P(this).j(D));if(z(D))return P(this.j(P(D)));if(0>this.l(N)&&0>D.l(N))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,I=[],M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<D.g.length;k++){var j=this.i(M)>>>16,O=this.i(M)&65535,xt=D.i(k)>>>16,Ct=D.i(k)&65535;I[2*M+2*k]+=O*Ct,X(I,2*M+2*k),I[2*M+2*k+1]+=j*Ct,X(I,2*M+2*k+1),I[2*M+2*k+1]+=O*xt,X(I,2*M+2*k+1),I[2*M+2*k+2]+=j*xt,X(I,2*M+2*k+2)}for(M=0;M<R;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=R;M<2*R;M++)I[M]=0;return new f(I,0)};function X(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function Q(D,R){this.g=D,this.h=R}function W(D,R){if(U(R))throw Error("division by zero");if(U(D))return new Q(T,T);if(z(D))return R=W(P(D),R),new Q(P(R.g),P(R.h));if(z(R))return R=W(D,P(R)),new Q(P(R.g),R.h);if(30<D.g.length){if(z(D)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,M=R;0>=M.l(D);)I=st(I),M=st(M);var k=at(I,1),j=at(M,1);for(M=at(M,2),I=at(I,2);!U(M);){var O=j.add(M);0>=O.l(D)&&(k=k.add(I),j=O),M=at(M,1),I=at(I,1)}return R=Z(D,k.j(R)),new Q(k,R)}for(k=T;0<=D.l(R);){for(I=Math.max(1,Math.floor(D.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=g(I),O=j.j(R);z(O)||0<O.l(D);)I-=M,j=g(I),O=j.j(R);U(j)&&(j=A),k=k.add(j),D=Z(D,O)}return new Q(k,D)}i.A=function(D){return W(this,D).h},i.and=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)&D.i(M);return new f(I,this.h&D.h)},i.or=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)|D.i(M);return new f(I,this.h|D.h)},i.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)^D.i(M);return new f(I,this.h^D.h)};function st(D){for(var R=D.g.length+1,I=[],M=0;M<R;M++)I[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(I,D.h)}function at(D,R){var I=R>>5;R%=32;for(var M=D.g.length-I,k=[],j=0;j<M;j++)k[j]=0<R?D.i(j+I)>>>R|D.i(j+I+1)<<32-R:D.i(j+I);return new f(k,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,VA=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,vs=f}).apply(typeof ET<"u"?ET:typeof self<"u"?self:typeof window<"u"?window:{});var Lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kA,_u,PA,Kf,zm,LA,UA,jA;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lf=="object"&&Lf];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var H=c[b];if(!(H in _))break t;_=_[H]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,H={next:function(){if(!b&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,A.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,H,Y){for(var ct=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)ct[qt-2]=arguments[qt];return y.prototype[H].apply(b,ct)}}function z(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function P(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(m(b)){const H=c.length||0,Y=b.length||0;c.length=H+Y;for(let ct=0;ct<Y;ct++)c[H+ct]=b[ct]}else c.push(b)}}class Z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var st=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function at(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(_ in b)c[_]=b[_];for(let Y=0;Y<I.length;Y++)_=I[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function O(){var c=Ot;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class xt{constructor(){this.h=this.g=null}add(y,_){const b=Ct.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Ct=new Z(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,ft=!1,Ot=new xt,V=()=>{const c=d.Promise.resolve(void 0);lt=()=>{c.then(tt)}};var tt=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(_){j(_)}var y=Ct;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ft=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var ht=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c})();function vt(c,y){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(st){t:{try{W(y.nodeName);var H=!0;break t}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Et[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&vt.aa.h.call(this)}}U(vt,rt);var Et={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function Te(c,y,_,b,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=H,this.key=++Pt,this.da=this.fa=!1}function Ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c){this.src=c,this.g={},this.h=0}Le.prototype.add=function(c,y,_,b,H){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ct=nn(c,y,b,H);return-1<ct?(y=c[ct],_||(y.fa=!1)):(y=new Te(y,this.src,Y,!!b,H),y.fa=_,c.push(y)),y};function en(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],H=Array.prototype.indexOf.call(b,y,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(b,H,1),Y&&(Ge(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function nn(c,y,_,b){for(var H=0;H<c.length;++H){var Y=c[H];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==b)return H}return-1}var rn="closure_lm_"+(1e6*Math.random()|0),Kt={};function Un(c,y,_,b,H){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Un(c,y[Y],_,b,H);return null}return _=Fi(_),c&&c[te]?c.K(y,_,g(b)?!!b.capture:!1,H):ge(c,y,_,!1,b,H)}function ge(c,y,_,b,H,Y){if(!y)throw Error("Invalid event type");var ct=g(H)?!!H.capture:!!H,qt=ii(c);if(qt||(c[rn]=qt=new Le(c)),_=qt.add(y,_,b,ct,Y),_.proxy)return _;if(b=ks(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ht||(H=ct),H===void 0&&(H=!1),c.addEventListener(y.toString(),b,H);else if(c.attachEvent)c.attachEvent(vn(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ks(){function c(_){return y.call(c.src,c.listener,_)}const y=Mr;return c}function qi(c,y,_,b,H){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)qi(c,y[Y],_,b,H);else b=g(b)?!!b.capture:!!b,_=Fi(_),c&&c[te]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=nn(Y,_,b,H),-1<_&&(Ge(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=ii(c))&&(y=c.g[y.toString()],c=-1,y&&(c=nn(y,_,b,H)),(_=-1<c?y[c]:null)&&sn(_))}function sn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[te])en(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(vn(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=ii(y))?(en(_,c),_.h==0&&(_.src=null,y[rn]=null)):Ge(c)}}}function vn(c){return c in Kt?Kt[c]:Kt[c]="on"+c}function Mr(c,y){if(c.da)c=!0;else{y=new vt(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&sn(c),c=_.call(b,y)}return c}function ii(c){return c=c[rn],c instanceof Le?c:null}var jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fi(c){return typeof c=="function"?c:(c[jn]||(c[jn]=function(y){return c.handleEvent(y)}),c[jn])}function Tt(){ut.call(this),this.i=new Le(this),this.M=this,this.F=null}U(Tt,ut),Tt.prototype[te]=!0,Tt.prototype.removeEventListener=function(c,y,_,b){qi(this,c,y,_,b)};function Vt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new rt(y,c);else if(y instanceof rt)y.target=y.target||c;else{var H=y;y=new rt(b,c),M(y,H)}if(H=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ct=y.g=_[Y];H=Ie(ct,b,!0,y)&&H}if(ct=y.g=c,H=Ie(ct,b,!0,y)&&H,H=Ie(ct,b,!1,y)&&H,_)for(Y=0;Y<_.length;Y++)ct=y.g=_[Y],H=Ie(ct,b,!1,y)&&H}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Ge(_[b]);delete c.g[y],c.h--}}this.F=null},Tt.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},Tt.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function Ie(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Y=0;Y<y.length;++Y){var ct=y[Y];if(ct&&!ct.da&&ct.capture==_){var qt=ct.listener,Ne=ct.ha||ct.src;ct.fa&&en(c.i,ct),H=qt.call(Ne,b)!==!1&&H}}return H&&!b.defaultPrevented}function an(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function pc(c){c.g=an(()=>{c.g=null,c.i&&(c.i=!1,pc(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ud extends ut{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:pc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(c){ut.call(this),this.h=c,this.g={}}U(Ps,ut);var Ls=[];function Us(c){at(c.g,function(y,_){this.g.hasOwnProperty(_)&&sn(y)},c),c.g={}}Ps.prototype.N=function(){Ps.aa.N.call(this),Us(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=d.JSON.stringify,Ma=d.JSON.parse,js=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ll(){}ll.prototype.h=null;function ul(c){return c.h||(c.h=c.i())}function cl(){}var Gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){rt.call(this,"d")}U($i,rt);function fl(){rt.call(this,"c")}U(fl,rt);var mi={},hl=null;function Vr(){return hl=hl||new Tt}mi.La="serverreachability";function Va(c){rt.call(this,mi.La,c)}U(Va,rt);function kr(c){const y=Vr();Vt(y,new Va(y))}mi.STAT_EVENT="statevent";function mc(c,y){rt.call(this,mi.STAT_EVENT,c),this.stat=y}U(mc,rt);function ue(c){const y=Vr();Vt(y,new mc(y,c))}mi.Ma="timingevent";function Oe(c,y){rt.call(this,mi.Ma,c),this.size=y}U(Oe,rt);function Ae(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function dl(c,y,_,b,H,Y){c.info(function(){if(c.g)if(Y)for(var ct="",qt=Y.split("&"),Ne=0;Ne<qt.length;Ne++){var Ft=qt[Ne].split("=");if(1<Ft.length){var je=Ft[0];Ft=Ft[1];var De=je.split("_");ct=2<=De.length&&De[1]=="type"?ct+(je+"="+Ft+"&"):ct+(je+"=redacted&")}}else ct=null;else ct=Y;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+y+`
`+_+`
`+ct})}function cd(c,y,_,b,H,Y,ct){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+y+`
`+_+`
`+Y+" "+ct})}function Pr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Bs(c,_)+(b?" "+b:"")})}function gc(c,y){c.info(function(){return"TIMEOUT: "+y})}Bn.prototype.info=function(){};function Bs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ct=1;ct<H.length;ct++)H[ct]=""}}}}return ri(_)}catch{return y}}var Lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gi;function yi(){}U(yi,ll),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},gi=new yi;function pn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new Ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var pl={},ka={};function si(c,y,_){c.L=1,c.v=Gs(Cn(y)),c.m=_,c.P=!0,Yi(c,null)}function Yi(c,y){c.F=Date.now(),zs(c),c.A=Cn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),El(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ye,c.g=xc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ud(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ls[0]=H.toString()),H=Ls);for(var Y=0;Y<H.length;Y++){var ct=Un(_,H[Y],b||y.handleEvent,!1,y.h||y);if(!ct)break;y.g[ct.key]=ct}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),kr(),dl(c.i,c.u,c.A,c.l,c.R,c.m)}pn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Fn(c)==3?y.j():this.Y(c)},pn.prototype.Y=function(c){try{if(c==this.g)t:{const De=Fn(this.g);var y=this.g.Ba();const nr=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||bc(this.g)))){this.J||De!=4||y==7||(y==8||0>=nr?kr(3):kr(2)),Ur(this);var _=this.g.Z();this.X=_;e:if(yc(this)){var b=bc(this.g);c="";var H=b.length,Y=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),vi(this);var ct="";break e}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Y&&y==H-1)});b.length=0,this.h.g+=c,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=_==200,cd(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var qt,Ne=this.g;if((qt=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(qt)){var Ft=qt;break e}}Ft=null}if(_=Ft)Pr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hs(this,_);else{this.o=!1,this.s=3,ue(12),$e(this),vi(this);break t}}if(this.P){_=!0;let Ke;for(;!this.J&&this.C<ct.length;)if(Ke=vc(this,ct),Ke==ka){De==4&&(this.s=4,ue(14),_=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ke==pl){this.s=4,ue(15),Pr(this.i,this.l,ct,"[Invalid Chunk]"),_=!1;break}else Pr(this.i,this.l,Ke,null),Hs(this,Ke);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||ct.length!=0||this.h.h||(this.s=1,ue(16),_=!1),this.o=this.o&&_,!_)Pr(this.i,this.l,ct,"[Invalid Chunked Response]"),$e(this),vi(this);else if(0<ct.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),Js(je),je.M=!0,ue(11))}}else Pr(this.i,this.l,ct,null),Hs(this,ct);De==4&&$e(this),this.o&&!this.J&&(De==4?Oc(this.j,this):(this.o=!1,zs(this)))}else md(this.g),_==400&&0<ct.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),$e(this),vi(this)}}}catch{}finally{}};function yc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vc(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?ka:(_=Number(y.substring(_,b)),isNaN(_)?pl:(b+=1,b+_>y.length?ka:(y=y.slice(b,b+_),c.C=b+_,y)))}pn.prototype.cancel=function(){this.J=!0,$e(this)};function zs(c){c.S=Date.now()+c.I,_c(c,c.I)}function _c(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ae(A(c.ba,c),y)}function Ur(c){c.B&&(d.clearTimeout(c.B),c.B=null)}pn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(gc(this.i,this.A),this.L!=2&&(kr(),ue(17)),$e(this),this.s=2,vi(this)):_c(this,this.S-c)};function vi(c){c.j.G==0||c.J||Oc(c.j,c)}function $e(c){Ur(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Us(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Hs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ml(_.h,c))){if(!c.K&&ml(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ka(_),Ga(_);else break t;wl(_),ue(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ae(A(_.Za,_),6e3));if(1>=La(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else er(_,11)}else if((c.K||_.g==c)&&Ka(_),!X(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let Ft=H[y];if(_.T=Ft[0],Ft=Ft[1],_.G==2)if(Ft[0]=="c"){_.K=Ft[1],_.ia=Ft[2];const je=Ft[3];je!=null&&(_.la=je,_.j.info("VER="+_.la));const De=Ft[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const nr=Ft[5];nr!=null&&typeof nr=="number"&&0<nr&&(b=1.5*nr,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ke=c.g;if(Ke){const wi=Ke.g?Ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var Y=b.h;Y.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ua(Y,Y.h),Y.h=null))}if(b.D){const Cl=Ke.g?Ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(b.ya=Cl,ee(b.I,b.D,Cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ct=c;if(b.qa=Dc(b,b.J?b.ia:null,b.W),ct.K){mn(b.h,ct);var qt=ct,Ne=b.L;Ne&&(qt.I=Ne),qt.B&&(Ur(qt),zs(qt)),b.g=ct}else Cc(b);0<_.i.length&&$a(_)}else Ft[0]!="stop"&&Ft[0]!="close"||er(_,7);else _.G==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?er(_,7):Sl(_):Ft[0]!="noop"&&_.l&&_.l.ta(Ft),_.v=0)}}kr(4)}catch{}}var Ec=class{constructor(c,y){this.g=c,this.map=y}};function Qi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function La(c){return c.h?1:c.g?c.g.size:0}function ml(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ua(c,y){c.g?c.g.add(y):c.h=y}function mn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Qi.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function gl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return z(c.i)}function fd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function ja(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function yl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ja(c),b=fd(c),H=b.length,Y=0;Y<H;Y++)y.call(void 0,b[Y],_&&_[Y],c)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hd(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),H=null;if(0<=b){var Y=c[_].substring(0,b);H=c[_].substring(b+1)}else Y=c[_];y(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Se(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Se){this.h=c.h,Fs(this,c.j),this.o=c.o,this.g=c.g,jr(this,c.s),this.l=c.l;var y=c.i,_=new Wi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Xi(this,_),this.m=c.m}else c&&(y=String(c).match(qs))?(this.h=!1,Fs(this,y[1]||"",!0),this.o=zn(y[2]||""),this.g=zn(y[3]||"",!0),jr(this,y[4]),this.l=zn(y[5]||"",!0),Xi(this,y[6]||"",!0),this.m=zn(y[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}Se.prototype.toString=function(){var c=[],y=this.j;y&&c.push($s(y,vl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push($s(y,vl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push($s(_,_.charAt(0)=="/"?dd:_l,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",$s(_,Ba)),c.join("")};function Cn(c){return new Se(c)}function Fs(c,y,_){c.j=_?zn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function jr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Xi(c,y,_){y instanceof Wi?(c.i=y,Ac(c.i,c.h)):(_||(y=$s(y,pd)),c.i=new Wi(y,c.h))}function ee(c,y,_){c.i.set(y,_)}function Gs(c){return ee(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $s(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Tc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vl=/[#\/\?@]/g,_l=/[#\?:]/g,dd=/[#\?]/g,pd=/[#\?@]/g,Ba=/#/g;function Wi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Hn(c){c.g||(c.g=new Map,c.h=0,c.i&&hd(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Wi.prototype,i.add=function(c,y){Hn(this),this.i=null,c=_i(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Zi(c,y){Hn(c),y=_i(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ji(c,y){return Hn(c),y=_i(c,y),c.g.has(y)}i.forEach=function(c,y){Hn(this),this.g.forEach(function(_,b){_.forEach(function(H){c.call(y,H,b,this)},this)},this)},i.na=function(){Hn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const H=c[b];for(let Y=0;Y<H.length;Y++)_.push(y[b])}return _},i.V=function(c){Hn(this);let y=[];if(typeof c=="string")Ji(this,c)&&(y=y.concat(this.g.get(_i(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Hn(this),this.i=null,c=_i(this,c),Ji(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function El(c,y,_){Zi(c,y),0<_.length&&(c.i=null,c.g.set(_i(c,y),z(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Y=encodeURIComponent(String(b)),ct=this.V(b);for(b=0;b<ct.length;b++){var H=Y;ct[b]!==""&&(H+="="+encodeURIComponent(String(ct[b]))),c.push(H)}}return this.i=c.join("&")};function _i(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ac(c,y){y&&!c.j&&(Hn(c),c.i=null,c.g.forEach(function(_,b){var H=b.toLowerCase();b!=H&&(Zi(this,b),El(this,H,_))},c)),c.j=y}function Ks(c,y){const _=new Bn;if(d.Image){const b=new Image;b.onload=N(qn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=N(qn,_,"TestLoadImage: error",!1,y,b),b.onabort=N(qn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=N(qn,_,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function ai(c,y){const _=new Bn,b=new AbortController,H=setTimeout(()=>{b.abort(),qn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(H),Y.ok?qn(_,"TestPingServer: ok",!0,y):qn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),qn(_,"TestPingServer: error",!1,y)})}function qn(c,y,_,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(_)}catch{}}function Ys(){this.g=new js}function Ei(c,y,_){const b=_||"";try{yl(c,function(H,Y){let ct=H;g(H)&&(ct=ri(H)),y.push(b+Y+"="+encodeURIComponent(ct))})}catch(H){throw y.push(b+"type="+encodeURIComponent("_badmap")),H}}function Br(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Br,ll),Br.prototype.g=function(){return new tr(this.l,this.j)},Br.prototype.i=(function(c){return function(){return c}})({});function tr(c,y){Tt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(tr,Tt),i=tr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ai(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ti(this):Ai(this),this.readyState==3&&Tl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ti(this))},i.Qa=function(c){this.g&&(this.response=c,Ti(this))},i.ga=function(){this.g&&Ti(this)};function Ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ai(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Al(c){let y="";return at(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Ue(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Al(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ee(c,y,_))}function Xt(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Xt,Tt);var za=/^https?$/i,Qs=["POST","PUT"];i=Xt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gi.g(),this.v=this.o?ul(this.o):ul(gi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Sc(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)_.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Qs,y,void 0))||b||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ct]of _)this.g.setRequestHeader(Y,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Sc(this,Y)}};function Sc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ha(c),Si(c)}function Ha(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Vt(this,"complete"),Vt(this,"abort"),Si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Xt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},i.bb=function(){qa(this)};function qa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)an(c.Ea,0,c);else if(Vt(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const ct=c.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=ct===0){var H=String(c.D).match(qs)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),b=!za.test(H?H.toLowerCase():"")}_=b}if(_)Vt(c,"complete"),Vt(c,"success");else{c.m=6;try{var Y=2<Fn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Ha(c)}}finally{Si(c)}}}}function Si(c,y){if(c.g){Xs(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Vt(c,"ready");try{_.onreadystatechange=b}catch{}}}function Xs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ma(y)}};function bc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function md(c){const y={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(X(c[b]))continue;var _=k(c[b]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[H]||[];y[H]=Y,Y.push(_)}D(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Fa(c){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,c),this.cb=Ws("retryDelaySeedMs",1e4,c),this.Wa=Ws("forwardChannelMaxRetries",2,c),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(c&&c.concurrentRequestLimit),this.Da=new Ys,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Fa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){ue(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Dc(this,null,this.W),$a(this)};function Sl(c){if(wc(c),c.G==3){var y=c.U++,_=Cn(c.I);if(ee(_,"SID",c.K),ee(_,"RID",y),ee(_,"TYPE","terminate"),Zs(c,_),y=new pn(c,c.j,y),y.L=2,y.v=Gs(Cn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=xc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),zs(y)}Nc(c)}function Ga(c){c.g&&(Js(c),c.g.cancel(),c.g=null)}function wc(c){Ga(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function $a(c){if(!Pa(c.h)&&!c.s){c.s=!0;var y=c.Ga;lt||V(),ft||(lt(),ft=!0),Ot.add(y,c),c.B=0}}function gd(c,y){return La(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ae(A(c.Ga,c,y),Rl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new pn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Rc(this,H,y),_=Cn(this.I),ee(_,"RID",c),ee(_,"CVER",22),this.D&&ee(_,"X-HTTP-Session-Id",this.D),Zs(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(Al(Y)))+"&"+y:this.m&&Ue(_,this.m,Y)),Ua(this.h,H),this.Ua&&ee(_,"TYPE","init"),this.P?(ee(_,"$req",y),ee(_,"SID","null"),H.T=!0,si(H,_,null)):si(H,_,y),this.G=2}}else this.G==3&&(c?bl(this,c):this.i.length==0||Pa(this.h)||bl(this))};function bl(c,y){var _;y?_=y.l:_=c.U++;const b=Cn(c.I);ee(b,"SID",c.K),ee(b,"RID",_),ee(b,"AID",c.T),Zs(c,b),c.m&&c.o&&Ue(b,c.m,c.o),_=new pn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Rc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ua(c.h,_),si(_,b,y)}function Zs(c,y){c.H&&at(c.H,function(_,b){ee(y,b,_)}),c.l&&yl({},function(_,b){ee(y,b,_)})}function Rc(c,y,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;t:{var H=c.i;let Y=-1;for(;;){const ct=["count="+_];Y==-1?0<_?(Y=H[0].g,ct.push("ofs="+Y)):Y=0:ct.push("ofs="+Y);let qt=!0;for(let Ne=0;Ne<_;Ne++){let Ft=H[Ne].g;const je=H[Ne].map;if(Ft-=Y,0>Ft)Y=Math.max(0,H[Ne].g-100),qt=!1;else try{Ei(je,ct,"req"+Ft+"_")}catch{b&&b(je)}}if(qt){b=ct.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function Cc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;lt||V(),ft||(lt(),ft=!0),Ot.add(y,c),c.v=0}}function wl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ae(A(c.Fa,c),Rl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ae(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Ga(this),Ic(this))};function Js(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Ic(c){c.g=new pn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Cn(c.qa);ee(y,"RID","rpc"),ee(y,"SID",c.K),ee(y,"AID",c.T),ee(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ee(y,"TO",c.ja),ee(y,"TYPE","xmlhttp"),Zs(c,y),c.m&&c.o&&Ue(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Gs(Cn(y)),_.m=null,_.P=!0,Yi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ga(this),wl(this),ue(19))};function Ka(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Oc(c,y){var _=null;if(c.g==y){Ka(c),Js(c),c.g=null;var b=2}else if(ml(c.h,y))_=y.D,mn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;b=Vr(),Vt(b,new Oe(b,_)),$a(c)}else Cc(c);else if(H=y.s,H==3||H==0&&0<y.X||!(b==1&&gd(c,y)||b==2&&wl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:er(c,5);break;case 4:er(c,10);break;case 3:er(c,6);break;default:er(c,2)}}}function Rl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function er(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),b=c.Xa;const H=!b;b=new Se(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fs(b,"https"),Gs(b),H?Ks(b.toString(),_):ai(b.toString(),_)}else ue(2);c.G=0,c.l&&c.l.sa(y),Nc(c),wc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Nc(c){if(c.G=0,c.ka=[],c.l){const y=gl(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Dc(c,y,_){var b=_ instanceof Se?Cn(_):new Se(_);if(b.g!="")y&&(b.g=y+"."+b.g),jr(b,b.s);else{var H=d.location;b=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Y=new Se(null);b&&Fs(Y,b),y&&(Y.g=y),H&&jr(Y,H),_&&(Y.l=_),b=Y}return _=c.D,y=c.ya,_&&y&&ee(b,_,y),ee(b,"VER",c.la),Zs(c,b),b}function xc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Xt(new Br({eb:_})):new Xt(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mc(){}i=Mc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ya(){}Ya.prototype.g=function(c,y){return new gn(c,y)};function gn(c,y){Tt.call(this),this.g=new Fa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new bi(this)}U(gn,Tt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Sl(this.g)},gn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ri(c),c=_);y.i.push(new Ec(y.Ya++,c)),y.G==3&&$a(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,gn.aa.N.call(this)};function Vc(c){$i.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(Vc,$i);function kc(){fl.call(this),this.status=1}U(kc,fl);function bi(c){this.g=c}U(bi,Mc),bi.prototype.ua=function(){Vt(this.g,"a")},bi.prototype.ta=function(c){Vt(this.g,new Vc(c))},bi.prototype.sa=function(c){Vt(this.g,new kc)},bi.prototype.ra=function(){Vt(this.g,"b")},Ya.prototype.createWebChannel=Ya.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,jA=function(){return new Ya},UA=function(){return Vr()},LA=mi,zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,Kf=Lr,Ki.COMPLETE="complete",PA=Ki,cl.EventType=Gi,Gi.OPEN="a",Gi.CLOSE="b",Gi.ERROR="c",Gi.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,_u=cl,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,kA=Xt}).apply(typeof Lf<"u"?Lf:typeof self<"u"?self:typeof window<"u"?window:{});const TT="@firebase/firestore",AT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Rg("@firebase/firestore");function Ro(){return ba.logLevel}function pt(i,...t){if(ba.logLevel<=Bt.DEBUG){const e=t.map(Og);ba.debug(`Firestore (${Jo}): ${i}`,...e)}}function wr(i,...t){if(ba.logLevel<=Bt.ERROR){const e=t.map(Og);ba.error(`Firestore (${Jo}): ${i}`,...e)}}function Uo(i,...t){if(ba.logLevel<=Bt.WARN){const e=t.map(Og);ba.warn(`Firestore (${Jo}): ${i}`,...e)}}function Og(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(i,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,BA(i,s,e)}function BA(i,t,e){let s=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw wr(s),new Error(s)}function Wt(i,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,i||BA(t,o,s)}function Dt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Dr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(cn.UNAUTHENTICATED)))}shutdown(){}}class XI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class WI{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Wt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,e(m)):Promise.resolve();let u=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _s,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const m=u;t.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _s)}}),0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string",31837,{l:s}),new zA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class ZI{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JI{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new ZI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ST{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Wt(this.o===void 0,3512);const s=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ST(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Wt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new ST(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=eO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<e&&(s+=t.charAt(o[u]%62))}return s}}function zt(i,t){return i<t?-1:i>t?1:0}function Hm(i,t){const e=Math.min(i.length,t.length);for(let s=0;s<e;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return vm(o)===vm(u)?zt(o,u):vm(o)?1:-1}return zt(i.length,t.length)}const nO=55296,iO=57343;function vm(i){const t=i.charCodeAt(0);return t>=nO&&t<=iO}function jo(i,t,e){return i.length===t.length&&i.every(((s,o)=>e(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__name__";class Di{constructor(t,e,s){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Rt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const u=Di.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return zt(t.length,e.length)}static compareSegments(t,e){const s=Di.isNumericId(t),o=Di.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(t).compare(Di.extractNumericId(e)):Hm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return vs.fromString(t.substring(4,t.length-2))}}class le extends Di{construct(t,e,s){return new le(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((o=>o.length>0)))}return new le(e)}static emptyPath(){return new le([])}}const rO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Di{construct(t,e,s){return new Je(t,e,s)}static isValidIdentifier(t){return rO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bT}static keyField(){return new Je([bT])}static fromServerFormat(t){const e=[];let s="",o=0;const u=()=>{if(s.length===0)throw new yt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let f=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new yt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new yt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(s+=d,o++):(u(),o++)}if(u(),f)throw new yt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(e)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.path=t}static fromPath(t){return new At(le.fromString(t))}static fromName(t){return new At(le.fromString(t).popFirst(5))}static empty(){return new At(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return le.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new At(new le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(i,t,e){if(!e)throw new yt(ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function sO(i,t,e,s){if(t===!0&&s===!0)throw new yt(ot.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function wT(i){if(!At.isDocumentKey(i))throw new yt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function RT(i){if(At.isDocumentKey(i))throw new yt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function qA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Dg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Rt(12329,{type:typeof i})}function Ar(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new yt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Dg(i);throw new yt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(i,t){const e={typeString:i};return t&&(e.value=t),e}function Zu(i,t){if(!qA(i))throw new yt(ot.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){e=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){e=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){e=`Expected '${s}' field to equal '${u.value}'`;break}}if(e)throw new yt(ot.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=-62135596800,IT=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*IT);return new oe(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<CT)throw new yt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IT}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zu(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-CT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ce("string",oe._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new oe(0,0))}static max(){return new Nt(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=-1;function aO(i,t){const e=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Nt.fromTimestamp(s===1e9?new oe(e+1,0):new oe(e,s));return new As(o,At.empty(),t)}function oO(i){return new As(i.readTime,i.key,ku)}class As{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new As(Nt.min(),At.empty(),ku)}static max(){return new As(Nt.max(),At.empty(),ku)}}function lO(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=At.comparator(i.documentKey,t.documentKey),e!==0?e:zt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(i){if(i.code!==ot.FAILED_PRECONDITION||i.message!==uO)throw i;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):it.reject(e)}static resolve(t){return new it(((e,s)=>{e(t)}))}static reject(t){return new it(((e,s)=>{s(t)}))}static waitFor(t){return new it(((e,s)=>{let o=0,u=0,f=!1;t.forEach((d=>{++o,d.next((()=>{++u,f&&u===o&&e()}),(m=>s(m)))})),f=!0,u===o&&e()}))}static or(t){let e=it.resolve(!1);for(const s of t)e=e.next((o=>o?it.resolve(o):s()));return e}static forEach(t,e){const s=[];return t.forEach(((o,u)=>{s.push(e.call(this,o,u))})),this.waitFor(s)}static mapArray(t,e){return new it(((s,o)=>{const u=t.length,f=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;e(t[g]).next((v=>{f[g]=v,++d,d===u&&s(f)}),(v=>o(v)))}}))}static doWhile(t,e){return new it(((s,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):s()};u()}))}}function fO(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function el(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg=-1;function Vh(i){return i==null}function oh(i){return i===0&&1/i==-1/0}function hO(i){return typeof i=="number"&&Number.isInteger(i)&&!oh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="";function dO(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=OT(t)),t=pO(i.get(e),t);return OT(t)}function pO(i,t){let e=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case FA:e+="";break;default:e+=u}}return e}function OT(i){return i+FA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Ds(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function GA(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,e){this.comparator=t,this.root=e||Ze.EMPTY}insert(t,e){return new de(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uf(this.root,t,this.comparator,!0)}}class Uf{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,e,s,o,u){this.key=t,this.value=e,this.color=s??Ze.RED,this.left=o??Ze.EMPTY,this.right=u??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,u){return new Ze(t??this.key,e??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,s),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,s,o,u){return this}insert(t,e,s){return new Ze(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new DT(this.data.getIterator())}getIteratorFrom(t){return new DT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Pe(this.comparator);return e.data=t,e}}class DT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Pn([])}unionWith(t){let e=new Pe(Je.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Pn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return jo(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $A("Invalid base64 string: "+u):u}})(t);return new tn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new tn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const mO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(i){if(Wt(!!i,39018),typeof i=="string"){let t=0;const e=mO.exec(i);if(Wt(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(i.seconds),nanos:Ee(i.nanos)}}function Ee(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function bs(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="server_timestamp",YA="__type__",QA="__previous_value__",XA="__local_write_time__";function Mg(i){return(i?.mapValue?.fields||{})[YA]?.stringValue===KA}function kh(i){const t=i.mapValue.fields[QA];return Mg(t)?kh(t):t}function Pu(i){const t=Ss(i.mapValue.fields[XA].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t,e,s,o,u,f,d,m,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const lh="(default)";class Lu{constructor(t,e){this.projectId=t,this.database=e||lh}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===lh}isEqual(t){return t instanceof Lu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="__type__",yO="__max__",jf={mapValue:{}},ZA="__vector__",uh="value";function ws(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Mg(i)?4:_O(i)?9007199254740991:vO(i)?10:11:Rt(28295,{value:i})}function zi(i,t){if(i===t)return!0;const e=ws(i);if(e!==ws(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Pu(i).isEqual(Pu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ss(o.timestampValue),d=Ss(u.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return bs(o.bytesValue).isEqual(bs(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ee(o.doubleValue),d=Ee(u.doubleValue);return f===d?oh(f)===oh(d):isNaN(f)&&isNaN(d)}return!1})(i,t);case 9:return jo(i.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},d=u.mapValue.fields||{};if(NT(f)!==NT(d))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(d[m]===void 0||!zi(f[m],d[m])))return!1;return!0})(i,t);default:return Rt(52216,{left:i})}}function Uu(i,t){return(i.values||[]).find((e=>zi(e,t)))!==void 0}function Bo(i,t){if(i===t)return 0;const e=ws(i),s=ws(t);if(e!==s)return zt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(i.booleanValue,t.booleanValue);case 2:return(function(u,f){const d=Ee(u.integerValue||u.doubleValue),m=Ee(f.integerValue||f.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(i,t);case 3:return xT(i.timestampValue,t.timestampValue);case 4:return xT(Pu(i),Pu(t));case 5:return Hm(i.stringValue,t.stringValue);case 6:return(function(u,f){const d=bs(u),m=bs(f);return d.compareTo(m)})(i.bytesValue,t.bytesValue);case 7:return(function(u,f){const d=u.split("/"),m=f.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=zt(d[g],m[g]);if(v!==0)return v}return zt(d.length,m.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,f){const d=zt(Ee(u.latitude),Ee(f.latitude));return d!==0?d:zt(Ee(u.longitude),Ee(f.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return MT(i.arrayValue,t.arrayValue);case 10:return(function(u,f){const d=u.fields||{},m=f.fields||{},g=d[uh]?.arrayValue,v=m[uh]?.arrayValue,T=zt(g?.values?.length||0,v?.values?.length||0);return T!==0?T:MT(g,v)})(i.mapValue,t.mapValue);case 11:return(function(u,f){if(u===jf.mapValue&&f===jf.mapValue)return 0;if(u===jf.mapValue)return 1;if(f===jf.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=f.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const A=Hm(m[T],v[T]);if(A!==0)return A;const N=Bo(d[m[T]],g[v[T]]);if(N!==0)return N}return zt(m.length,v.length)})(i.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function xT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return zt(i,t);const e=Ss(i),s=Ss(t),o=zt(e.seconds,s.seconds);return o!==0?o:zt(e.nanos,s.nanos)}function MT(i,t){const e=i.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const u=Bo(e[o],s[o]);if(u)return u}return zt(e.length,s.length)}function zo(i){return qm(i)}function qm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const s=Ss(e);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return bs(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return At.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let s="[",o=!0;for(const u of e.values||[])o?o=!1:s+=",",s+=qm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(e){const s=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${qm(e.fields[f])}`;return o+"}"})(i.mapValue):Rt(61005,{value:i})}function Yf(i){switch(ws(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=kh(i);return t?16+Yf(t):16;case 5:return 2*i.stringValue.length;case 6:return bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Yf(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ds(s.fields,((u,f)=>{o+=u.length+Yf(f)})),o})(i.mapValue);default:throw Rt(13486,{value:i})}}function Fm(i){return!!i&&"integerValue"in i}function Vg(i){return!!i&&"arrayValue"in i}function VT(i){return!!i&&"nullValue"in i}function kT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Qf(i){return!!i&&"mapValue"in i}function vO(i){return(i?.mapValue?.fields||{})[WA]?.stringValue===ZA}function wu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Ds(i.mapValue.fields,((e,s)=>t.mapValue.fields[e]=wu(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=wu(i.arrayValue.values[e]);return t}return{...i}}function _O(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===yO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Qf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=wu(e)}setAll(t){let e=Je.emptyPath(),s={},o=[];t.forEach(((f,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,s,o),s={},o=[],e=d.popLast()}f?s[d.lastSegment()]=wu(f):o.push(d.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,s,o)}delete(t){const e=this.field(t.popLast());Qf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];Qf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){Ds(e,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Sn(wu(this.value))}}function JA(i){const t=[];return Ds(i.fields,((e,s)=>{const o=new Je([e]);if(Qf(s)){const u=JA(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,e,s,o,u,f,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=d}static newInvalidDocument(t){return new fn(t,0,Nt.min(),Nt.min(),Nt.min(),Sn.empty(),0)}static newFoundDocument(t,e,s,o){return new fn(t,1,e,Nt.min(),s,o,0)}static newNoDocument(t,e){return new fn(t,2,e,Nt.min(),Nt.min(),Sn.empty(),0)}static newUnknownDocument(t,e){return new fn(t,3,e,Nt.min(),Nt.min(),Sn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,e){this.position=t,this.inclusive=e}}function PT(i,t,e){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],f=i.position[o];if(u.field.isKeyField()?s=At.comparator(At.fromName(f.referenceValue),e.key):s=Bo(f,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function LT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!zi(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,e="asc"){this.field=t,this.dir=e}}function EO(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{}class Ve extends tS{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new AO(t,e,s):e==="array-contains"?new wO(t,s):e==="in"?new RO(t,s):e==="not-in"?new CO(t,s):e==="array-contains-any"?new IO(t,s):new Ve(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new SO(t,s):new bO(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Bo(e,this.value)):e!==null&&ws(this.value)===ws(e)&&this.matchesComparison(Bo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends tS{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Hi(t,e)}matches(t){return eS(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eS(i){return i.op==="and"}function nS(i){return TO(i)&&eS(i)}function TO(i){for(const t of i.filters)if(t instanceof Hi)return!1;return!0}function Gm(i){if(i instanceof Ve)return i.field.canonicalString()+i.op.toString()+zo(i.value);if(nS(i))return i.filters.map((t=>Gm(t))).join(",");{const t=i.filters.map((e=>Gm(e))).join(",");return`${i.op}(${t})`}}function iS(i,t){return i instanceof Ve?(function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)})(i,t):i instanceof Hi?(function(s,o){return o instanceof Hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,d)=>u&&iS(f,o.filters[d])),!0):!1})(i,t):void Rt(19439)}function rS(i){return i instanceof Ve?(function(e){return`${e.field.canonicalString()} ${e.op} ${zo(e.value)}`})(i):i instanceof Hi?(function(e){return e.op.toString()+" {"+e.getFilters().map(rS).join(" ,")+"}"})(i):"Filter"}class AO extends Ve{constructor(t,e,s){super(t,e,s),this.key=At.fromName(s.referenceValue)}matches(t){const e=At.comparator(t.key,this.key);return this.matchesComparison(e)}}class SO extends Ve{constructor(t,e){super(t,"in",e),this.keys=sS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class bO extends Ve{constructor(t,e){super(t,"not-in",e),this.keys=sS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function sS(i,t){return(t.arrayValue?.values||[]).map((e=>At.fromName(e.referenceValue)))}class wO extends Ve{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Vg(e)&&Uu(e.arrayValue,this.value)}}class RO extends Ve{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Uu(this.value.arrayValue,e)}}class CO extends Ve{constructor(t,e){super(t,"not-in",e)}matches(t){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Uu(this.value.arrayValue,e)}}class IO extends Ve{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Vg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>Uu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,e=null,s=[],o=[],u=null,f=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=d,this.Te=null}}function UT(i,t=null,e=[],s=[],o=null,u=null,f=null){return new OO(i,t,e,s,o,u,f)}function kg(i){const t=Dt(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>Gm(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Vh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>zo(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>zo(s))).join(",")),t.Te=e}return t.Te}function Pg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!EO(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!iS(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!LT(i.startAt,t.startAt)&&LT(i.endAt,t.endAt)}function $m(i){return At.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,e=null,s=[],o=[],u=null,f="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NO(i,t,e,s,o,u,f,d){return new Ph(i,t,e,s,o,u,f,d)}function Lg(i){return new Ph(i)}function jT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function DO(i){return i.collectionGroup!==null}function Ru(i){const t=Dt(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new Pe(Je.comparator);return f.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new fh(u,s))})),e.has(Je.keyField().canonicalString())||t.Ie.push(new fh(Je.keyField(),s))}return t.Ie}function xi(i){const t=Dt(i);return t.Ee||(t.Ee=xO(t,Ru(i))),t.Ee}function xO(i,t){if(i.limitType==="F")return UT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new fh(o.field,u)}));const e=i.endAt?new ch(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ch(i.startAt.position,i.startAt.inclusive):null;return UT(i.path,i.collectionGroup,t,i.filters,i.limit,e,s)}}function Km(i,t,e){return new Ph(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Lh(i,t){return Pg(xi(i),xi(t))&&i.limitType===t.limitType}function aS(i){return`${kg(xi(i))}|lt:${i.limitType}`}function Co(i){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((o=>rS(o))).join(", ")}]`),Vh(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((o=>zo(o))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((o=>zo(o))).join(",")),`Target(${s})`})(xi(i))}; limitType=${i.limitType})`}function Uh(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):At.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of Ru(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(f,d,m){const g=PT(f,d,m);return f.inclusive?g<=0:g<0})(s.startAt,Ru(s),o)||s.endAt&&!(function(f,d,m){const g=PT(f,d,m);return f.inclusive?g>=0:g>0})(s.endAt,Ru(s),o))})(i,t)}function MO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function oS(i){return(t,e)=>{let s=!1;for(const o of Ru(i)){const u=VO(o,t,e);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function VO(i,t,e){const s=i.field.isKeyField()?At.comparator(t.key,e.key):(function(u,f,d){const m=f.data.field(u),g=d.data.field(u);return m!==null&&g!==null?Bo(m,g):Rt(42886)})(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Rt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ds(this.inner,((e,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return GA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new de(At.comparator);function Rr(){return kO}const lS=new de(At.comparator);function Eu(...i){let t=lS;for(const e of i)t=t.insert(e.key,e);return t}function uS(i){let t=lS;return i.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function ya(){return Cu()}function cS(){return Cu()}function Cu(){return new Oa((i=>i.toString()),((i,t)=>i.isEqual(t)))}const PO=new de(At.comparator),LO=new Pe(At.comparator);function Ht(...i){let t=LO;for(const e of i)t=t.add(e);return t}const UO=new Pe(zt);function jO(){return UO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(t)?"-0":t}}function fS(i){return{integerValue:""+i}}function BO(i,t){return hO(t)?fS(t):Ug(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function zO(i,t,e){return i instanceof hh?(function(o,u){const f={fields:{[YA]:{stringValue:KA},[XA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Mg(u)&&(u=kh(u)),u&&(f.fields[QA]=u),{mapValue:f}})(e,t):i instanceof ju?dS(i,t):i instanceof Bu?pS(i,t):(function(o,u){const f=hS(o,u),d=BT(f)+BT(o.Ae);return Fm(f)&&Fm(o.Ae)?fS(d):Ug(o.serializer,d)})(i,t)}function HO(i,t,e){return i instanceof ju?dS(i,t):i instanceof Bu?pS(i,t):e}function hS(i,t){return i instanceof dh?(function(s){return Fm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class hh extends jh{}class ju extends jh{constructor(t){super(),this.elements=t}}function dS(i,t){const e=mS(t);for(const s of i.elements)e.some((o=>zi(o,s)))||e.push(s);return{arrayValue:{values:e}}}class Bu extends jh{constructor(t){super(),this.elements=t}}function pS(i,t){let e=mS(t);for(const s of i.elements)e=e.filter((o=>!zi(o,s)));return{arrayValue:{values:e}}}class dh extends jh{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function BT(i){return Ee(i.integerValue||i.doubleValue)}function mS(i){return Vg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function qO(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof ju&&o instanceof ju||s instanceof Bu&&o instanceof Bu?jo(s.elements,o.elements,zi):s instanceof dh&&o instanceof dh?zi(s.Ae,o.Ae):s instanceof hh&&o instanceof hh})(i.transform,t.transform)}class FO{constructor(t,e){this.version=t,this.transformResults=e}}class Mi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Mi}static exists(t){return new Mi(void 0,t)}static updateTime(t){return new Mi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Bh{}function gS(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new vS(i.key,Mi.none()):new Ju(i.key,i.data,Mi.none());{const e=i.data,s=Sn.empty();let o=new Pe(Je.comparator);for(let u of t.fields)if(!o.has(u)){let f=e.field(u);f===null&&u.length>1&&(u=u.popLast(),f=e.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new xs(i.key,s,new Pn(o.toArray()),Mi.none())}}function GO(i,t,e){i instanceof Ju?(function(o,u,f){const d=o.value.clone(),m=HT(o.fieldTransforms,u,f.transformResults);d.setAll(m),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()})(i,t,e):i instanceof xs?(function(o,u,f){if(!Xf(o.precondition,u))return void u.convertToUnknownDocument(f.version);const d=HT(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(yS(o)),m.setAll(d),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,t,e):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,e)}function Iu(i,t,e,s){return i instanceof Ju?(function(u,f,d,m){if(!Xf(u.precondition,f))return d;const g=u.value.clone(),v=qT(u.fieldTransforms,m,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,t,e,s):i instanceof xs?(function(u,f,d,m){if(!Xf(u.precondition,f))return d;const g=qT(u.fieldTransforms,m,f),v=f.data;return v.setAll(yS(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,e,s):(function(u,f,d){return Xf(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d})(i,t,e)}function $O(i,t){let e=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=hS(s.transform,o||null);u!=null&&(e===null&&(e=Sn.empty()),e.set(s.field,u))}return e||null}function zT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&jo(s,o,((u,f)=>qO(u,f)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Ju extends Bh{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends Bh{constructor(t,e,s,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yS(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}})),t}function HT(i,t,e){const s=new Map;Wt(i.length===e.length,32656,{Re:e.length,Ve:i.length});for(let o=0;o<e.length;o++){const u=i[o],f=u.transform,d=t.data.field(u.field);s.set(u.field,HO(f,d,e[o]))}return s}function qT(i,t,e){const s=new Map;for(const o of i){const u=o.transform,f=e.data.field(o.field);s.set(o.field,zO(u,f,t))}return s}class vS extends Bh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KO extends Bh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&GO(u,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Iu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Iu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=cS();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let d=this.applyToLocalView(f,u.mutatedFields);d=e.has(o.key)?null:d;const m=gS(f,d);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(Nt.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&jo(this.mutations,t.mutations,((e,s)=>zT(e,s)))&&jo(this.baseMutations,t.baseMutations,((e,s)=>zT(e,s)))}}class jg{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){Wt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return PO})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new jg(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QO=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,$t;function WO(i){switch(i){case ot.OK:return Rt(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return Rt(15467,{code:i})}}function _S(i){if(i===void 0)return wr("GRPC error has no .code"),ot.UNKNOWN;switch(i){case Re.OK:return ot.OK;case Re.CANCELLED:return ot.CANCELLED;case Re.UNKNOWN:return ot.UNKNOWN;case Re.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Re.INTERNAL:return ot.INTERNAL;case Re.UNAVAILABLE:return ot.UNAVAILABLE;case Re.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Re.NOT_FOUND:return ot.NOT_FOUND;case Re.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Re.ABORTED:return ot.ABORTED;case Re.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Re.DATA_LOSS:return ot.DATA_LOSS;default:return Rt(39323,{code:i})}}($t=Re||(Re={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new vs([4294967295,4294967295],0);function FT(i){const t=ZO().encode(i),e=new VA;return e.update(t),new Uint8Array(e.digest())}function GT(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new vs([e,s],0),new vs([o,u],0)]}class Bg{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Tu(`Invalid padding: ${e}`);if(s<0)throw new Tu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=vs.fromNumber(this.ge)}ye(t,e,s){let o=t.add(e.multiply(vs.fromNumber(s)));return o.compare(JO)===1&&(o=new vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=FT(t),[s,o]=GT(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Bg(u,o,e);return s.forEach((d=>f.insert(d))),f}insert(t){if(this.ge===0)return;const e=FT(t),[s,o]=GT(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,e,s,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,tc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new zh(Nt.min(),o,new de(zt),Rr(),Ht())}}class tc{constructor(t,e,s,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new tc(s,e,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,e,s,o){this.be=t,this.removedTargetIds=e,this.key=s,this.De=o}}class ES{constructor(t,e){this.targetId=t,this.Ce=e}}class TS{constructor(t,e,s=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class $T{constructor(){this.ve=0,this.Fe=KT(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),e=Ht(),s=Ht();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Rt(38017,{changeType:u})}})),new tc(this.Me,this.xe,t,e,s)}qe(){this.Oe=!1,this.Fe=KT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tN{constructor(t){this.Ge=t,this.ze=new Map,this.je=Rr(),this.Je=Bf(),this.He=Bf(),this.Ye=new de(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,s=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if($m(u))if(s===0){const f=new At(u.path);this.et(e,f,fn.newNoDocument(f,Nt.min()))}else Wt(s===1,20013,{expectedCount:s});else{const f=this._t(e);if(f!==s){const d=this.ut(t),m=d?this.ct(d,t,f):1;if(m!==0){this.it(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=e;let f,d;try{f=bs(s).toUint8Array()}catch(m){if(m instanceof $A)return Uo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Bg(f,o,u)}catch(m){return Uo(m instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),d=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,f)=>{const d=this.ot(f);if(d){if(u.current&&$m(d.target)){const m=new At(d.target.path);this.It(m).has(f)||this.Et(f,m)||this.et(f,m,fn.newNoDocument(m,t))}u.Be&&(e.set(f,u.ke()),u.qe())}}));let s=Ht();this.He.forEach(((u,f)=>{let d=!0;f.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new zh(t,e,this.Ye,this.je,s);return this.je=Rr(),this.Je=Bf(),this.He=Bf(),this.Ye=new de(zt),o}Xe(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,s),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new $T,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Pe(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Pe(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||pt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new $T),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Bf(){return new de(At.comparator)}function KT(){return new de(At.comparator)}const eN={asc:"ASCENDING",desc:"DESCENDING"},nN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iN={and:"AND",or:"OR"};class rN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ym(i,t){return i.useProto3Json||Vh(t)?t:{value:t}}function ph(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AS(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function sN(i,t){return ph(i,t.toTimestamp())}function Vi(i){return Wt(!!i,49232),Nt.fromTimestamp((function(e){const s=Ss(e);return new oe(s.seconds,s.nanos)})(i))}function zg(i,t){return Qm(i,t).canonicalString()}function Qm(i,t){const e=(function(o){return new le(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?e:e.child(t)}function SS(i){const t=le.fromString(i);return Wt(IS(t),10190,{key:t.toString()}),t}function Xm(i,t){return zg(i.databaseId,t.path)}function _m(i,t){const e=SS(t);if(e.get(1)!==i.databaseId.projectId)throw new yt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new yt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new At(wS(e))}function bS(i,t){return zg(i.databaseId,t)}function aN(i){const t=SS(i);return t.length===4?le.emptyPath():wS(t)}function Wm(i){return new le(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function wS(i){return Wt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function YT(i,t,e){return{name:Xm(i,t),fields:e.value.mapValue.fields}}function oN(i,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Rt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Wt(v===void 0||typeof v=="string",58123),tn.fromBase64String(v||"")):(Wt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),tn.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),f=t.targetChange.cause,d=f&&(function(g){const v=g.code===void 0?ot.UNKNOWN:_S(g.code);return new yt(v,g.message||"")})(f);e=new TS(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=_m(i,s.document.name),u=Vi(s.document.updateTime),f=s.document.createTime?Vi(s.document.createTime):Nt.min(),d=new Sn({mapValue:{fields:s.document.fields}}),m=fn.newFoundDocument(o,u,f,d),g=s.targetIds||[],v=s.removedTargetIds||[];e=new Wf(g,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=_m(i,s.document),u=s.readTime?Vi(s.readTime):Nt.min(),f=fn.newNoDocument(o,u),d=s.removedTargetIds||[];e=new Wf([],d,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=_m(i,s.document),u=s.removedTargetIds||[];e=new Wf([],u,o,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new XO(o,u),d=s.targetId;e=new ES(d,f)}}return e}function lN(i,t){let e;if(t instanceof Ju)e={update:YT(i,t.key,t.value)};else if(t instanceof vS)e={delete:Xm(i,t.key)};else if(t instanceof xs)e={update:YT(i,t.key,t.data),updateMask:yN(t.fieldMask)};else{if(!(t instanceof KO))return Rt(16599,{Vt:t.type});e={verify:Xm(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const d=f.transform;if(d instanceof hh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ju)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Bu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof dh)return{fieldPath:f.field.canonicalString(),increment:d.Ae};throw Rt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:sN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Rt(27497)})(i,t.precondition)),e}function uN(i,t){return i&&i.length>0?(Wt(t!==void 0,14353),i.map((e=>(function(o,u){let f=o.updateTime?Vi(o.updateTime):Vi(u);return f.isEqual(Nt.min())&&(f=Vi(u)),new FO(f,o.transformResults||[])})(e,t)))):[]}function cN(i,t){return{documents:[bS(i,t.path)]}}function fN(i,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=bS(i,o);const u=(function(g){if(g.length!==0)return CS(Hi.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:Io(A.field),direction:pN(A.dir)}})(v)))})(t.orderBy);f&&(e.structuredQuery.orderBy=f);const d=Ym(i,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function hN(i){let t=aN(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){Wt(s===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(T){const A=RS(T);return A instanceof Hi&&nS(A)?A.getFilters():[A]})(e.where));let f=[];e.orderBy&&(f=(function(T){return T.map((A=>(function(U){return new fh(Oo(U.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(e.orderBy));let d=null;e.limit&&(d=(function(T){let A;return A=typeof T=="object"?T.value:T,Vh(A)?null:A})(e.limit));let m=null;e.startAt&&(m=(function(T){const A=!!T.before,N=T.values||[];return new ch(N,A)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const A=!T.before,N=T.values||[];return new ch(N,A)})(e.endAt)),NO(t,o,f,u,d,"F",m,g)}function dN(i,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function RS(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Oo(e.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(e.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(e.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Oo(e.unaryFilter.field);return Ve.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(i):i.fieldFilter!==void 0?(function(e){return Ve.create(Oo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return Hi.create(e.compositeFilter.filters.map((s=>RS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(e.compositeFilter.op))})(i):Rt(30097,{filter:i})}function pN(i){return eN[i]}function mN(i){return nN[i]}function gN(i){return iN[i]}function Io(i){return{fieldPath:i.canonicalString()}}function Oo(i){return Je.fromServerFormat(i.fieldPath)}function CS(i){return i instanceof Ve?(function(e){if(e.op==="=="){if(kT(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NAN"}};if(VT(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(kT(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NOT_NAN"}};if(VT(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(e.field),op:mN(e.op),value:e.value}}})(i):i instanceof Hi?(function(e){const s=e.getFilters().map((o=>CS(o)));return s.length===1?s[0]:{compositeFilter:{op:gN(e.op),filters:s}}})(i):Rt(54877,{filter:i})}function yN(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function IS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,e,s,o,u=Nt.min(),f=Nt.min(),d=tn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new ps(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t){this.yt=t}}function _N(i){const t=hN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Km(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.Cn=new TN}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(As.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(As.min())}updateCollectionGroup(t,e,s){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class TN{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new Pe(le.comparator),u=!o.has(s);return this.index[e]=o.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Pe(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OS=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(OS,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ho(0)}static cr(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="LruGarbageCollector",AN=1048576;function WT([i,t],[e,s]){const o=zt(i,e);return o===0?zt(t,s):o}class SN{constructor(t){this.Ir=t,this.buffer=new Pe(WT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();WT(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class bN{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pt(XT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){el(e)?pt(XT,"Ignoring IndexedDB error during garbage collection: ",e):await tl(e)}await this.Vr(3e5)}))}}class wN{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return it.resolve(Mh.ce);const s=new SN(e);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.mr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(QT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let s,o,u,f,d,m,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,d=Date.now(),this.removeTargets(t,s,e)))).next((T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),Ro()<=Bt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function RN(i,t){return new wN(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.changes=new Oa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?it.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(s!==null&&Iu(s.mutation,o,Pn.empty(),oe.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,Ht()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=Ht()){const o=ya();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,s).next((u=>{let f=Eu();return u.forEach(((d,m)=>{f=f.insert(d,m.overlayedDocument)})),f}))))}getOverlayedDocuments(t,e){const s=ya();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,Ht())))}populateOverlays(t,e,s){const o=[];return s.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,d)=>{e.set(f,d)}))}))}computeViews(t,e,s,o){let u=Rr();const f=Cu(),d=(function(){return Cu()})();return e.forEach(((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof xs)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Iu(v.mutation,g,v.mutation.getFieldMask(),oe.now())):f.set(g.key,Pn.empty())})),this.recalculateAndSaveOverlays(t,u).next((m=>(m.forEach(((g,v)=>f.set(g,v))),e.forEach(((g,v)=>d.set(g,new IN(v,f.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=Cu();let o=new de(((f,d)=>f-d)),u=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((f=>{for(const d of f)d.keys().forEach((m=>{const g=e.get(m);if(g===null)return;let v=s.get(m)||Pn.empty();v=d.applyToLocalView(g,v),s.set(m,v);const T=(o.get(d.batchId)||Ht()).add(m);o=o.insert(d.batchId,T)}))})).next((()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,T=cS();v.forEach((A=>{if(!u.has(A)){const N=gS(e.get(A),s.get(A));N!==null&&T.set(A,N),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return it.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,o){return(function(f){return At.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):DO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-u.size):it.resolve(ya());let d=ku,m=u;return f.next((g=>it.forEach(g,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(v)?it.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{m=m.insert(v,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,m,g,Ht()))).next((v=>({batchId:d,changes:uS(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new At(e)).next((s=>{let o=Eu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const u=e.collectionGroup;let f=Eu();return this.indexManager.getCollectionParents(t,u).next((d=>it.forEach(d,(m=>{const g=(function(T,A){return new Ph(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,e,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,o)))).next((f=>{u.forEach(((m,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,fn.newInvalidDocument(v)))}));let d=Eu();return f.forEach(((m,g)=>{const v=u.get(m);v!==void 0&&Iu(v.mutation,g,Pn.empty(),oe.now()),Uh(e,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return it.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:_N(o.bundledQuery),readTime:Vi(o.readTime)}})(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.overlays=new de(At.comparator),this.qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const s=ya();return it.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((o,u)=>{this.St(t,e,u)})),it.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,e,s){const o=ya(),u=e.length+1,f=new At(e.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return it.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let u=new de(((g,v)=>g-v));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ya(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ya(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return it.resolve(d)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new QO(e,s));let u=this.qr.get(e);u===void 0&&(u=Ht(),this.qr.set(e,u)),this.qr.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this.Qr=new Pe(qe.$r),this.Ur=new Pe(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const s=new qe(t,e);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Gr(new qe(t,e))}zr(t,e){t.forEach((s=>this.removeReference(s,e)))}jr(t){const e=new At(new le([])),s=new qe(e,t),o=new qe(e,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new At(new le([])),s=new qe(e,t),o=new qe(e,t+1);let u=Ht();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const e=new qe(t,0),s=this.Qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return At.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||At.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(qe.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new YO(u,e,s,o);this.mutationQueue.push(f);for(const d of o)this.Zr=this.Zr.add(new qe(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(f)}lookupMutationBatch(t,e){return it.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ei(s),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?xg:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new qe(e,0),o=new qe(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const d=this.Xr(f.Yr);u.push(d)})),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Pe(zt);return e.forEach((o=>{const u=new qe(o,0),f=new qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(d=>{s=s.add(d.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let u=s;At.isDocumentKey(u)||(u=u.child(""));const f=new qe(new At(u),0);let d=new Pe(zt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)}),f),it.resolve(this.ti(d))}ti(t){const e=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Wt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(e.mutations,(o=>{const u=new qe(o.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,e){const s=new qe(e,0),o=this.Zr.firstAfterOrEqual(s);return it.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t){this.ri=t,this.docs=(function(){return new de(At.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return it.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(e))}getEntries(t,e){let s=Rr();return e.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),it.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let u=Rr();const f=e.path,d=new At(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||lO(oO(v),s)<=0||(o.has(v.key)||Uh(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,e,s,o){Rt(9500)}ii(t,e){return it.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new kN(this)}getSize(t){return it.resolve(this.size)}}class kN extends CN{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),it.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t){this.persistence=t,this.si=new Oa((e=>kg(e)),Pg),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new Hg,this.targetCount=0,this.ai=Ho.ur()}forEachTarget(t,e){return this.si.forEach(((s,o)=>e(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.oi&&(this.oi=e),it.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Ho(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Pr(e),it.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,s){let o=0;const u=[];return this.si.forEach(((f,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),it.waitFor(u).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const s=this.si.get(e)||null;return it.resolve(s)}addMatchingKeys(t,e,s){return this._i.Wr(e,s),it.resolve()}removeMatchingKeys(t,e,s){this._i.zr(e,s);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),it.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const s=this._i.Hr(e);return it.resolve(s)}containsKey(t,e){return it.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,e){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new xN,this.referenceDelegate=t(this),this.Pi=new PN(this),this.indexManager=new EN,this.remoteDocumentCache=(function(o){return new VN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new vN(e),this.Ii=new NN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new DN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ui[t.toKey()];return s||(s=new MN(e,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,s){pt("MemoryPersistence","Starting transaction:",t);const o=new LN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,e))))}}class LN extends cO{constructor(t){super(),this.currentSequenceNumber=t}}class qg{constructor(t){this.persistence=t,this.Ri=new Hg,this.Vi=null}static mi(t){return new qg(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.fi.delete(s.toString()),it.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const o=At.fromPath(s);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Nt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((s=>{s?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return it.or([()=>it.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class mh{constructor(t,e){this.persistence=t,this.pi=new Oa((s=>dO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=RN(this,e)}static mi(t,e){return new mh(t,e)}Ei(){}di(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((o=>s+o))))}wr(t){let e=0;return this.pr(t,(s=>{e++})).next((()=>e))}pr(t,e){return it.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?it.resolve():e(o)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,e).next((d=>{d||(s++,u.removeEntry(f,Nt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Yf(t.data.value)),e}br(t,e,s){return it.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.Es=s,this.ds=o}static As(t,e){let s=Ht(),o=Ht();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fg(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DC()?8:fO(dn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,o){const u={result:null};return this.ys(t,e).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,e,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new UN;return this.Ss(t,e,f).next((d=>{if(u.result=d,this.Vs)return this.bs(t,e,f,d.size)}))})).next((()=>u.result))}bs(t,e,s,o){return s.documentReadCount<this.fs?(Ro()<=Bt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Co(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Ro()<=Bt.DEBUG&&pt("QueryEngine","Query:",Co(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ro()<=Bt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Co(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(e))):it.resolve())}ys(t,e){if(jT(e))return it.resolve(null);let s=xi(e);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Km(e,null,"F"),s=xi(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Ht(...u);return this.ps.getDocuments(t,f).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const g=this.Ds(e,d);return this.Cs(e,g,f,m.readTime)?this.ys(t,Km(e,null,"F")):this.vs(t,g,e,m)}))))})))))}ws(t,e,s,o){return jT(e)||o.isEqual(Nt.min())?it.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(e,u);return this.Cs(e,f,s,o)?it.resolve(null):(Ro()<=Bt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(e)),this.vs(t,f,e,aO(o,ku)).next((d=>d)))}))}Ds(t,e){let s=new Pe(oS(t));return e.forEach(((o,u)=>{Uh(t,u)&&(s=s.add(u))})),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,s){return Ro()<=Bt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Co(e)),this.ps.getDocumentsMatchingQuery(t,e,As.min(),s)}vs(t,e,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(e.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="LocalStore",BN=3e8;class zN{constructor(t,e,s,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new de(zt),this.xs=new Oa((u=>kg(u)),Pg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ON(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function HN(i,t,e,s){return new zN(i,t,e,s)}async function DS(i,t){const e=Dt(i);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],d=[];let m=Ht();for(const g of o){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return e.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:d})))}))}))}function qN(i,t){const e=Dt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const T=g.batch,A=T.keys();let N=it.resolve();return A.forEach((U=>{N=N.next((()=>v.getEntry(m,U))).next((z=>{const P=g.docVersions.get(U);Wt(P!==null,48541),z.version.compareTo(P)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(e,s,t,u).next((()=>u.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Ht();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(s,o)))}))}function xS(i){const t=Dt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function FN(i,t){const e=Dt(i),s=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach(((v,T)=>{const A=o.get(T);if(!A)return;d.push(e.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>e.Pi.addMatchingKeys(u,v.addedDocuments,T))));let N=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?N=N.withResumeToken(tn.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,s)),o=o.insert(T,N),(function(z,P,Z){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=BN?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,N,v)&&d.push(e.Pi.updateTargetData(u,N))}));let m=Rr(),g=Ht();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(GN(u,f,t.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!s.isEqual(Nt.min())){const v=e.Pi.getLastRemoteSnapshotVersion(u).next((T=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(v)}return it.waitFor(d).next((()=>f.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(e.Ms=o,u)))}function GN(i,t,e){let s=Ht(),o=Ht();return e.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let f=Rr();return e.forEach(((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Nt.min())?(t.removeEntry(d,m.readTime),f=f.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),f=f.insert(d,m)):pt(Gg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:f,qs:o}}))}function $N(i,t){const e=Dt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=xg),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function KN(i,t){const e=Dt(i);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return e.Pi.getTargetData(s,t).next((u=>u?(o=u,it.resolve(o)):e.Pi.allocateTargetId(s).next((f=>(o=new ps(t,f,"TargetPurposeListen",s.currentSequenceNumber),e.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=e.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(s.targetId,s),e.xs.set(t,s.targetId)),s}))}async function Zm(i,t,e){const s=Dt(i),o=s.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!el(f))throw f;pt(Gg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function ZT(i,t,e){const s=Dt(i);let o=Nt.min(),u=Ht();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(m,g,v){const T=Dt(m),A=T.xs.get(v);return A!==void 0?it.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,v)})(s,f,xi(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,d.targetId).next((m=>{u=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,e?o:Nt.min(),e?u:Ht()))).next((d=>(YN(s,MO(t),d),{documents:d,Qs:u})))))}function YN(i,t,e){let s=i.Os.get(t)||Nt.min();e.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(t,s)}class JT{constructor(){this.activeTargetIds=jO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QN{constructor(){this.Mo=new JT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,s){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new JT,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="ConnectivityMonitor";class e0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(t0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pt(t0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf=null;function Jm(){return zf===null?zf=(function(){return 268435456+Math.round(2147483648*Math.random())})():zf++,"0x"+zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="RestConnection",WN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,e,s,o,u){const f=Jm(),d=this.zo(t,e.toUriEncodedString());pt(Em,`Sending RPC '${t}' ${f}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),v=Wo(g);return this.Jo(t,d,m,s,v).then((T=>(pt(Em,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw Uo(Em,`RPC '${t}' ${f} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(t,e,s,o,u,f){return this.Go(t,e,s,o,u)}jo(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const s=WN[t];return`${this.Uo}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class tD extends ZN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,u){const f=Jm();return new Promise(((d,m)=>{const g=new kA;g.setWithCredentials(!0),g.listenOnce(PA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Kf.NO_ERROR:const T=g.getResponseJson();pt(un,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),d(T);break;case Kf.TIMEOUT:pt(un,`RPC '${t}' ${f} timed out`),m(new yt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case Kf.HTTP_ERROR:const A=g.getStatus();if(pt(un,`RPC '${t}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const z=(function(Z){const X=Z.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(X)>=0?X:ot.UNKNOWN})(U.status);m(new yt(z,U.message))}else m(new yt(ot.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new yt(ot.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pt(un,`RPC '${t}' ${f} completed.`)}}));const v=JSON.stringify(o);pt(un,`RPC '${t}' ${f} sending request:`,o),g.send(e,"POST",v,s,15)}))}T_(t,e,s){const o=Jm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=jA(),d=UA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,s),m.encodeInitMessageHeaders=!0;const v=u.join("");pt(un,`Creating RPC '${t}' stream ${o}: ${v}`,m);const T=f.createWebChannel(v,m);this.I_(T);let A=!1,N=!1;const U=new JN({Yo:P=>{N?pt(un,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(A||(pt(un,`Opening RPC '${t}' stream ${o} transport.`),T.open(),A=!0),pt(un,`RPC '${t}' stream ${o} sending:`,P),T.send(P))},Zo:()=>T.close()}),z=(P,Z,X)=>{P.listen(Z,(Q=>{try{X(Q)}catch(W){setTimeout((()=>{throw W}),0)}}))};return z(T,_u.EventType.OPEN,(()=>{N||(pt(un,`RPC '${t}' stream ${o} transport opened.`),U.o_())})),z(T,_u.EventType.CLOSE,(()=>{N||(N=!0,pt(un,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(T))})),z(T,_u.EventType.ERROR,(P=>{N||(N=!0,Uo(un,`RPC '${t}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),U.a_(new yt(ot.UNAVAILABLE,"The operation could not be completed")))})),z(T,_u.EventType.MESSAGE,(P=>{if(!N){const Z=P.data[0];Wt(!!Z,16349);const X=Z,Q=X?.error||X[0]?.error;if(Q){pt(un,`RPC '${t}' stream ${o} received error:`,Q);const W=Q.status;let st=(function(R){const I=Re[R];if(I!==void 0)return _S(I)})(W),at=Q.message;st===void 0&&(st=ot.INTERNAL,at="Unknown error status: "+W+" with message "+Q.message),N=!0,U.a_(new yt(st,at)),T.close()}else pt(un,`RPC '${t}' stream ${o} received:`,Z),U.u_(Z)}})),z(d,LA.STAT_EVENT,(P=>{P.stat===zm.PROXY?pt(un,`RPC '${t}' stream ${o} detected buffering proxy`):P.stat===zm.NOPROXY&&pt(un,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(i){return new rN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,e,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-s);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="PersistentStream";class VS{constructor(t,e,s,o,u,f,d,m){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ot.RESOURCE_EXHAUSTED?(wr(e.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===e&&this.G_(s,o)}),(s=>{t((()=>{const o=new yt(ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,e){const s=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(n0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(pt(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eD extends VS{constructor(t,e,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,f),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=oN(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Nt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Nt.min():f.readTime?Vi(f.readTime):Nt.min()})(t);return this.listener.H_(e,s)}Y_(t){const e={};e.database=Wm(this.serializer),e.addTarget=(function(u,f){let d;const m=f.target;if(d=$m(m)?{documents:cN(u,m)}:{query:fN(u,m).ft},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=AS(u,f.resumeToken);const g=Ym(u,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(Nt.min())>0){d.readTime=ph(u,f.snapshotVersion.toTimestamp());const g=Ym(u,f.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=dN(this.serializer,t);s&&(e.labels=s),this.q_(e)}Z_(t){const e={};e.database=Wm(this.serializer),e.removeTarget=t,this.q_(e)}}class nD extends VS{constructor(t,e,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=uN(t.writeResults,t.commitTime),s=Vi(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=Wm(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>lN(this.serializer,s)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{}class rD extends iD{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Qm(e,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(ot.UNKNOWN,u.toString())}))}Ho(t,e,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Ho(t,Qm(e,s),o,f,d,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(ot.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wr(e),this.aa=!1):pt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class aD{constructor(t,e,s,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Na(this)&&(pt(wa,"Restarting streams for network reachability change."),await(async function(m){const g=Dt(m);g.Ea.add(4),await ec(g),g.Ra.set("Unknown"),g.Ea.delete(4),await qh(g)})(this))}))})),this.Ra=new sD(s,o)}}async function qh(i){if(Na(i))for(const t of i.da)await t(!0)}async function ec(i){for(const t of i.da)await t(!1)}function kS(i,t){const e=Dt(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Qg(e)?Yg(e):nl(e).O_()&&Kg(e,t))}function $g(i,t){const e=Dt(i),s=nl(e);e.Ia.delete(t),s.O_()&&PS(e,t),e.Ia.size===0&&(s.O_()?s.L_():Na(e)&&e.Ra.set("Unknown"))}function Kg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}nl(i).Y_(t)}function PS(i,t){i.Va.Ue(t),nl(i).Z_(t)}function Yg(i){i.Va=new tN({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),nl(i).start(),i.Ra.ua()}function Qg(i){return Na(i)&&!nl(i).x_()&&i.Ia.size>0}function Na(i){return Dt(i).Ea.size===0}function LS(i){i.Va=void 0}async function oD(i){i.Ra.set("Online")}async function lD(i){i.Ia.forEach(((t,e)=>{Kg(i,t)}))}async function uD(i,t){LS(i),Qg(i)?(i.Ra.ha(t),Yg(i)):i.Ra.set("Unknown")}async function cD(i,t,e){if(i.Ra.set("Online"),t instanceof TS&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o.Ia.delete(d),o.Va.removeTarget(d))})(i,t)}catch(s){pt(wa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await gh(i,s)}else if(t instanceof Wf?i.Va.Ze(t):t instanceof ES?i.Va.st(t):i.Va.tt(t),!e.isEqual(Nt.min()))try{const s=await xS(i.localStore);e.compareTo(s)>=0&&await(function(u,f){const d=u.Va.Tt(f);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(m.resumeToken,f))}})),d.targetMismatches.forEach(((m,g)=>{const v=u.Ia.get(m);if(!v)return;u.Ia.set(m,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),PS(u,m);const T=new ps(v.target,m,g,v.sequenceNumber);Kg(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(i,e)}catch(s){pt(wa,"Failed to raise snapshot:",s),await gh(i,s)}}async function gh(i,t,e){if(!el(t))throw t;i.Ea.add(1),await ec(i),i.Ra.set("Offline"),e||(e=()=>xS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{pt(wa,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await qh(i)}))}function US(i,t){return t().catch((e=>gh(i,e,t)))}async function Fh(i){const t=Dt(i),e=Rs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xg;for(;fD(t);)try{const o=await $N(t.localStore,s);if(o===null){t.Ta.length===0&&e.L_();break}s=o.batchId,hD(t,o)}catch(o){await gh(t,o)}jS(t)&&BS(t)}function fD(i){return Na(i)&&i.Ta.length<10}function hD(i,t){i.Ta.push(t);const e=Rs(i);e.O_()&&e.X_&&e.ea(t.mutations)}function jS(i){return Na(i)&&!Rs(i).x_()&&i.Ta.length>0}function BS(i){Rs(i).start()}async function dD(i){Rs(i).ra()}async function pD(i){const t=Rs(i);for(const e of i.Ta)t.ea(e.mutations)}async function mD(i,t,e){const s=i.Ta.shift(),o=jg.from(s,t,e);await US(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Fh(i)}async function gD(i,t){t&&Rs(i).X_&&await(async function(s,o){if((function(f){return WO(f)&&f!==ot.ABORTED})(o.code)){const u=s.Ta.shift();Rs(s).B_(),await US(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Fh(s)}})(i,t),jS(i)&&BS(i)}async function i0(i,t){const e=Dt(i);e.asyncQueue.verifyOperationInProgress(),pt(wa,"RemoteStore received new credentials");const s=Na(e);e.Ea.add(3),await ec(e),s&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await qh(e)}async function yD(i,t){const e=Dt(i);t?(e.Ea.delete(2),await qh(e)):t||(e.Ea.add(2),await ec(e),e.Ra.set("Unknown"))}function nl(i){return i.ma||(i.ma=(function(e,s,o){const u=Dt(e);return u.sa(),new eD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:oD.bind(null,i),t_:lD.bind(null,i),r_:uD.bind(null,i),H_:cD.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Qg(i)?Yg(i):i.Ra.set("Unknown")):(await i.ma.stop(),LS(i))}))),i.ma}function Rs(i){return i.fa||(i.fa=(function(e,s,o){const u=Dt(e);return u.sa(),new nD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:dD.bind(null,i),r_:gD.bind(null,i),ta:pD.bind(null,i),na:mD.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Fh(i)):(await i.fa.stop(),i.Ta.length>0&&(pt(wa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(t,e,s,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,u){const f=Date.now()+s,d=new Xg(t,e,f,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(i,t){if(wr("AsyncQueue",`${t}: ${i}`),el(i))return new yt(ot.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{static emptySet(t){return new Do(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||At.comparator(e.key,s.key):(e,s)=>At.comparator(e.key,s.key),this.keyedMap=Eu(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Do)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Do;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.ga=new de(At.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class qo{constructor(t,e,s,o,u,f,d,m,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,u){const f=[];return e.forEach((d=>{f.push({type:0,doc:d})})),new qo(t,e,Do.emptySet(e),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class _D{constructor(){this.queries=s0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=Dt(e),u=o.queries;o.queries=s0(),u.forEach(((f,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new yt(ot.ABORTED,"Firestore shutting down"))}}function s0(){return new Oa((i=>aS(i)),Lh)}async function zS(i,t){const e=Dt(i);let s=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new vD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(f){const d=Wg(f,`Initialization of query '${Co(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Zg(e)}async function HS(i,t){const e=Dt(i),s=t.query;let o=3;const u=e.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function ED(i,t){const e=Dt(i);let s=!1;for(const o of t){const u=o.query,f=e.queries.get(u);if(f){for(const d of f.Sa)d.Fa(o)&&(s=!0);f.wa=o}}s&&Zg(e)}function TD(i,t,e){const s=Dt(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);s.queries.delete(t)}function Zg(i){i.Ca.forEach((t=>{t.next()}))}var tg,a0;(a0=tg||(tg={})).Ma="default",a0.Cache="cache";class qS{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new qo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=qo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t){this.key=t}}class GS{constructor(t){this.key=t}}class AD{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=oS(t),this.tu=new Do(this.eu)}get nu(){return this.Ya}ru(t,e){const s=e?e.iu:new r0,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,f=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const A=o.get(v),N=Uh(this.query,T)?T:null,U=!!A&&this.mutatedKeys.has(A.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let P=!1;A&&N?A.data.isEqual(N.data)?U!==z&&(s.track({type:3,doc:N}),P=!0):this.su(A,N)||(s.track({type:2,doc:N}),P=!0,(m&&this.eu(N,m)>0||g&&this.eu(N,g)<0)&&(d=!0)):!A&&N?(s.track({type:0,doc:N}),P=!0):A&&!N&&(s.track({type:1,doc:A}),P=!0,(m||g)&&(d=!0)),P&&(N?(f=f.add(N),u=z?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:f,iu:s,Cs:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((v,T)=>(function(N,U){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:P})}};return z(N)-z(U)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const d=e&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,f.length!==0||g?{snapshot:new qo(this.query,t.tu,u,f,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ht(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const e=[];return t.forEach((s=>{this.Xa.has(s)||e.push(new GS(s))})),this.Xa.forEach((s=>{t.has(s)||e.push(new FS(s))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ht();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jg="SyncEngine";class SD{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class bD{constructor(t){this.key=t,this.hu=!1}}class wD{constructor(t,e,s,o,u,f){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Oa((d=>aS(d)),Lh),this.Iu=new Map,this.Eu=new Set,this.du=new de(At.comparator),this.Au=new Map,this.Ru=new Hg,this.Vu={},this.mu=new Map,this.fu=Ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RD(i,t,e=!0){const s=WS(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $S(s,t,e,!0),o}async function CD(i,t){const e=WS(i);await $S(e,t,!0,!1)}async function $S(i,t,e,s){const o=await KN(i.localStore,xi(t)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await ID(i,t,u,f==="current",o.resumeToken)),i.isPrimaryClient&&e&&kS(i.remoteStore,o),d}async function ID(i,t,e,s,o){i.pu=(T,A,N)=>(async function(z,P,Z,X){let Q=P.view.ru(Z);Q.Cs&&(Q=await ZT(z.localStore,P.query,!1).then((({documents:D})=>P.view.ru(D,Q))));const W=X&&X.targetChanges.get(P.targetId),st=X&&X.targetMismatches.get(P.targetId)!=null,at=P.view.applyChanges(Q,z.isPrimaryClient,W,st);return l0(z,P.targetId,at.au),at.snapshot})(i,T,A,N);const u=await ZT(i.localStore,t,!0),f=new AD(t,u.Qs),d=f.ru(u.documents),m=tc.createSynthesizedTargetChangeForCurrentChange(e,s&&i.onlineState!=="Offline",o),g=f.applyChanges(d,i.isPrimaryClient,m);l0(i,e,g.au);const v=new SD(t,e,f);return i.Tu.set(t,v),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),g.snapshot}async function OD(i,t,e){const s=Dt(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Lh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),e&&$g(s.remoteStore,o.targetId),eg(s,o.targetId)})).catch(tl)):(eg(s,o.targetId),await Zm(s.localStore,o.targetId,!0))}async function ND(i,t){const e=Dt(i),s=e.Tu.get(t),o=e.Iu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),$g(e.remoteStore,s.targetId))}async function DD(i,t,e){const s=UD(i);try{const o=await(function(f,d){const m=Dt(f),g=oe.now(),v=d.reduce(((N,U)=>N.add(U.key)),Ht());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let U=Rr(),z=Ht();return m.Ns.getEntries(N,v).next((P=>{U=P,U.forEach(((Z,X)=>{X.isValidDocument()||(z=z.add(Z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(N,U))).next((P=>{T=P;const Z=[];for(const X of d){const Q=$O(X,T.get(X.key).overlayedDocument);Q!=null&&Z.push(new xs(X.key,Q,JA(Q.value.mapValue),Mi.exists(!0)))}return m.mutationQueue.addMutationBatch(N,g,Z,d)})).next((P=>{A=P;const Z=P.applyToLocalDocumentSet(T,z);return m.documentOverlayCache.saveOverlays(N,P.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:uS(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,d,m){let g=f.Vu[f.currentUser.toKey()];g||(g=new de(zt)),g=g.insert(d,m),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,e),await nc(s,o.changes),await Fh(s.remoteStore)}catch(o){const u=Wg(o,"Failed to persist write");e.reject(u)}}async function KS(i,t){const e=Dt(i);try{const s=await FN(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=e.Au.get(u);f&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Wt(f.hu,14607):o.removedDocuments.size>0&&(Wt(f.hu,42227),f.hu=!1))})),await nc(e,s,t)}catch(s){await tl(s)}}function o0(i,t,e){const s=Dt(i);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.Tu.forEach(((u,f)=>{const d=f.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(f,d){const m=Dt(f);m.onlineState=d;let g=!1;m.queries.forEach(((v,T)=>{for(const A of T.Sa)A.va(d)&&(g=!0)})),g&&Zg(m)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function xD(i,t,e){const s=Dt(i);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new de(At.comparator);f=f.insert(u,fn.newNoDocument(u,Nt.min()));const d=Ht().add(u),m=new zh(Nt.min(),new Map,new de(zt),f,d);await KS(s,m),s.du=s.du.remove(u),s.Au.delete(t),ty(s)}else await Zm(s.localStore,t,!1).then((()=>eg(s,t,e))).catch(tl)}async function MD(i,t){const e=Dt(i),s=t.batch.batchId;try{const o=await qN(e.localStore,t);QS(e,s,null),YS(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await nc(e,o)}catch(o){await tl(o)}}async function VD(i,t,e){const s=Dt(i);try{const o=await(function(f,d){const m=Dt(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((T=>(Wt(T!==null,37113),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);QS(s,t,e),YS(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await nc(s,o)}catch(o){await tl(o)}}function YS(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function QS(i,t,e){const s=Dt(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function eg(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),e&&i.Pu.yu(s,e);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||XS(i,s)}))}function XS(i,t){i.Eu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&($g(i.remoteStore,e),i.du=i.du.remove(t),i.Au.delete(e),ty(i))}function l0(i,t,e){for(const s of e)s instanceof FS?(i.Ru.addReference(s.key,t),kD(i,s)):s instanceof GS?(pt(Jg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||XS(i,s.key)):Rt(19791,{wu:s})}function kD(i,t){const e=t.key,s=e.path.canonicalString();i.du.get(e)||i.Eu.has(s)||(pt(Jg,"New document in limbo: "+e),i.Eu.add(s),ty(i))}function ty(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new At(le.fromString(t)),s=i.fu.next();i.Au.set(s,new bD(e)),i.du=i.du.insert(e,s),kS(i.remoteStore,new ps(xi(Lg(e.path)),s,"TargetPurposeLimboResolution",Mh.ce))}}async function nc(i,t,e){const s=Dt(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{f.push(s.pu(m,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Fg.As(m.targetId,g);u.push(v)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(m,g){const v=Dt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>it.forEach(g,(A=>it.forEach(A.Es,(N=>v.persistence.referenceDelegate.addReference(T,A.targetId,N))).next((()=>it.forEach(A.ds,(N=>v.persistence.referenceDelegate.removeReference(T,A.targetId,N)))))))))}catch(T){if(!el(T))throw T;pt(Gg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const N=v.Ms.get(A),U=N.snapshotVersion,z=N.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(A,z)}}})(s.localStore,u))}async function PD(i,t){const e=Dt(i);if(!e.currentUser.isEqual(t)){pt(Jg,"User change. New user:",t.toKey());const s=await DS(e.localStore,t);e.currentUser=t,(function(u,f){u.mu.forEach((d=>{d.forEach((m=>{m.reject(new yt(ot.CANCELLED,f))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await nc(e,s.Ls)}}function LD(i,t){const e=Dt(i),s=e.Au.get(t);if(s&&s.hu)return Ht().add(s.key);{let o=Ht();const u=e.Iu.get(t);if(!u)return o;for(const f of u){const d=e.Tu.get(f);o=o.unionWith(d.view.nu)}return o}}function WS(i){const t=Dt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xD.bind(null,t),t.Pu.H_=ED.bind(null,t.eventManager),t.Pu.yu=TD.bind(null,t.eventManager),t}function UD(i){const t=Dt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VD.bind(null,t),t}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return HN(this.persistence,new jN,t.initialUser,this.serializer)}Cu(t){return new NS(qg.mi,this.serializer)}Du(t){return new QN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class jD extends yh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Wt(this.persistence.referenceDelegate instanceof mh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new bN(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new NS((s=>mh.mi(s,e)),this.serializer)}}class ng{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>o0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PD.bind(null,this.syncEngine),await yD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new _D})()}createDatastore(t){const e=Hh(t.databaseInfo.databaseId),s=(function(u){return new tD(u)})(t.databaseInfo);return(function(u,f,d,m){return new rD(u,f,d,m)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,o,u,f,d){return new aD(s,o,u,f,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>o0(this.syncEngine,e,0)),(function(){return e0.v()?new e0:new XN})())}createSyncEngine(t,e){return(function(o,u,f,d,m,g,v){const T=new wD(o,u,f,d,m,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=Dt(e);pt(wa,"RemoteStore shutting down."),s.Ea.add(5),await ec(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):wr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="FirestoreClient";class BD{constructor(t,e,s,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{pt(Cs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(pt(Cs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=Wg(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Am(i,t){i.asyncQueue.verifyOperationInProgress(),pt(Cs,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await DS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function u0(i,t){i.asyncQueue.verifyOperationInProgress();const e=await zD(i);pt(Cs,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((s=>i0(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>i0(t.remoteStore,o))),i._onlineComponents=t}async function zD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pt(Cs,"Using user provided OfflineComponentProvider");try{await Am(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Uo("Error using user provided cache. Falling back to memory cache: "+e),await Am(i,new yh)}}else pt(Cs,"Using default OfflineComponentProvider"),await Am(i,new jD(void 0));return i._offlineComponents}async function JS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pt(Cs,"Using user provided OnlineComponentProvider"),await u0(i,i._uninitializedComponentsProvider._online)):(pt(Cs,"Using default OnlineComponentProvider"),await u0(i,new ng))),i._onlineComponents}function HD(i){return JS(i).then((t=>t.syncEngine))}async function ig(i){const t=await JS(i),e=t.eventManager;return e.onListen=RD.bind(null,t.syncEngine),e.onUnlisten=OD.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=CD.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=ND.bind(null,t.syncEngine),e}function qD(i,t,e={}){const s=new _s;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,d,m,g){const v=new ZS({next:A=>{v.Nu(),f.enqueueAndForget((()=>HS(u,T))),A.fromCache&&m.source==="server"?g.reject(new yt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new qS(d,v,{includeMetadataChanges:!0,qa:!0});return zS(u,T)})(await ig(i),i.asyncQueue,t,e,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="firestore.googleapis.com",f0=!0;class h0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eb,this.ssl=f0}else this.host=t.host,this.ssl=t.ssl??f0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AN)throw new yt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gh{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QI;switch(s.type){case"firstParty":return new JI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=c0.get(e);s&&(pt("ComponentProvider","Removing Datastore"),c0.delete(e),s.terminate())})(this),Promise.resolve()}}function FD(i,t,e,s={}){i=Ar(i,Gh);const o=Wo(t),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},d=`${t}:${e}`;o&&(RA(`https://${d}`),CA("Firestore",!0)),u.host!==eb&&u.host!==d&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:s};if(!Aa(m,f)&&(i._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=cn.MOCK_USER;else{g=AC(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new yt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(T)}i._authCredentials=new XI(new zA(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ic(this.firestore,t,this._query)}}class ke{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(Zu(e,ke._jsonSchema))return new ke(t,s||null,new At(le.fromString(e.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Ce("string",ke._jsonSchemaVersion),referencePath:Ce("string")};class Es extends ic{constructor(t,e,s){super(t,e,Lg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new At(t))}withConverter(t){return new Es(this.firestore,t,this._path)}}function Fo(i,t,...e){if(i=Fe(i),HA("collection","path",t),i instanceof Gh){const s=le.fromString(t,...e);return RT(s),new Es(i,null,s)}{if(!(i instanceof ke||i instanceof Es))throw new yt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(le.fromString(t,...e));return RT(s),new Es(i.firestore,null,s)}}function vh(i,t,...e){if(i=Fe(i),arguments.length===1&&(t=Ng.newId()),HA("doc","path",t),i instanceof Gh){const s=le.fromString(t,...e);return wT(s),new ke(i,null,new At(s))}{if(!(i instanceof ke||i instanceof Es))throw new yt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(le.fromString(t,...e));return wT(s),new ke(i.firestore,i instanceof Es?i.converter:null,new At(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="AsyncQueue";class p0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MS(this,"async_queue_retry"),this._c=()=>{const s=Tm();s&&pt(d0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=Tm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Tm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new _s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!el(t))throw t;pt(d0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,wr("INTERNAL UNHANDLED ERROR: ",m0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Xg.createAndSchedule(this,t,e,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Rt(47125,{Pc:m0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function m0(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(i){return(function(e,s){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Go extends Gh{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new p0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new p0(t),this._firestoreClient=void 0,await t}}}function GD(i,t){const e=typeof i=="object"?i:DA(),s=typeof i=="string"?i:lh,o=Ig(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=EC("firestore");u&&FD(o,...u)}return o}function ey(i){if(i._terminated)throw new yt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$D(i),i._firestoreClient}function $D(i){const t=i._freezeSettings(),e=(function(o,u,f,d){return new gO(o,u,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new BD(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(tn.fromBase64String(t))}catch(e){throw new yt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Zn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zu(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Ce("string",Zn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Zu(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Ce("string",ki._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zu(t,Pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Pi(t.vectorValues);throw new yt(ot.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Ce("string",Pi._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=/^__.*__$/;class YD{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new xs(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ju(t,this.data,e,this.fieldTransforms)}}class nb{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new xs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ib(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:i})}}class iy{constructor(t,e,s,o,u,f){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new iy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.gc(t),s}yc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return _h(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ib(this.Ac)&&KD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class QD{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Hh(t)}Cc(t,e,s,o=!1){return new iy({Ac:t,methodName:e,Dc:s,path:Je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rb(i){const t=i._freezeSettings(),e=Hh(i._databaseId);return new QD(i._databaseId,!!t.ignoreUndefinedProperties,e)}function XD(i,t,e,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,t,e,o);ry("Data must be an object, but it was:",f,s);const d=sb(s,f);let m,g;if(u.merge)m=new Pn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const A=rg(t,T,e);if(!f.contains(A))throw new yt(ot.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);ob(v,A)||v.push(A)}m=new Pn(v),g=f.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=f.fieldTransforms;return new YD(new Sn(d),m,g)}class Kh extends ny{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kh}}function WD(i,t,e,s){const o=i.Cc(1,t,e);ry("Data must be an object, but it was:",o,s);const u=[],f=Sn.empty();Ds(s,((m,g)=>{const v=sy(t,m,e);g=Fe(g);const T=o.yc(v);if(g instanceof Kh)u.push(v);else{const A=Yh(g,T);A!=null&&(u.push(v),f.set(v,A))}}));const d=new Pn(u);return new nb(f,d,o.fieldTransforms)}function ZD(i,t,e,s,o,u){const f=i.Cc(1,t,e),d=[rg(t,s,e)],m=[o];if(u.length%2!=0)throw new yt(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)d.push(rg(t,u[A])),m.push(u[A+1]);const g=[],v=Sn.empty();for(let A=d.length-1;A>=0;--A)if(!ob(g,d[A])){const N=d[A];let U=m[A];U=Fe(U);const z=f.yc(N);if(U instanceof Kh)g.push(N);else{const P=Yh(U,z);P!=null&&(g.push(N),v.set(N,P))}}const T=new Pn(g);return new nb(v,T,f.fieldTransforms)}function Yh(i,t){if(ab(i=Fe(i)))return ry("Unsupported field value:",t,i),sb(i,t);if(i instanceof ny)return(function(s,o){if(!ib(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const d of s){let m=Yh(d,o.wc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Fe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return BO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=oe.fromDate(s);return{timestampValue:ph(o.serializer,u)}}if(s instanceof oe){const u=new oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ph(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zn)return{bytesValue:AS(o.serializer,s._byteString)};if(s instanceof ke){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Pi)return(function(f,d){return{mapValue:{fields:{[WA]:{stringValue:ZA},[uh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ug(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Dg(s)}`)})(i,t)}function sb(i,t){const e={};return GA(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ds(i,((s,o)=>{const u=Yh(o,t.mc(s));u!=null&&(e[s]=u)})),{mapValue:{fields:e}}}function ab(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof oe||i instanceof ki||i instanceof Zn||i instanceof ke||i instanceof ny||i instanceof Pi)}function ry(i,t,e){if(!ab(e)||!qA(e)){const s=Dg(e);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function rg(i,t,e){if((t=Fe(t))instanceof $h)return t._internalPath;if(typeof t=="string")return sy(i,t);throw _h("Field path arguments must be of type string or ",i,!1,void 0,e)}const JD=new RegExp("[~\\*/\\[\\]]");function sy(i,t,e){if(t.search(JD)>=0)throw _h(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new $h(...t.split("."))._internalPath}catch{throw _h(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function _h(i,t,e,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new yt(ot.INVALID_ARGUMENT,d+i+m)}function ob(i,t){return i.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,e,s,o,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ub("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class tx extends lb{data(){return super.data()}}function ub(i,t){return typeof t=="string"?sy(i,t):t instanceof $h?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new yt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ex{convertValue(t,e="none"){switch(ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(bs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Ds(t,((o,u)=>{s[o]=this.convertValue(u,e)})),s}convertVectorValue(t){const e=t.fields?.[uh].arrayValue?.values?.map((s=>Ee(s.doubleValue)));return new Pi(e)}convertGeoPoint(t){return new ki(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=kh(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Pu(t));default:return null}}convertTimestamp(t){const e=Ss(t);return new oe(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=le.fromString(t);Wt(IS(s),9688,{name:t});const o=new Lu(s.get(1),s.get(3)),u=new At(s.popFirst(5));return o.isEqual(e)||wr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(i,t,e){let s;return s=i?i.toFirestore(t):t,s}class Au{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _a extends lb{constructor(t,e,s,o,u,f){super(t,e,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(ub("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ot.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=_a._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Ce("string",_a._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Zf extends _a{data(t={}){return super.data(t)}}class Ea{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Au(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new Zf(this._firestore,this._userDataWriter,s.key,s,new Au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((d=>{const m=new Zf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Au(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const m=new Zf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Au(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),v=f.indexOf(d.doc.key)),{type:ix(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ot.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ea._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ix(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:i})}}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:Ce("string",Ea._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class ay extends ex{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,e)}}function sg(i){i=Ar(i,ic);const t=Ar(i.firestore,Go),e=ey(t),s=new ay(t);return cb(i._query),qD(e,i._query).then((o=>new Ea(t,s,i,o)))}function Qh(i,t,e,...s){i=Ar(i,ke);const o=Ar(i.firestore,Go),u=rb(o);let f;return f=typeof(t=Fe(t))=="string"||t instanceof $h?ZD(u,"updateDoc",i._key,t,e,s):WD(u,"updateDoc",i._key,t),hb(o,[f.toMutation(i._key,Mi.exists(!0))])}function fb(i,t){const e=Ar(i.firestore,Go),s=vh(i),o=nx(i.converter,t);return hb(e,[XD(rb(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Mi.exists(!1))]).then((()=>s))}function rx(i,...t){i=Fe(i);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||g0(t[s])||(e=t[s++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(g0(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let u,f,d;if(i instanceof ke)f=Ar(i.firestore,Go),d=Lg(i._key.path),u={next:m=>{t[s]&&t[s](sx(f,i,m))},error:t[s+1],complete:t[s+2]};else{const m=Ar(i,ic);f=Ar(m.firestore,Go),d=m._query;const g=new ay(f);u={next:v=>{t[s]&&t[s](new Ea(f,g,m,v))},error:t[s+1],complete:t[s+2]},cb(i._query)}return(function(g,v,T,A){const N=new ZS(A),U=new qS(v,N,T);return g.asyncQueue.enqueueAndForget((async()=>zS(await ig(g),U))),()=>{N.Nu(),g.asyncQueue.enqueueAndForget((async()=>HS(await ig(g),U)))}})(ey(f),d,o,u)}function hb(i,t){return(function(s,o){const u=new _s;return s.asyncQueue.enqueueAndForget((async()=>DD(await HD(s),o,u))),u.promise})(ey(i),t)}function sx(i,t,e){const s=e.docs.get(t._key),o=new ay(i);return new _a(i,o,t._key,s,new Au(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Jo=o})(Zo),Lo(new Sa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),d=new Go(new WI(s.getProvider("auth-internal")),new tO(f,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new yt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(g.options.projectId,v)})(f,o),f);return u={useFetchStreams:e,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),ys(TT,AT,t),ys(TT,AT,"esm2020")})();function db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ax=db,pb=new Xu("auth","Firebase",db());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Rg("@firebase/auth");function ox(i,...t){Eh.logLevel<=Bt.WARN&&Eh.warn(`Auth (${Zo}): ${i}`,...t)}function Jf(i,...t){Eh.logLevel<=Bt.ERROR&&Eh.error(`Auth (${Zo}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(i,...t){throw oy(i,...t)}function Li(i,...t){return oy(i,...t)}function mb(i,t,e){const s={...ax(),[t]:e};return new Xu("auth","Firebase",s).create(t,{appName:i.name})}function Ts(i){return mb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oy(i,...t){if(typeof i!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(e,...s)}return pb.create(i,...t)}function wt(i,t,...e){if(!i)throw oy(t,...e)}function _r(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Jf(t),new Error(t)}function Cr(i,t){i||_r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(){return typeof self<"u"&&self.location?.href||""}function lx(){return y0()==="http:"||y0()==="https:"}function y0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lx()||IC()||"connection"in navigator)?navigator.onLine:!0}function cx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Cr(e>t,"Short delay should be less than long delay!"),this.isMobile=wC()||OC()}get(){return ux()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(i,t){Cr(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dx=new rc(3e4,6e4);function Da(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function Ms(i,t,e,s,o={}){return yb(i,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const d=Wu({key:i.config.apiKey,...f}).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:m,...u};return CC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Wo(i.emulatorConfig.host)&&(g.credentials="include"),gb.fetch()(await vb(i,i.config.apiHost,e,d),g)})}async function yb(i,t,e){i._canInitEmulator=!1;const s={...fx,...t};try{const o=new mx(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Hf(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hf(i,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Hf(i,"email-already-in-use",f);if(m==="USER_DISABLED")throw Hf(i,"user-disabled",f);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw mb(i,v,g);pi(i,v)}}catch(o){if(o instanceof Dr)throw o;pi(i,"network-request-failed",{message:String(o)})}}async function Xh(i,t,e,s,o={}){const u=await Ms(i,t,e,s,o);return"mfaPendingCredential"in u&&pi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function vb(i,t,e,s){const o=`${t}${e}?${s}`,u=i,f=u.config.emulator?ly(i.config,o):`${i.config.apiScheme}://${o}`;return hx.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function px(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Li(this.auth,"network-request-failed")),dx.get())})}}function Hf(i,t,e){const s={appName:i.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=Li(i,t,s);return o.customData._tokenResponse=e,o}function v0(i){return i!==void 0&&i.enterprise!==void 0}class gx{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return px(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yx(i,t){return Ms(i,"GET","/v2/recaptchaConfig",Da(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(i,t){return Ms(i,"POST","/v1/accounts:delete",t)}async function Th(i,t){return Ms(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _x(i,t=!1){const e=Fe(i),s=await e.getIdToken(t),o=uy(s);wt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ou(Sm(o.auth_time)),issuedAtTime:Ou(Sm(o.iat)),expirationTime:Ou(Sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Sm(i){return Number(i)*1e3}function uy(i){const[t,e,s]=i.split(".");if(t===void 0||e===void 0||s===void 0)return Jf("JWT malformed, contained fewer than 3 sections"),null;try{const o=AA(e);return o?JSON.parse(o):(Jf("Failed to decode base64 JWT payload"),null)}catch(o){return Jf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function _0(i){const t=uy(i);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(i,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Dr&&Ex(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Ex({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(i){const t=i.auth,e=await i.getIdToken(),s=await zu(i,Th(t,{idToken:e}));wt(s?.users.length,t,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?_b(o.providerUserInfo):[],f=Sx(i.providerData,u),d=i.isAnonymous,m=!(i.email&&o.passwordHash)&&!f?.length,g=d?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new og(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function Ax(i){const t=Fe(i);await Ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Sx(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function _b(i){return i.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(i,t){const e=await yb(i,{},async()=>{const s=Wu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await vb(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return i.emulatorConfig&&Wo(i.emulatorConfig.host)&&(m.credentials="include"),gb.fetch()(f,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function wx(i,t){return Ms(i,"POST","/v2/accounts:revokeToken",Da(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=_0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:u}=await bx(t,e);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:u}=e,f=new xo;return s&&(wt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(wt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(wt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(i,t){wt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:e,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Tx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new og(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await zu(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return _x(this,t)}reload(){return Ax(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Ts(this.auth));const t=await this.getIdToken();return await zu(this,vx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,f=e.photoURL??void 0,d=e.tenantId??void 0,m=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:N,providerData:U,stsTokenManager:z}=e;wt(T&&z,t,"internal-error");const P=xo.fromJSON(this.name,z);wt(typeof T=="string",t,"internal-error"),ls(s,t.name),ls(o,t.name),wt(typeof A=="boolean",t,"internal-error"),wt(typeof N=="boolean",t,"internal-error"),ls(u,t.name),ls(f,t.name),ls(d,t.name),ls(m,t.name),ls(g,t.name),ls(v,t.name);const Z=new hi({uid:T,auth:t,email:o,emailVerified:A,displayName:s,isAnonymous:N,photoURL:f,phoneNumber:u,tenantId:d,stsTokenManager:P,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(Z.providerData=U.map(X=>({...X}))),m&&(Z._redirectEventId=m),Z}static async _fromIdTokenResponse(t,e,s=!1){const o=new xo;o.updateFromServerResponse(e);const u=new hi({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];wt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?_b(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,d=new xo;d.updateFromIdToken(s);const m=new hi({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new og(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function Er(i){Cr(i instanceof Function,"Expected a class definition");let t=E0.get(i);return t?(Cr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,E0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Eb.type="NONE";const T0=Eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(i,t,e){return`firebase:${i}:${t}:${e}`}class Mo{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,u),this.fullPersistenceKey=th("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Th(this.auth,{idToken:t}).catch(()=>{});return e?hi._fromGetAccountInfoResponse(this.auth,e,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Mo(Er(T0),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Er(T0);const f=th(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const v=await g._get(f);if(v){let T;if(typeof v=="string"){const A=await Th(t,{idToken:v}).catch(()=>{});if(!A)break;T=await hi._fromGetAccountInfoResponse(t,A,v)}else T=hi._fromJSON(t,v);g!==u&&(d=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Mo(u,t,s):(u=m[0],d&&await u._set(f,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Mo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Rb(t))return"Blackberry";if(Cb(t))return"Webos";if(Ab(t))return"Safari";if((t.includes("chrome/")||Sb(t))&&!t.includes("edge/"))return"Chrome";if(wb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(e);if(s?.length===2)return s[1]}return"Other"}function Tb(i=dn()){return/firefox\//i.test(i)}function Ab(i=dn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Sb(i=dn()){return/crios\//i.test(i)}function bb(i=dn()){return/iemobile/i.test(i)}function wb(i=dn()){return/android/i.test(i)}function Rb(i=dn()){return/blackberry/i.test(i)}function Cb(i=dn()){return/webos/i.test(i)}function cy(i=dn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Rx(i=dn()){return cy(i)&&!!window.navigator?.standalone}function Cx(){return NC()&&document.documentMode===10}function Ib(i=dn()){return cy(i)||wb(i)||Cb(i)||Rb(i)||/windows phone/i.test(i)||bb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(i,t=[]){let e;switch(i){case"Browser":e=A0(dn());break;case"Worker":e=`${A0(dn())}-${i}`;break;default:e=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Zo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((f,d)=>{try{const m=t(u);f(m)}catch(m){d(m)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(i,t={}){return Ms(i,"GET","/v2/passwordPolicy",Da(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=6;class Dx{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??Nx,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new Ix(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Er(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Th(this,{idToken:t}),s=await hi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(fi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===f)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ah(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=cx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fi(this.app))return Promise.reject(Ts(this));const e=t?Fe(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fi(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ox(this),e=new Dx(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await wx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Er(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Er(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,s,o);return()=>{f=!0,m()}}else{const m=t.addObserver(e);return()=>{f=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ox(`Error while retrieving App Check token: ${t.error}`),t?.token}}function il(i){return Fe(i)}class S0{constructor(t){this.auth=t,this.observer=null,this.addObserver=UC(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mx(i){Wh=i}function Nb(i){return Wh.loadJS(i)}function Vx(){return Wh.recaptchaEnterpriseScript}function kx(){return Wh.gapiScript}function Px(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Lx{constructor(){this.enterprise=new Ux}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Ux{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const jx="recaptcha-enterprise",Db="NO_RECAPTCHA";class Bx{constructor(t){this.type=jx,this.auth=il(t)}async verify(t="verify",e=!1){async function s(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{yx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new gx(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,f,d){const m=window.grecaptcha;v0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(Db)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Lx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(d=>{if(!e&&v0(window.grecaptcha))o(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Vx();m.length!==0&&(m+=d),Nb(m).then(()=>{o(d,u,f)}).catch(g=>{f(g)})}}).catch(d=>{f(d)})})}}async function b0(i,t,e,s=!1,o=!1){const u=new Bx(i);let f;if(o)f=Db;else try{f=await u.verify(e)}catch{f=await u.verify(e,!0)}const d={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function w0(i,t,e,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await b0(i,t,e,e==="getOobCode");return s(i,u)}else return s(i,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await b0(i,t,e,e==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(i,t){const e=Ig(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Aa(u,t??{}))return o;pi(o,"already-initialized")}return e.initialize({options:t})}function Hx(i,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(Er);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function qx(i,t,e){const s=il(i);wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=xb(t),{host:f,port:d}=Fx(t),m=d===null?"":`:${d}`,g={url:`${u}//${f}${m}/`},v=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(Aa(g,s.config.emulator)&&Aa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Wo(f)?(RA(`${u}//${f}${m}`),CA("Auth",!0)):Gx()}function xb(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function Fx(i){const t=xb(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:R0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:R0(f)}}}function R0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function Gx(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return _r("not implemented")}_getIdTokenResponse(t){return _r("not implemented")}_linkToIdToken(t,e){return _r("not implemented")}_getReauthenticationResolver(t){return _r("not implemented")}}async function $x(i,t){return Ms(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(i,t){return Xh(i,"POST","/v1/accounts:signInWithPassword",Da(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(i,t){return Xh(i,"POST","/v1/accounts:signInWithEmailLink",Da(i,t))}async function Qx(i,t){return Xh(i,"POST","/v1/accounts:signInWithEmailLink",Da(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends fy{constructor(t,e,s,o=null){super("password",s),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new Hu(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new Hu(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return w0(t,e,"signInWithPassword",Kx);case"emailLink":return Yx(t,{email:this._email,oobCode:this._password});default:pi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return w0(t,s,"signUpPassword",$x);case"emailLink":return Qx(t,{idToken:e,email:this._email,oobCode:this._password});default:pi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(i,t){return Xh(i,"POST","/v1/accounts:signInWithIdp",Da(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="http://localhost";class Ra extends fy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):pi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=e;if(!s||!o)return null;const f=new Ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const e=this.buildRequest();return Vo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Vo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Vo(t,e)}buildRequest(){const t={requestUri:Xx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Wu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zx(i){const t=yu(vu(i)).link,e=t?yu(vu(t)).deep_link_id:null,s=yu(vu(i)).deep_link_id;return(s?yu(vu(s)).link:null)||s||e||t||i}class hy{constructor(t){const e=yu(vu(t)),s=e.apiKey??null,o=e.oobCode??null,u=Wx(e.mode??null);wt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=Zx(t);try{return new hy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(t,e){return Hu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=hy.parseLink(e);return wt(s,"argument-error"),Hu._fromEmailAndCode(t,s.code,s.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Mb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends sc{constructor(){super("facebook.com")}static credential(t){return Ra._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ra._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return fs.credential(e,s)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends sc{constructor(){super("github.com")}static credential(t){return Ra._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hs.credential(t.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends sc{constructor(){super("twitter.com")}static credential(t,e){return Ra._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return ds.credential(e,s)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const u=await hi._fromIdTokenResponse(t,s,o),f=C0(s);return new $o({user:u,providerId:f,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=C0(s);return new $o({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function C0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Dr{constructor(t,e,s,o){super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new Sh(t,e,s,o)}}function Vb(i,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(i,u,t,s):u})}async function Jx(i,t,e=!1){const s=await zu(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return $o._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(i,t,e=!1){const{auth:s}=i;if(fi(s.app))return Promise.reject(Ts(s));const o="reauthenticate";try{const u=await zu(i,Vb(s,o,t,i),e);wt(u.idToken,s,"internal-error");const f=uy(u.idToken);wt(f,s,"internal-error");const{sub:d}=f;return wt(i.uid===d,s,"user-mismatch"),$o._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&pi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(i,t,e=!1){if(fi(i.app))return Promise.reject(Ts(i));const s="signIn",o=await Vb(i,s,t),u=await $o._fromIdTokenResponse(i,s,o);return e||await i._updateCurrentUser(u.user),u}async function e2(i,t){return kb(il(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(i){const t=il(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function i2(i,t,e){return fi(i.app)?Promise.reject(Ts(i)):e2(Fe(i),rl.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&n2(i),s})}function r2(i,t,e,s){return Fe(i).onIdTokenChanged(t,e,s)}function s2(i,t,e){return Fe(i).beforeAuthStateChanged(t,e)}function a2(i,t,e,s){return Fe(i).onAuthStateChanged(t,e,s)}function o2(i){return Fe(i).signOut()}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=1e3,u2=10;class Lb extends Pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ib(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((f,d,m)=>{this.notifyListeners(f,m)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!e&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Cx()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,u2):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},l2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Lb.type="LOCAL";const c2=Lb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Ub.type="SESSION";const jb=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new Zh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:u}=e.data,f=this.handlersMap[o];if(!f?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(f).map(async g=>g(e.origin,u)),m=await f2(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(i="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,m)=>{const g=dy("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(A.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function d2(i){Ui().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function p2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m2(){return navigator?.serviceWorker?.controller||null}function g2(){return Bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firebaseLocalStorageDb",y2=1,wh="firebaseLocalStorage",Hb="fbase_key";class ac{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Jh(i,t){return i.transaction([wh],t?"readwrite":"readonly").objectStore(wh)}function v2(){const i=indexedDB.deleteDatabase(zb);return new ac(i).toPromise()}function lg(){const i=indexedDB.open(zb,y2);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(wh,{keyPath:Hb})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(wh)?t(s):(s.close(),await v2(),t(await lg()))})})}async function I0(i,t,e){const s=Jh(i,!0).put({[Hb]:t,value:e});return new ac(s).toPromise()}async function _2(i,t){const e=Jh(i,!1).get(t),s=await new ac(e).toPromise();return s===void 0?null:s.value}function O0(i,t){const e=Jh(i,!0).delete(t);return new ac(e).toPromise()}const E2=800,T2=3;class qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>T2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(g2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await p2(),!this.activeServiceWorker)return;this.sender=new h2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||m2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lg();return await I0(t,bh,"1"),await O0(t,bh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>I0(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>_2(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>O0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new ac(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qb.type="LOCAL";const A2=qb;new rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(i,t){return t?Er(t):(wt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py extends fy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Vo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Vo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Vo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function b2(i){return kb(i.auth,new py(i),i.bypassAuthState)}function w2(i){const{auth:t,user:e}=i;return wt(e,t,"internal-error"),t2(e,new py(i),i.bypassAuthState)}async function R2(i){const{auth:t,user:e}=i;return wt(e,t,"internal-error"),Jx(e,new py(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,e,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:u,error:f,type:d}=t;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return b2;case"linkViaPopup":case"linkViaRedirect":return R2;case"reauthViaPopup":case"reauthViaRedirect":return w2;default:pi(this.auth,"internal-error")}}resolve(t){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new rc(2e3,1e4);class No extends Fb{constructor(t,e,s,o,u){super(t,e,o,u),this.provider=s,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const t=dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,C2.get())};t()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="pendingRedirect",eh=new Map;class O2 extends Fb{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=eh.get(this.auth._key());if(!t){try{const s=await N2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}eh.set(this.auth._key(),t)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N2(i,t){const e=M2(t),s=x2(i);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function D2(i,t){eh.set(i._key(),t)}function x2(i){return Er(i._redirectPersistence)}function M2(i){return th(I2,i.config.apiKey,i.name)}async function V2(i,t,e=!1){if(fi(i.app))return Promise.reject(Ts(i));const s=il(i),o=S2(s,t),f=await new O2(s,o,e).execute();return f&&!e&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=600*1e3;class P2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!L2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Gb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Li(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=k2&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(t))}saveEventToCache(t){this.cachedEventUids.add(N0(t)),this.lastProcessedEventTime=Date.now()}}function N0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function Gb({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function L2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(i,t={}){return Ms(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B2=/^https?/;async function z2(i){if(i.config.emulator)return;const{authorizedDomains:t}=await U2(i);for(const e of t)try{if(H2(e))return}catch{}pi(i,"unauthorized-domain")}function H2(i){const t=ag(),{protocol:e,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&f.hostname===s}if(!B2.test(e))return!1;if(j2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new rc(3e4,6e4);function D0(){const i=Ui().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function F2(i){return new Promise((t,e)=>{function s(){D0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{D0(),e(Li(i,"network-request-failed"))},timeout:q2.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)s();else{const o=Px("iframefcb");return Ui()[o]=()=>{gapi.load?s():e(Li(i,"network-request-failed"))},Nb(`${kx()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw nh=null,t})}let nh=null;function G2(i){return nh=nh||F2(i),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new rc(5e3,15e3),K2="__/auth/iframe",Y2="emulator/auth/iframe",Q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W2(i){const t=i.config;wt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?ly(t,Y2):`https://${i.config.authDomain}/${K2}`,s={apiKey:t.apiKey,appName:i.name,v:Zo},o=X2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${Wu(s).slice(1)}`}async function Z2(i){const t=await G2(i),e=Ui().gapi;return wt(e,i,"internal-error"),t.open({where:document.body,url:W2(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Li(i,"network-request-failed"),d=Ui().setTimeout(()=>{u(f)},$2.get());function m(){Ui().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tM=500,eM=600,nM="_blank",iM="http://localhost";class x0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rM(i,t,e,s=tM,o=eM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...J2,width:s.toString(),height:o.toString(),top:u,left:f},g=dn().toLowerCase();e&&(d=Sb(g)?nM:e),Tb(g)&&(t=t||iM,m.scrollbars="yes");const v=Object.entries(m).reduce((A,[N,U])=>`${A}${N}=${U},`,"");if(Rx(g)&&d!=="_self")return sM(t||"",d),new x0(null);const T=window.open(t||"",d,v);wt(T,i,"popup-blocked");try{T.focus()}catch{}return new x0(T)}function sM(i,t){const e=document.createElement("a");e.href=i,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="__/auth/handler",oM="emulator/auth/handler",lM=encodeURIComponent("fac");async function M0(i,t,e,s,o,u){wt(i.config.authDomain,i,"auth-domain-config-required"),wt(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:s,v:Zo,eventId:o};if(t instanceof Mb){t.setDefaultLanguage(i.languageCode),f.providerId=t.providerId||"",LC(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))f[v]=T}if(t instanceof sc){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(f.scopes=v.join(","))}i.tenantId&&(f.tid=i.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await i._getAppCheckToken(),g=m?`#${lM}=${encodeURIComponent(m)}`:"";return`${uM(i)}?${Wu(d).slice(1)}${g}`}function uM({config:i}){return i.emulator?ly(i,oM):`https://${i.authDomain}/${aM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class cM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=V2,this._overrideRedirectResult=D2}async _openPopup(t,e,s,o){Cr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await M0(t,e,s,ag(),o);return rM(t,u,dy())}async _openRedirect(t,e,s,o){await this._originValidation(t);const u=await M0(t,e,s,ag(),o);return d2(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await Z2(t),s=new P2(t);return e.register("authEvent",o=>(wt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(bm,{type:bm},o=>{const u=o?.[0]?.[bm];u!==void 0&&e(!!u),pi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=z2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ib()||Ab()||cy()}}const fM=cM;var V0="@firebase/auth",k0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pM(i){Lo(new Sa("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=s.options;wt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ob(i)},g=new xx(s,o,u,m);return Hx(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Lo(new Sa("auth-internal",t=>{const e=il(t.getProvider("auth").getImmediate());return(s=>new hM(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(V0,k0,dM(i)),ys(V0,k0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=300,gM=wA("authIdTokenMaxAge")||mM;let P0=null;const yM=i=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>gM)return;const o=e?.token;P0!==o&&(P0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vM(i=DA()){const t=Ig(i,"auth");if(t.isInitialized())return t.getImmediate();const e=zx(i,{popupRedirectResolver:fM,persistence:[A2,c2,jb]}),s=wA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=yM(u.toString());s2(e,f,()=>f(e.currentUser)),r2(e,d=>f(d))}}const o=SA("auth");return o&&qx(e,`http://${o}`),e}function _M(){return document.getElementsByTagName("head")?.[0]??document}Mx({loadJS(i){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Li("internal-error");u.customData=o,e(u)},s.type="text/javascript",s.charset="UTF-8",_M().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pM("Browser");var EM="firebase",TM="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(EM,TM,"app");var wm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var L0;function AM(){return L0||(L0=1,(function(i){(function(){var t={}.hasOwnProperty;function e(){for(var u="",f=0;f<arguments.length;f++){var d=arguments[f];d&&(u=o(u,s(d)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return e.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var f="";for(var d in u)t.call(u,d)&&u[d]&&(f=o(f,d));return f}function o(u,f){return f?u?u+" "+f:u+f:u}i.exports?(e.default=e,i.exports=e):window.classNames=e})()})(wm)),wm.exports}var SM=AM();const dt=Qu(SM);function ug(){return ug=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},ug.apply(null,arguments)}function $b(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)!==-1)continue;e[s]=i[s]}return e}function U0(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function bM(i){var t=wM(i,"string");return typeof t=="symbol"?t:String(t)}function wM(i,t){if(typeof i!="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var s=e.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function Kb(i,t,e){var s=C.useRef(i!==void 0),o=C.useState(t),u=o[0],f=o[1],d=i!==void 0,m=s.current;return s.current=d,!d&&m&&u!==t&&f(t),[d?i:u,C.useCallback(function(g){for(var v=arguments.length,T=new Array(v>1?v-1:0),A=1;A<v;A++)T[A-1]=arguments[A];e&&e.apply(void 0,[g].concat(T)),f(g)},[e])]}function td(i,t){return Object.keys(t).reduce(function(e,s){var o,u=e,f=u[U0(s)],d=u[s],m=$b(u,[U0(s),s].map(bM)),g=t[s],v=Kb(d,f,i[g]),T=v[0],A=v[1];return ug({},m,(o={},o[s]=T,o[g]=A,o))},i)}function cg(i,t){return cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},cg(i,t)}function RM(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,cg(i,t)}const CM=["xxl","xl","lg","md","sm","xs"],IM="xs",oc=C.createContext({prefixes:{},breakpoints:CM,minBreakpoint:IM}),{Consumer:aP,Provider:oP}=oc;function gt(i,t){const{prefixes:e}=C.useContext(oc);return i||e[t]||t}function Yb(){const{breakpoints:i}=C.useContext(oc);return i}function Qb(){const{minBreakpoint:i}=C.useContext(oc);return i}function my(){const{dir:i}=C.useContext(oc);return i==="rtl"}function sl(i){return i&&i.ownerDocument||document}function OM(i){var t=sl(i);return t&&t.defaultView||window}function NM(i,t){return OM(i).getComputedStyle(i,t)}var DM=/([A-Z])/g;function xM(i){return i.replace(DM,"-$1").toLowerCase()}var MM=/^ms-/;function qf(i){return xM(i).replace(MM,"-ms-")}var VM=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function kM(i){return!!(i&&VM.test(i))}function Sr(i,t){var e="",s="";if(typeof t=="string")return i.style.getPropertyValue(qf(t))||NM(i).getPropertyValue(qf(t));Object.keys(t).forEach(function(o){var u=t[o];!u&&u!==0?i.style.removeProperty(qf(o)):kM(o)?s+=o+"("+u+") ":e+=qf(o)+": "+u+";"}),s&&(e+="transform: "+s+";"),i.style.cssText+=";"+e}var Rm={exports:{}},Cm,j0;function PM(){if(j0)return Cm;j0=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cm=i,Cm}var Im,B0;function LM(){if(B0)return Im;B0=1;var i=PM();function t(){}function e(){}return e.resetWarningCache=t,Im=function(){function s(f,d,m,g,v,T){if(T!==i){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return u.PropTypes=u,u},Im}var z0;function UM(){return z0||(z0=1,Rm.exports=LM()()),Rm.exports}var jM=UM();const hn=Qu(jM);var BM=_A();const va=Qu(BM),H0={disabled:!1},Xb=kn.createContext(null);var zM=function(t){return t.scrollTop},Su="unmounted",us="exited",ci="entering",yr="entered",qu="exiting",xr=(function(i){RM(t,i);function t(s,o){var u;u=i.call(this,s,o)||this;var f=o,d=f&&!f.isMounting?s.enter:s.appear,m;return u.appearStatus=null,s.in?d?(m=us,u.appearStatus=ci):m=yr:s.unmountOnExit||s.mountOnEnter?m=Su:m=us,u.state={status:m},u.nextCallback=null,u}t.getDerivedStateFromProps=function(o,u){var f=o.in;return f&&u.status===Su?{status:us}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(o){var u=null;if(o!==this.props){var f=this.state.status;this.props.in?f!==ci&&f!==yr&&(u=ci):(f===ci||f===yr)&&(u=qu)}this.updateStatus(!1,u)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var o=this.props.timeout,u,f,d;return u=f=d=o,o!=null&&typeof o!="number"&&(u=o.exit,f=o.enter,d=o.appear!==void 0?o.appear:f),{exit:u,enter:f,appear:d}},e.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===ci){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:va.findDOMNode(this);f&&zM(f)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===us&&this.setState({status:Su})},e.performEnter=function(o){var u=this,f=this.props.enter,d=this.context?this.context.isMounting:o,m=this.props.nodeRef?[d]:[va.findDOMNode(this),d],g=m[0],v=m[1],T=this.getTimeouts(),A=d?T.appear:T.enter;if(!o&&!f||H0.disabled){this.safeSetState({status:yr},function(){u.props.onEntered(g)});return}this.props.onEnter(g,v),this.safeSetState({status:ci},function(){u.props.onEntering(g,v),u.onTransitionEnd(A,function(){u.safeSetState({status:yr},function(){u.props.onEntered(g,v)})})})},e.performExit=function(){var o=this,u=this.props.exit,f=this.getTimeouts(),d=this.props.nodeRef?void 0:va.findDOMNode(this);if(!u||H0.disabled){this.safeSetState({status:us},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:qu},function(){o.props.onExiting(d),o.onTransitionEnd(f.exit,function(){o.safeSetState({status:us},function(){o.props.onExited(d)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},e.setNextCallback=function(o){var u=this,f=!0;return this.nextCallback=function(d){f&&(f=!1,u.nextCallback=null,o(d))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},e.onTransitionEnd=function(o,u){this.setNextCallback(u);var f=this.props.nodeRef?this.props.nodeRef.current:va.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!f||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],g=m[0],v=m[1];this.props.addEndListener(g,v)}o!=null&&setTimeout(this.nextCallback,o)},e.render=function(){var o=this.state.status;if(o===Su)return null;var u=this.props,f=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var d=$b(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return kn.createElement(Xb.Provider,{value:null},typeof f=="function"?f(o,d):kn.cloneElement(kn.Children.only(f),d))},t})(kn.Component);xr.contextType=Xb;xr.propTypes={};function bo(){}xr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bo,onEntering:bo,onEntered:bo,onExit:bo,onExiting:bo,onExited:bo};xr.UNMOUNTED=Su;xr.EXITED=us;xr.ENTERING=ci;xr.ENTERED=yr;xr.EXITING=qu;function Wb(i){return i.code==="Escape"||i.keyCode===27}function HM(){const i=C.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function xa(i){if(!i||typeof i=="function")return null;const{major:t}=HM();return t>=19?i.props.ref:i.ref}const al=!!(typeof window<"u"&&window.document&&window.document.createElement);var fg=!1,hg=!1;try{var Om={get passive(){return fg=!0},get once(){return hg=fg=!0}};al&&(window.addEventListener("test",Om,Om),window.removeEventListener("test",Om,!0))}catch{}function Zb(i,t,e,s){if(s&&typeof s!="boolean"&&!hg){var o=s.once,u=s.capture,f=e;!hg&&o&&(f=e.__once||function d(m){this.removeEventListener(t,d,u),e.call(this,m)},e.__once=f),i.addEventListener(t,f,fg?s:u)}i.addEventListener(t,e,s)}function dg(i,t,e,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(t,e,o),e.__once&&i.removeEventListener(t,e.__once,o)}function Tr(i,t,e,s){return Zb(i,t,e,s),function(){dg(i,t,e,s)}}function qM(i,t,e,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(t,e,s),i.dispatchEvent(o)}}function FM(i){var t=Sr(i,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function GM(i,t,e){e===void 0&&(e=5);var s=!1,o=setTimeout(function(){s||qM(i,"transitionend",!0)},t+e),u=Tr(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function Jb(i,t,e,s){e==null&&(e=FM(i)||0);var o=GM(i,e,s),u=Tr(i,"transitionend",t);return function(){o(),u()}}function q0(i,t){const e=Sr(i,t)||"",s=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*s}function gy(i,t){const e=q0(i,"transitionDuration"),s=q0(i,"transitionDelay"),o=Jb(i,u=>{u.target===i&&(o(),t(u))},e+s)}function mu(...i){return i.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...o){t.apply(this,o),e.apply(this,o)}},null)}function tw(i){i.offsetHeight}const F0=i=>!i||typeof i=="function"?i:t=>{i.current=t};function $M(i,t){const e=F0(i),s=F0(t);return o=>{e&&e(o),s&&s(o)}}function ed(i,t){return C.useMemo(()=>$M(i,t),[i,t])}function Rh(i){return i&&"setState"in i?va.findDOMNode(i):i??null}const nd=kn.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:s,onExiting:o,onExited:u,addEndListener:f,children:d,childRef:m,...g},v)=>{const T=C.useRef(null),A=ed(T,m),N=at=>{A(Rh(at))},U=at=>D=>{at&&T.current&&at(T.current,D)},z=C.useCallback(U(i),[i]),P=C.useCallback(U(t),[t]),Z=C.useCallback(U(e),[e]),X=C.useCallback(U(s),[s]),Q=C.useCallback(U(o),[o]),W=C.useCallback(U(u),[u]),st=C.useCallback(U(f),[f]);return w.jsx(xr,{ref:v,...g,onEnter:z,onEntered:Z,onEntering:P,onExit:X,onExited:W,onExiting:Q,addEndListener:st,nodeRef:T,children:typeof d=="function"?(at,D)=>d(at,{...D,ref:N}):kn.cloneElement(d,{ref:N})})});nd.displayName="TransitionWrapper";const KM={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function YM(i,t){const e=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=t[e],o=KM[i];return s+parseInt(Sr(t,o[0]),10)+parseInt(Sr(t,o[1]),10)}const QM={[us]:"collapse",[qu]:"collapsing",[ci]:"collapsing",[yr]:"collapse show"},yy=kn.forwardRef(({onEnter:i,onEntering:t,onEntered:e,onExit:s,onExiting:o,className:u,children:f,dimension:d="height",in:m=!1,timeout:g=300,mountOnEnter:v=!1,unmountOnExit:T=!1,appear:A=!1,getDimensionValue:N=YM,...U},z)=>{const P=typeof d=="function"?d():d,Z=C.useMemo(()=>mu(at=>{at.style[P]="0"},i),[P,i]),X=C.useMemo(()=>mu(at=>{const D=`scroll${P[0].toUpperCase()}${P.slice(1)}`;at.style[P]=`${at[D]}px`},t),[P,t]),Q=C.useMemo(()=>mu(at=>{at.style[P]=null},e),[P,e]),W=C.useMemo(()=>mu(at=>{at.style[P]=`${N(P,at)}px`,tw(at)},s),[s,N,P]),st=C.useMemo(()=>mu(at=>{at.style[P]=null},o),[P,o]);return w.jsx(nd,{ref:z,addEndListener:gy,...U,"aria-expanded":U.role?m:null,onEnter:Z,onEntering:X,onEntered:Q,onExit:W,onExiting:st,childRef:xa(f),in:m,timeout:g,mountOnEnter:v,unmountOnExit:T,appear:A,children:(at,D)=>kn.cloneElement(f,{...D,className:dt(u,f.props.className,QM[at],P==="width"&&"collapse-horizontal")})})});yy.displayName="Collapse";function ew(i,t){return Array.isArray(i)?i.includes(t):i===t}const lc=C.createContext({});lc.displayName="AccordionContext";const vy=C.forwardRef(({as:i="div",bsPrefix:t,className:e,children:s,eventKey:o,...u},f)=>{const{activeEventKey:d}=C.useContext(lc);return t=gt(t,"accordion-collapse"),w.jsx(yy,{ref:f,in:ew(d,o),...u,className:dt(e,t),children:w.jsx(i,{children:C.Children.only(s)})})});vy.displayName="AccordionCollapse";const id=C.createContext({eventKey:""});id.displayName="AccordionItemContext";const nw=C.forwardRef(({as:i="div",bsPrefix:t,className:e,onEnter:s,onEntering:o,onEntered:u,onExit:f,onExiting:d,onExited:m,...g},v)=>{t=gt(t,"accordion-body");const{eventKey:T}=C.useContext(id);return w.jsx(vy,{eventKey:T,onEnter:s,onEntering:o,onEntered:u,onExit:f,onExiting:d,onExited:m,children:w.jsx(i,{ref:v,...g,className:dt(e,t)})})});nw.displayName="AccordionBody";function iw(i,t){const{activeEventKey:e,onSelect:s,alwaysOpen:o}=C.useContext(lc);return u=>{let f=i===e?null:i;o&&(Array.isArray(e)?e.includes(i)?f=e.filter(d=>d!==i):f=[...e,i]:f=[i]),s?.(f,u),t?.(u)}}const _y=C.forwardRef(({as:i="button",bsPrefix:t,className:e,onClick:s,...o},u)=>{t=gt(t,"accordion-button");const{eventKey:f}=C.useContext(id),d=iw(f,s),{activeEventKey:m}=C.useContext(lc);return i==="button"&&(o.type="button"),w.jsx(i,{ref:u,onClick:d,...o,"aria-expanded":Array.isArray(m)?m.includes(f):f===m,className:dt(e,t,!ew(m,f)&&"collapsed")})});_y.displayName="AccordionButton";const rw=C.forwardRef(({as:i="h2","aria-controls":t,bsPrefix:e,className:s,children:o,onClick:u,...f},d)=>(e=gt(e,"accordion-header"),w.jsx(i,{ref:d,...f,className:dt(s,e),children:w.jsx(_y,{onClick:u,"aria-controls":t,children:o})})));rw.displayName="AccordionHeader";const sw=C.forwardRef(({as:i="div",bsPrefix:t,className:e,eventKey:s,...o},u)=>{t=gt(t,"accordion-item");const f=C.useMemo(()=>({eventKey:s}),[s]);return w.jsx(id.Provider,{value:f,children:w.jsx(i,{ref:u,...o,className:dt(e,t)})})});sw.displayName="AccordionItem";const aw=C.forwardRef((i,t)=>{const{as:e="div",activeKey:s,bsPrefix:o,className:u,onSelect:f,flush:d,alwaysOpen:m,...g}=td(i,{activeKey:"onSelect"}),v=gt(o,"accordion"),T=C.useMemo(()=>({activeEventKey:s,onSelect:f,alwaysOpen:m}),[s,f,m]);return w.jsx(lc.Provider,{value:T,children:w.jsx(e,{ref:t,...g,className:dt(u,v,d&&`${v}-flush`)})})});aw.displayName="Accordion";const ow=Object.assign(aw,{Button:_y,Collapse:vy,Item:sw,Header:rw,Body:nw});function XM(i){const t=C.useRef(i);return C.useEffect(()=>{t.current=i},[i]),t}function Is(i){const t=XM(i);return C.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const uc=(i=>C.forwardRef((t,e)=>w.jsx("div",{...t,ref:e,className:dt(t.className,i)}))),lw=uc("h4");lw.displayName="DivStyledAsH4";const uw=C.forwardRef(({className:i,bsPrefix:t,as:e=lw,...s},o)=>(t=gt(t,"alert-heading"),w.jsx(e,{ref:o,className:dt(i,t),...s})));uw.displayName="AlertHeading";function G0(){return C.useState(null)}function WM(i){const t=C.useRef(i);return C.useEffect(()=>{t.current=i},[i]),t}function Jn(i){const t=WM(i);return C.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function cw(){const i=C.useRef(!0),t=C.useRef(()=>i.current);return C.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function ZM(i){const t=C.useRef(null);return C.useEffect(()=>{t.current=i}),t.current}const JM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",tV=typeof document<"u",$0=tV||JM?C.useLayoutEffect:C.useEffect,eV=["as","disabled"];function nV(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function iV(i){return!i||i.trim()==="#"}function Ey({tagName:i,disabled:t,href:e,target:s,rel:o,role:u,onClick:f,tabIndex:d=0,type:m}){i||(e!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:m||"button",disabled:t},g];const v=A=>{if((t||i==="a"&&iV(e))&&A.preventDefault(),t){A.stopPropagation();return}f?.(A)},T=A=>{A.key===" "&&(A.preventDefault(),v(A))};return i==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:u??"button",disabled:void 0,tabIndex:t?void 0:d,href:e,target:i==="a"?s:void 0,"aria-disabled":t||void 0,rel:i==="a"?o:void 0,onClick:v,onKeyDown:T},g]}const fw=C.forwardRef((i,t)=>{let{as:e,disabled:s}=i,o=nV(i,eV);const[u,{tagName:f}]=Ey(Object.assign({tagName:e,disabled:s},o));return w.jsx(f,Object.assign({},o,u,{ref:t}))});fw.displayName="Button";const rV=["onKeyDown"];function sV(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function aV(i){return!i||i.trim()==="#"}const Ty=C.forwardRef((i,t)=>{let{onKeyDown:e}=i,s=sV(i,rV);const[o]=Ey(Object.assign({tagName:"a"},s)),u=Jn(f=>{o.onKeyDown(f),e?.(f)});return aV(s.href)||s.role==="button"?w.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:u})):w.jsx("a",Object.assign({ref:t},s,{onKeyDown:e}))});Ty.displayName="Anchor";const hw=C.forwardRef(({className:i,bsPrefix:t,as:e=Ty,...s},o)=>(t=gt(t,"alert-link"),w.jsx(e,{ref:o,className:dt(i,t),...s})));hw.displayName="AlertLink";const oV={[ci]:"show",[yr]:"show"},Os=C.forwardRef(({className:i,children:t,transitionClasses:e={},onEnter:s,...o},u)=>{const f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=C.useCallback((m,g)=>{tw(m),s?.(m,g)},[s]);return w.jsx(nd,{ref:u,addEndListener:gy,...f,onEnter:d,childRef:xa(t),children:(m,g)=>C.cloneElement(t,{...g,className:dt("fade",i,t.props.className,oV[m],e[m])})})});Os.displayName="Fade";const lV={"aria-label":hn.string,onClick:hn.func,variant:hn.oneOf(["white"])},rd=C.forwardRef(({className:i,variant:t,"aria-label":e="Close",...s},o)=>w.jsx("button",{ref:o,type:"button",className:dt("btn-close",t&&`btn-close-${t}`,i),"aria-label":e,...s}));rd.displayName="CloseButton";rd.propTypes=lV;const dw=C.forwardRef((i,t)=>{const{bsPrefix:e,show:s=!0,closeLabel:o="Close alert",closeVariant:u,className:f,children:d,variant:m="primary",onClose:g,dismissible:v,transition:T=Os,...A}=td(i,{show:"onClose"}),N=gt(e,"alert"),U=Is(Z=>{g&&g(!1,Z)}),z=T===!0?Os:T,P=w.jsxs("div",{role:"alert",...z?void 0:A,ref:t,className:dt(f,N,m&&`${N}-${m}`,v&&`${N}-dismissible`),children:[v&&w.jsx(rd,{onClick:U,"aria-label":o,variant:u}),d]});return z?w.jsx(z,{unmountOnExit:!0,...A,ref:void 0,in:s,children:P}):s?P:null});dw.displayName="Alert";const uV=Object.assign(dw,{Link:hw,Heading:uw}),pw=C.forwardRef(({bsPrefix:i,bg:t="primary",pill:e=!1,text:s,className:o,as:u="span",...f},d)=>{const m=gt(i,"badge");return w.jsx(u,{ref:d,...f,className:dt(o,m,e&&"rounded-pill",s&&`text-${s}`,t&&`bg-${t}`)})});pw.displayName="Badge";const Rn=C.forwardRef(({as:i,bsPrefix:t,variant:e="primary",size:s,active:o=!1,disabled:u=!1,className:f,...d},m)=>{const g=gt(t,"btn"),[v,{tagName:T}]=Ey({tagName:i,disabled:u,...d}),A=T;return w.jsx(A,{...v,...d,ref:m,disabled:u,className:dt(f,g,o&&"active",e&&`${g}-${e}`,s&&`${g}-${s}`,d.href&&u&&"disabled")})});Rn.displayName="Button";const Ay=C.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"card-body"),w.jsx(e,{ref:o,className:dt(i,t),...s})));Ay.displayName="CardBody";const mw=C.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"card-footer"),w.jsx(e,{ref:o,className:dt(i,t),...s})));mw.displayName="CardFooter";const Sy=C.createContext(null);Sy.displayName="CardHeaderContext";const gw=C.forwardRef(({bsPrefix:i,className:t,as:e="div",...s},o)=>{const u=gt(i,"card-header"),f=C.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return w.jsx(Sy.Provider,{value:f,children:w.jsx(e,{ref:o,...s,className:dt(t,u)})})});gw.displayName="CardHeader";const yw=C.forwardRef(({bsPrefix:i,className:t,variant:e,as:s="img",...o},u)=>{const f=gt(i,"card-img");return w.jsx(s,{ref:u,className:dt(e?`${f}-${e}`:f,t),...o})});yw.displayName="CardImg";const vw=C.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"card-img-overlay"),w.jsx(e,{ref:o,className:dt(i,t),...s})));vw.displayName="CardImgOverlay";const _w=C.forwardRef(({className:i,bsPrefix:t,as:e="a",...s},o)=>(t=gt(t,"card-link"),w.jsx(e,{ref:o,className:dt(i,t),...s})));_w.displayName="CardLink";const cV=uc("h6"),Ew=C.forwardRef(({className:i,bsPrefix:t,as:e=cV,...s},o)=>(t=gt(t,"card-subtitle"),w.jsx(e,{ref:o,className:dt(i,t),...s})));Ew.displayName="CardSubtitle";const Tw=C.forwardRef(({className:i,bsPrefix:t,as:e="p",...s},o)=>(t=gt(t,"card-text"),w.jsx(e,{ref:o,className:dt(i,t),...s})));Tw.displayName="CardText";const fV=uc("h5"),Aw=C.forwardRef(({className:i,bsPrefix:t,as:e=fV,...s},o)=>(t=gt(t,"card-title"),w.jsx(e,{ref:o,className:dt(i,t),...s})));Aw.displayName="CardTitle";const Sw=C.forwardRef(({bsPrefix:i,className:t,bg:e,text:s,border:o,body:u=!1,children:f,as:d="div",...m},g)=>{const v=gt(i,"card");return w.jsx(d,{ref:g,...m,className:dt(t,v,e&&`bg-${e}`,s&&`text-${s}`,o&&`border-${o}`),children:u?w.jsx(Ay,{children:f}):f})});Sw.displayName="Card";const di=Object.assign(Sw,{Img:yw,Title:Aw,Subtitle:Ew,Body:Ay,Link:_w,Text:Tw,Header:gw,Footer:mw,ImgOverlay:vw});function hV(){const i=C.useRef(!0),t=C.useRef(()=>i.current);return C.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function dV(i){const t=C.useRef(i);return t.current=i,t}function bw(i){const t=dV(i);C.useEffect(()=>()=>t.current(),[])}const pg=2**31-1;function ww(i,t,e){const s=e-Date.now();i.current=s<=pg?setTimeout(t,s):setTimeout(()=>ww(i,t,e),pg)}function pV(){const i=hV(),t=C.useRef();return bw(()=>clearTimeout(t.current)),C.useMemo(()=>{const e=()=>clearTimeout(t.current);function s(o,u=0){i()&&(e(),u<=pg?t.current=setTimeout(o,u):ww(t,o,Date.now()+u))}return{set:s,clear:e,handleRef:t}},[])}function mV(i,t){return C.Children.toArray(i).some(e=>C.isValidElement(e)&&e.type===t)}function gV({as:i,bsPrefix:t,className:e,...s}){t=gt(t,"col");const o=Yb(),u=Qb(),f=[],d=[];return o.forEach(m=>{const g=s[m];delete s[m];let v,T,A;typeof g=="object"&&g!=null?{span:v,offset:T,order:A}=g:v=g;const N=m!==u?`-${m}`:"";v&&f.push(v===!0?`${t}${N}`:`${t}${N}-${v}`),A!=null&&d.push(`order${N}-${A}`),T!=null&&d.push(`offset${N}-${T}`)}),[{...s,className:dt(e,...f,...d)},{as:i,bsPrefix:t,spans:f}]}const Ca=C.forwardRef((i,t)=>{const[{className:e,...s},{as:o="div",bsPrefix:u,spans:f}]=gV(i);return w.jsx(o,{...s,ref:t,className:dt(e,!f.length&&u)})});Ca.displayName="Col";const by=C.forwardRef(({bsPrefix:i,fluid:t=!1,as:e="div",className:s,...o},u)=>{const f=gt(i,"container"),d=typeof t=="string"?`-${t}`:"-fluid";return w.jsx(e,{ref:u,...o,className:dt(s,t?`${f}${d}`:f)})});by.displayName="Container";var yV=Function.prototype.bind.call(Function.prototype.call,[].slice);function ga(i,t){return yV(i.querySelectorAll(t))}function vV(){const[,i]=C.useReducer(t=>t+1,0);return i}var K0=Object.prototype.hasOwnProperty;function Y0(i,t,e){for(e of i.keys())if(Nu(e,t))return e}function Nu(i,t){var e,s,o;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((s=i.length)===t.length)for(;s--&&Nu(i[s],t[s]););return s===-1}if(e===Set){if(i.size!==t.size)return!1;for(s of i)if(o=s,o&&typeof o=="object"&&(o=Y0(t,o),!o)||!t.has(o))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(s of i)if(o=s[0],o&&typeof o=="object"&&(o=Y0(t,o),!o)||!Nu(s[1],t.get(o)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((s=i.byteLength)===t.byteLength)for(;s--&&i.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(i)){if((s=i.byteLength)===t.byteLength)for(;s--&&i[s]===t[s];);return s===-1}if(!e||typeof i=="object"){s=0;for(e in i)if(K0.call(i,e)&&++s&&!K0.call(t,e)||!(e in t)||!Nu(i[e],t[e]))return!1;return Object.keys(t).length===s}}return i!==i&&t!==t}function _V(i){const t=cw();return[i[0],C.useCallback(e=>{if(t())return i[1](e)},[t,i[1]])]}var bn="top",ei="bottom",ni="right",wn="left",wy="auto",cc=[bn,ei,ni,wn],Ko="start",Fu="end",EV="clippingParents",Rw="viewport",gu="popper",TV="reference",Q0=cc.reduce(function(i,t){return i.concat([t+"-"+Ko,t+"-"+Fu])},[]),Cw=[].concat(cc,[wy]).reduce(function(i,t){return i.concat([t,t+"-"+Ko,t+"-"+Fu])},[]),AV="beforeRead",SV="read",bV="afterRead",wV="beforeMain",RV="main",CV="afterMain",IV="beforeWrite",OV="write",NV="afterWrite",DV=[AV,SV,bV,wV,RV,CV,IV,OV,NV];function ji(i){return i.split("-")[0]}function Ln(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function Ia(i){var t=Ln(i).Element;return i instanceof t||i instanceof Element}function Bi(i){var t=Ln(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function Ry(i){if(typeof ShadowRoot>"u")return!1;var t=Ln(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}var Ta=Math.max,Ch=Math.min,Yo=Math.round;function mg(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Iw(){return!/^((?!chrome|android).)*safari/i.test(mg())}function Qo(i,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var s=i.getBoundingClientRect(),o=1,u=1;t&&Bi(i)&&(o=i.offsetWidth>0&&Yo(s.width)/i.offsetWidth||1,u=i.offsetHeight>0&&Yo(s.height)/i.offsetHeight||1);var f=Ia(i)?Ln(i):window,d=f.visualViewport,m=!Iw()&&e,g=(s.left+(m&&d?d.offsetLeft:0))/o,v=(s.top+(m&&d?d.offsetTop:0))/u,T=s.width/o,A=s.height/u;return{width:T,height:A,top:v,right:g+T,bottom:v+A,left:g,x:g,y:v}}function Cy(i){var t=Qo(i),e=i.offsetWidth,s=i.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:i.offsetLeft,y:i.offsetTop,width:e,height:s}}function Ow(i,t){var e=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(e&&Ry(e)){var s=t;do{if(s&&i.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Ns(i){return i?(i.nodeName||"").toLowerCase():null}function Ir(i){return Ln(i).getComputedStyle(i)}function xV(i){return["table","td","th"].indexOf(Ns(i))>=0}function Vs(i){return((Ia(i)?i.ownerDocument:i.document)||window.document).documentElement}function sd(i){return Ns(i)==="html"?i:i.assignedSlot||i.parentNode||(Ry(i)?i.host:null)||Vs(i)}function X0(i){return!Bi(i)||Ir(i).position==="fixed"?null:i.offsetParent}function MV(i){var t=/firefox/i.test(mg()),e=/Trident/i.test(mg());if(e&&Bi(i)){var s=Ir(i);if(s.position==="fixed")return null}var o=sd(i);for(Ry(o)&&(o=o.host);Bi(o)&&["html","body"].indexOf(Ns(o))<0;){var u=Ir(o);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||t&&u.willChange==="filter"||t&&u.filter&&u.filter!=="none")return o;o=o.parentNode}return null}function fc(i){for(var t=Ln(i),e=X0(i);e&&xV(e)&&Ir(e).position==="static";)e=X0(e);return e&&(Ns(e)==="html"||Ns(e)==="body"&&Ir(e).position==="static")?t:e||MV(i)||t}function Iy(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function Du(i,t,e){return Ta(i,Ch(t,e))}function VV(i,t,e){var s=Du(i,t,e);return s>e?e:s}function Nw(){return{top:0,right:0,bottom:0,left:0}}function Dw(i){return Object.assign({},Nw(),i)}function xw(i,t){return t.reduce(function(e,s){return e[s]=i,e},{})}var kV=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Dw(typeof t!="number"?t:xw(t,cc))};function PV(i){var t,e=i.state,s=i.name,o=i.options,u=e.elements.arrow,f=e.modifiersData.popperOffsets,d=ji(e.placement),m=Iy(d),g=[wn,ni].indexOf(d)>=0,v=g?"height":"width";if(!(!u||!f)){var T=kV(o.padding,e),A=Cy(u),N=m==="y"?bn:wn,U=m==="y"?ei:ni,z=e.rects.reference[v]+e.rects.reference[m]-f[m]-e.rects.popper[v],P=f[m]-e.rects.reference[m],Z=fc(u),X=Z?m==="y"?Z.clientHeight||0:Z.clientWidth||0:0,Q=z/2-P/2,W=T[N],st=X-A[v]-T[U],at=X/2-A[v]/2+Q,D=Du(W,at,st),R=m;e.modifiersData[s]=(t={},t[R]=D,t.centerOffset=D-at,t)}}function LV(i){var t=i.state,e=i.options,s=e.element,o=s===void 0?"[data-popper-arrow]":s;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Ow(t.elements.popper,o)&&(t.elements.arrow=o))}const UV={name:"arrow",enabled:!0,phase:"main",fn:PV,effect:LV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xo(i){return i.split("-")[1]}var jV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function BV(i,t){var e=i.x,s=i.y,o=t.devicePixelRatio||1;return{x:Yo(e*o)/o||0,y:Yo(s*o)/o||0}}function W0(i){var t,e=i.popper,s=i.popperRect,o=i.placement,u=i.variation,f=i.offsets,d=i.position,m=i.gpuAcceleration,g=i.adaptive,v=i.roundOffsets,T=i.isFixed,A=f.x,N=A===void 0?0:A,U=f.y,z=U===void 0?0:U,P=typeof v=="function"?v({x:N,y:z}):{x:N,y:z};N=P.x,z=P.y;var Z=f.hasOwnProperty("x"),X=f.hasOwnProperty("y"),Q=wn,W=bn,st=window;if(g){var at=fc(e),D="clientHeight",R="clientWidth";if(at===Ln(e)&&(at=Vs(e),Ir(at).position!=="static"&&d==="absolute"&&(D="scrollHeight",R="scrollWidth")),at=at,o===bn||(o===wn||o===ni)&&u===Fu){W=ei;var I=T&&at===st&&st.visualViewport?st.visualViewport.height:at[D];z-=I-s.height,z*=m?1:-1}if(o===wn||(o===bn||o===ei)&&u===Fu){Q=ni;var M=T&&at===st&&st.visualViewport?st.visualViewport.width:at[R];N-=M-s.width,N*=m?1:-1}}var k=Object.assign({position:d},g&&jV),j=v===!0?BV({x:N,y:z},Ln(e)):{x:N,y:z};if(N=j.x,z=j.y,m){var O;return Object.assign({},k,(O={},O[W]=X?"0":"",O[Q]=Z?"0":"",O.transform=(st.devicePixelRatio||1)<=1?"translate("+N+"px, "+z+"px)":"translate3d("+N+"px, "+z+"px, 0)",O))}return Object.assign({},k,(t={},t[W]=X?z+"px":"",t[Q]=Z?N+"px":"",t.transform="",t))}function zV(i){var t=i.state,e=i.options,s=e.gpuAcceleration,o=s===void 0?!0:s,u=e.adaptive,f=u===void 0?!0:u,d=e.roundOffsets,m=d===void 0?!0:d,g={placement:ji(t.placement),variation:Xo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,W0(Object.assign({},g,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:f,roundOffsets:m})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,W0(Object.assign({},g,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const HV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:zV,data:{}};var Ff={passive:!0};function qV(i){var t=i.state,e=i.instance,s=i.options,o=s.scroll,u=o===void 0?!0:o,f=s.resize,d=f===void 0?!0:f,m=Ln(t.elements.popper),g=[].concat(t.scrollParents.reference,t.scrollParents.popper);return u&&g.forEach(function(v){v.addEventListener("scroll",e.update,Ff)}),d&&m.addEventListener("resize",e.update,Ff),function(){u&&g.forEach(function(v){v.removeEventListener("scroll",e.update,Ff)}),d&&m.removeEventListener("resize",e.update,Ff)}}const FV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qV,data:{}};var GV={left:"right",right:"left",bottom:"top",top:"bottom"};function ih(i){return i.replace(/left|right|bottom|top/g,function(t){return GV[t]})}var $V={start:"end",end:"start"};function Z0(i){return i.replace(/start|end/g,function(t){return $V[t]})}function Oy(i){var t=Ln(i),e=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:e,scrollTop:s}}function Ny(i){return Qo(Vs(i)).left+Oy(i).scrollLeft}function KV(i,t){var e=Ln(i),s=Vs(i),o=e.visualViewport,u=s.clientWidth,f=s.clientHeight,d=0,m=0;if(o){u=o.width,f=o.height;var g=Iw();(g||!g&&t==="fixed")&&(d=o.offsetLeft,m=o.offsetTop)}return{width:u,height:f,x:d+Ny(i),y:m}}function YV(i){var t,e=Vs(i),s=Oy(i),o=(t=i.ownerDocument)==null?void 0:t.body,u=Ta(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),f=Ta(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),d=-s.scrollLeft+Ny(i),m=-s.scrollTop;return Ir(o||e).direction==="rtl"&&(d+=Ta(e.clientWidth,o?o.clientWidth:0)-u),{width:u,height:f,x:d,y:m}}function Dy(i){var t=Ir(i),e=t.overflow,s=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+o+s)}function Mw(i){return["html","body","#document"].indexOf(Ns(i))>=0?i.ownerDocument.body:Bi(i)&&Dy(i)?i:Mw(sd(i))}function xu(i,t){var e;t===void 0&&(t=[]);var s=Mw(i),o=s===((e=i.ownerDocument)==null?void 0:e.body),u=Ln(s),f=o?[u].concat(u.visualViewport||[],Dy(s)?s:[]):s,d=t.concat(f);return o?d:d.concat(xu(sd(f)))}function gg(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function QV(i,t){var e=Qo(i,!1,t==="fixed");return e.top=e.top+i.clientTop,e.left=e.left+i.clientLeft,e.bottom=e.top+i.clientHeight,e.right=e.left+i.clientWidth,e.width=i.clientWidth,e.height=i.clientHeight,e.x=e.left,e.y=e.top,e}function J0(i,t,e){return t===Rw?gg(KV(i,e)):Ia(t)?QV(t,e):gg(YV(Vs(i)))}function XV(i){var t=xu(sd(i)),e=["absolute","fixed"].indexOf(Ir(i).position)>=0,s=e&&Bi(i)?fc(i):i;return Ia(s)?t.filter(function(o){return Ia(o)&&Ow(o,s)&&Ns(o)!=="body"}):[]}function WV(i,t,e,s){var o=t==="clippingParents"?XV(i):[].concat(t),u=[].concat(o,[e]),f=u[0],d=u.reduce(function(m,g){var v=J0(i,g,s);return m.top=Ta(v.top,m.top),m.right=Ch(v.right,m.right),m.bottom=Ch(v.bottom,m.bottom),m.left=Ta(v.left,m.left),m},J0(i,f,s));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function Vw(i){var t=i.reference,e=i.element,s=i.placement,o=s?ji(s):null,u=s?Xo(s):null,f=t.x+t.width/2-e.width/2,d=t.y+t.height/2-e.height/2,m;switch(o){case bn:m={x:f,y:t.y-e.height};break;case ei:m={x:f,y:t.y+t.height};break;case ni:m={x:t.x+t.width,y:d};break;case wn:m={x:t.x-e.width,y:d};break;default:m={x:t.x,y:t.y}}var g=o?Iy(o):null;if(g!=null){var v=g==="y"?"height":"width";switch(u){case Ko:m[g]=m[g]-(t[v]/2-e[v]/2);break;case Fu:m[g]=m[g]+(t[v]/2-e[v]/2);break}}return m}function Gu(i,t){t===void 0&&(t={});var e=t,s=e.placement,o=s===void 0?i.placement:s,u=e.strategy,f=u===void 0?i.strategy:u,d=e.boundary,m=d===void 0?EV:d,g=e.rootBoundary,v=g===void 0?Rw:g,T=e.elementContext,A=T===void 0?gu:T,N=e.altBoundary,U=N===void 0?!1:N,z=e.padding,P=z===void 0?0:z,Z=Dw(typeof P!="number"?P:xw(P,cc)),X=A===gu?TV:gu,Q=i.rects.popper,W=i.elements[U?X:A],st=WV(Ia(W)?W:W.contextElement||Vs(i.elements.popper),m,v,f),at=Qo(i.elements.reference),D=Vw({reference:at,element:Q,placement:o}),R=gg(Object.assign({},Q,D)),I=A===gu?R:at,M={top:st.top-I.top+Z.top,bottom:I.bottom-st.bottom+Z.bottom,left:st.left-I.left+Z.left,right:I.right-st.right+Z.right},k=i.modifiersData.offset;if(A===gu&&k){var j=k[o];Object.keys(M).forEach(function(O){var xt=[ni,ei].indexOf(O)>=0?1:-1,Ct=[bn,ei].indexOf(O)>=0?"y":"x";M[O]+=j[Ct]*xt})}return M}function ZV(i,t){t===void 0&&(t={});var e=t,s=e.placement,o=e.boundary,u=e.rootBoundary,f=e.padding,d=e.flipVariations,m=e.allowedAutoPlacements,g=m===void 0?Cw:m,v=Xo(s),T=v?d?Q0:Q0.filter(function(U){return Xo(U)===v}):cc,A=T.filter(function(U){return g.indexOf(U)>=0});A.length===0&&(A=T);var N=A.reduce(function(U,z){return U[z]=Gu(i,{placement:z,boundary:o,rootBoundary:u,padding:f})[ji(z)],U},{});return Object.keys(N).sort(function(U,z){return N[U]-N[z]})}function JV(i){if(ji(i)===wy)return[];var t=ih(i);return[Z0(i),t,Z0(t)]}function t4(i){var t=i.state,e=i.options,s=i.name;if(!t.modifiersData[s]._skip){for(var o=e.mainAxis,u=o===void 0?!0:o,f=e.altAxis,d=f===void 0?!0:f,m=e.fallbackPlacements,g=e.padding,v=e.boundary,T=e.rootBoundary,A=e.altBoundary,N=e.flipVariations,U=N===void 0?!0:N,z=e.allowedAutoPlacements,P=t.options.placement,Z=ji(P),X=Z===P,Q=m||(X||!U?[ih(P)]:JV(P)),W=[P].concat(Q).reduce(function(ht,vt){return ht.concat(ji(vt)===wy?ZV(t,{placement:vt,boundary:v,rootBoundary:T,padding:g,flipVariations:U,allowedAutoPlacements:z}):vt)},[]),st=t.rects.reference,at=t.rects.popper,D=new Map,R=!0,I=W[0],M=0;M<W.length;M++){var k=W[M],j=ji(k),O=Xo(k)===Ko,xt=[bn,ei].indexOf(j)>=0,Ct=xt?"width":"height",$=Gu(t,{placement:k,boundary:v,rootBoundary:T,altBoundary:A,padding:g}),lt=xt?O?ni:wn:O?ei:bn;st[Ct]>at[Ct]&&(lt=ih(lt));var ft=ih(lt),Ot=[];if(u&&Ot.push($[j]<=0),d&&Ot.push($[lt]<=0,$[ft]<=0),Ot.every(function(ht){return ht})){I=k,R=!1;break}D.set(k,Ot)}if(R)for(var V=U?3:1,tt=function(vt){var Et=W.find(function(te){var Pt=D.get(te);if(Pt)return Pt.slice(0,vt).every(function(Te){return Te})});if(Et)return I=Et,"break"},ut=V;ut>0;ut--){var rt=tt(ut);if(rt==="break")break}t.placement!==I&&(t.modifiersData[s]._skip=!0,t.placement=I,t.reset=!0)}}const e4={name:"flip",enabled:!0,phase:"main",fn:t4,requiresIfExists:["offset"],data:{_skip:!1}};function tA(i,t,e){return e===void 0&&(e={x:0,y:0}),{top:i.top-t.height-e.y,right:i.right-t.width+e.x,bottom:i.bottom-t.height+e.y,left:i.left-t.width-e.x}}function eA(i){return[bn,ni,ei,wn].some(function(t){return i[t]>=0})}function n4(i){var t=i.state,e=i.name,s=t.rects.reference,o=t.rects.popper,u=t.modifiersData.preventOverflow,f=Gu(t,{elementContext:"reference"}),d=Gu(t,{altBoundary:!0}),m=tA(f,s),g=tA(d,o,u),v=eA(m),T=eA(g);t.modifiersData[e]={referenceClippingOffsets:m,popperEscapeOffsets:g,isReferenceHidden:v,hasPopperEscaped:T},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":T})}const i4={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:n4};function r4(i,t,e){var s=ji(i),o=[wn,bn].indexOf(s)>=0?-1:1,u=typeof e=="function"?e(Object.assign({},t,{placement:i})):e,f=u[0],d=u[1];return f=f||0,d=(d||0)*o,[wn,ni].indexOf(s)>=0?{x:d,y:f}:{x:f,y:d}}function s4(i){var t=i.state,e=i.options,s=i.name,o=e.offset,u=o===void 0?[0,0]:o,f=Cw.reduce(function(v,T){return v[T]=r4(T,t.rects,u),v},{}),d=f[t.placement],m=d.x,g=d.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=m,t.modifiersData.popperOffsets.y+=g),t.modifiersData[s]=f}const a4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:s4};function o4(i){var t=i.state,e=i.name;t.modifiersData[e]=Vw({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const l4={name:"popperOffsets",enabled:!0,phase:"read",fn:o4,data:{}};function u4(i){return i==="x"?"y":"x"}function c4(i){var t=i.state,e=i.options,s=i.name,o=e.mainAxis,u=o===void 0?!0:o,f=e.altAxis,d=f===void 0?!1:f,m=e.boundary,g=e.rootBoundary,v=e.altBoundary,T=e.padding,A=e.tether,N=A===void 0?!0:A,U=e.tetherOffset,z=U===void 0?0:U,P=Gu(t,{boundary:m,rootBoundary:g,padding:T,altBoundary:v}),Z=ji(t.placement),X=Xo(t.placement),Q=!X,W=Iy(Z),st=u4(W),at=t.modifiersData.popperOffsets,D=t.rects.reference,R=t.rects.popper,I=typeof z=="function"?z(Object.assign({},t.rects,{placement:t.placement})):z,M=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(at){if(u){var O,xt=W==="y"?bn:wn,Ct=W==="y"?ei:ni,$=W==="y"?"height":"width",lt=at[W],ft=lt+P[xt],Ot=lt-P[Ct],V=N?-R[$]/2:0,tt=X===Ko?D[$]:R[$],ut=X===Ko?-R[$]:-D[$],rt=t.elements.arrow,ht=N&&rt?Cy(rt):{width:0,height:0},vt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Nw(),Et=vt[xt],te=vt[Ct],Pt=Du(0,D[$],ht[$]),Te=Q?D[$]/2-V-Pt-Et-M.mainAxis:tt-Pt-Et-M.mainAxis,Ge=Q?-D[$]/2+V+Pt+te+M.mainAxis:ut+Pt+te+M.mainAxis,Le=t.elements.arrow&&fc(t.elements.arrow),en=Le?W==="y"?Le.clientTop||0:Le.clientLeft||0:0,nn=(O=k?.[W])!=null?O:0,rn=lt+Te-nn-en,Kt=lt+Ge-nn,Un=Du(N?Ch(ft,rn):ft,lt,N?Ta(Ot,Kt):Ot);at[W]=Un,j[W]=Un-lt}if(d){var ge,ks=W==="x"?bn:wn,qi=W==="x"?ei:ni,sn=at[st],vn=st==="y"?"height":"width",Mr=sn+P[ks],ii=sn-P[qi],jn=[bn,wn].indexOf(Z)!==-1,Fi=(ge=k?.[st])!=null?ge:0,Tt=jn?Mr:sn-D[vn]-R[vn]-Fi+M.altAxis,Vt=jn?sn+D[vn]+R[vn]-Fi-M.altAxis:ii,Ie=N&&jn?VV(Tt,sn,Vt):Du(N?Tt:Mr,sn,N?Vt:ii);at[st]=Ie,j[st]=Ie-sn}t.modifiersData[s]=j}}const f4={name:"preventOverflow",enabled:!0,phase:"main",fn:c4,requiresIfExists:["offset"]};function h4(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function d4(i){return i===Ln(i)||!Bi(i)?Oy(i):h4(i)}function p4(i){var t=i.getBoundingClientRect(),e=Yo(t.width)/i.offsetWidth||1,s=Yo(t.height)/i.offsetHeight||1;return e!==1||s!==1}function m4(i,t,e){e===void 0&&(e=!1);var s=Bi(t),o=Bi(t)&&p4(t),u=Vs(t),f=Qo(i,o,e),d={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(s||!s&&!e)&&((Ns(t)!=="body"||Dy(u))&&(d=d4(t)),Bi(t)?(m=Qo(t,!0),m.x+=t.clientLeft,m.y+=t.clientTop):u&&(m.x=Ny(u))),{x:f.left+d.scrollLeft-m.x,y:f.top+d.scrollTop-m.y,width:f.width,height:f.height}}function g4(i){var t=new Map,e=new Set,s=[];i.forEach(function(u){t.set(u.name,u)});function o(u){e.add(u.name);var f=[].concat(u.requires||[],u.requiresIfExists||[]);f.forEach(function(d){if(!e.has(d)){var m=t.get(d);m&&o(m)}}),s.push(u)}return i.forEach(function(u){e.has(u.name)||o(u)}),s}function y4(i){var t=g4(i);return DV.reduce(function(e,s){return e.concat(t.filter(function(o){return o.phase===s}))},[])}function v4(i){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(i())})})),t}}function _4(i){var t=i.reduce(function(e,s){var o=e[s.name];return e[s.name]=o?Object.assign({},o,s,{options:Object.assign({},o.options,s.options),data:Object.assign({},o.data,s.data)}):s,e},{});return Object.keys(t).map(function(e){return t[e]})}var nA={placement:"bottom",modifiers:[],strategy:"absolute"};function iA(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function E4(i){i===void 0&&(i={});var t=i,e=t.defaultModifiers,s=e===void 0?[]:e,o=t.defaultOptions,u=o===void 0?nA:o;return function(d,m,g){g===void 0&&(g=u);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},nA,u),modifiersData:{},elements:{reference:d,popper:m},attributes:{},styles:{}},T=[],A=!1,N={state:v,setOptions:function(Z){var X=typeof Z=="function"?Z(v.options):Z;z(),v.options=Object.assign({},u,v.options,X),v.scrollParents={reference:Ia(d)?xu(d):d.contextElement?xu(d.contextElement):[],popper:xu(m)};var Q=y4(_4([].concat(s,v.options.modifiers)));return v.orderedModifiers=Q.filter(function(W){return W.enabled}),U(),N.update()},forceUpdate:function(){if(!A){var Z=v.elements,X=Z.reference,Q=Z.popper;if(iA(X,Q)){v.rects={reference:m4(X,fc(Q),v.options.strategy==="fixed"),popper:Cy(Q)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(M){return v.modifiersData[M.name]=Object.assign({},M.data)});for(var W=0;W<v.orderedModifiers.length;W++){if(v.reset===!0){v.reset=!1,W=-1;continue}var st=v.orderedModifiers[W],at=st.fn,D=st.options,R=D===void 0?{}:D,I=st.name;typeof at=="function"&&(v=at({state:v,options:R,name:I,instance:N})||v)}}}},update:v4(function(){return new Promise(function(P){N.forceUpdate(),P(v)})}),destroy:function(){z(),A=!0}};if(!iA(d,m))return N;N.setOptions(g).then(function(P){!A&&g.onFirstUpdate&&g.onFirstUpdate(P)});function U(){v.orderedModifiers.forEach(function(P){var Z=P.name,X=P.options,Q=X===void 0?{}:X,W=P.effect;if(typeof W=="function"){var st=W({state:v,name:Z,instance:N,options:Q}),at=function(){};T.push(st||at)}})}function z(){T.forEach(function(P){return P()}),T=[]}return N}}const T4=E4({defaultModifiers:[i4,l4,HV,FV,a4,e4,f4,UV]}),A4=["enabled","placement","strategy","modifiers"];function S4(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}const b4={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},w4={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:i})=>()=>{const{reference:t,popper:e}=i.elements;if("removeAttribute"in t){const s=(t.getAttribute("aria-describedby")||"").split(",").filter(o=>o.trim()!==e.id);s.length?t.setAttribute("aria-describedby",s.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:i})=>{var t;const{popper:e,reference:s}=i.elements,o=(t=e.getAttribute("role"))==null?void 0:t.toLowerCase();if(e.id&&o==="tooltip"&&"setAttribute"in s){const u=s.getAttribute("aria-describedby");if(u&&u.split(",").indexOf(e.id)!==-1)return;s.setAttribute("aria-describedby",u?`${u},${e.id}`:e.id)}}},R4=[];function C4(i,t,e={}){let{enabled:s=!0,placement:o="bottom",strategy:u="absolute",modifiers:f=R4}=e,d=S4(e,A4);const m=C.useRef(f),g=C.useRef(),v=C.useCallback(()=>{var P;(P=g.current)==null||P.update()},[]),T=C.useCallback(()=>{var P;(P=g.current)==null||P.forceUpdate()},[]),[A,N]=_V(C.useState({placement:o,update:v,forceUpdate:T,attributes:{},styles:{popper:{},arrow:{}}})),U=C.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:P})=>{const Z={},X={};Object.keys(P.elements).forEach(Q=>{Z[Q]=P.styles[Q],X[Q]=P.attributes[Q]}),N({state:P,styles:Z,attributes:X,update:v,forceUpdate:T,placement:P.placement})}}),[v,T,N]),z=C.useMemo(()=>(Nu(m.current,f)||(m.current=f),m.current),[f]);return C.useEffect(()=>{!g.current||!s||g.current.setOptions({placement:o,strategy:u,modifiers:[...z,U,b4]})},[u,o,U,s,z]),C.useEffect(()=>{if(!(!s||i==null||t==null))return g.current=T4(i,t,Object.assign({},d,{placement:o,strategy:u,modifiers:[...z,w4,U]})),()=>{g.current!=null&&(g.current.destroy(),g.current=void 0,N(P=>Object.assign({},P,{attributes:{},styles:{popper:{}}})))}},[s,i,t]),A}function $u(i,t){if(i.contains)return i.contains(t);if(i.compareDocumentPosition)return i===t||!!(i.compareDocumentPosition(t)&16)}var Nm,rA;function I4(){if(rA)return Nm;rA=1;var i=function(){};return Nm=i,Nm}var O4=I4();const N4=Qu(O4),sA=()=>{};function D4(i){return i.button===0}function x4(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}const rh=i=>i&&("current"in i?i.current:i),aA={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function M4(i,t=sA,{disabled:e,clickTrigger:s="click"}={}){const o=C.useRef(!1),u=C.useRef(!1),f=C.useCallback(g=>{const v=rh(i);N4(!!v,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!v||x4(g)||!D4(g)||!!$u(v,g.target)||u.current,u.current=!1},[i]),d=Jn(g=>{const v=rh(i);v&&$u(v,g.target)?u.current=!0:u.current=!1}),m=Jn(g=>{o.current||t(g)});C.useEffect(()=>{var g,v;if(e||i==null)return;const T=sl(rh(i)),A=T.defaultView||window;let N=(g=A.event)!=null?g:(v=A.parent)==null?void 0:v.event,U=null;aA[s]&&(U=Tr(T,aA[s],d,!0));const z=Tr(T,s,f,!0),P=Tr(T,s,X=>{if(X===N){N=void 0;return}m(X)});let Z=[];return"ontouchstart"in T.documentElement&&(Z=[].slice.call(T.body.children).map(X=>Tr(X,"mousemove",sA))),()=>{U?.(),z(),P(),Z.forEach(X=>X())}},[i,e,s,f,d,m])}function V4(i){const t={};return Array.isArray(i)?(i?.forEach(e=>{t[e.name]=e}),t):i||t}function k4(i={}){return Array.isArray(i)?i:Object.keys(i).map(t=>(i[t].name=t,i[t]))}function P4({enabled:i,enableEvents:t,placement:e,flip:s,offset:o,fixed:u,containerPadding:f,arrowElement:d,popperConfig:m={}}){var g,v,T,A;const N=V4(m.modifiers);return Object.assign({},m,{placement:e,enabled:i,strategy:u?"fixed":m.strategy,modifiers:k4(Object.assign({},N,{eventListeners:{enabled:t,options:(g=N.eventListeners)==null?void 0:g.options},preventOverflow:Object.assign({},N.preventOverflow,{options:Object.assign({padding:f},(v=N.preventOverflow)==null?void 0:v.options)}),offset:{options:Object.assign({offset:o},(T=N.offset)==null?void 0:T.options)},arrow:Object.assign({},N.arrow,{enabled:!!d,options:Object.assign({},(A=N.arrow)==null?void 0:A.options,{element:d})}),flip:Object.assign({enabled:!!s},N.flip)}))})}const Ih=C.createContext(null),xy=(i,t=null)=>i!=null?String(i):t||null,My=C.createContext(null);My.displayName="NavContext";const L4="data-rr-ui-",U4="rrUi";function ad(i){return`${L4}${i}`}function j4(i){return`${U4}${i}`}const kw=C.createContext(al?window:void 0);kw.Provider;function Vy(){return C.useContext(kw)}const B4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",z4=typeof document<"u",Pw=z4||B4?C.useLayoutEffect:C.useEffect,Lw=C.createContext(null);Lw.displayName="InputGroupContext";const ol=C.createContext(null);ol.displayName="NavbarContext";const H4={type:hn.string,tooltip:hn.bool,as:hn.elementType},od=C.forwardRef(({as:i="div",className:t,type:e="valid",tooltip:s=!1,...o},u)=>w.jsx(i,{...o,ref:u,className:dt(t,`${e}-${s?"tooltip":"feedback"}`)}));od.displayName="Feedback";od.propTypes=H4;const Or=C.createContext({}),hc=C.forwardRef(({id:i,bsPrefix:t,className:e,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:f="input",...d},m)=>{const{controlId:g}=C.useContext(Or);return t=gt(t,"form-check-input"),w.jsx(f,{...d,ref:m,type:s,id:i||g,className:dt(e,t,o&&"is-valid",u&&"is-invalid")})});hc.displayName="FormCheckInput";const Oh=C.forwardRef(({bsPrefix:i,className:t,htmlFor:e,...s},o)=>{const{controlId:u}=C.useContext(Or);return i=gt(i,"form-check-label"),w.jsx("label",{...s,ref:o,htmlFor:e||u,className:dt(t,i)})});Oh.displayName="FormCheckLabel";const Uw=C.forwardRef(({id:i,bsPrefix:t,bsSwitchPrefix:e,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:f=!1,isInvalid:d=!1,feedbackTooltip:m=!1,feedback:g,feedbackType:v,className:T,style:A,title:N="",type:U="checkbox",label:z,children:P,as:Z="input",...X},Q)=>{t=gt(t,"form-check"),e=gt(e,"form-switch");const{controlId:W}=C.useContext(Or),st=C.useMemo(()=>({controlId:i||W}),[W,i]),at=!P&&z!=null&&z!==!1||mV(P,Oh),D=w.jsx(hc,{...X,type:U==="switch"?"checkbox":U,ref:Q,isValid:f,isInvalid:d,disabled:u,as:Z});return w.jsx(Or.Provider,{value:st,children:w.jsx("div",{style:A,className:dt(T,at&&t,s&&`${t}-inline`,o&&`${t}-reverse`,U==="switch"&&e),children:P||w.jsxs(w.Fragment,{children:[D,at&&w.jsx(Oh,{title:N,children:z}),g&&w.jsx(od,{type:v,tooltip:m,children:g})]})})})});Uw.displayName="FormCheck";const Nh=Object.assign(Uw,{Input:hc,Label:Oh}),jw=C.forwardRef(({bsPrefix:i,type:t,size:e,htmlSize:s,id:o,className:u,isValid:f=!1,isInvalid:d=!1,plaintext:m,readOnly:g,as:v="input",...T},A)=>{const{controlId:N}=C.useContext(Or);return i=gt(i,"form-control"),w.jsx(v,{...T,type:t,size:s,ref:A,readOnly:g,id:o||N,className:dt(u,m?`${i}-plaintext`:i,e&&`${i}-${e}`,t==="color"&&`${i}-color`,f&&"is-valid",d&&"is-invalid")})});jw.displayName="FormControl";const q4=Object.assign(jw,{Feedback:od}),Bw=C.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"form-floating"),w.jsx(e,{ref:o,className:dt(i,t),...s})));Bw.displayName="FormFloating";const ky=C.forwardRef(({controlId:i,as:t="div",...e},s)=>{const o=C.useMemo(()=>({controlId:i}),[i]);return w.jsx(Or.Provider,{value:o,children:w.jsx(t,{...e,ref:s})})});ky.displayName="FormGroup";const zw=C.forwardRef(({as:i="label",bsPrefix:t,column:e=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...f},d)=>{const{controlId:m}=C.useContext(Or);t=gt(t,"form-label");let g="col-form-label";typeof e=="string"&&(g=`${g} ${g}-${e}`);const v=dt(o,t,s&&"visually-hidden",e&&g);return u=u||m,e?w.jsx(Ca,{ref:d,as:"label",className:v,htmlFor:u,...f}):w.jsx(i,{ref:d,className:v,htmlFor:u,...f})});zw.displayName="FormLabel";const Hw=C.forwardRef(({bsPrefix:i,className:t,id:e,...s},o)=>{const{controlId:u}=C.useContext(Or);return i=gt(i,"form-range"),w.jsx("input",{...s,type:"range",ref:o,className:dt(t,i),id:e||u})});Hw.displayName="FormRange";const qw=C.forwardRef(({bsPrefix:i,size:t,htmlSize:e,className:s,isValid:o=!1,isInvalid:u=!1,id:f,...d},m)=>{const{controlId:g}=C.useContext(Or);return i=gt(i,"form-select"),w.jsx("select",{...d,size:e,ref:m,className:dt(s,i,t&&`${i}-${t}`,o&&"is-valid",u&&"is-invalid"),id:f||g})});qw.displayName="FormSelect";const Fw=C.forwardRef(({bsPrefix:i,className:t,as:e="small",muted:s,...o},u)=>(i=gt(i,"form-text"),w.jsx(e,{...o,ref:u,className:dt(t,i,s&&"text-muted")})));Fw.displayName="FormText";const Gw=C.forwardRef((i,t)=>w.jsx(Nh,{...i,ref:t,type:"switch"}));Gw.displayName="Switch";const F4=Object.assign(Gw,{Input:Nh.Input,Label:Nh.Label}),vr=C.forwardRef(({bsPrefix:i,className:t,children:e,controlId:s,label:o,...u},f)=>(i=gt(i,"form-floating"),w.jsxs(ky,{ref:f,className:dt(t,i),controlId:s,...u,children:[e,w.jsx("label",{htmlFor:s,children:o})]})));vr.displayName="FloatingLabel";const G4={_ref:hn.any,validated:hn.bool,as:hn.elementType},Py=C.forwardRef(({className:i,validated:t,as:e="form",...s},o)=>w.jsx(e,{...s,ref:o,className:dt(i,t&&"was-validated")}));Py.displayName="Form";Py.propTypes=G4;const fe=Object.assign(Py,{Group:ky,Control:q4,Floating:Bw,Check:Nh,Switch:F4,Label:zw,Text:Fw,Range:Hw,Select:qw,FloatingLabel:vr}),ld=C.forwardRef(({className:i,bsPrefix:t,as:e="span",...s},o)=>(t=gt(t,"input-group-text"),w.jsx(e,{ref:o,className:dt(i,t),...s})));ld.displayName="InputGroupText";const $4=i=>w.jsx(ld,{children:w.jsx(hc,{type:"checkbox",...i})}),K4=i=>w.jsx(ld,{children:w.jsx(hc,{type:"radio",...i})}),$w=C.forwardRef(({bsPrefix:i,size:t,hasValidation:e,className:s,as:o="div",...u},f)=>{i=gt(i,"input-group");const d=C.useMemo(()=>({}),[]);return w.jsx(Lw.Provider,{value:d,children:w.jsx(o,{ref:f,...u,className:dt(s,i,t&&`${i}-${t}`,e&&"has-validation")})})});$w.displayName="InputGroup";const Kw=Object.assign($w,{Text:ld,Radio:K4,Checkbox:$4}),oA=i=>!i||typeof i=="function"?i:t=>{i.current=t};function Y4(i,t){const e=oA(i),s=oA(t);return o=>{e&&e(o),s&&s(o)}}function dc(i,t){return C.useMemo(()=>Y4(i,t),[i,t])}const Yw=C.createContext(null),Q4=["as","active","eventKey"];function X4(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function Qw({key:i,onClick:t,active:e,id:s,role:o,disabled:u}){const f=C.useContext(Ih),d=C.useContext(My),m=C.useContext(Yw);let g=e;const v={role:o};if(d){!o&&d.role==="tablist"&&(v.role="tab");const T=d.getControllerId(i??null),A=d.getControlledId(i??null);v[ad("event-key")]=i,v.id=T||s,g=e==null&&i!=null?d.activeKey===i:e,(g||!(m!=null&&m.unmountOnExit)&&!(m!=null&&m.mountOnEnter))&&(v["aria-controls"]=A)}return v.role==="tab"&&(v["aria-selected"]=g,g||(v.tabIndex=-1),u&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=Jn(T=>{u||(t?.(T),i!=null&&f&&!T.isPropagationStopped()&&f(i,T))}),[v,{isActive:g}]}const Xw=C.forwardRef((i,t)=>{let{as:e=fw,active:s,eventKey:o}=i,u=X4(i,Q4);const[f,d]=Qw(Object.assign({key:xy(o,u.href),active:s},u));return f[ad("active")]=d.isActive,w.jsx(e,Object.assign({},u,f,{ref:t}))});Xw.displayName="NavItem";const W4=["as","onSelect","activeKey","role","onKeyDown"];function Z4(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}const lA=()=>{},uA=ad("event-key"),Ww=C.forwardRef((i,t)=>{let{as:e="div",onSelect:s,activeKey:o,role:u,onKeyDown:f}=i,d=Z4(i,W4);const m=vV(),g=C.useRef(!1),v=C.useContext(Ih),T=C.useContext(Yw);let A,N;T&&(u=u||"tablist",o=T.activeKey,A=T.getControlledId,N=T.getControllerId);const U=C.useRef(null),z=Q=>{const W=U.current;if(!W)return null;const st=ga(W,`[${uA}]:not([aria-disabled=true])`),at=W.querySelector("[aria-selected=true]");if(!at||at!==document.activeElement)return null;const D=st.indexOf(at);if(D===-1)return null;let R=D+Q;return R>=st.length&&(R=0),R<0&&(R=st.length-1),st[R]},P=(Q,W)=>{Q!=null&&(s?.(Q,W),v?.(Q,W))},Z=Q=>{if(f?.(Q),!T)return;let W;switch(Q.key){case"ArrowLeft":case"ArrowUp":W=z(-1);break;case"ArrowRight":case"ArrowDown":W=z(1);break;default:return}W&&(Q.preventDefault(),P(W.dataset[j4("EventKey")]||null,Q),g.current=!0,m())};C.useEffect(()=>{if(U.current&&g.current){const Q=U.current.querySelector(`[${uA}][aria-selected=true]`);Q?.focus()}g.current=!1});const X=dc(t,U);return w.jsx(Ih.Provider,{value:P,children:w.jsx(My.Provider,{value:{role:u,activeKey:xy(o),getControlledId:A||lA,getControllerId:N||lA},children:w.jsx(e,Object.assign({},d,{onKeyDown:Z,ref:X,role:u}))})})});Ww.displayName="Nav";const J4=Object.assign(Ww,{Item:Xw});var Gf;function cA(i){if((!Gf&&Gf!==0||i)&&al){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Gf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Gf}function tk(){return C.useState(null)}function Dm(i){i===void 0&&(i=sl());try{var t=i.activeElement;return!t||!t.nodeName?null:t}catch{return i.body}}function ek(i){const t=C.useRef(i);return t.current=i,t}function nk(i){const t=ek(i);C.useEffect(()=>()=>t.current(),[])}function ik(i=document){const t=i.defaultView;return Math.abs(t.innerWidth-i.documentElement.clientWidth)}const fA=ad("modal-open");class Ly{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:s=!1}={}){this.handleContainerOverflow=e,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return ik(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(e[s]=`${parseInt(Sr(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(fA,""),Sr(o,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(fA),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const xm=(i,t)=>al?i==null?(t||sl()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function yg(i,t){const e=Vy(),[s,o]=C.useState(()=>xm(i,e?.document));if(!s){const u=xm(i);u&&o(u)}return C.useEffect(()=>{},[t,s]),C.useEffect(()=>{const u=xm(i);u!==s&&o(u)},[i,s]),s}function rk({children:i,in:t,onExited:e,mountOnEnter:s,unmountOnExit:o}){const u=C.useRef(null),f=C.useRef(t),d=Jn(e);C.useEffect(()=>{t?f.current=!0:d(u.current)},[t,d]);const m=dc(u,xa(i)),g=C.cloneElement(i,{ref:m});return t?g:o||!f.current&&s?null:g}const sk=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ak(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function ok(i){let{onEnter:t,onEntering:e,onEntered:s,onExit:o,onExiting:u,onExited:f,addEndListener:d,children:m}=i,g=ak(i,sk);const v=C.useRef(null),T=dc(v,xa(m)),A=W=>st=>{W&&v.current&&W(v.current,st)},N=C.useCallback(A(t),[t]),U=C.useCallback(A(e),[e]),z=C.useCallback(A(s),[s]),P=C.useCallback(A(o),[o]),Z=C.useCallback(A(u),[u]),X=C.useCallback(A(f),[f]),Q=C.useCallback(A(d),[d]);return Object.assign({},g,{nodeRef:v},t&&{onEnter:N},e&&{onEntering:U},s&&{onEntered:z},o&&{onExit:P},u&&{onExiting:Z},f&&{onExited:X},d&&{addEndListener:Q},{children:typeof m=="function"?(W,st)=>m(W,Object.assign({},st,{ref:T})):C.cloneElement(m,{ref:T})})}const lk=["component"];function uk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}const ck=C.forwardRef((i,t)=>{let{component:e}=i,s=uk(i,lk);const o=ok(s);return w.jsx(e,Object.assign({ref:t},o))});function fk({in:i,onTransition:t}){const e=C.useRef(null),s=C.useRef(!0),o=Jn(t);return $0(()=>{if(!e.current)return;let u=!1;return o({in:i,element:e.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[i,o]),$0(()=>(s.current=!1,()=>{s.current=!0}),[]),e}function hk({children:i,in:t,onExited:e,onEntered:s,transition:o}){const[u,f]=C.useState(!t);t&&u&&f(!1);const d=fk({in:!!t,onTransition:g=>{const v=()=>{g.isStale()||(g.in?s?.(g.element,g.initial):(f(!0),e?.(g.element)))};Promise.resolve(o(g)).then(v,T=>{throw g.in||f(!0),T})}}),m=dc(d,xa(i));return u&&!t?null:C.cloneElement(i,{ref:m})}function vg(i,t,e){return i?w.jsx(ck,Object.assign({},e,{component:i})):t?w.jsx(hk,Object.assign({},e,{transition:t})):w.jsx(rk,Object.assign({},e))}const dk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function pk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}let Mm;function mk(i){return Mm||(Mm=new Ly({ownerDocument:i?.document})),Mm}function gk(i){const t=Vy(),e=i||mk(t),s=C.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>e.add(s.current),remove:()=>e.remove(s.current),isTopModal:()=>e.isTopModal(s.current),setDialogRef:C.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:C.useCallback(o=>{s.current.backdrop=o},[])})}const Zw=C.forwardRef((i,t)=>{let{show:e=!1,role:s="dialog",className:o,style:u,children:f,backdrop:d=!0,keyboard:m=!0,onBackdropClick:g,onEscapeKeyDown:v,transition:T,runTransition:A,backdropTransition:N,runBackdropTransition:U,autoFocus:z=!0,enforceFocus:P=!0,restoreFocus:Z=!0,restoreFocusOptions:X,renderDialog:Q,renderBackdrop:W=Kt=>w.jsx("div",Object.assign({},Kt)),manager:st,container:at,onShow:D,onHide:R=()=>{},onExit:I,onExited:M,onExiting:k,onEnter:j,onEntering:O,onEntered:xt}=i,Ct=pk(i,dk);const $=Vy(),lt=yg(at),ft=gk(st),Ot=cw(),V=ZM(e),[tt,ut]=C.useState(!e),rt=C.useRef(null);C.useImperativeHandle(t,()=>ft,[ft]),al&&!V&&e&&(rt.current=Dm($?.document)),e&&tt&&ut(!1);const ht=Jn(()=>{if(ft.add(),Ge.current=Tr(document,"keydown",Pt),Te.current=Tr(document,"focus",()=>setTimeout(Et),!0),D&&D(),z){var Kt,Un;const ge=Dm((Kt=(Un=ft.dialog)==null?void 0:Un.ownerDocument)!=null?Kt:$?.document);ft.dialog&&ge&&!$u(ft.dialog,ge)&&(rt.current=ge,ft.dialog.focus())}}),vt=Jn(()=>{if(ft.remove(),Ge.current==null||Ge.current(),Te.current==null||Te.current(),Z){var Kt;(Kt=rt.current)==null||Kt.focus==null||Kt.focus(X),rt.current=null}});C.useEffect(()=>{!e||!lt||ht()},[e,lt,ht]),C.useEffect(()=>{tt&&vt()},[tt,vt]),nk(()=>{vt()});const Et=Jn(()=>{if(!P||!Ot()||!ft.isTopModal())return;const Kt=Dm($?.document);ft.dialog&&Kt&&!$u(ft.dialog,Kt)&&ft.dialog.focus()}),te=Jn(Kt=>{Kt.target===Kt.currentTarget&&(g?.(Kt),d===!0&&R())}),Pt=Jn(Kt=>{m&&Wb(Kt)&&ft.isTopModal()&&(v?.(Kt),Kt.defaultPrevented||R())}),Te=C.useRef(),Ge=C.useRef(),Le=(...Kt)=>{ut(!0),M?.(...Kt)};if(!lt)return null;const en=Object.assign({role:s,ref:ft.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Ct,{style:u,className:o,tabIndex:-1});let nn=Q?Q(en):w.jsx("div",Object.assign({},en,{children:C.cloneElement(f,{role:"document"})}));nn=vg(T,A,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:I,onExiting:k,onExited:Le,onEnter:j,onEntering:O,onEntered:xt,children:nn});let rn=null;return d&&(rn=W({ref:ft.setBackdropRef,onClick:te}),rn=vg(N,U,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:rn})),w.jsx(w.Fragment,{children:va.createPortal(w.jsxs(w.Fragment,{children:[rn,nn]}),lt)})});Zw.displayName="Modal";const Jw=Object.assign(Zw,{Manager:Ly});function _g(i,t){return i.classList?!!t&&i.classList.contains(t):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")!==-1}function yk(i,t){i.classList?i.classList.add(t):_g(i,t)||(typeof i.className=="string"?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}function hA(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function vk(i,t){i.classList?i.classList.remove(t):typeof i.className=="string"?i.className=hA(i.className,t):i.setAttribute("class",hA(i.className&&i.className.baseVal||"",t))}const wo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class t1 extends Ly{adjustAndStore(t,e,s){const o=e.style[t];e.dataset[t]=o,Sr(e,{[t]:`${parseFloat(Sr(e,t))+s}px`})}restore(t,e){const s=e.dataset[t];s!==void 0&&(delete e.dataset[t],Sr(e,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(yk(e,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ga(e,wo.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,t.scrollBarWidth)),ga(e,wo.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-t.scrollBarWidth)),ga(e,wo.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();vk(e,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ga(e,wo.FIXED_CONTENT).forEach(u=>this.restore(s,u)),ga(e,wo.STICKY_CONTENT).forEach(u=>this.restore(o,u)),ga(e,wo.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let Vm;function e1(i){return Vm||(Vm=new t1(i)),Vm}const n1=C.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"modal-body"),w.jsx(e,{ref:o,className:dt(i,t),...s})));n1.displayName="ModalBody";const Uy=C.createContext({onHide(){}}),jy=C.forwardRef(({bsPrefix:i,className:t,contentClassName:e,centered:s,size:o,fullscreen:u,children:f,scrollable:d,...m},g)=>{i=gt(i,"modal");const v=`${i}-dialog`,T=typeof u=="string"?`${i}-fullscreen-${u}`:`${i}-fullscreen`;return w.jsx("div",{...m,ref:g,className:dt(v,t,o&&`${i}-${o}`,s&&`${v}-centered`,d&&`${v}-scrollable`,u&&T),children:w.jsx("div",{className:dt(`${i}-content`,e),children:f})})});jy.displayName="ModalDialog";const i1=C.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"modal-footer"),w.jsx(e,{ref:o,className:dt(i,t),...s})));i1.displayName="ModalFooter";const By=C.forwardRef(({closeLabel:i="Close",closeVariant:t,closeButton:e=!1,onHide:s,children:o,...u},f)=>{const d=C.useContext(Uy),m=Is(()=>{d?.onHide(),s?.()});return w.jsxs("div",{ref:f,...u,children:[o,e&&w.jsx(rd,{"aria-label":i,variant:t,onClick:m})]})});By.displayName="AbstractModalHeader";const r1=C.forwardRef(({bsPrefix:i,className:t,closeLabel:e="Close",closeButton:s=!1,...o},u)=>(i=gt(i,"modal-header"),w.jsx(By,{ref:u,...o,className:dt(t,i),closeLabel:e,closeButton:s})));r1.displayName="ModalHeader";const _k=uc("h4"),s1=C.forwardRef(({className:i,bsPrefix:t,as:e=_k,...s},o)=>(t=gt(t,"modal-title"),w.jsx(e,{ref:o,className:dt(i,t),...s})));s1.displayName="ModalTitle";function Ek(i){return w.jsx(Os,{...i,timeout:null})}function Tk(i){return w.jsx(Os,{...i,timeout:null})}const a1=C.forwardRef(({bsPrefix:i,className:t,style:e,dialogClassName:s,contentClassName:o,children:u,dialogAs:f=jy,"data-bs-theme":d,"aria-labelledby":m,"aria-describedby":g,"aria-label":v,show:T=!1,animation:A=!0,backdrop:N=!0,keyboard:U=!0,onEscapeKeyDown:z,onShow:P,onHide:Z,container:X,autoFocus:Q=!0,enforceFocus:W=!0,restoreFocus:st=!0,restoreFocusOptions:at,onEntered:D,onExit:R,onExiting:I,onEnter:M,onEntering:k,onExited:j,backdropClassName:O,manager:xt,...Ct},$)=>{const[lt,ft]=C.useState({}),[Ot,V]=C.useState(!1),tt=C.useRef(!1),ut=C.useRef(!1),rt=C.useRef(null),[ht,vt]=tk(),Et=ed($,vt),te=Is(Z),Pt=my();i=gt(i,"modal");const Te=C.useMemo(()=>({onHide:te}),[te]);function Ge(){return xt||e1({isRTL:Pt})}function Le(Tt){if(!al)return;const Vt=Ge().getScrollbarWidth()>0,Ie=Tt.scrollHeight>sl(Tt).documentElement.clientHeight;ft({paddingRight:Vt&&!Ie?cA():void 0,paddingLeft:!Vt&&Ie?cA():void 0})}const en=Is(()=>{ht&&Le(ht.dialog)});bw(()=>{dg(window,"resize",en),rt.current==null||rt.current()});const nn=()=>{tt.current=!0},rn=Tt=>{tt.current&&ht&&Tt.target===ht.dialog&&(ut.current=!0),tt.current=!1},Kt=()=>{V(!0),rt.current=Jb(ht.dialog,()=>{V(!1)})},Un=Tt=>{Tt.target===Tt.currentTarget&&Kt()},ge=Tt=>{if(N==="static"){Un(Tt);return}if(ut.current||Tt.target!==Tt.currentTarget){ut.current=!1;return}Z?.()},ks=Tt=>{U?z?.(Tt):(Tt.preventDefault(),N==="static"&&Kt())},qi=(Tt,Vt)=>{Tt&&Le(Tt),M?.(Tt,Vt)},sn=Tt=>{rt.current==null||rt.current(),R?.(Tt)},vn=(Tt,Vt)=>{k?.(Tt,Vt),Zb(window,"resize",en)},Mr=Tt=>{Tt&&(Tt.style.display=""),j?.(Tt),dg(window,"resize",en)},ii=C.useCallback(Tt=>w.jsx("div",{...Tt,className:dt(`${i}-backdrop`,O,!A&&"show")}),[A,O,i]),jn={...e,...lt};jn.display="block";const Fi=Tt=>w.jsx("div",{role:"dialog",...Tt,style:jn,className:dt(t,i,Ot&&`${i}-static`,!A&&"show"),onClick:N?ge:void 0,onMouseUp:rn,"data-bs-theme":d,"aria-label":v,"aria-labelledby":m,"aria-describedby":g,children:w.jsx(f,{...Ct,onMouseDown:nn,className:s,contentClassName:o,children:u})});return w.jsx(Uy.Provider,{value:Te,children:w.jsx(Jw,{show:T,ref:Et,backdrop:N,container:X,keyboard:!0,autoFocus:Q,enforceFocus:W,restoreFocus:st,restoreFocusOptions:at,onEscapeKeyDown:ks,onShow:P,onHide:Z,onEnter:qi,onEntering:vn,onEntered:D,onExit:sn,onExiting:I,onExited:Mr,manager:Ge(),transition:A?Ek:void 0,backdropTransition:A?Tk:void 0,renderBackdrop:ii,renderDialog:Fi})})});a1.displayName="Modal";const ti=Object.assign(a1,{Body:n1,Header:r1,Title:s1,Footer:i1,Dialog:jy,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),o1=C.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"nav-item"),w.jsx(e,{ref:o,className:dt(i,t),...s})));o1.displayName="NavItem";const l1=C.forwardRef(({bsPrefix:i,className:t,as:e=Ty,active:s,eventKey:o,disabled:u=!1,...f},d)=>{i=gt(i,"nav-link");const[m,g]=Qw({key:xy(o,f.href),active:s,disabled:u,...f});return w.jsx(e,{...f,...m,ref:d,disabled:u,className:dt(t,i,u&&"disabled",g.isActive&&"active")})});l1.displayName="NavLink";const u1=C.forwardRef((i,t)=>{const{as:e="div",bsPrefix:s,variant:o,fill:u=!1,justify:f=!1,navbar:d,navbarScroll:m,className:g,activeKey:v,...T}=td(i,{activeKey:"onSelect"}),A=gt(s,"nav");let N,U,z=!1;const P=C.useContext(ol),Z=C.useContext(Sy);return P?(N=P.bsPrefix,z=d??!0):Z&&({cardHeaderBsPrefix:U}=Z),w.jsx(J4,{as:e,ref:t,activeKey:v,className:dt(g,{[A]:!z,[`${N}-nav`]:z,[`${N}-nav-scroll`]:z&&m,[`${U}-${o}`]:!!U,[`${A}-${o}`]:!!o,[`${A}-fill`]:u,[`${A}-justified`]:f}),...T})});u1.displayName="Nav";const dA=Object.assign(u1,{Item:o1,Link:l1}),c1=C.forwardRef(({bsPrefix:i,className:t,as:e,...s},o)=>{i=gt(i,"navbar-brand");const u=e||(s.href?"a":"span");return w.jsx(u,{...s,ref:o,className:dt(t,i)})});c1.displayName="NavbarBrand";const f1=C.forwardRef(({children:i,bsPrefix:t,...e},s)=>{t=gt(t,"navbar-collapse");const o=C.useContext(ol);return w.jsx(yy,{in:!!(o&&o.expanded),...e,children:w.jsx("div",{ref:s,className:t,children:i})})});f1.displayName="NavbarCollapse";const h1=C.forwardRef(({bsPrefix:i,className:t,children:e,label:s="Toggle navigation",as:o="button",onClick:u,...f},d)=>{i=gt(i,"navbar-toggler");const{onToggle:m,expanded:g}=C.useContext(ol)||{},v=Is(T=>{u&&u(T),m&&m()});return o==="button"&&(f.type="button"),w.jsx(o,{...f,ref:d,onClick:v,"aria-label":s,className:dt(t,i,!g&&"collapsed"),children:e||w.jsx("span",{className:`${i}-icon`})})});h1.displayName="NavbarToggle";const Eg=new WeakMap,pA=(i,t)=>{if(!i||!t)return;const e=Eg.get(t)||new Map;Eg.set(t,e);let s=e.get(i);return s||(s=t.matchMedia(i),s.refCount=0,e.set(s.media,s)),s};function Ak(i,t=typeof window>"u"?void 0:window){const e=pA(i,t),[s,o]=C.useState(()=>e?e.matches:!1);return Pw(()=>{let u=pA(i,t);if(!u)return o(!1);let f=Eg.get(t);const d=()=>{o(u.matches)};return u.refCount++,u.addListener(d),d(),()=>{u.removeListener(d),u.refCount--,u.refCount<=0&&f?.delete(u.media),u=void 0}},[i]),s}function Sk(i){const t=Object.keys(i);function e(d,m){return d===m?m:d?`${d} and ${m}`:m}function s(d){return t[Math.min(t.indexOf(d)+1,t.length-1)]}function o(d){const m=s(d);let g=i[m];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function u(d){let m=i[d];return typeof m=="number"&&(m=`${m}px`),`(min-width: ${m})`}function f(d,m,g){let v;typeof d=="object"?(v=d,g=m,m=!0):(m=m||!0,v={[d]:m});let T=C.useMemo(()=>Object.entries(v).reduce((A,[N,U])=>((U==="up"||U===!0)&&(A=e(A,u(N))),(U==="down"||U===!0)&&(A=e(A,o(N))),A),""),[JSON.stringify(v)]);return Ak(T,g)}return f}const bk=Sk({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),d1=C.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"offcanvas-body"),w.jsx(e,{ref:o,className:dt(i,t),...s})));d1.displayName="OffcanvasBody";const wk={[ci]:"show",[yr]:"show"},p1=C.forwardRef(({bsPrefix:i,className:t,children:e,in:s=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:f=!1,...d},m)=>(i=gt(i,"offcanvas"),w.jsx(nd,{ref:m,addEndListener:gy,in:s,mountOnEnter:o,unmountOnExit:u,appear:f,...d,childRef:xa(e),children:(g,v)=>C.cloneElement(e,{...v,className:dt(t,e.props.className,(g===ci||g===qu)&&`${i}-toggling`,wk[g])})})));p1.displayName="OffcanvasToggling";const m1=C.forwardRef(({bsPrefix:i,className:t,closeLabel:e="Close",closeButton:s=!1,...o},u)=>(i=gt(i,"offcanvas-header"),w.jsx(By,{ref:u,...o,className:dt(t,i),closeLabel:e,closeButton:s})));m1.displayName="OffcanvasHeader";const Rk=uc("h5"),g1=C.forwardRef(({className:i,bsPrefix:t,as:e=Rk,...s},o)=>(t=gt(t,"offcanvas-title"),w.jsx(e,{ref:o,className:dt(i,t),...s})));g1.displayName="OffcanvasTitle";function Ck(i){return w.jsx(p1,{...i})}function Ik(i){return w.jsx(Os,{...i})}const y1=C.forwardRef(({bsPrefix:i,className:t,children:e,"aria-labelledby":s,placement:o="start",responsive:u,show:f=!1,backdrop:d=!0,keyboard:m=!0,scroll:g=!1,onEscapeKeyDown:v,onShow:T,onHide:A,container:N,autoFocus:U=!0,enforceFocus:z=!0,restoreFocus:P=!0,restoreFocusOptions:Z,onEntered:X,onExit:Q,onExiting:W,onEnter:st,onEntering:at,onExited:D,backdropClassName:R,manager:I,renderStaticNode:M=!1,...k},j)=>{const O=C.useRef();i=gt(i,"offcanvas");const[xt,Ct]=C.useState(!1),$=Is(A),lt=bk(u||"xs","up");C.useEffect(()=>{Ct(u?f&&!lt:f)},[f,u,lt]);const ft=C.useMemo(()=>({onHide:$}),[$]);function Ot(){return I||(g?(O.current||(O.current=new t1({handleContainerOverflow:!1})),O.current):e1())}const V=(ht,...vt)=>{ht&&(ht.style.visibility="visible"),st?.(ht,...vt)},tt=(ht,...vt)=>{ht&&(ht.style.visibility=""),D?.(...vt)},ut=C.useCallback(ht=>w.jsx("div",{...ht,className:dt(`${i}-backdrop`,R)}),[R,i]),rt=ht=>w.jsx("div",{...ht,...k,className:dt(t,u?`${i}-${u}`:i,`${i}-${o}`),"aria-labelledby":s,children:e});return w.jsxs(w.Fragment,{children:[!xt&&(u||M)&&rt({}),w.jsx(Uy.Provider,{value:ft,children:w.jsx(Jw,{show:xt,ref:j,backdrop:d,container:N,keyboard:m,autoFocus:U,enforceFocus:z&&!g,restoreFocus:P,restoreFocusOptions:Z,onEscapeKeyDown:v,onShow:T,onHide:$,onEnter:V,onEntering:at,onEntered:X,onExit:Q,onExiting:W,onExited:tt,manager:Ot(),transition:Ck,backdropTransition:Ik,renderBackdrop:ut,renderDialog:rt})})]})});y1.displayName="Offcanvas";const Ok=Object.assign(y1,{Body:d1,Header:m1,Title:g1}),v1=C.forwardRef(({onHide:i,...t},e)=>{const s=C.useContext(ol),o=Is(()=>{s==null||s.onToggle==null||s.onToggle(),i?.()});return w.jsx(Ok,{ref:e,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});v1.displayName="NavbarOffcanvas";const _1=C.forwardRef(({className:i,bsPrefix:t,as:e="span",...s},o)=>(t=gt(t,"navbar-text"),w.jsx(e,{ref:o,className:dt(i,t),...s})));_1.displayName="NavbarText";const E1=C.forwardRef((i,t)=>{const{bsPrefix:e,expand:s=!0,variant:o="light",bg:u,fixed:f,sticky:d,className:m,as:g="nav",expanded:v,onToggle:T,onSelect:A,collapseOnSelect:N=!1,...U}=td(i,{expanded:"onToggle"}),z=gt(e,"navbar"),P=C.useCallback((...Q)=>{A?.(...Q),N&&v&&T?.(!1)},[A,N,v,T]);U.role===void 0&&g!=="nav"&&(U.role="navigation");let Z=`${z}-expand`;typeof s=="string"&&(Z=`${Z}-${s}`);const X=C.useMemo(()=>({onToggle:()=>T?.(!v),bsPrefix:z,expanded:!!v,expand:s}),[z,v,s,T]);return w.jsx(ol.Provider,{value:X,children:w.jsx(Ih.Provider,{value:P,children:w.jsx(g,{ref:t,...U,className:dt(m,z,s&&Z,o&&`${z}-${o}`,u&&`bg-${u}`,d&&`sticky-${d}`,f&&`fixed-${f}`)})})})});E1.displayName="Navbar";const $f=Object.assign(E1,{Brand:c1,Collapse:f1,Offcanvas:v1,Text:_1,Toggle:h1}),Nk=()=>{};function Dk(i,t,{disabled:e,clickTrigger:s}={}){const o=t||Nk;M4(i,o,{disabled:e,clickTrigger:s});const u=Jn(f=>{Wb(f)&&o(f)});C.useEffect(()=>{if(e||i==null)return;const f=sl(rh(i));let d=(f.defaultView||window).event;const m=Tr(f,"keyup",g=>{if(g===d){d=void 0;return}u(g)});return()=>{m()}},[i,e,u])}const T1=C.forwardRef((i,t)=>{const{flip:e,offset:s,placement:o,containerPadding:u,popperConfig:f={},transition:d,runTransition:m}=i,[g,v]=G0(),[T,A]=G0(),N=dc(v,t),U=yg(i.container),z=yg(i.target),[P,Z]=C.useState(!i.show),X=C4(z,g,P4({placement:o,enableEvents:!!i.show,containerPadding:u||5,flip:e,offset:s,arrowElement:T,popperConfig:f}));i.show&&P&&Z(!1);const Q=(...k)=>{Z(!0),i.onExited&&i.onExited(...k)},W=i.show||!P;if(Dk(g,i.onHide,{disabled:!i.rootClose||i.rootCloseDisabled,clickTrigger:i.rootCloseEvent}),!W)return null;const{onExit:st,onExiting:at,onEnter:D,onEntering:R,onEntered:I}=i;let M=i.children(Object.assign({},X.attributes.popper,{style:X.styles.popper,ref:N}),{popper:X,placement:o,show:!!i.show,arrowProps:Object.assign({},X.attributes.arrow,{style:X.styles.arrow,ref:A})});return M=vg(d,m,{in:!!i.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:M,onExit:st,onExiting:at,onExited:Q,onEnter:D,onEntering:R,onEntered:I}),U?va.createPortal(M,U):null});T1.displayName="Overlay";const A1=C.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"popover-header"),w.jsx(e,{ref:o,className:dt(i,t),...s})));A1.displayName="PopoverHeader";const zy=C.forwardRef(({className:i,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"popover-body"),w.jsx(e,{ref:o,className:dt(i,t),...s})));zy.displayName="PopoverBody";function S1(i,t){let e=i;return i==="left"?e=t?"end":"start":i==="right"&&(e=t?"start":"end"),e}function b1(i="absolute"){return{position:i,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const w1=C.forwardRef(({bsPrefix:i,placement:t="right",className:e,style:s,children:o,body:u,arrowProps:f,hasDoneInitialMeasure:d,popper:m,show:g,...v},T)=>{const A=gt(i,"popover"),N=my(),[U]=t?.split("-")||[],z=S1(U,N);let P=s;return g&&!d&&(P={...s,...b1(m?.strategy)}),w.jsxs("div",{ref:T,role:"tooltip",style:P,"x-placement":U,className:dt(e,A,U&&`bs-popover-${z}`),...v,children:[w.jsx("div",{className:"popover-arrow",...f}),u?w.jsx(zy,{children:o}):o]})});w1.displayName="Popover";const xk=Object.assign(w1,{Header:A1,Body:zy,POPPER_OFFSET:[0,8]}),R1=C.forwardRef(({bsPrefix:i,placement:t="right",className:e,style:s,children:o,arrowProps:u,hasDoneInitialMeasure:f,popper:d,show:m,...g},v)=>{i=gt(i,"tooltip");const T=my(),[A]=t?.split("-")||[],N=S1(A,T);let U=s;return m&&!f&&(U={...s,...b1(d?.strategy)}),w.jsxs("div",{ref:v,style:U,role:"tooltip","x-placement":A,className:dt(e,i,`bs-tooltip-${N}`),...g,children:[w.jsx("div",{className:"tooltip-arrow",...u}),w.jsx("div",{className:`${i}-inner`,children:o})]})});R1.displayName="Tooltip";const Dh=Object.assign(R1,{TOOLTIP_OFFSET:[0,6]});function Mk(i){const t=C.useRef(null),e=gt(void 0,"popover"),s=gt(void 0,"tooltip"),o=C.useMemo(()=>({name:"offset",options:{offset:()=>{if(i)return i;if(t.current){if(_g(t.current,e))return xk.POPPER_OFFSET;if(_g(t.current,s))return Dh.TOOLTIP_OFFSET}return[0,0]}}}),[i,e,s]);return[t,[o]]}function Vk(i,t){const{ref:e}=i,{ref:s}=t;i.ref=e.__wrapped||(e.__wrapped=o=>e(Rh(o))),t.ref=s.__wrapped||(s.__wrapped=o=>s(Rh(o)))}const C1=C.forwardRef(({children:i,transition:t=Os,popperConfig:e={},rootClose:s=!1,placement:o="top",show:u=!1,...f},d)=>{const m=C.useRef({}),[g,v]=C.useState(null),[T,A]=Mk(f.offset),N=ed(d,T),U=t===!0?Os:t||void 0,z=Is(P=>{v(P),e==null||e.onFirstUpdate==null||e.onFirstUpdate(P)});return Pw(()=>{g&&f.target&&(m.current.scheduleUpdate==null||m.current.scheduleUpdate())},[g,f.target]),C.useEffect(()=>{u||v(null)},[u]),w.jsx(T1,{...f,ref:N,popperConfig:{...e,modifiers:A.concat(e.modifiers||[]),onFirstUpdate:z},transition:U,rootClose:s,placement:o,show:u,children:(P,{arrowProps:Z,popper:X,show:Q})=>{var W;Vk(P,Z);const st=X?.placement,at=Object.assign(m.current,{state:X?.state,scheduleUpdate:X?.update,placement:st,outOfBoundaries:(X==null||(W=X.state)==null||(W=W.modifiersData.hide)==null?void 0:W.isReferenceHidden)||!1,strategy:e.strategy}),D=!!g;return typeof i=="function"?i({...P,placement:st,show:Q,...!t&&Q&&{className:"show"},popper:at,arrowProps:Z,hasDoneInitialMeasure:D}):C.cloneElement(i,{...P,placement:st,arrowProps:Z,popper:at,hasDoneInitialMeasure:D,className:dt(i.props.className,!t&&Q&&"show"),style:{...i.props.style,...P.style}})}})});C1.displayName="Overlay";function kk(i){return i&&typeof i=="object"?i:{show:i,hide:i}}function mA(i,t,e){const[s]=t,o=s.currentTarget,u=s.relatedTarget||s.nativeEvent[e];(!u||u!==o)&&!$u(o,u)&&i(...t)}hn.oneOf(["click","hover","focus"]);const Tg=({trigger:i=["hover","focus"],overlay:t,children:e,popperConfig:s={},show:o,defaultShow:u=!1,onToggle:f,delay:d,placement:m,flip:g=m&&m.indexOf("auto")!==-1,...v})=>{const T=C.useRef(null),A=ed(T,xa(e)),N=pV(),U=C.useRef(""),[z,P]=Kb(o,u,f),Z=kk(d),{onFocus:X,onBlur:Q,onClick:W}=typeof e!="function"?C.Children.only(e).props:{},st=Ct=>{A(Rh(Ct))},at=C.useCallback(()=>{if(N.clear(),U.current="show",!Z.show){P(!0);return}N.set(()=>{U.current==="show"&&P(!0)},Z.show)},[Z.show,P,N]),D=C.useCallback(()=>{if(N.clear(),U.current="hide",!Z.hide){P(!1);return}N.set(()=>{U.current==="hide"&&P(!1)},Z.hide)},[Z.hide,P,N]),R=C.useCallback((...Ct)=>{at(),X?.(...Ct)},[at,X]),I=C.useCallback((...Ct)=>{D(),Q?.(...Ct)},[D,Q]),M=C.useCallback((...Ct)=>{P(!z),W?.(...Ct)},[W,P,z]),k=C.useCallback((...Ct)=>{mA(at,Ct,"fromElement")},[at]),j=C.useCallback((...Ct)=>{mA(D,Ct,"toElement")},[D]),O=i==null?[]:[].concat(i),xt={ref:st};return O.indexOf("click")!==-1&&(xt.onClick=M),O.indexOf("focus")!==-1&&(xt.onFocus=R,xt.onBlur=I),O.indexOf("hover")!==-1&&(xt.onMouseOver=k,xt.onMouseOut=j),w.jsxs(w.Fragment,{children:[typeof e=="function"?e(xt):C.cloneElement(e,xt),w.jsx(C1,{...v,show:z,onHide:D,flip:g,placement:m,popperConfig:s,target:T.current,children:t})]})},ko=C.forwardRef(({bsPrefix:i,className:t,as:e="div",...s},o)=>{const u=gt(i,"row"),f=Yb(),d=Qb(),m=`${u}-cols`,g=[];return f.forEach(v=>{const T=s[v];delete s[v];let A;T!=null&&typeof T=="object"?{cols:A}=T:A=T;const N=v!==d?`-${v}`:"";A!=null&&g.push(`${m}${N}-${A}`)}),w.jsx(e,{ref:o,...s,className:dt(t,u,...g)})});ko.displayName="Row";const I1=C.forwardRef(({bsPrefix:i,variant:t,animation:e="border",size:s,as:o="div",className:u,...f},d)=>{i=gt(i,"spinner");const m=`${i}-${e}`;return w.jsx(o,{ref:d,...f,className:dt(u,m,s&&`${m}-${s}`,t&&`text-${t}`)})});I1.displayName="Spinner";const We=[];for(let i=0;i<256;++i)We.push((i+256).toString(16).slice(1));function Pk(i,t=0){return(We[i[t+0]]+We[i[t+1]]+We[i[t+2]]+We[i[t+3]]+"-"+We[i[t+4]]+We[i[t+5]]+"-"+We[i[t+6]]+We[i[t+7]]+"-"+We[i[t+8]]+We[i[t+9]]+"-"+We[i[t+10]]+We[i[t+11]]+We[i[t+12]]+We[i[t+13]]+We[i[t+14]]+We[i[t+15]]).toLowerCase()}let km;const Lk=new Uint8Array(16);function Uk(){if(!km){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");km=crypto.getRandomValues.bind(crypto)}return km(Lk)}const jk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gA={randomUUID:jk};function Bk(i,t,e){if(gA.randomUUID&&!i)return gA.randomUUID();i=i||{};const s=i.random??i.rng?.()??Uk();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Pk(s)}var zk=["color","size","title","className"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},Ag.apply(null,arguments)}function Hk(i,t){if(i==null)return{};var e,s,o=qk(i,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(s=0;s<u.length;s++)e=u[s],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(i,e)&&(o[e]=i[e])}return o}function qk(i,t){if(i==null)return{};var e={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(t.indexOf(s)!==-1)continue;e[s]=i[s]}return e}var O1=C.forwardRef(function(i,t){var e=i.color,s=e===void 0?"currentColor":e,o=i.size,u=o===void 0?"1em":o,f=i.title,d=f===void 0?null:f,m=i.className,g=m===void 0?"":m,v=Hk(i,zk);return kn.createElement("svg",Ag({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:u,height:u,fill:s,className:["bi","bi-trash",g].filter(Boolean).join(" ")},v),d?kn.createElement("title",null,d):null,kn.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),kn.createElement("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"}))});O1.propTypes={color:hn.string,size:hn.oneOfType([hn.string,hn.number]),title:hn.string,className:hn.string};function Po({children:i,text:t,placement:e="top"}){const s=o=>t?w.jsx(Dh,{...o,children:t}):w.jsx("span",{});return w.jsx(Tg,{placement:e,delay:{show:250,hide:400},overlay:s,children:i})}function Fk({handleClose:i,onDelete:t}){return w.jsxs(ti,{show:!0,onHide:i,children:[w.jsx(ti.Header,{closeButton:!0,children:w.jsx(ti.Title,{children:"Are you sure you want to delete this entry?"})}),w.jsxs(ti.Footer,{children:[w.jsx(Rn,{variant:"danger",onClick:()=>{i(),t()},children:"DELETE"}),w.jsx(Rn,{variant:"primary",onClick:i,children:"Cancel"})]})]})}function Gk({entry:i,onDelete:t}){const[e,s]=C.useState(!1),o=m=>{const g=m.target.value,v=Number(g);isNaN(v)||g===""?m.target.value="":v<0?i.setAmount(0):i.setAmount(v)},u=m=>{i.setDate(m.target.value)},f=()=>{i.getAmount()>0?s(!0):i.getMed().removeEntry(i.getId())},d=()=>i.isExpired()?i.getDate()<=new Date?w.jsxs("p",{children:["Panic! ",w.jsx("br",{})," This is expired"]}):w.jsxs("p",{children:["Panic soon! ",w.jsx("br",{})," This is almost expired!"]}):"Expiry date goes here";return w.jsxs(w.Fragment,{children:[e&&w.jsx(Fk,{handleClose:()=>s(!1),onDelete:()=>i.getMed().removeEntry(i.getId())}),w.jsx(fe,{children:w.jsx(fe.Group,{className:"mb-3",controlId:"fromDate",children:w.jsxs(Kw,{children:[w.jsx(Po,{placement:"top",text:d(),children:w.jsx(fe.Control,{className:i.isExpired()?i.getDate()<=new Date?"w-50 bg-danger":"w-50 bg-warning":"w-50",type:"date",value:i.getDateString(),onChange:u})}),w.jsx(Po,{text:"Amount in stock goes here",children:w.jsx(fe.Control,{className:"w-25",type:"number",value:i.getAmount(),onChange:o,min:"0"})}),w.jsx(Po,{text:"Click me to delete this row",children:w.jsx(Rn,{type:"button",variant:"outline-secondary",onClick:f,children:w.jsx(O1,{})})})]})})})]})}const Mu=class Mu{constructor(t,e="",s=0){this.getDateString=()=>this.date,this.getDate=()=>new Date(this.date),this.getAmount=()=>this.amount,this.getId=()=>this.id,this.getMed=()=>this.med,this.med=t,this.id=Bk(),this.date=e,this.amount=s}getAmountInDate(){return this.isExpired()?0:this.amount}setDate(t){t instanceof Date&&(t=t.toISOString().slice(0,10)),this.date=t,this.med.calculateOrder()}setAmount(t){this.amount=t,this.med.calculateOrder()}toObject(){return{date:this.date===""?"":oe.fromDate(this.getDate()),amount:this.amount}}isExpired(){return this.date===""?!1:this.getDate()<=Mu.expiryDay}render(){return w.jsx(Gk,{onDelete:()=>{this.med.removeEntry(this.id)},entry:this},this.id)}};Mu.expiryDay=new Date,Mu.expiryDay.setDate(new Date().getDate()+14);let Ku=Mu;function $k({med:i,pending:t}){const e=i.getEntries(),s=()=>i.newEntry(new Ku(i)),o=t?t.getEntry(i):null;return e.length===0?(s(),!1):w.jsx(w.Fragment,{children:w.jsx(di,{className:"h-100",style:{width:"18rem"},children:w.jsxs(di.Body,{className:"d-flex flex-column",children:[w.jsx(di.Title,{children:i.getName()}),w.jsxs(di.Subtitle,{className:"d-flex justify-content-around",children:[w.jsxs("p",{children:["Total: ",i.getAmount()]}),w.jsxs("p",{children:["Ordered:"," "+(i.getAmountOnOrder()+(o?o.getAmount():0))]})]}),e.map(u=>u.render()),w.jsx(Po,{text:"Click me to add a new row",placement:"bottom",children:w.jsx(Rn,{type:"button",className:"w-100 mt-auto",color:"blue",onClick:s,children:"+"})})]})})})}function N1({med:i,handleMedChange:t}){const[e,s]=C.useState(!0),[o,u]=C.useState(i?i.getGroup():""),[f,d]=C.useState(i?i.getMin()<0?void 0:i.getMin():void 0),[m,g]=C.useState(i?i.getMax()<0?void 0:i.getMax():void 0),[v,T]=C.useState(i?i.getPkg()<0?void 0:i.getPkg():void 0),A=X=>{const Q=X.target.value;u(Q),s(!1)},N=X=>{const Q=X.target.value,W=Number(Q);isNaN(W)?d(void 0):W<0?d(0):(d(Q),s(!1))},U=X=>{const Q=X.target.value,W=Number(Q);isNaN(W)?g(void 0):W<0?g(0):(g(Q),s(!1))},z=X=>{const Q=X.target.value,W=Number(Q);isNaN(W)?T(void 0):W<0?T(0):(T(Q),s(!1))},P=X=>{X.preventDefault();const Q=new FormData(X.target),W=Object.fromEntries(Q);if(console.log(W),i){const st={name:i.getName(),group:W.group,min:Number(W.min),max:Number(W.max),pkg:Number(W.pkg)};Qh(i.getRef(),st),s(!0)}else{const st={name:W.name,group:W.group,min:W.min===""?-1:Number(W.min),max:W.max===""?-1:Number(W.max),pkg:W.pkg===""?-1:Number(W.pkg),entries:[]};u(""),d(void 0),g(void 0),T(void 0),document.getElementById("floatingName").value="",fb(Fo(Nr,"meds"),st).then(()=>t())}},Z=X=>{i&&(u(i.getGroup()),d(i.getMin()),g(i.getMax()),T(i.getPkg()),s(!0))};return w.jsx(w.Fragment,{children:w.jsx(di,{className:"h-100",style:{width:"18rem"},children:w.jsxs(di.Body,{className:"d-flex flex-column",children:[i&&w.jsx(di.Title,{className:"mb-4",children:i.getName()}),!e&&i&&w.jsx(di.Subtitle,{className:"fst-italic text-muted",children:"Unsaved"}),w.jsxs(fe,{onSubmit:P,children:[i===void 0&&w.jsx(vr,{controlId:"floatingName",label:"Name",children:w.jsx(fe.Control,{onChange:()=>s(!1),type:"text",placeholder:"Medication",name:"name"})}),w.jsx(vr,{controlId:"floatingGroup",label:"Group",children:w.jsx(fe.Control,{onChange:A,type:"text",placeholder:"Injectable",name:"group",value:o||""})}),w.jsxs(Kw,{className:"mb-3",children:[w.jsx(vr,{controlId:"floatingMin",label:"Min",children:w.jsx(fe.Control,{onChange:N,type:"number",placeholder:"0",name:"min",min:"0",value:f||""})}),w.jsx(vr,{controlId:"floatingMax",label:"Max",children:w.jsx(fe.Control,{onChange:U,type:"number",placeholder:"0",name:"max",min:"0",value:m||""})}),w.jsx(vr,{controlId:"floaingPkg",label:"Pkg",children:w.jsx(fe.Control,{onChange:z,type:"number",placeholder:"0",name:"pkg",min:"0",value:v||""})})]}),w.jsx(Rn,{className:i?"w-50":"w-100",variant:"primary",type:"submit",children:i?"Save":"Create"}),i&&w.jsx(Rn,{onClick:Z,className:"w-50",variant:"secondary",type:"button",children:"Cancel"})]})]})})})}async function Sg(i){const t={},e=await bg(async()=>await sg(Fo(Nr,"meds")));for(const f of e.docs){const d=f.data();t[f.id]=new D1(f.id,d.name,d.formName,d.group,d.display,d.min,d.max,d.pkg,d.entries,i)}const s=await bg(async()=>await sg(Fo(Nr,"aliases")));for(const f of s.docs){const d=f.data();t[f.id]=new Kk(f.id,d.name,d.entries,t[d.parent],i)}const o=Object.entries(t);return o.sort((f,d)=>f[1].compare(d[1])),Object.fromEntries(o)}class D1{constructor(t,e,s,o,u,f,d,m,g,v){this.aliases=[],this.onOrder=0,this.toOrder=0,this.entries=[],this.getAmountToOrder=()=>this.toOrder,this.getAmountOnOrder=()=>this.onOrder,this.getGroup=()=>this.group,this.getName=()=>this.name,this.getFormName=()=>this.formName,this.getMin=()=>this.min,this.getMax=()=>this.max,this.getPkg=()=>this.pkg,this.getId=()=>this.id,this.getRef=()=>this.docRef,this.getEntries=()=>[...this.entries],this.isAlias=()=>!1,this.isVisible=()=>this.display,this.resetAmountOnOrder=()=>this.onOrder=0,this.id=t,this.name=e,this.formName=s||null,this.group=o||"",this.display=u,this.min=f,this.max=d,this.pkg=m,this.isAlias()?this.docRef=vh(Nr,"aliases",this.id):this.docRef=vh(Nr,"meds",this.id);for(const T of g)if(T.date){const A=T.date.toDate().toISOString().slice(0,10);this.entries.push(new Ku(this,A,T.amount))}else this.entries.push(new Ku(this,"",T.amount));this.handleChange=v}calculateOrder(){if(this.isAlias())return;let t=this.getAmount()+this.onOrder;for(const e of this.aliases)t=t+e.getAmount();t<=this.min?this.toOrder=Math.floor((this.max-t)/this.pkg)*this.pkg:this.toOrder=0,this.handleChange()}getAmount(){let t=0;return this.entries.forEach(e=>t=t+e.getAmountInDate()),t}compare(t){return this.getGroup()===t.getGroup()?this.getName().localeCompare(t.getName()):this.getGroup().localeCompare(t.getGroup())}addOnOrder(t){this.onOrder=this.onOrder+t,this.handleChange()}removeOnOrder(t){this.onOrder=this.onOrder-t,this.onOrder<0&&(this.onOrder=0),this.handleChange()}newEntry(t){const e=[];this.entries.forEach(s=>{e.push(s.toObject())}),Qh(this.getRef(),{entries:e}),this.entries.push(t),this.handleChange()}removeEntry(t){this.entries=this.entries.filter(e=>e.getId()!==t),this.calculateOrder()}setEntries(t){this.entries=[...t],this.calculateOrder()}addAlias(t){this.aliases.push(t)}render(t){return this.isVisible()?w.jsx(Ca,{className:"mb-3",children:w.jsx($k,{pending:t,med:this})},this.getId()):!1}renderSettings(t,e){return this.isVisible()?w.jsx(Ca,{className:"mb-3",children:w.jsx(N1,{med:this,handleMedChange:()=>{Sg(e).then(s=>{console.log(s),t(s)})}})},this.getId()):!1}}class Kk extends D1{constructor(t,e,s,o,u){super(t,e,null,o.getGroup(),o.isVisible(),o.getMin(),o.getMax(),o.getPkg(),s,u),this.getParent=()=>this.parent,this.isAlias=()=>!0,this.getAmountToOrder=()=>0,this.parent=o,this.parent.addAlias(this)}compare(t){return this.getGroup()===t.getGroup()?this.getName().localeCompare(t.getName()):this.getGroup().localeCompare(t.getGroup())}}function yA({setPage:i,setCurrentUser:t,admin:e}){const s=["Home","Orders","Submit"];return e&&s.push("Meds"),w.jsx($f,{expand:"lg",className:"bg-body-tertiary mb-5",children:w.jsxs(by,{children:[w.jsx($f.Brand,{onClick:()=>{i("home")},children:"BLLKINV v3"}),w.jsx($f.Toggle,{"aria-controls":"basic-navbar-nav"}),w.jsxs($f.Collapse,{id:"basic-navbar-nav",children:[w.jsx(dA,{className:"me-auto",children:s.map(o=>w.jsx(dA.Link,{onClick:()=>{i(o.toLocaleLowerCase())},children:o},o))}),w.jsx(Rn,{onClick:()=>{t(null),o2(Hy)},type:"button",children:"Log Out"})]})]})})}function vA({order:i,eventKey:t,onReceive:e,meds:s}){const o=[];if(i===void 0||i.getStatus()==="Pending"){const f=(s?Object.values(s):[]).filter(d=>d.getAmountToOrder()>0);if(i&&i.getEntries().forEach(d=>{const m=d.getMed();f.includes(m)?d.getAmount()>m.getAmountToOrder()&&(o.push(d.toString()),f.splice(f.indexOf(m),1)):o.push(d.toString())}),f.forEach(d=>{o.push(d.getName()+": x"+d.getAmountToOrder())}),o.sort(),o.length===0)return!1}return w.jsxs(di,{children:[w.jsx(Qk,{disableButton:i?i.getStatus()==="Received"||i.getStatus()==="Pending":!0,onButtonClick:e||(()=>{}),eventKey:t,order:i}),w.jsx(ow.Collapse,{eventKey:t,children:w.jsx(di.Body,{children:i===void 0||i.getStatus()==="Pending"?o.map((u,f)=>w.jsx("p",{className:"mb-0",children:u},f)):i.getContent().map((u,f)=>w.jsx("p",{className:"mb-0",children:u},f))})})]})}function Yk({handleClose:i,onReceive:t}){return w.jsxs(ti,{show:!0,onHide:i,children:[w.jsx(ti.Header,{closeButton:!0,children:w.jsx(ti.Title,{children:"Are you sure you want to receive this order? Cannot Undo"})}),w.jsxs(ti.Footer,{children:[w.jsx(Rn,{variant:"primary",onClick:()=>{i(),t()},children:"Receive"}),w.jsx(Rn,{variant:"secondary",onClick:i,children:"Cancel"})]})]})}function Qk({order:i,eventKey:t,onButtonClick:e,disableButton:s}){const[o,u]=C.useState(!1),f=iw(t);let d=i?i.getDateString():Yu.pendingDate.toDateString();return w.jsxs(w.Fragment,{children:[o&&w.jsx(Yk,{handleClose:()=>u(!1),onReceive:e}),w.jsx(di.Header,{children:w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs("div",{onClick:f,style:{flexGrow:1,cursor:"pointer"},children:[d,w.jsx(Po,{text:i?i.getTooltipText():"This order is for the future, it has not been sent yet",children:w.jsx(pw,{bg:i?i.getStatusColour():"info",className:"ms-3",children:i?i.getStatus():"Pending"})})]}),w.jsx(Po,{text:"Click me to mark that this order has arrived",children:w.jsx(Rn,{disabled:s,variant:s?"secondary":"primary",onClick:()=>u(!0),children:"Receive"})})]})})]})}class Xk{constructor(t,e){this.med=t,this.amount=e}getAmount(){return this.amount}getMed(){return this.med}addToMed(){this.med.addOnOrder(this.amount)}removeFromMed(){this.med.removeOnOrder(this.amount)}toString(){return this.med.getName()+": x"+this.amount}}async function Wk(i,t,e){e===void 0&&(e=(await sg(Fo(Nr,"orders"))).docs);const s={};let o=null;Object.values(t).forEach(d=>d.resetAmountOnOrder());for(const d of e){const m=d.data(),g=[];for(const v of m.meds)g.push(new Xk(t[v.id],v.amount));s[d.id]=new Yu(d.id,m.date.toDate(),g,m.status,i),m.status==="Pending"&&(o=s[d.id])}Object.values(t).forEach(d=>d.calculateOrder());const u=Object.entries(s);return u.sort((d,m)=>d[1].compare(m[1])),[Object.fromEntries(u),o]}const gr=class gr{constructor(t,e,s,o,u){this.getId=()=>this.id,this.getDate=()=>this.date,this.getDateString=()=>this.date.toDateString(),this.getStatus=()=>this.status,this.getEntries=()=>[...this.entries],this.getRef=()=>this.docRef,this.isReceived=()=>this.status==="Received",this.id=t,e.setHours(0,0,0,0),this.date=e,this.docRef=vh(Nr,"orders",this.id),this.entries=s,o==="Ordered"?this.date>=gr.zeroedDay?(this.status=o,this.entries.forEach(f=>f.addToMed())):this.status="Zeroed":this.status=o,this.handleChange=u}static renderPendingOrder(t){return w.jsx(vA,{eventKey:"pending",meds:t})}render(){return w.jsx(vA,{eventKey:this.getId(),order:this,onReceive:()=>{this.getStatus()==="Ordered"&&this.entries.forEach(t=>t.removeFromMed()),this.setStatus("Received"),Qh(this.getRef(),{status:"Received"})}},this.getId())}getEntry(t){for(const e of this.entries)if(e.getMed()===t)return e;return null}setStatus(t){this.status=t,this.handleChange()}getStatusColour(){return{Ordered:"secondary",Received:"success",Zeroed:"warning",Pending:"info"}[this.getStatus()]}getTooltipText(){return{Ordered:"This order is on it's way but hasn't been marked arrived",Received:"This order was marked arrived",Zeroed:"This order is old but was never marked arrived",Pending:"This order is for the future, it has not been sent yet"}[this.getStatus()]}getContent(){const t=[];return this.entries.forEach(e=>t.push(e.toString())),t.sort(),t}compare(t){return this.getDate()>t.getDate()?-1:1}};gr.zeroedDay=new Date,gr.zeroedDay.setDate(new Date().getDate()-5),gr.zeroedDay.setHours(0,0,0,0),gr.pendingDate=new Date,gr.pendingDate.setDate(new Date().getDate()+(8-gr.pendingDate.getDay())%7);let Yu=gr;async function Zk(i){try{const t=await fetch(i);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching data:",t),t}}function Jk({show:i,meds:t,pendingOrder:e,onSubmit:s}){const o=Object.values(t).filter(g=>g.getFormName()!==null);o.sort((g,v)=>g.getFormName().localeCompare(v.getFormName()));const u=g=>{const v=[];for(let T=0;T<g.length;T=T+2){const A=g[T],N=g[T+1];v.push(w.jsxs(ko,{children:[w.jsx(Ca,{children:w.jsxs(fe.Group,{className:"w-100 mb-3",as:ko,children:[w.jsx(fe.Label,{className:"w-50",children:A.getFormName()}),w.jsx(vr,{controlId:"form"+A.getId(),label:A.getName(),className:"mb-3 w-50",children:w.jsx(fe.Control,{type:"number",placeholder:"name@example.com"})})]})}),w.jsx(Ca,{children:w.jsxs(fe.Group,{className:"w-100 mb-3",as:ko,children:[w.jsx(fe.Label,{className:"w-50",children:N.getFormName()}),w.jsx(vr,{controlId:"form"+N.getId(),label:N.getName(),className:"mb-3 w-50",children:w.jsx(fe.Control,{type:"number",placeholder:"name@example.com"})})]})})]},A.getId()))}return v},f=()=>{const g={};for(const v of o){const T=document.getElementById("form"+v.getId()),A=parseInt(T.value);A>0&&(g[v.getId()]=A),T.value=""}if(console.log(g,e),Object.keys.length>0)if(e===null){const v=new Date;v.setDate(v.getDate()+(8-v.getDay())%7),console.log("new order");const T=Object.entries(g).map(A=>({id:A[0],amount:A[1]}));fb(Fo(Nr,"orders"),{status:"Pending",meds:T,date:v})}else{console.log("update order");for(const T of e.getEntries()){const A=T.getMed().getId();g[A]?g[A]=g[A]+T.getAmount():g[A]=T.getAmount()}const v=Object.entries(g).map(T=>({id:T[0],amount:T[1]}));Qh(e.getRef(),{meds:v})}return g},d=()=>{f(),Zk("https://script.google.com/macros/s/AKfycbytzNY1-2wxFBA5thGS6wyh9KbATV3zY1EH4eEPuQ_PMTZL1udBZFRCDLearabBLi7O5w/exec"),s()},m=()=>{f(),s()};return w.jsxs(fe,{className:i?"":"d-none",children:[u(o),w.jsx(Tg,{placement:"top",delay:{show:250,hide:400},overlay:g=>w.jsx(Dh,{id:"button-tooltip",...g,children:"Will add the above amounts to the order on Monday morning."}),children:w.jsx(Rn,{className:"ms-3",variant:"primary",type:"button",onClick:m,children:"Add To Next Order"})}),w.jsx(Tg,{placement:"top",delay:{show:250,hide:400},overlay:g=>w.jsx(Dh,{id:"button-tooltip",...g,children:"Will add some automatic meds to the order and submit immediately"}),children:w.jsx(Rn,{className:"ms-3",variant:"secondary",type:"button",onClick:d,children:"Order Now"})})]})}function tP({setCurrentUser:i}){const[t,e]=C.useState(!0),[s,o]=C.useState(!1),[u,f]=C.useState(!1),d=m=>{m.preventDefault(),f(!0);const g=new FormData(m.target),v=Object.fromEntries(g);bg(()=>i2(Hy,v.username+"@bllk.inv",v.password)).then(T=>{T&&(i(T.user),e(!1),f(!1),console.log("User signed in successfully."))}).catch(T=>{T.message==="auth/invalid-credential"&&o(!0),console.error("Error signing in:",T)})};return w.jsxs(ti,{show:t,children:[w.jsx(ti.Header,{children:w.jsx(ti.Title,{children:"Log in"})}),w.jsxs(ti.Body,{children:[s&&w.jsx(uV,{variant:"danger",onClose:()=>o(!1),dismissible:!0,children:w.jsx("p",{children:"Oh snap! You entered invalid credentials!"})}),w.jsxs(fe,{onSubmit:d,children:[w.jsxs(fe.Group,{className:"mb-3",controlId:"formUsername",children:[w.jsx(fe.Label,{children:"Username"}),w.jsx(fe.Control,{name:"username",autoFocus:!0,type:"text",placeholder:"Enter username"})]}),w.jsxs(fe.Group,{className:"mb-3",controlId:"formPassword",children:[w.jsx(fe.Label,{children:"Password"}),w.jsx(fe.Control,{name:"password",type:"text",placeholder:"Password"})]}),w.jsx(Rn,{variant:"primary",type:"submit",children:"Log In"}),u&&w.jsx(I1,{animation:"border"})]})]})]})}const eP={apiKey:"AIzaSyD9-6prflaJhhuFut_6-ze9H5JI2ROG0b8",authDomain:"bllkinventory-bd8eb.firebaseapp.com",projectId:"bllkinventory-bd8eb",storageBucket:"bllkinventory-bd8eb.firebasestorage.app",messagingSenderId:"803086724359",appId:"1:803086724359:web:dcb95778290927a225e9a2"},x1=NA(eP),Nr=GD(x1),Hy=vM(x1);async function bg(i,t=3,e=1e3){let s=0;for(;s<t;)try{return await i()}catch(o){if(o.code==="unavailable"||o.code==="deadline-exceeded")console.warn(`Firestore operation failed (retry ${s+1}/${t}):`,o.message),await new Promise(u=>setTimeout(u,e*Math.pow(2,s))),s++;else throw o}throw new Error(`Firestore operation failed after ${t} retries.`)}function nP(){const[i,t]=C.useState({}),[e,s]=C.useState({}),[o,u]=C.useState(null),[f,d]=C.useState(!0),[m,g]=C.useState("home"),[v,T]=C.useState(null),A=()=>{t(z=>({...z}))},N=()=>{s(z=>({...z}))};C.useEffect(()=>{const z=a2(Hy,P=>{u(P),d(!1)});return()=>z()},[]);const U=(z,P)=>{Wk(N,z,P?.docs).then(Z=>{console.log(Z);const[X,Q]=Z;s(X),T(Q)})};return C.useEffect(()=>{!f&&o&&Sg(A).then(z=>{t(z),U(z)})},[o]),C.useEffect(()=>{if(!f){const z=rx(Fo(Nr,"orders"),P=>{U(i,P)});return()=>z()}},[Object.values(i).length>0]),f?w.jsxs(w.Fragment,{children:[w.jsx(yA,{admin:!1,setCurrentUser:u,setPage:g}),w.jsx("div",{children:"Loading authentication status..."})]}):w.jsxs(w.Fragment,{children:[w.jsx(yA,{admin:!!(o&&o.email==="admin@bllk.inv"),setCurrentUser:u,setPage:g}),o===null&&w.jsx(tP,{setCurrentUser:u}),m==="home"&&w.jsx(by,{children:w.jsx(ko,{children:Object.values(i).map(z=>z.render(v))})}),m==="orders"&&w.jsxs(ow,{children:[v===null&&Yu.renderPendingOrder(i),Object.values(e).map(z=>z.render())]}),w.jsx(Jk,{show:m==="submit",pendingOrder:v,meds:i,onSubmit:()=>g("orders")}),m==="meds"&&w.jsxs(ko,{children:[Object.values(i).map(z=>z.renderSettings(t,A)),w.jsx(Ca,{className:"mb-3",children:w.jsx(N1,{handleMedChange:()=>{Sg(A).then(z=>{t(z)})}})})]})]})}fC.createRoot(document.getElementById("root")).render(w.jsx(C.StrictMode,{children:w.jsx(nP,{})}));

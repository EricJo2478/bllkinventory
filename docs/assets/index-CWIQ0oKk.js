(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function qu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var tm={exports:{}},lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function ZR(){if(KE)return lu;KE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return lu.Fragment=t,lu.jsx=e,lu.jsxs=e,lu}var YE;function JR(){return YE||(YE=1,tm.exports=ZR()),tm.exports}var C=JR(),em={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function tC(){if(QE)return Mt;QE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,z={};function k(V,tt,ut){this.props=V,this.context=tt,this.refs=z,this.updater=ut||N}k.prototype.isReactComponent={},k.prototype.setState=function(V,tt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,tt,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=k.prototype;function X(V,tt,ut){this.props=V,this.context=tt,this.refs=z,this.updater=ut||N}var Q=X.prototype=new Z;Q.constructor=X,U(Q,k.prototype),Q.isPureReactComponent=!0;var W=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},at=Object.prototype.hasOwnProperty;function D(V,tt,ut,it,ht,vt){return ut=vt.ref,{$$typeof:r,type:V,key:tt,ref:ut!==void 0?ut:null,props:vt}}function R(V,tt){return D(V.type,tt,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function M(V){var tt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ut){return tt[ut]})}var P=/\/+/g;function j(V,tt){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):tt.toString(36)}function O(){}function xt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(O,O):(V.status="pending",V.then(function(tt){V.status==="pending"&&(V.status="fulfilled",V.value=tt)},function(tt){V.status==="pending"&&(V.status="rejected",V.reason=tt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ct(V,tt,ut,it,ht){var vt=typeof V;(vt==="undefined"||vt==="boolean")&&(V=null);var Et=!1;if(V===null)Et=!0;else switch(vt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(V.$$typeof){case r:case t:Et=!0;break;case v:return Et=V._init,Ct(Et(V._payload),tt,ut,it,ht)}}if(Et)return ht=ht(V),Et=it===""?"."+j(V,0):it,W(ht)?(ut="",Et!=null&&(ut=Et.replace(P,"$&/")+"/"),Ct(ht,tt,ut,"",function(Ee){return Ee})):ht!=null&&(I(ht)&&(ht=R(ht,ut+(ht.key==null||V&&V.key===ht.key?"":(""+ht.key).replace(P,"$&/")+"/")+Et)),tt.push(ht)),1;Et=0;var te=it===""?".":it+":";if(W(V))for(var Pt=0;Pt<V.length;Pt++)it=V[Pt],vt=te+j(it,Pt),Et+=Ct(it,tt,ut,vt,ht);else if(Pt=A(V),typeof Pt=="function")for(V=Pt.call(V),Pt=0;!(it=V.next()).done;)it=it.value,vt=te+j(it,Pt++),Et+=Ct(it,tt,ut,vt,ht);else if(vt==="object"){if(typeof V.then=="function")return Ct(xt(V),tt,ut,it,ht);throw tt=String(V),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Et}function $(V,tt,ut){if(V==null)return V;var it=[],ht=0;return Ct(V,it,"","",function(vt){return tt.call(ut,vt,ht++)}),it}function lt(V){if(V._status===-1){var tt=V._result;tt=tt(),tt.then(function(ut){(V._status===0||V._status===-1)&&(V._status=1,V._result=ut)},function(ut){(V._status===0||V._status===-1)&&(V._status=2,V._result=ut)}),V._status===-1&&(V._status=0,V._result=tt)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ot(){}return Mt.Children={map:$,forEach:function(V,tt,ut){$(V,function(){tt.apply(this,arguments)},ut)},count:function(V){var tt=0;return $(V,function(){tt++}),tt},toArray:function(V){return $(V,function(tt){return tt})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Mt.Component=k,Mt.Fragment=e,Mt.Profiler=o,Mt.PureComponent=X,Mt.StrictMode=s,Mt.Suspense=m,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return st.H.useMemoCache(V)}},Mt.cache=function(V){return function(){return V.apply(null,arguments)}},Mt.cloneElement=function(V,tt,ut){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var it=U({},V.props),ht=V.key,vt=void 0;if(tt!=null)for(Et in tt.ref!==void 0&&(vt=void 0),tt.key!==void 0&&(ht=""+tt.key),tt)!at.call(tt,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&tt.ref===void 0||(it[Et]=tt[Et]);var Et=arguments.length-2;if(Et===1)it.children=ut;else if(1<Et){for(var te=Array(Et),Pt=0;Pt<Et;Pt++)te[Pt]=arguments[Pt+2];it.children=te}return D(V.type,ht,void 0,void 0,vt,it)},Mt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Mt.createElement=function(V,tt,ut){var it,ht={},vt=null;if(tt!=null)for(it in tt.key!==void 0&&(vt=""+tt.key),tt)at.call(tt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(ht[it]=tt[it]);var Et=arguments.length-2;if(Et===1)ht.children=ut;else if(1<Et){for(var te=Array(Et),Pt=0;Pt<Et;Pt++)te[Pt]=arguments[Pt+2];ht.children=te}if(V&&V.defaultProps)for(it in Et=V.defaultProps,Et)ht[it]===void 0&&(ht[it]=Et[it]);return D(V,vt,void 0,void 0,null,ht)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(V){return{$$typeof:d,render:V}},Mt.isValidElement=I,Mt.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:lt}},Mt.memo=function(V,tt){return{$$typeof:g,type:V,compare:tt===void 0?null:tt}},Mt.startTransition=function(V){var tt=st.T,ut={};st.T=ut;try{var it=V(),ht=st.S;ht!==null&&ht(ut,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ot,ft)}catch(vt){ft(vt)}finally{st.T=tt}},Mt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Mt.use=function(V){return st.H.use(V)},Mt.useActionState=function(V,tt,ut){return st.H.useActionState(V,tt,ut)},Mt.useCallback=function(V,tt){return st.H.useCallback(V,tt)},Mt.useContext=function(V){return st.H.useContext(V)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(V,tt){return st.H.useDeferredValue(V,tt)},Mt.useEffect=function(V,tt,ut){var it=st.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(V,tt)},Mt.useId=function(){return st.H.useId()},Mt.useImperativeHandle=function(V,tt,ut){return st.H.useImperativeHandle(V,tt,ut)},Mt.useInsertionEffect=function(V,tt){return st.H.useInsertionEffect(V,tt)},Mt.useLayoutEffect=function(V,tt){return st.H.useLayoutEffect(V,tt)},Mt.useMemo=function(V,tt){return st.H.useMemo(V,tt)},Mt.useOptimistic=function(V,tt){return st.H.useOptimistic(V,tt)},Mt.useReducer=function(V,tt,ut){return st.H.useReducer(V,tt,ut)},Mt.useRef=function(V){return st.H.useRef(V)},Mt.useState=function(V){return st.H.useState(V)},Mt.useSyncExternalStore=function(V,tt,ut){return st.H.useSyncExternalStore(V,tt,ut)},Mt.useTransition=function(){return st.H.useTransition()},Mt.version="19.1.1",Mt}var XE;function _g(){return XE||(XE=1,em.exports=tC()),em.exports}var w=_g();const Vn=qu(w);var nm={exports:{}},uu={},rm={exports:{}},im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function eC(){return WE||(WE=1,(function(r){function t($,lt){var ft=$.length;$.push(lt);t:for(;0<ft;){var Ot=ft-1>>>1,V=$[Ot];if(0<o(V,lt))$[Ot]=lt,$[ft]=V,ft=Ot;else break t}}function e($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var lt=$[0],ft=$.pop();if(ft!==lt){$[0]=ft;t:for(var Ot=0,V=$.length,tt=V>>>1;Ot<tt;){var ut=2*(Ot+1)-1,it=$[ut],ht=ut+1,vt=$[ht];if(0>o(it,ft))ht<V&&0>o(vt,it)?($[Ot]=vt,$[ht]=ft,Ot=ht):($[Ot]=it,$[ut]=ft,Ot=ut);else if(ht<V&&0>o(vt,ft))$[Ot]=vt,$[ht]=ft,Ot=ht;else break t}}return lt}function o($,lt){var ft=$.sortIndex-lt.sortIndex;return ft!==0?ft:$.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();r.unstable_now=function(){return f.now()-d}}var m=[],g=[],v=1,T=null,A=3,N=!1,U=!1,z=!1,k=!1,Z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function W($){for(var lt=e(g);lt!==null;){if(lt.callback===null)s(g);else if(lt.startTime<=$)s(g),lt.sortIndex=lt.expirationTime,t(m,lt);else break;lt=e(g)}}function st($){if(z=!1,W($),!U)if(e(m)!==null)U=!0,at||(at=!0,j());else{var lt=e(g);lt!==null&&Ct(st,lt.startTime-$)}}var at=!1,D=-1,R=5,I=-1;function M(){return k?!0:!(r.unstable_now()-I<R)}function P(){if(k=!1,at){var $=r.unstable_now();I=$;var lt=!0;try{t:{U=!1,z&&(z=!1,X(D),D=-1),N=!0;var ft=A;try{e:{for(W($),T=e(m);T!==null&&!(T.expirationTime>$&&M());){var Ot=T.callback;if(typeof Ot=="function"){T.callback=null,A=T.priorityLevel;var V=Ot(T.expirationTime<=$);if($=r.unstable_now(),typeof V=="function"){T.callback=V,W($),lt=!0;break e}T===e(m)&&s(m),W($)}else s(m);T=e(m)}if(T!==null)lt=!0;else{var tt=e(g);tt!==null&&Ct(st,tt.startTime-$),lt=!1}}break t}finally{T=null,A=ft,N=!1}lt=void 0}}finally{lt?j():at=!1}}}var j;if(typeof Q=="function")j=function(){Q(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,xt=O.port2;O.port1.onmessage=P,j=function(){xt.postMessage(null)}}else j=function(){Z(P,0)};function Ct($,lt){D=Z(function(){$(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var lt=3;break;default:lt=A}var ft=A;A=lt;try{return $()}finally{A=ft}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function($,lt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ft=A;A=$;try{return lt()}finally{A=ft}},r.unstable_scheduleCallback=function($,lt,ft){var Ot=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ot+ft:Ot):ft=Ot,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,$={id:v++,callback:lt,priorityLevel:$,startTime:ft,expirationTime:V,sortIndex:-1},ft>Ot?($.sortIndex=ft,t(g,$),e(m)===null&&$===e(g)&&(z?(X(D),D=-1):z=!0,Ct(st,ft-Ot))):($.sortIndex=V,t(m,$),U||N||(U=!0,at||(at=!0,j()))),$},r.unstable_shouldYield=M,r.unstable_wrapCallback=function($){var lt=A;return function(){var ft=A;A=lt;try{return $.apply(this,arguments)}finally{A=ft}}}})(im)),im}var ZE;function nC(){return ZE||(ZE=1,rm.exports=eC()),rm.exports}var sm={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function rC(){if(JE)return ln;JE=1;var r=_g();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,v)},ln.flushSync=function(m){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=v,s.d.f()}},ln.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},ln.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},ln.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:N}):v==="script"&&s.d.X(m,{crossOrigin:T,integrity:A,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},ln.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},ln.requestFormReset=function(m){s.d.r(m)},ln.unstable_batchedUpdates=function(m,g){return m(g)},ln.useFormState=function(m,g,v){return f.H.useFormState(m,g,v)},ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},ln.version="19.1.1",ln}var tT;function dS(){if(tT)return sm.exports;tT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sm.exports=rC(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function iC(){if(eT)return uu;eT=1;var r=nC(),t=_g(),e=dS();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function f(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function m(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return d(h),n;if(p===l)return d(h),i;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=p;else{for(var E=!1,S=h.child;S;){if(S===a){E=!0,a=h,l=p;break}if(S===l){E=!0,l=h,a=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===a){E=!0,a=p,l=h;break}if(S===l){E=!0,l=p,a=h;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function xt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case k:return"Profiler";case z:return"StrictMode";case st:return"Suspense";case at:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case Q:return(n.displayName||"Context")+".Provider";case X:return(n._context.displayName||"Context")+".Consumer";case W:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return i=n.displayName||null,i!==null?i:xt(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return xt(n(i))}catch{}}return null}var Ct=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ot=[],V=-1;function tt(n){return{current:n}}function ut(n){0>V||(n.current=Ot[V],Ot[V]=null,V--)}function it(n,i){V++,Ot[V]=n.current,n.current=i}var ht=tt(null),vt=tt(null),Et=tt(null),te=tt(null);function Pt(n,i){switch(it(Et,i),it(vt,n),it(ht,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?TE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=TE(i),n=SE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ut(ht),it(ht,n)}function Ee(){ut(ht),ut(vt),ut(Et)}function Ge(n){n.memoizedState!==null&&it(te,n);var i=ht.current,a=SE(i,n.type);i!==a&&(it(vt,n),it(ht,a))}function Pe(n){vt.current===n&&(ut(ht),ut(vt)),te.current===n&&(ut(te),ru._currentValue=ft)}var en=Object.prototype.hasOwnProperty,nn=r.unstable_scheduleCallback,rn=r.unstable_cancelCallback,Kt=r.unstable_shouldYield,Ln=r.unstable_requestPaint,me=r.unstable_now,Ms=r.unstable_getCurrentPriorityLevel,qr=r.unstable_ImmediatePriority,sn=r.unstable_UserBlockingPriority,vn=r.unstable_NormalPriority,Ni=r.unstable_LowPriority,rr=r.unstable_IdlePriority,Un=r.log,Fr=r.unstable_setDisableYieldValue,Tt=null,Vt=null;function Ce(n){if(typeof Un=="function"&&Fr(n),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Tt,n)}catch{}}var an=Math.clz32?Math.clz32:Vs,lc=Math.log,nd=Math.LN2;function Vs(n){return n>>>=0,n===0?32:31-(lc(n)/nd|0)|0}var ks=256,Ps=4194304;function ir(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Da(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?h=ir(l):(E&=S,E!==0?h=ir(E):a||(a=S&~n,a!==0&&(h=ir(a))))):(S=l&~p,S!==0?h=ir(S):E!==0?h=ir(E):a||(a=l&~n,a!==0&&(h=ir(a)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,a=i&-i,p>=a||p===32&&(a&4194048)!==0)?i:h}function Ls(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function rl(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function il(){var n=ks;return ks<<=1,(ks&4194048)===0&&(ks=256),n}function sl(){var n=Ps;return Ps<<=1,(Ps&62914560)===0&&(Ps=4194304),n}function Gr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function $r(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function al(n,i,a,l,h,p){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,x=n.expirationTimes,F=n.hiddenUpdates;for(a=E&~a;0<a;){var J=31-an(a),nt=1<<J;S[J]=0,x[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}a&=~nt}l!==0&&mr(n,l,0),p!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~i))}function mr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-an(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function ol(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-an(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function Di(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function xa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function xi(){var n=lt.p;return n!==0?n:(n=window.event,n===void 0?32:zE(n.type))}function uc(n,i){var a=lt.p;try{return lt.p=n,i()}finally{lt.p=a}}var ue=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ue,Te="__reactProps$"+ue,jn="__reactContainer$"+ue,ll="__reactEvents$"+ue,rd="__reactListeners$"+ue,Mi="__reactHandles$"+ue,cc="__reactResources$"+ue,Us="__reactMarker$"+ue;function Vi(n){delete n[Ie],delete n[Te],delete n[ll],delete n[rd],delete n[Mi]}function Kr(n){var i=n[Ie];if(i)return i;for(var a=n.parentNode;a;){if(i=a[jn]||a[Ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=RE(n);n!==null;){if(a=n[Ie])return a;n=RE(n)}return i}n=a,a=n.parentNode}return null}function gr(n){if(n=n[Ie]||n[jn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function yr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function pn(n){var i=n[cc];return i||(i=n[cc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ge(n){n[Us]=!0}var ul=new Set,Ma={};function sr(n,i){Yr(n,i),Yr(n+"Capture",i)}function Yr(n,i){for(Ma[n]=i,n=0;n<i.length;n++)ul.add(i[n])}var fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hc={},js={};function dc(n){return en.call(js,n)?!0:en.call(hc,n)?!1:fc.test(n)?js[n]=!0:(hc[n]=!0,!1)}function ki(n,i,a){if(dc(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function vr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function $e(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var Bs,pc;function Qr(n){if(Bs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Bs=i&&i[1]||"",pc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+n+pc}var Va=!1;function ka(n,i){if(!n||Va)return"";Va=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(K){var G=K}Reflect.construct(n,[],nt)}else{try{nt.call()}catch(K){G=K}n.call(nt.prototype)}}else{try{throw Error()}catch(K){G=K}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var x=E.split(`
`),F=S.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===F.length)for(l=x.length-1,h=F.length-1;1<=l&&0<=h&&x[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==F[h]){var J=`
`+x[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=h);break}}}finally{Va=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Qr(a):""}function cl(n){switch(n.tag){case 26:case 27:case 5:return Qr(n.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 15:return ka(n.type,!1);case 11:return ka(n.type.render,!1);case 1:return ka(n.type,!0);case 31:return Qr("Activity");default:return""}}function Pa(n){try{var i="";do i+=cl(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function fl(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function id(n){var i=fl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function La(n){n._valueTracker||(n._valueTracker=id(n))}function hl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=fl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function zs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var sd=/[\n"\\]/g;function Se(n){return n.replace(sd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Rn(n,i,a,l,h,p,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+mn(i)):n.value!==""+mn(i)&&(n.value=""+mn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Pi(n,E,mn(i)):a!=null?Pi(n,E,mn(a)):l!=null&&n.removeAttribute("value"),h==null&&p!=null&&(n.defaultChecked=!!p),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+mn(S):n.removeAttribute("name")}function Hs(n,i,a,l,h,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;a=a!=null?""+mn(a):"",i=i!=null?""+mn(i):a,S||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Pi(n,i,a){i==="number"&&zs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Xr(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+mn(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function ee(n,i,a){if(i!=null&&(i=""+mn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+mn(a):""}function qs(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=mn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Bn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Fs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mc(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Fs.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function dl(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&mc(n,h,l)}else for(var p in i)i.hasOwnProperty(p)&&mc(n,p,i[p])}function pl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ad=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),od=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(n){return od.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Wr=null;function zn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zr=null,Jr=null;function ml(n){var i=gr(n);if(i&&(n=i.stateNode)){var a=n[Te]||null;t:switch(n=i.stateNode,i.type){case"input":if(Rn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[Te]||null;if(!h)throw Error(s(90));Rn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&hl(l)}break t;case"textarea":ee(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Xr(n,!!a.multiple,i,!1)}}}var _r=!1;function gc(n,i,a){if(_r)return n(i,a);_r=!0;try{var l=n(i);return l}finally{if(_r=!1,(Zr!==null||Jr!==null)&&(cf(),Zr&&(i=Zr,n=Jr,Jr=Zr=null,ml(i),n)))for(i=0;i<n.length;i++)ml(n[i])}}function Gs(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Te]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(ar)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Hn=!1}var Er=null,Li=null,ti=null;function gl(){if(ti)return ti;var n,i=Li,a=i.length,l,h="value"in Er?Er.value:Er.textContent,p=h.length;for(n=0;n<a&&i[n]===h[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===h[p-l];l++);return ti=h.slice(n,1<l?1-l:void 0)}function Tr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Sr(){return!0}function yl(){return!1}function Le(n){function i(a,l,h,p,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Sr:yl,this.isPropagationStopped=yl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),i}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=Le(Xt),Ks=v({},Xt,{view:0,detail:0}),yc=Le(Ks),Ba,za,Ar,Ys=v({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ar&&(Ar&&n.type==="mousemove"?(Ba=n.screenX-Ar.screenX,za=n.screenY-Ar.screenY):za=Ba=0,Ar=n),Ba)},movementY:function(n){return"movementY"in n?n.movementY:za}}),qn=Le(Ys),vc=v({},Ys,{dataTransfer:0}),ld=Le(vc),Qs=v({},Ks,{relatedTarget:0}),Ha=Le(Qs),vl=v({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Le(vl),_c=v({},Xt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Fa=Le(_c),ud=v({},Xt,{data:0}),_l=Le(ud),Xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function El(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Tc[n])?!!i[n]:!1}function Ws(){return El}var Sc=v({},Ks,{key:function(n){if(n.key){var i=Xs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Tr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ec[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(n){return n.type==="keypress"?Tr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Tr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ga=Le(Sc),Ac=v({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tl=Le(Ac),ei=v({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),bc=Le(ei),wc=v({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rc=Le(wc),Cc=v({},Ys,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$a=Le(Cc),gn=v({},Xt,{newState:0,oldState:0}),Ic=Le(gn),Oc=[9,13,27,32],br=ar&&"CompositionEvent"in window,c=null;ar&&"documentMode"in document&&(c=document.documentMode);var y=ar&&"TextEvent"in window&&!c,_=ar&&(!br||c&&8<c&&11>=c),b=" ",H=!1;function Y(n,i){switch(n){case"keyup":return Oc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qt=!1;function Oe(n,i){switch(n){case"compositionend":return ct(i);case"keypress":return i.which!==32?null:(H=!0,b);case"textInput":return n=i.data,n===b&&H?null:n;default:return null}}function Ft(n,i){if(qt)return n==="compositionend"||!br&&Y(n,i)?(n=gl(),ti=Li=Er=null,qt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ne(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ue[n.type]:i==="textarea"}function ni(n,i,a,l){Zr?Jr?Jr.push(l):Jr=[l]:Zr=l,i=gf(i,"onChange"),0<i.length&&(a=new ja("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Ke=null,wr=null;function Sl(n){gE(n,0)}function Nc(n){var i=yr(n);if(hl(i))return n}function Ly(n,i){if(n==="change")return i}var Uy=!1;if(ar){var cd;if(ar){var fd="oninput"in document;if(!fd){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),fd=typeof jy.oninput=="function"}cd=fd}else cd=!1;Uy=cd&&(!document.documentMode||9<document.documentMode)}function By(){Ke&&(Ke.detachEvent("onpropertychange",zy),wr=Ke=null)}function zy(n){if(n.propertyName==="value"&&Nc(wr)){var i=[];ni(i,wr,n,zn(n)),gc(Sl,i)}}function I1(n,i,a){n==="focusin"?(By(),Ke=i,wr=a,Ke.attachEvent("onpropertychange",zy)):n==="focusout"&&By()}function O1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Nc(wr)}function N1(n,i){if(n==="click")return Nc(i)}function D1(n,i){if(n==="input"||n==="change")return Nc(i)}function x1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Cn=typeof Object.is=="function"?Object.is:x1;function Al(n,i){if(Cn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!en.call(i,h)||!Cn(n[h],i[h]))return!1}return!0}function Hy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qy(n,i){var a=Hy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Hy(a)}}function Fy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Fy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Gy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=zs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=zs(n.document)}return i}function hd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var M1=ar&&"documentMode"in document&&11>=document.documentMode,Ka=null,dd=null,bl=null,pd=!1;function $y(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pd||Ka==null||Ka!==zs(l)||(l=Ka,"selectionStart"in l&&hd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&Al(bl,l)||(bl=l,l=gf(dd,"onSelect"),0<l.length&&(i=new ja("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Ka)))}function Zs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ya={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},md={},Ky={};ar&&(Ky=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Js(n){if(md[n])return md[n];if(!Ya[n])return n;var i=Ya[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ky)return md[n]=i[a];return n}var Yy=Js("animationend"),Qy=Js("animationiteration"),Xy=Js("animationstart"),V1=Js("transitionrun"),k1=Js("transitionstart"),P1=Js("transitioncancel"),Wy=Js("transitionend"),Zy=new Map,gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gd.push("scrollEnd");function or(n,i){Zy.set(n,i),sr(i,[n])}var Jy=new WeakMap;function Fn(n,i){if(typeof n=="object"&&n!==null){var a=Jy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Pa(i)},Jy.set(n,i),i)}return{value:n,source:i,stack:Pa(i)}}var Gn=[],Qa=0,yd=0;function Dc(){for(var n=Qa,i=yd=Qa=0;i<n;){var a=Gn[i];Gn[i++]=null;var l=Gn[i];Gn[i++]=null;var h=Gn[i];Gn[i++]=null;var p=Gn[i];if(Gn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}p!==0&&tv(a,h,p)}}function xc(n,i,a,l){Gn[Qa++]=n,Gn[Qa++]=i,Gn[Qa++]=a,Gn[Qa++]=l,yd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function vd(n,i,a,l){return xc(n,i,a,l),Mc(n)}function Xa(n,i){return xc(n,null,null,i),Mc(n)}function tv(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(h=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,h&&i!==null&&(h=31-an(a),n=p.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=a|536870912),p):null}function Mc(n){if(50<Ql)throw Ql=0,bp=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Wa={};function L1(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,i,a,l){return new L1(n,i,a,l)}function _d(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ri(n,i){var a=n.alternate;return a===null?(a=In(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ev(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Vc(n,i,a,l,h,p){var E=0;if(l=n,typeof n=="function")_d(n)&&(E=1);else if(typeof n=="string")E=jR(n,a,ht.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case I:return n=In(31,a,i,h),n.elementType=I,n.lanes=p,n;case U:return ta(a.children,h,p,i);case z:E=8,h|=24;break;case k:return n=In(12,a,i,h|2),n.elementType=k,n.lanes=p,n;case st:return n=In(13,a,i,h),n.elementType=st,n.lanes=p,n;case at:return n=In(19,a,i,h),n.elementType=at,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Z:case Q:E=10;break t;case X:E=9;break t;case W:E=11;break t;case D:E=14;break t;case R:E=16,l=null;break t}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=In(E,a,i,h),i.elementType=n,i.type=l,i.lanes=p,i}function ta(n,i,a,l){return n=In(7,n,l,i),n.lanes=a,n}function Ed(n,i,a){return n=In(6,n,null,i),n.lanes=a,n}function Td(n,i,a){return i=In(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Za=[],Ja=0,kc=null,Pc=0,$n=[],Kn=0,ea=null,ii=1,si="";function na(n,i){Za[Ja++]=Pc,Za[Ja++]=kc,kc=n,Pc=i}function nv(n,i,a){$n[Kn++]=ii,$n[Kn++]=si,$n[Kn++]=ea,ea=n;var l=ii;n=si;var h=32-an(l)-1;l&=~(1<<h),a+=1;var p=32-an(i)+h;if(30<p){var E=h-h%5;p=(l&(1<<E)-1).toString(32),l>>=E,h-=E,ii=1<<32-an(i)+h|a<<h|l,si=p+n}else ii=1<<p|a<<h|l,si=n}function Sd(n){n.return!==null&&(na(n,1),nv(n,1,0))}function Ad(n){for(;n===kc;)kc=Za[--Ja],Za[Ja]=null,Pc=Za[--Ja],Za[Ja]=null;for(;n===ea;)ea=$n[--Kn],$n[Kn]=null,si=$n[--Kn],$n[Kn]=null,ii=$n[--Kn],$n[Kn]=null}var yn=null,de=null,Qt=!1,ra=null,Rr=!1,bd=Error(s(519));function ia(n){var i=Error(s(418,""));throw Cl(Fn(i,n)),bd}function rv(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Ie]=n,i[Te]=l,a){case"dialog":jt("cancel",i),jt("close",i);break;case"iframe":case"object":case"embed":jt("load",i);break;case"video":case"audio":for(a=0;a<Wl.length;a++)jt(Wl[a],i);break;case"source":jt("error",i);break;case"img":case"image":case"link":jt("error",i),jt("load",i);break;case"details":jt("toggle",i);break;case"input":jt("invalid",i),Hs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),La(i);break;case"select":jt("invalid",i);break;case"textarea":jt("invalid",i),qs(i,l.value,l.defaultValue,l.children),La(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||EE(i.textContent,a)?(l.popover!=null&&(jt("beforetoggle",i),jt("toggle",i)),l.onScroll!=null&&jt("scroll",i),l.onScrollEnd!=null&&jt("scrollend",i),l.onClick!=null&&(i.onclick=yf),i=!0):i=!1,i||ia(n)}function iv(n){for(yn=n.return;yn;)switch(yn.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:yn=yn.return}}function wl(n){if(n!==yn)return!1;if(!Qt)return iv(n),Qt=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Bp(n.type,n.memoizedProps)),a=!a),a&&de&&ia(n),iv(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){de=ur(n.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}de=null}}else i===27?(i=de,Ji(n.type)?(n=Fp,Fp=null,de=n):de=i):de=yn?ur(n.stateNode.nextSibling):null;return!0}function Rl(){de=yn=null,Qt=!1}function sv(){var n=ra;return n!==null&&(Tn===null?Tn=n:Tn.push.apply(Tn,n),ra=null),n}function Cl(n){ra===null?ra=[n]:ra.push(n)}var wd=tt(null),sa=null,ai=null;function Ui(n,i,a){it(wd,i._currentValue),i._currentValue=a}function oi(n){n._currentValue=wd.current,ut(wd)}function Rd(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Cd(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=h;for(var x=0;x<i.length;x++)if(S.context===i[x]){p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),Rd(p.return,a,n),l||(E=null);break t}p=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),Rd(E,a,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Il(n,i,a,l){n=null;for(var h=i,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=h.type;Cn(h.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(h===te.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(ru):n=[ru])}h=h.return}n!==null&&Cd(i,n,a,l),i.flags|=262144}function Lc(n){for(n=n.firstContext;n!==null;){if(!Cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function aa(n){sa=n,ai=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function on(n){return av(sa,n)}function Uc(n,i){return sa===null&&aa(n),av(n,i)}function av(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ai===null){if(n===null)throw Error(s(308));ai=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ai=ai.next=i;return a}var U1=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},j1=r.unstable_scheduleCallback,B1=r.unstable_NormalPriority,De={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Id(){return{controller:new U1,data:new Map,refCount:0}}function Ol(n){n.refCount--,n.refCount===0&&j1(B1,function(){n.controller.abort()})}var Nl=null,Od=0,to=0,eo=null;function z1(n,i){if(Nl===null){var a=Nl=[];Od=0,to=Dp(),eo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Od++,i.then(ov,ov),i}function ov(){if(--Od===0&&Nl!==null){eo!==null&&(eo.status="fulfilled");var n=Nl;Nl=null,to=0,eo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function H1(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var lv=$.S;$.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&z1(n,i),lv!==null&&lv(n,i)};var oa=tt(null);function Nd(){var n=oa.current;return n!==null?n:ae.pooledCache}function jc(n,i){i===null?it(oa,oa.current):it(oa,i.pool)}function uv(){var n=Nd();return n===null?null:{parent:De._currentValue,pool:n}}var Dl=Error(s(460)),cv=Error(s(474)),Bc=Error(s(542)),Dd={then:function(){}};function fv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function zc(){}function hv(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(zc,zc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,pv(n),n;default:if(typeof i.status=="string")i.then(zc,zc);else{if(n=ae,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,pv(n),n}throw xl=i,Dl}}var xl=null;function dv(){if(xl===null)throw Error(s(459));var n=xl;return xl=null,n}function pv(n){if(n===Dl||n===Bc)throw Error(s(483))}var ji=!1;function xd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Bi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function zi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Mc(n),tv(n,null,a),i}return xc(n,l,i,a),Mc(n)}function Ml(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,ol(n,a)}}function Vd(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?h=p=i:p=p.next=i}else h=p=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var kd=!1;function Vl(){if(kd){var n=eo;if(n!==null)throw n}}function kl(n,i,a,l){kd=!1;var h=n.updateQueue;ji=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var x=S,F=x.next;x.next=null,E===null?p=F:E.next=F,E=x;var J=n.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==E&&(S===null?J.firstBaseUpdate=F:S.next=F,J.lastBaseUpdate=x))}if(p!==null){var nt=h.baseState;E=0,J=F=x=null,S=p;do{var G=S.lane&-536870913,K=G!==S.lane;if(K?(Gt&G)===G:(l&G)===G){G!==0&&G===to&&(kd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var It=n,At=S;G=i;var ie=a;switch(At.tag){case 1:if(It=At.payload,typeof It=="function"){nt=It.call(ie,nt,G);break t}nt=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=At.payload,G=typeof It=="function"?It.call(ie,nt,G):It,G==null)break t;nt=v({},nt,G);break t;case 2:ji=!0}}G=S.callback,G!==null&&(n.flags|=64,K&&(n.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(F=J=K,x=nt):J=J.next=K,E|=G;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(x=nt),h.baseState=x,h.firstBaseUpdate=F,h.lastBaseUpdate=J,p===null&&(h.shared.lanes=0),Qi|=E,n.lanes=E,n.memoizedState=nt}}function mv(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function gv(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)mv(a[n],i)}var no=tt(null),Hc=tt(0);function yv(n,i){n=pi,it(Hc,n),it(no,i),pi=n|i.baseLanes}function Pd(){it(Hc,pi),it(no,no.current)}function Ld(){pi=Hc.current,ut(no),ut(Hc)}var Hi=0,kt=null,ne=null,Ae=null,qc=!1,ro=!1,la=!1,Fc=0,Pl=0,io=null,q1=0;function ye(){throw Error(s(321))}function Ud(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Cn(n[a],i[a]))return!1;return!0}function jd(n,i,a,l,h,p){return Hi=p,kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=n===null||n.memoizedState===null?t_:e_,la=!1,p=a(l,h),la=!1,ro&&(p=_v(i,a,l,h)),vv(n),p}function vv(n){$.H=Xc;var i=ne!==null&&ne.next!==null;if(Hi=0,Ae=ne=kt=null,qc=!1,Pl=0,io=null,i)throw Error(s(300));n===null||je||(n=n.dependencies,n!==null&&Lc(n)&&(je=!0))}function _v(n,i,a,l){kt=n;var h=0;do{if(ro&&(io=null),Pl=0,ro=!1,25<=h)throw Error(s(301));if(h+=1,Ae=ne=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=X1,p=i(a,l)}while(ro);return p}function F1(){var n=$.H,i=n.useState()[0];return i=typeof i.then=="function"?Ll(i):i,n=n.useState()[0],(ne!==null?ne.memoizedState:null)!==n&&(kt.flags|=1024),i}function Bd(){var n=Fc!==0;return Fc=0,n}function zd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Hd(n){if(qc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}qc=!1}Hi=0,Ae=ne=kt=null,ro=!1,Pl=Fc=0,io=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?kt.memoizedState=Ae=n:Ae=Ae.next=n,Ae}function be(){if(ne===null){var n=kt.alternate;n=n!==null?n.memoizedState:null}else n=ne.next;var i=Ae===null?kt.memoizedState:Ae.next;if(i!==null)Ae=i,ne=n;else{if(n===null)throw kt.alternate===null?Error(s(467)):Error(s(310));ne=n,n={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Ae===null?kt.memoizedState=Ae=n:Ae=Ae.next=n}return Ae}function qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(n){var i=Pl;return Pl+=1,io===null&&(io=[]),n=hv(io,n,i),i=kt,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?t_:e_),n}function Gc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ll(n);if(n.$$typeof===Q)return on(n)}throw Error(s(438,String(n)))}function Fd(n){var i=null,a=kt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=kt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=qd(),kt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=M;return i.index++,a}function li(n,i){return typeof i=="function"?i(n):i}function $c(n){var i=be();return Gd(i,ne,n)}function Gd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,p=l.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}i.baseQueue=h=p,l.pending=null}if(p=n.baseState,h===null)n.memoizedState=p;else{i=h.next;var S=E=null,x=null,F=i,J=!1;do{var nt=F.lane&-536870913;if(nt!==F.lane?(Gt&nt)===nt:(Hi&nt)===nt){var G=F.revertLane;if(G===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),nt===to&&(J=!0);else if((Hi&G)===G){F=F.next,G===to&&(J=!0);continue}else nt={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(S=x=nt,E=p):x=x.next=nt,kt.lanes|=G,Qi|=G;nt=F.action,la&&a(p,nt),p=F.hasEagerState?F.eagerState:a(p,nt)}else G={lane:nt,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(S=x=G,E=p):x=x.next=G,kt.lanes|=nt,Qi|=nt;F=F.next}while(F!==null&&F!==i);if(x===null?E=p:x.next=S,!Cn(p,n.memoizedState)&&(je=!0,J&&(a=eo,a!==null)))throw a;n.memoizedState=p,n.baseState=E,n.baseQueue=x,l.lastRenderedState=p}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function $d(n){var i=be(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,p=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do p=n(p,E.action),E=E.next;while(E!==h);Cn(p,i.memoizedState)||(je=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,l]}function Ev(n,i,a){var l=kt,h=be(),p=Qt;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Cn((ne||h).memoizedState,a);E&&(h.memoizedState=a,je=!0),h=h.queue;var S=Av.bind(null,l,h,n);if(Ul(2048,8,S,[n]),h.getSnapshot!==i||E||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,so(9,Kc(),Sv.bind(null,l,h,a,i),null),ae===null)throw Error(s(349));p||(Hi&124)!==0||Tv(l,i,a)}return a}function Tv(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=kt.updateQueue,i===null?(i=qd(),kt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Sv(n,i,a,l){i.value=a,i.getSnapshot=l,bv(i)&&wv(n)}function Av(n,i,a){return a(function(){bv(i)&&wv(n)})}function bv(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Cn(n,a)}catch{return!0}}function wv(n){var i=Xa(n,2);i!==null&&Mn(i,n,2)}function Kd(n){var i=_n();if(typeof n=="function"){var a=n;if(n=a(),la){Ce(!0);try{a()}finally{Ce(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:n},i}function Rv(n,i,a,l){return n.baseState=a,Gd(n,ne,typeof l=="function"?l:li)}function G1(n,i,a,l,h){if(Qc(n))throw Error(s(485));if(n=i.action,n!==null){var p={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};$.T!==null?a(!0):p.isTransition=!1,l(p),a=i.pending,a===null?(p.next=i.pending=p,Cv(i,p)):(p.next=a.next,i.pending=a.next=p)}}function Cv(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var p=$.T,E={};$.T=E;try{var S=a(h,l),x=$.S;x!==null&&x(E,S),Iv(n,i,S)}catch(F){Yd(n,i,F)}finally{$.T=p}}else try{p=a(h,l),Iv(n,i,p)}catch(F){Yd(n,i,F)}}function Iv(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ov(n,i,l)},function(l){return Yd(n,i,l)}):Ov(n,i,a)}function Ov(n,i,a){i.status="fulfilled",i.value=a,Nv(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Cv(n,a)))}function Yd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Nv(i),i=i.next;while(i!==l)}n.action=null}function Nv(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Dv(n,i){return i}function xv(n,i){if(Qt){var a=ae.formState;if(a!==null){t:{var l=kt;if(Qt){if(de){e:{for(var h=de,p=Rr;h.nodeType!==8;){if(!p){h=null;break e}if(h=ur(h.nextSibling),h===null){h=null;break e}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){de=ur(h.nextSibling),l=h.data==="F!";break t}}ia(l)}l=!1}l&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dv,lastRenderedState:i},a.queue=l,a=Wv.bind(null,kt,l),l.dispatch=a,l=Kd(!1),p=Jd.bind(null,kt,!1,l.queue),l=_n(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=G1.bind(null,kt,h,p,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function Mv(n){var i=be();return Vv(i,ne,n)}function Vv(n,i,a){if(i=Gd(n,i,Dv)[0],n=$c(li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ll(i)}catch(E){throw E===Dl?Bc:E}else l=i;i=be();var h=i.queue,p=h.dispatch;return a!==i.memoizedState&&(kt.flags|=2048,so(9,Kc(),$1.bind(null,h,a),null)),[l,p,n]}function $1(n,i){n.action=i}function kv(n){var i=be(),a=ne;if(a!==null)return Vv(i,a,n);be(),i=i.memoizedState,a=be();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function so(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=kt.updateQueue,i===null&&(i=qd(),kt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Kc(){return{destroy:void 0,resource:void 0}}function Pv(){return be().memoizedState}function Yc(n,i,a,l){var h=_n();l=l===void 0?null:l,kt.flags|=n,h.memoizedState=so(1|i,Kc(),a,l)}function Ul(n,i,a,l){var h=be();l=l===void 0?null:l;var p=h.memoizedState.inst;ne!==null&&l!==null&&Ud(l,ne.memoizedState.deps)?h.memoizedState=so(i,p,a,l):(kt.flags|=n,h.memoizedState=so(1|i,p,a,l))}function Lv(n,i){Yc(8390656,8,n,i)}function Uv(n,i){Ul(2048,8,n,i)}function jv(n,i){return Ul(4,2,n,i)}function Bv(n,i){return Ul(4,4,n,i)}function zv(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Hv(n,i,a){a=a!=null?a.concat([n]):null,Ul(4,4,zv.bind(null,i,n),a)}function Qd(){}function qv(n,i){var a=be();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ud(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Fv(n,i){var a=be();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ud(i,l[1]))return l[0];if(l=n(),la){Ce(!0);try{n()}finally{Ce(!1)}}return a.memoizedState=[l,i],l}function Xd(n,i,a){return a===void 0||(Hi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=K_(),kt.lanes|=n,Qi|=n,a)}function Gv(n,i,a,l){return Cn(a,i)?a:no.current!==null?(n=Xd(n,a,l),Cn(n,i)||(je=!0),n):(Hi&42)===0?(je=!0,n.memoizedState=a):(n=K_(),kt.lanes|=n,Qi|=n,i)}function $v(n,i,a,l,h){var p=lt.p;lt.p=p!==0&&8>p?p:8;var E=$.T,S={};$.T=S,Jd(n,!1,i,a);try{var x=h(),F=$.S;if(F!==null&&F(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var J=H1(x,l);jl(n,i,J,xn(n))}else jl(n,i,l,xn(n))}catch(nt){jl(n,i,{then:function(){},status:"rejected",reason:nt},xn())}finally{lt.p=p,$.T=E}}function K1(){}function Wd(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=Kv(n).queue;$v(n,h,i,ft,a===null?K1:function(){return Yv(n),a(l)})}function Kv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Yv(n){var i=Kv(n).next.queue;jl(n,i,{},xn())}function Zd(){return on(ru)}function Qv(){return be().memoizedState}function Xv(){return be().memoizedState}function Y1(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();n=Bi(a);var l=zi(i,n,a);l!==null&&(Mn(l,i,a),Ml(l,i,a)),i={cache:Id()},n.payload=i;return}i=i.return}}function Q1(n,i,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Qc(n)?Zv(i,a):(a=vd(n,i,a,l),a!==null&&(Mn(a,n,l),Jv(a,i,l)))}function Wv(n,i,a){var l=xn();jl(n,i,a,l)}function jl(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qc(n))Zv(i,h);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,S=p(E,a);if(h.hasEagerState=!0,h.eagerState=S,Cn(S,E))return xc(n,i,h,0),ae===null&&Dc(),!1}catch{}finally{}if(a=vd(n,i,h,l),a!==null)return Mn(a,n,l),Jv(a,i,l),!0}return!1}function Jd(n,i,a,l){if(l={lane:2,revertLane:Dp(),action:l,hasEagerState:!1,eagerState:null,next:null},Qc(n)){if(i)throw Error(s(479))}else i=vd(n,a,l,2),i!==null&&Mn(i,n,2)}function Qc(n){var i=n.alternate;return n===kt||i!==null&&i===kt}function Zv(n,i){ro=qc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Jv(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,ol(n,a)}}var Xc={readContext:on,use:Gc,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},t_={readContext:on,use:Gc,useCallback:function(n,i){return _n().memoizedState=[n,i===void 0?null:i],n},useContext:on,useEffect:Lv,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Yc(4194308,4,zv.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Yc(4194308,4,n,i)},useInsertionEffect:function(n,i){Yc(4,2,n,i)},useMemo:function(n,i){var a=_n();i=i===void 0?null:i;var l=n();if(la){Ce(!0);try{n()}finally{Ce(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=_n();if(a!==void 0){var h=a(i);if(la){Ce(!0);try{a(i)}finally{Ce(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=Q1.bind(null,kt,n),[l.memoizedState,n]},useRef:function(n){var i=_n();return n={current:n},i.memoizedState=n},useState:function(n){n=Kd(n);var i=n.queue,a=Wv.bind(null,kt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Qd,useDeferredValue:function(n,i){var a=_n();return Xd(a,n,i)},useTransition:function(){var n=Kd(!1);return n=$v.bind(null,kt,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=kt,h=_n();if(Qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ae===null)throw Error(s(349));(Gt&124)!==0||Tv(l,i,a)}h.memoizedState=a;var p={value:a,getSnapshot:i};return h.queue=p,Lv(Av.bind(null,l,p,n),[n]),l.flags|=2048,so(9,Kc(),Sv.bind(null,l,p,a,i),null),a},useId:function(){var n=_n(),i=ae.identifierPrefix;if(Qt){var a=si,l=ii;a=(l&~(1<<32-an(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Fc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=q1++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Zd,useFormState:xv,useActionState:xv,useOptimistic:function(n){var i=_n();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Jd.bind(null,kt,!0,a),a.dispatch=i,[n,i]},useMemoCache:Fd,useCacheRefresh:function(){return _n().memoizedState=Y1.bind(null,kt)}},e_={readContext:on,use:Gc,useCallback:qv,useContext:on,useEffect:Uv,useImperativeHandle:Hv,useInsertionEffect:jv,useLayoutEffect:Bv,useMemo:Fv,useReducer:$c,useRef:Pv,useState:function(){return $c(li)},useDebugValue:Qd,useDeferredValue:function(n,i){var a=be();return Gv(a,ne.memoizedState,n,i)},useTransition:function(){var n=$c(li)[0],i=be().memoizedState;return[typeof n=="boolean"?n:Ll(n),i]},useSyncExternalStore:Ev,useId:Qv,useHostTransitionStatus:Zd,useFormState:Mv,useActionState:Mv,useOptimistic:function(n,i){var a=be();return Rv(a,ne,n,i)},useMemoCache:Fd,useCacheRefresh:Xv},X1={readContext:on,use:Gc,useCallback:qv,useContext:on,useEffect:Uv,useImperativeHandle:Hv,useInsertionEffect:jv,useLayoutEffect:Bv,useMemo:Fv,useReducer:$d,useRef:Pv,useState:function(){return $d(li)},useDebugValue:Qd,useDeferredValue:function(n,i){var a=be();return ne===null?Xd(a,n,i):Gv(a,ne.memoizedState,n,i)},useTransition:function(){var n=$d(li)[0],i=be().memoizedState;return[typeof n=="boolean"?n:Ll(n),i]},useSyncExternalStore:Ev,useId:Qv,useHostTransitionStatus:Zd,useFormState:kv,useActionState:kv,useOptimistic:function(n,i){var a=be();return ne!==null?Rv(a,ne,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:Xv},ao=null,Bl=0;function Wc(n){var i=Bl;return Bl+=1,ao===null&&(ao=[]),hv(ao,n,i)}function zl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Zc(n,i){throw i.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function n_(n){var i=n._init;return i(n._payload)}function r_(n){function i(B,L){if(n){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function h(B,L){return B=ri(B,L),B.index=0,B.sibling=null,B}function p(B,L,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=67108866,L):q):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function E(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function S(B,L,q,et){return L===null||L.tag!==6?(L=Ed(q,B.mode,et),L.return=B,L):(L=h(L,q),L.return=B,L)}function x(B,L,q,et){var mt=q.type;return mt===U?J(B,L,q.props.children,et,q.key):L!==null&&(L.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&n_(mt)===L.type)?(L=h(L,q.props),zl(L,q),L.return=B,L):(L=Vc(q.type,q.key,q.props,null,B.mode,et),zl(L,q),L.return=B,L)}function F(B,L,q,et){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Td(q,B.mode,et),L.return=B,L):(L=h(L,q.children||[]),L.return=B,L)}function J(B,L,q,et,mt){return L===null||L.tag!==7?(L=ta(q,B.mode,et,mt),L.return=B,L):(L=h(L,q),L.return=B,L)}function nt(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ed(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return q=Vc(L.type,L.key,L.props,null,B.mode,q),zl(q,L),q.return=B,q;case N:return L=Td(L,B.mode,q),L.return=B,L;case R:var et=L._init;return L=et(L._payload),nt(B,L,q)}if(Ct(L)||j(L))return L=ta(L,B.mode,q,null),L.return=B,L;if(typeof L.then=="function")return nt(B,Wc(L),q);if(L.$$typeof===Q)return nt(B,Uc(B,L),q);Zc(B,L)}return null}function G(B,L,q,et){var mt=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return mt!==null?null:S(B,L,""+q,et);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===mt?x(B,L,q,et):null;case N:return q.key===mt?F(B,L,q,et):null;case R:return mt=q._init,q=mt(q._payload),G(B,L,q,et)}if(Ct(q)||j(q))return mt!==null?null:J(B,L,q,et,null);if(typeof q.then=="function")return G(B,L,Wc(q),et);if(q.$$typeof===Q)return G(B,L,Uc(B,q),et);Zc(B,q)}return null}function K(B,L,q,et,mt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(q)||null,S(L,B,""+et,mt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case A:return B=B.get(et.key===null?q:et.key)||null,x(L,B,et,mt);case N:return B=B.get(et.key===null?q:et.key)||null,F(L,B,et,mt);case R:var Lt=et._init;return et=Lt(et._payload),K(B,L,q,et,mt)}if(Ct(et)||j(et))return B=B.get(q)||null,J(L,B,et,mt,null);if(typeof et.then=="function")return K(B,L,q,Wc(et),mt);if(et.$$typeof===Q)return K(B,L,q,Uc(L,et),mt);Zc(L,et)}return null}function It(B,L,q,et){for(var mt=null,Lt=null,_t=L,bt=L=0,ze=null;_t!==null&&bt<q.length;bt++){_t.index>bt?(ze=_t,_t=null):ze=_t.sibling;var Yt=G(B,_t,q[bt],et);if(Yt===null){_t===null&&(_t=ze);break}n&&_t&&Yt.alternate===null&&i(B,_t),L=p(Yt,L,bt),Lt===null?mt=Yt:Lt.sibling=Yt,Lt=Yt,_t=ze}if(bt===q.length)return a(B,_t),Qt&&na(B,bt),mt;if(_t===null){for(;bt<q.length;bt++)_t=nt(B,q[bt],et),_t!==null&&(L=p(_t,L,bt),Lt===null?mt=_t:Lt.sibling=_t,Lt=_t);return Qt&&na(B,bt),mt}for(_t=l(_t);bt<q.length;bt++)ze=K(_t,B,bt,q[bt],et),ze!==null&&(n&&ze.alternate!==null&&_t.delete(ze.key===null?bt:ze.key),L=p(ze,L,bt),Lt===null?mt=ze:Lt.sibling=ze,Lt=ze);return n&&_t.forEach(function(is){return i(B,is)}),Qt&&na(B,bt),mt}function At(B,L,q,et){if(q==null)throw Error(s(151));for(var mt=null,Lt=null,_t=L,bt=L=0,ze=null,Yt=q.next();_t!==null&&!Yt.done;bt++,Yt=q.next()){_t.index>bt?(ze=_t,_t=null):ze=_t.sibling;var is=G(B,_t,Yt.value,et);if(is===null){_t===null&&(_t=ze);break}n&&_t&&is.alternate===null&&i(B,_t),L=p(is,L,bt),Lt===null?mt=is:Lt.sibling=is,Lt=is,_t=ze}if(Yt.done)return a(B,_t),Qt&&na(B,bt),mt;if(_t===null){for(;!Yt.done;bt++,Yt=q.next())Yt=nt(B,Yt.value,et),Yt!==null&&(L=p(Yt,L,bt),Lt===null?mt=Yt:Lt.sibling=Yt,Lt=Yt);return Qt&&na(B,bt),mt}for(_t=l(_t);!Yt.done;bt++,Yt=q.next())Yt=K(_t,B,bt,Yt.value,et),Yt!==null&&(n&&Yt.alternate!==null&&_t.delete(Yt.key===null?bt:Yt.key),L=p(Yt,L,bt),Lt===null?mt=Yt:Lt.sibling=Yt,Lt=Yt);return n&&_t.forEach(function(WR){return i(B,WR)}),Qt&&na(B,bt),mt}function ie(B,L,q,et){if(typeof q=="object"&&q!==null&&q.type===U&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:t:{for(var mt=q.key;L!==null;){if(L.key===mt){if(mt=q.type,mt===U){if(L.tag===7){a(B,L.sibling),et=h(L,q.props.children),et.return=B,B=et;break t}}else if(L.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&n_(mt)===L.type){a(B,L.sibling),et=h(L,q.props),zl(et,q),et.return=B,B=et;break t}a(B,L);break}else i(B,L);L=L.sibling}q.type===U?(et=ta(q.props.children,B.mode,et,q.key),et.return=B,B=et):(et=Vc(q.type,q.key,q.props,null,B.mode,et),zl(et,q),et.return=B,B=et)}return E(B);case N:t:{for(mt=q.key;L!==null;){if(L.key===mt)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(B,L.sibling),et=h(L,q.children||[]),et.return=B,B=et;break t}else{a(B,L);break}else i(B,L);L=L.sibling}et=Td(q,B.mode,et),et.return=B,B=et}return E(B);case R:return mt=q._init,q=mt(q._payload),ie(B,L,q,et)}if(Ct(q))return It(B,L,q,et);if(j(q)){if(mt=j(q),typeof mt!="function")throw Error(s(150));return q=mt.call(q),At(B,L,q,et)}if(typeof q.then=="function")return ie(B,L,Wc(q),et);if(q.$$typeof===Q)return ie(B,L,Uc(B,q),et);Zc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(B,L.sibling),et=h(L,q),et.return=B,B=et):(a(B,L),et=Ed(q,B.mode,et),et.return=B,B=et),E(B)):a(B,L)}return function(B,L,q,et){try{Bl=0;var mt=ie(B,L,q,et);return ao=null,mt}catch(_t){if(_t===Dl||_t===Bc)throw _t;var Lt=In(29,_t,null,B.mode);return Lt.lanes=et,Lt.return=B,Lt}finally{}}}var oo=r_(!0),i_=r_(!1),Yn=tt(null),Cr=null;function qi(n){var i=n.alternate;it(xe,xe.current&1),it(Yn,n),Cr===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(Cr=n)}function s_(n){if(n.tag===22){if(it(xe,xe.current),it(Yn,n),Cr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Cr=n)}}else Fi()}function Fi(){it(xe,xe.current),it(Yn,Yn.current)}function ui(n){ut(Yn),Cr===n&&(Cr=null),ut(xe)}var xe=tt(0);function Jc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||qp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function tp(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ep={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=xn(),h=Bi(l);h.payload=i,a!=null&&(h.callback=a),i=zi(n,h,l),i!==null&&(Mn(i,n,l),Ml(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=xn(),h=Bi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=zi(n,h,l),i!==null&&(Mn(i,n,l),Ml(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=xn(),l=Bi(a);l.tag=2,i!=null&&(l.callback=i),i=zi(n,l,a),i!==null&&(Mn(i,n,a),Ml(i,n,a))}};function a_(n,i,a,l,h,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,E):i.prototype&&i.prototype.isPureReactComponent?!Al(a,l)||!Al(h,p):!0}function o_(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&ep.enqueueReplaceState(i,i.state,null)}function ua(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=v({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var tf=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function l_(n){tf(n)}function u_(n){console.error(n)}function c_(n){tf(n)}function ef(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function f_(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function np(n,i,a){return a=Bi(a),a.tag=3,a.payload={element:null},a.callback=function(){ef(n,i)},a}function h_(n){return n=Bi(n),n.tag=3,n}function d_(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;n.payload=function(){return h(p)},n.callback=function(){f_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){f_(i,a,l),typeof h!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function W1(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Il(i,a,h,!0),a=Yn.current,a!==null){switch(a.tag){case 13:return Cr===null?Rp():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Dd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ip(n,l,h)),!1;case 22:return a.flags|=65536,l===Dd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ip(n,l,h)),!1}throw Error(s(435,a.tag))}return Ip(n,l,h),Rp(),!1}if(Qt)return i=Yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==bd&&(n=Error(s(422),{cause:l}),Cl(Fn(n,a)))):(l!==bd&&(i=Error(s(423),{cause:l}),Cl(Fn(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Fn(l,a),h=np(n.stateNode,l,h),Vd(n,h),pe!==4&&(pe=2)),!1;var p=Error(s(520),{cause:l});if(p=Fn(p,a),Yl===null?Yl=[p]:Yl.push(p),pe!==4&&(pe=2),i===null)return!0;l=Fn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=np(a.stateNode,l,n),Vd(a,n),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xi===null||!Xi.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=h_(h),d_(h,n,a,l),Vd(a,h),!1}a=a.return}while(a!==null);return!1}var p_=Error(s(461)),je=!1;function Ye(n,i,a,l){i.child=n===null?i_(i,null,a,l):oo(i,n.child,a,l)}function m_(n,i,a,l,h){a=a.render;var p=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return aa(i),l=jd(n,i,a,E,p,h),S=Bd(),n!==null&&!je?(zd(n,i,h),ci(n,i,h)):(Qt&&S&&Sd(i),i.flags|=1,Ye(n,i,l,h),i.child)}function g_(n,i,a,l,h){if(n===null){var p=a.type;return typeof p=="function"&&!_d(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,y_(n,i,p,l,h)):(n=Vc(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!cp(n,h)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(E,l)&&n.ref===i.ref)return ci(n,i,h)}return i.flags|=1,n=ri(p,l),n.ref=i.ref,n.return=i,i.child=n}function y_(n,i,a,l,h){if(n!==null){var p=n.memoizedProps;if(Al(p,l)&&n.ref===i.ref)if(je=!1,i.pendingProps=l=p,cp(n,h))(n.flags&131072)!==0&&(je=!0);else return i.lanes=n.lanes,ci(n,i,h)}return rp(n,i,a,l,h)}function v_(n,i,a){var l=i.pendingProps,h=l.children,p=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,n!==null){for(h=i.child=n.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;i.childLanes=p&~l}else i.childLanes=0,i.child=null;return __(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&jc(i,p!==null?p.cachePool:null),p!==null?yv(i,p):Pd(),s_(i);else return i.lanes=i.childLanes=536870912,__(n,i,p!==null?p.baseLanes|a:a,a)}else p!==null?(jc(i,p.cachePool),yv(i,p),Fi(),i.memoizedState=null):(n!==null&&jc(i,null),Pd(),Fi());return Ye(n,i,h,a),i.child}function __(n,i,a,l){var h=Nd();return h=h===null?null:{parent:De._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&jc(i,null),Pd(),s_(i),n!==null&&Il(n,i,l,!0),null}function nf(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function rp(n,i,a,l,h){return aa(i),a=jd(n,i,a,l,void 0,h),l=Bd(),n!==null&&!je?(zd(n,i,h),ci(n,i,h)):(Qt&&l&&Sd(i),i.flags|=1,Ye(n,i,a,h),i.child)}function E_(n,i,a,l,h,p){return aa(i),i.updateQueue=null,a=_v(i,l,a,h),vv(n),l=Bd(),n!==null&&!je?(zd(n,i,p),ci(n,i,p)):(Qt&&l&&Sd(i),i.flags|=1,Ye(n,i,a,p),i.child)}function T_(n,i,a,l,h){if(aa(i),i.stateNode===null){var p=Wa,E=a.contextType;typeof E=="object"&&E!==null&&(p=on(E)),p=new a(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ep,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},xd(i),E=a.contextType,p.context=typeof E=="object"&&E!==null?on(E):Wa,p.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(tp(i,a,E,l),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&ep.enqueueReplaceState(p,p.state,null),kl(i,l,p,h),Vl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){p=i.stateNode;var S=i.memoizedProps,x=ua(a,S);p.props=x;var F=p.context,J=a.contextType;E=Wa,typeof J=="object"&&J!==null&&(E=on(J));var nt=a.getDerivedStateFromProps;J=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||F!==E)&&o_(i,p,l,E),ji=!1;var G=i.memoizedState;p.state=G,kl(i,l,p,h),Vl(),F=i.memoizedState,S||G!==F||ji?(typeof nt=="function"&&(tp(i,a,nt,l),F=i.memoizedState),(x=ji||a_(i,a,x,l,G,F,E))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),p.props=l,p.state=F,p.context=E,l=x):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,Md(n,i),E=i.memoizedProps,J=ua(a,E),p.props=J,nt=i.pendingProps,G=p.context,F=a.contextType,x=Wa,typeof F=="object"&&F!==null&&(x=on(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==nt||G!==x)&&o_(i,p,l,x),ji=!1,G=i.memoizedState,p.state=G,kl(i,l,p,h),Vl();var K=i.memoizedState;E!==nt||G!==K||ji||n!==null&&n.dependencies!==null&&Lc(n.dependencies)?(typeof S=="function"&&(tp(i,a,S,l),K=i.memoizedState),(J=ji||a_(i,a,J,l,G,K,x)||n!==null&&n.dependencies!==null&&Lc(n.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,K,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,K,x)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),p.props=l,p.state=K,p.context=x,l=J):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),l=!1)}return p=l,nf(n,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&l?(i.child=oo(i,n.child,null,h),i.child=oo(i,null,a,h)):Ye(n,i,a,h),i.memoizedState=p.state,n=i.child):n=ci(n,i,h),n}function S_(n,i,a,l){return Rl(),i.flags|=256,Ye(n,i,a,l),i.child}var ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(n){return{baseLanes:n,cachePool:uv()}}function ap(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Qn),n}function A_(n,i,a){var l=i.pendingProps,h=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(xe.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Qt){if(h?qi(i):Fi(),Qt){var S=de,x;if(x=S){t:{for(x=S,S=Rr;x.nodeType!==8;){if(!S){S=null;break t}if(x=ur(x.nextSibling),x===null){S=null;break t}}S=x}S!==null?(i.memoizedState={dehydrated:S,treeContext:ea!==null?{id:ii,overflow:si}:null,retryLane:536870912,hydrationErrors:null},x=In(18,null,null,0),x.stateNode=S,x.return=i,i.child=x,yn=i,de=null,x=!0):x=!1}x||ia(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return qp(S)?i.lanes=32:i.lanes=536870912,null;ui(i)}return S=l.children,l=l.fallback,h?(Fi(),h=i.mode,S=rf({mode:"hidden",children:S},h),l=ta(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=sp(a),h.childLanes=ap(n,E,a),i.memoizedState=ip,l):(qi(i),op(i,S))}if(x=n.memoizedState,x!==null&&(S=x.dehydrated,S!==null)){if(p)i.flags&256?(qi(i),i.flags&=-257,i=lp(n,i,a)):i.memoizedState!==null?(Fi(),i.child=n.child,i.flags|=128,i=null):(Fi(),h=l.fallback,S=i.mode,l=rf({mode:"visible",children:l.children},S),h=ta(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,oo(i,n.child,null,a),l=i.child,l.memoizedState=sp(a),l.childLanes=ap(n,E,a),i.memoizedState=ip,i=h);else if(qi(i),qp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,Cl({value:l,source:null,stack:null}),i=lp(n,i,a)}else if(je||Il(n,i,a,!1),E=(a&n.childLanes)!==0,je||E){if(E=ae,E!==null&&(l=a&-a,l=(l&42)!==0?1:Di(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Xa(n,l),Mn(E,n,l),p_;S.data==="$?"||Rp(),i=lp(n,i,a)}else S.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=x.treeContext,de=ur(S.nextSibling),yn=i,Qt=!0,ra=null,Rr=!1,n!==null&&($n[Kn++]=ii,$n[Kn++]=si,$n[Kn++]=ea,ii=n.id,si=n.overflow,ea=i),i=op(i,l.children),i.flags|=4096);return i}return h?(Fi(),h=l.fallback,S=i.mode,x=n.child,F=x.sibling,l=ri(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,F!==null?h=ri(F,h):(h=ta(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=n.child.memoizedState,S===null?S=sp(a):(x=S.cachePool,x!==null?(F=De._currentValue,x=x.parent!==F?{parent:F,pool:F}:x):x=uv(),S={baseLanes:S.baseLanes|a,cachePool:x}),h.memoizedState=S,h.childLanes=ap(n,E,a),i.memoizedState=ip,l):(qi(i),a=n.child,n=a.sibling,a=ri(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function op(n,i){return i=rf({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function rf(n,i){return n=In(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function lp(n,i,a){return oo(i,n.child,null,a),n=op(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function b_(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Rd(n.return,i,a)}function up(n,i,a,l,h){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=h)}function w_(n,i,a){var l=i.pendingProps,h=l.revealOrder,p=l.tail;if(Ye(n,i,l.children,a),l=xe.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&b_(n,a,i);else if(n.tag===19)b_(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(it(xe,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&Jc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),up(i,!1,h,a,p);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Jc(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}up(i,!0,a,null,p);break;case"together":up(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ci(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Qi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Il(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=ri(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ri(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function cp(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Lc(n)))}function Z1(n,i,a){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),Ui(i,De,n.memoizedState.cache),Rl();break;case 27:case 5:Ge(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:Ui(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(qi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?A_(n,i,a):(qi(i),n=ci(n,i,a),n!==null?n.sibling:null);qi(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Il(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return w_(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(xe,xe.current),l)break;return null;case 22:case 23:return i.lanes=0,v_(n,i,a);case 24:Ui(i,De,n.memoizedState.cache)}return ci(n,i,a)}function R_(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)je=!0;else{if(!cp(n,a)&&(i.flags&128)===0)return je=!1,Z1(n,i,a);je=(n.flags&131072)!==0}else je=!1,Qt&&(i.flags&1048576)!==0&&nv(i,Pc,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")_d(l)?(n=ua(l,n),i.tag=1,i=T_(null,i,l,n,a)):(i.tag=0,i=rp(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===W){i.tag=11,i=m_(null,i,l,n,a);break t}else if(h===D){i.tag=14,i=g_(null,i,l,n,a);break t}}throw i=xt(l)||l,Error(s(306,i,""))}}return i;case 0:return rp(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ua(l,i.pendingProps),T_(n,i,l,h,a);case 3:t:{if(Pt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var p=i.memoizedState;h=p.element,Md(n,i),kl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Ui(i,De,l),l!==p.cache&&Cd(i,[De],a,!0),Vl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=S_(n,i,l,a);break t}else if(l!==h){h=Fn(Error(s(424)),i),Cl(h),i=S_(n,i,l,a);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(de=ur(n.firstChild),yn=i,Qt=!0,ra=null,Rr=!0,a=i_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rl(),l===h){i=ci(n,i,a);break t}Ye(n,i,l,a)}i=i.child}return i;case 26:return nf(n,i),n===null?(a=NE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qt||(a=i.type,n=i.pendingProps,l=vf(Et.current).createElement(a),l[Ie]=i,l[Te]=n,Xe(l,a,n),ge(l),i.stateNode=l):i.memoizedState=NE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ge(i),n===null&&Qt&&(l=i.stateNode=CE(i.type,i.pendingProps,Et.current),yn=i,Rr=!0,h=de,Ji(i.type)?(Fp=h,de=ur(l.firstChild)):de=h),Ye(n,i,i.pendingProps.children,a),nf(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Qt&&((h=l=de)&&(l=RR(l,i.type,i.pendingProps,Rr),l!==null?(i.stateNode=l,yn=i,de=ur(l.firstChild),Rr=!1,h=!0):h=!1),h||ia(i)),Ge(i),h=i.type,p=i.pendingProps,E=n!==null?n.memoizedProps:null,l=p.children,Bp(h,p)?l=null:E!==null&&Bp(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=jd(n,i,F1,null,null,a),ru._currentValue=h),nf(n,i),Ye(n,i,l,a),i.child;case 6:return n===null&&Qt&&((n=a=de)&&(a=CR(a,i.pendingProps,Rr),a!==null?(i.stateNode=a,yn=i,de=null,n=!0):n=!1),n||ia(i)),null;case 13:return A_(n,i,a);case 4:return Pt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=oo(i,null,l,a):Ye(n,i,l,a),i.child;case 11:return m_(n,i,i.type,i.pendingProps,a);case 7:return Ye(n,i,i.pendingProps,a),i.child;case 8:return Ye(n,i,i.pendingProps.children,a),i.child;case 12:return Ye(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ui(i,i.type,l.value),Ye(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,aa(i),h=on(h),l=l(h),i.flags|=1,Ye(n,i,l,a),i.child;case 14:return g_(n,i,i.type,i.pendingProps,a);case 15:return y_(n,i,i.type,i.pendingProps,a);case 19:return w_(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=rf(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ri(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return v_(n,i,a);case 24:return aa(i),l=on(De),n===null?(h=Nd(),h===null&&(h=ae,p=Id(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),i.memoizedState={parent:l,cache:h},xd(i),Ui(i,De,h)):((n.lanes&a)!==0&&(Md(n,i),kl(i,null,null,a),Vl()),h=n.memoizedState,p=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ui(i,De,l)):(l=p.cache,Ui(i,De,l),l!==h.cache&&Cd(i,[De],a,!0))),Ye(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function fi(n){n.flags|=4}function C_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!kE(i)){if(i=Yn.current,i!==null&&((Gt&4194048)===Gt?Cr!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||i!==Cr))throw xl=Dd,cv;n.flags|=8192}}function sf(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?sl():536870912,n.lanes|=i,fo|=i)}function Hl(n,i){if(!Qt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function fe(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function J1(n,i,a){var l=i.pendingProps;switch(Ad(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(i),null;case 1:return fe(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),oi(De),Ee(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(wl(i)?fi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sv())),fe(i),null;case 26:return a=i.memoizedState,n===null?(fi(i),a!==null?(fe(i),C_(i,a)):(fe(i),i.flags&=-16777217)):a?a!==n.memoizedState?(fi(i),fe(i),C_(i,a)):(fe(i),i.flags&=-16777217):(n.memoizedProps!==l&&fi(i),fe(i),i.flags&=-16777217),null;case 27:Pe(i),a=Et.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return fe(i),null}n=ht.current,wl(i)?rv(i):(n=CE(h,l,a),i.stateNode=n,fi(i))}return fe(i),null;case 5:if(Pe(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return fe(i),null}if(n=ht.current,wl(i))rv(i);else{switch(h=vf(Et.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Ie]=i,n[Te]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;t:switch(Xe(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&fi(i)}}return fe(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Et.current,wl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=yn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Ie]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||EE(n.nodeValue,a)),n||ia(i)}else n=vf(n).createTextNode(l),n[Ie]=i,i.stateNode=n}return fe(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=wl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=i}else Rl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;fe(i),h=!1}else h=sv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ui(i),i):(ui(i),null)}if(ui(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),sf(i,i.updateQueue),fe(i),null;case 4:return Ee(),n===null&&kp(i.stateNode.containerInfo),fe(i),null;case 10:return oi(i.type),fe(i),null;case 19:if(ut(xe),h=i.memoizedState,h===null)return fe(i),null;if(l=(i.flags&128)!==0,p=h.rendering,p===null)if(l)Hl(h,!1);else{if(pe!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=Jc(n),p!==null){for(i.flags|=128,Hl(h,!1),n=p.updateQueue,i.updateQueue=n,sf(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)ev(a,n),a=a.sibling;return it(xe,xe.current&1|2),i.child}n=n.sibling}h.tail!==null&&me()>lf&&(i.flags|=128,l=!0,Hl(h,!1),i.lanes=4194304)}else{if(!l)if(n=Jc(p),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,sf(i,n),Hl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Qt)return fe(i),null}else 2*me()-h.renderingStartTime>lf&&a!==536870912&&(i.flags|=128,l=!0,Hl(h,!1),i.lanes=4194304);h.isBackwards?(p.sibling=i.child,i.child=p):(n=h.last,n!==null?n.sibling=p:i.child=p,h.last=p)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=me(),i.sibling=null,n=xe.current,it(xe,l?n&1|2:n&1),i):(fe(i),null);case 22:case 23:return ui(i),Ld(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(fe(i),i.subtreeFlags&6&&(i.flags|=8192)):fe(i),a=i.updateQueue,a!==null&&sf(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&ut(oa),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),oi(De),fe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function tR(n,i){switch(Ad(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return oi(De),Ee(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Pe(i),null;case 13:if(ui(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Rl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ut(xe),null;case 4:return Ee(),null;case 10:return oi(i.type),null;case 22:case 23:return ui(i),Ld(),n!==null&&ut(oa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return oi(De),null;case 25:return null;default:return null}}function I_(n,i){switch(Ad(i),i.tag){case 3:oi(De),Ee();break;case 26:case 27:case 5:Pe(i);break;case 4:Ee();break;case 13:ui(i);break;case 19:ut(xe);break;case 10:oi(i.type);break;case 22:case 23:ui(i),Ld(),n!==null&&ut(oa);break;case 24:oi(De)}}function ql(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var p=a.create,E=a.inst;l=p(),E.destroy=l}a=a.next}while(a!==h)}}catch(S){se(i,i.return,S)}}function Gi(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&n)===n){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=i;var x=a,F=S;try{F()}catch(J){se(h,x,J)}}}l=l.next}while(l!==p)}}catch(J){se(i,i.return,J)}}function O_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{gv(i,a)}catch(l){se(n,n.return,l)}}}function N_(n,i,a){a.props=ua(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){se(n,i,l)}}function Fl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){se(n,i,h)}}function Ir(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){se(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){se(n,i,h)}else a.current=null}function D_(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){se(n,n.return,h)}}function fp(n,i,a){try{var l=n.stateNode;TR(l,n.type,a,i),l[Te]=i}catch(h){se(n,n.return,h)}}function x_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ji(n.type)||n.tag===4}function hp(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||x_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ji(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function dp(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=yf));else if(l!==4&&(l===27&&Ji(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(dp(n,i,a),n=n.sibling;n!==null;)dp(n,i,a),n=n.sibling}function af(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Ji(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(af(n,i,a),n=n.sibling;n!==null;)af(n,i,a),n=n.sibling}function M_(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xe(i,l,a),i[Ie]=n,i[Te]=a}catch(p){se(n,n.return,p)}}var hi=!1,ve=!1,pp=!1,V_=typeof WeakSet=="function"?WeakSet:Set,Be=null;function eR(n,i){if(n=n.containerInfo,Up=bf,n=Gy(n),hd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var E=0,S=-1,x=-1,F=0,J=0,nt=n,G=null;e:for(;;){for(var K;nt!==a||h!==0&&nt.nodeType!==3||(S=E+h),nt!==p||l!==0&&nt.nodeType!==3||(x=E+l),nt.nodeType===3&&(E+=nt.nodeValue.length),(K=nt.firstChild)!==null;)G=nt,nt=K;for(;;){if(nt===n)break e;if(G===a&&++F===h&&(S=E),G===p&&++J===l&&(x=E),(K=nt.nextSibling)!==null)break;nt=G,G=nt.parentNode}nt=K}a=S===-1||x===-1?null:{start:S,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(jp={focusedElem:n,selectionRange:a},bf=!1,Be=i;Be!==null;)if(i=Be,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Be=n;else for(;Be!==null;){switch(i=Be,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=i,h=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var It=ua(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(It,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(At){se(a,a.return,At)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Hp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Hp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Be=n;break}Be=i.return}}function k_(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(n,a),l&4&&ql(5,a);break;case 1:if($i(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){se(a,a.return,E)}else{var h=ua(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){se(a,a.return,E)}}l&64&&O_(a),l&512&&Fl(a,a.return);break;case 3:if($i(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{gv(n,i)}catch(E){se(a,a.return,E)}}break;case 27:i===null&&l&4&&M_(a);case 26:case 5:$i(n,a),i===null&&l&4&&D_(a),l&512&&Fl(a,a.return);break;case 12:$i(n,a);break;case 13:$i(n,a),l&4&&U_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=cR.bind(null,a),IR(n,a))));break;case 22:if(l=a.memoizedState!==null||hi,!l){i=i!==null&&i.memoizedState!==null||ve,h=hi;var p=ve;hi=l,(ve=i)&&!p?Ki(n,a,(a.subtreeFlags&8772)!==0):$i(n,a),hi=h,ve=p}break;case 30:break;default:$i(n,a)}}function P_(n){var i=n.alternate;i!==null&&(n.alternate=null,P_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Vi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ce=null,En=!1;function di(n,i,a){for(a=a.child;a!==null;)L_(n,i,a),a=a.sibling}function L_(n,i,a){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Tt,a)}catch{}switch(a.tag){case 26:ve||Ir(a,i),di(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ve||Ir(a,i);var l=ce,h=En;Ji(a.type)&&(ce=a.stateNode,En=!1),di(n,i,a),Jl(a.stateNode),ce=l,En=h;break;case 5:ve||Ir(a,i);case 6:if(l=ce,h=En,ce=null,di(n,i,a),ce=l,En=h,ce!==null)if(En)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(p){se(a,i,p)}else try{ce.removeChild(a.stateNode)}catch(p){se(a,i,p)}break;case 18:ce!==null&&(En?(n=ce,wE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),ou(n)):wE(ce,a.stateNode));break;case 4:l=ce,h=En,ce=a.stateNode.containerInfo,En=!0,di(n,i,a),ce=l,En=h;break;case 0:case 11:case 14:case 15:ve||Gi(2,a,i),ve||Gi(4,a,i),di(n,i,a);break;case 1:ve||(Ir(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&N_(a,i,l)),di(n,i,a);break;case 21:di(n,i,a);break;case 22:ve=(l=ve)||a.memoizedState!==null,di(n,i,a),ve=l;break;default:di(n,i,a)}}function U_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ou(n)}catch(a){se(i,i.return,a)}}function nR(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new V_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new V_),i;default:throw Error(s(435,n.tag))}}function mp(n,i){var a=nR(n);i.forEach(function(l){var h=fR.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function On(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],p=n,E=i,S=E;t:for(;S!==null;){switch(S.tag){case 27:if(Ji(S.type)){ce=S.stateNode,En=!1;break t}break;case 5:ce=S.stateNode,En=!1;break t;case 3:case 4:ce=S.stateNode.containerInfo,En=!0;break t}S=S.return}if(ce===null)throw Error(s(160));L_(p,E,h),ce=null,En=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)j_(i,n),i=i.sibling}var lr=null;function j_(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:On(i,n),Nn(n),l&4&&(Gi(3,n,n.return),ql(3,n),Gi(5,n,n.return));break;case 1:On(i,n),Nn(n),l&512&&(ve||a===null||Ir(a,a.return)),l&64&&hi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=lr;if(On(i,n),Nn(n),l&512&&(ve||a===null||Ir(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Us]||p[Ie]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),Xe(p,l,a),p[Ie]=n,ge(p),l=p;break t;case"link":var E=ME("link","href",h).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break e}}p=h.createElement(l),Xe(p,l,a),h.head.appendChild(p);break;case"meta":if(E=ME("meta","content",h).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break e}}p=h.createElement(l),Xe(p,l,a),h.head.appendChild(p);break;default:throw Error(s(468,l))}p[Ie]=n,ge(p),l=p}n.stateNode=l}else VE(h,n.type,n.stateNode);else n.stateNode=xE(h,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?VE(h,n.type,n.stateNode):xE(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&fp(n,n.memoizedProps,a.memoizedProps)}break;case 27:On(i,n),Nn(n),l&512&&(ve||a===null||Ir(a,a.return)),a!==null&&l&4&&fp(n,n.memoizedProps,a.memoizedProps);break;case 5:if(On(i,n),Nn(n),l&512&&(ve||a===null||Ir(a,a.return)),n.flags&32){h=n.stateNode;try{Bn(h,"")}catch(K){se(n,n.return,K)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,fp(n,h,a!==null?a.memoizedProps:h)),l&1024&&(pp=!0);break;case 6:if(On(i,n),Nn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(K){se(n,n.return,K)}}break;case 3:if(Tf=null,h=lr,lr=_f(i.containerInfo),On(i,n),lr=h,Nn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ou(i.containerInfo)}catch(K){se(n,n.return,K)}pp&&(pp=!1,B_(n));break;case 4:l=lr,lr=_f(n.stateNode.containerInfo),On(i,n),Nn(n),lr=l;break;case 12:On(i,n),Nn(n);break;case 13:On(i,n),Nn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tp=me()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,mp(n,l)));break;case 22:h=n.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,F=hi,J=ve;if(hi=F||h,ve=J||x,On(i,n),ve=J,hi=F,Nn(n),l&8192)t:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||hi||ve||ca(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(p=x.stateNode,h)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=x.stateNode;var nt=x.memoizedProps.style,G=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){se(x,x.return,K)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(K){se(x,x.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mp(n,a))));break;case 19:On(i,n),Nn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,mp(n,l)));break;case 30:break;case 21:break;default:On(i,n),Nn(n)}}function Nn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(x_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,p=hp(n);af(n,p,h);break;case 5:var E=a.stateNode;a.flags&32&&(Bn(E,""),a.flags&=-33);var S=hp(n);af(n,S,E);break;case 3:case 4:var x=a.stateNode.containerInfo,F=hp(n);dp(n,F,x);break;default:throw Error(s(161))}}catch(J){se(n,n.return,J)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function B_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;B_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function $i(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)k_(n,i.alternate,i),i=i.sibling}function ca(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Gi(4,i,i.return),ca(i);break;case 1:Ir(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&N_(i,i.return,a),ca(i);break;case 27:Jl(i.stateNode);case 26:case 5:Ir(i,i.return),ca(i);break;case 22:i.memoizedState===null&&ca(i);break;case 30:ca(i);break;default:ca(i)}n=n.sibling}}function Ki(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:Ki(h,p,a),ql(4,p);break;case 1:if(Ki(h,p,a),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){se(l,l.return,F)}if(l=p,h=l.updateQueue,h!==null){var S=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)mv(x[h],S)}catch(F){se(l,l.return,F)}}a&&E&64&&O_(p),Fl(p,p.return);break;case 27:M_(p);case 26:case 5:Ki(h,p,a),a&&l===null&&E&4&&D_(p),Fl(p,p.return);break;case 12:Ki(h,p,a);break;case 13:Ki(h,p,a),a&&E&4&&U_(h,p);break;case 22:p.memoizedState===null&&Ki(h,p,a),Fl(p,p.return);break;case 30:break;default:Ki(h,p,a)}i=i.sibling}}function gp(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ol(a))}function yp(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ol(n))}function Or(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z_(n,i,a,l),i=i.sibling}function z_(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Or(n,i,a,l),h&2048&&ql(9,i);break;case 1:Or(n,i,a,l);break;case 3:Or(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ol(n)));break;case 12:if(h&2048){Or(n,i,a,l),n=i.stateNode;try{var p=i.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){se(i,i.return,x)}}else Or(n,i,a,l);break;case 13:Or(n,i,a,l);break;case 23:break;case 22:p=i.stateNode,E=i.alternate,i.memoizedState!==null?p._visibility&2?Or(n,i,a,l):Gl(n,i):p._visibility&2?Or(n,i,a,l):(p._visibility|=2,lo(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&gp(E,i);break;case 24:Or(n,i,a,l),h&2048&&yp(i.alternate,i);break;default:Or(n,i,a,l)}}function lo(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,E=i,S=a,x=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:lo(p,E,S,x,h),ql(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?lo(p,E,S,x,h):Gl(p,E):(J._visibility|=2,lo(p,E,S,x,h)),h&&F&2048&&gp(E.alternate,E);break;case 24:lo(p,E,S,x,h),h&&F&2048&&yp(E.alternate,E);break;default:lo(p,E,S,x,h)}i=i.sibling}}function Gl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:Gl(a,l),h&2048&&gp(l.alternate,l);break;case 24:Gl(a,l),h&2048&&yp(l.alternate,l);break;default:Gl(a,l)}i=i.sibling}}var $l=8192;function uo(n){if(n.subtreeFlags&$l)for(n=n.child;n!==null;)H_(n),n=n.sibling}function H_(n){switch(n.tag){case 26:uo(n),n.flags&$l&&n.memoizedState!==null&&zR(lr,n.memoizedState,n.memoizedProps);break;case 5:uo(n);break;case 3:case 4:var i=lr;lr=_f(n.stateNode.containerInfo),uo(n),lr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=$l,$l=16777216,uo(n),$l=i):uo(n));break;default:uo(n)}}function q_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Kl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Be=l,G_(l,n)}q_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)F_(n),n=n.sibling}function F_(n){switch(n.tag){case 0:case 11:case 15:Kl(n),n.flags&2048&&Gi(9,n,n.return);break;case 3:Kl(n);break;case 12:Kl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,of(n)):Kl(n);break;default:Kl(n)}}function of(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Be=l,G_(l,n)}q_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Gi(8,i,i.return),of(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,of(i));break;default:of(i)}n=n.sibling}}function G_(n,i){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:Gi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else t:for(a=n;Be!==null;){l=Be;var h=l.sibling,p=l.return;if(P_(l),l===a){Be=null;break t}if(h!==null){h.return=p,Be=h;break t}Be=p}}}var rR={getCacheForType:function(n){var i=on(De),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},iR=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ae=null,Ut=null,Gt=0,Jt=0,Dn=null,Yi=!1,co=!1,vp=!1,pi=0,pe=0,Qi=0,fa=0,_p=0,Qn=0,fo=0,Yl=null,Tn=null,Ep=!1,Tp=0,lf=1/0,uf=null,Xi=null,Qe=0,Wi=null,ho=null,po=0,Sp=0,Ap=null,$_=null,Ql=0,bp=null;function xn(){if((Zt&2)!==0&&Gt!==0)return Gt&-Gt;if($.T!==null){var n=to;return n!==0?n:Dp()}return xi()}function K_(){Qn===0&&(Qn=(Gt&536870912)===0||Qt?il():536870912);var n=Yn.current;return n!==null&&(n.flags|=32),Qn}function Mn(n,i,a){(n===ae&&(Jt===2||Jt===9)||n.cancelPendingCommit!==null)&&(mo(n,0),Zi(n,Gt,Qn,!1)),$r(n,a),((Zt&2)===0||n!==ae)&&(n===ae&&((Zt&2)===0&&(fa|=a),pe===4&&Zi(n,Gt,Qn,!1)),Nr(n))}function Y_(n,i,a){if((Zt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Ls(n,i),h=l?oR(n,i):Cp(n,i,!0),p=l;do{if(h===0){co&&!l&&Zi(n,i,0,!1);break}else{if(a=n.current.alternate,p&&!sR(a)){h=Cp(n,i,!1),p=!1;continue}if(h===2){if(p=i,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var S=n;h=Yl;var x=S.current.memoizedState.isDehydrated;if(x&&(mo(S,E).flags|=256),E=Cp(S,E,!1),E!==2){if(vp&&!x){S.errorRecoveryDisabledLanes|=p,fa|=p,h=4;break t}p=Tn,Tn=h,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}h=E}if(p=!1,h!==2)continue}}if(h===1){mo(n,0),Zi(n,i,0,!0);break}t:{switch(l=n,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Zi(l,i,Qn,!Yi);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Tp+300-me(),10<h)){if(Zi(l,i,Qn,!Yi),Da(l,0,!0)!==0)break t;l.timeoutHandle=AE(Q_.bind(null,l,a,Tn,uf,Ep,i,Qn,fa,fo,Yi,p,2,-0,0),h);break t}Q_(l,a,Tn,uf,Ep,i,Qn,fa,fo,Yi,p,0,-0,0)}}break}while(!0);Nr(n)}function Q_(n,i,a,l,h,p,E,S,x,F,J,nt,G,K){if(n.timeoutHandle=-1,nt=i.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(nu={stylesheets:null,count:0,unsuspend:BR},H_(i),nt=HR(),nt!==null)){n.cancelPendingCommit=nt(nE.bind(null,n,i,p,a,l,h,E,S,x,J,1,G,K)),Zi(n,p,E,!F);return}nE(n,i,p,a,l,h,E,S,x)}function sR(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],p=h.getSnapshot;h=h.value;try{if(!Cn(p(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zi(n,i,a,l){i&=~_p,i&=~fa,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var p=31-an(h),E=1<<p;l[p]=-1,h&=~E}a!==0&&mr(n,a,i)}function cf(){return(Zt&6)===0?(Xl(0),!1):!0}function wp(){if(Ut!==null){if(Jt===0)var n=Ut.return;else n=Ut,ai=sa=null,Hd(n),ao=null,Bl=0,n=Ut;for(;n!==null;)I_(n.alternate,n),n=n.return;Ut=null}}function mo(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,AR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),wp(),ae=n,Ut=a=ri(n.current,null),Gt=i,Jt=0,Dn=null,Yi=!1,co=Ls(n,i),vp=!1,fo=Qn=_p=fa=Qi=pe=0,Tn=Yl=null,Ep=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-an(l),p=1<<h;i|=n[h],l&=~p}return pi=i,Dc(),a}function X_(n,i){kt=null,$.H=Xc,i===Dl||i===Bc?(i=dv(),Jt=3):i===cv?(i=dv(),Jt=4):Jt=i===p_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Dn=i,Ut===null&&(pe=1,ef(n,Fn(i,n.current)))}function W_(){var n=$.H;return $.H=Xc,n===null?Xc:n}function Z_(){var n=$.A;return $.A=rR,n}function Rp(){pe=4,Yi||(Gt&4194048)!==Gt&&Yn.current!==null||(co=!0),(Qi&134217727)===0&&(fa&134217727)===0||ae===null||Zi(ae,Gt,Qn,!1)}function Cp(n,i,a){var l=Zt;Zt|=2;var h=W_(),p=Z_();(ae!==n||Gt!==i)&&(uf=null,mo(n,i)),i=!1;var E=pe;t:do try{if(Jt!==0&&Ut!==null){var S=Ut,x=Dn;switch(Jt){case 8:wp(),E=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(i=!0);var F=Jt;if(Jt=0,Dn=null,go(n,S,x,F),a&&co){E=0;break t}break;default:F=Jt,Jt=0,Dn=null,go(n,S,x,F)}}aR(),E=pe;break}catch(J){X_(n,J)}while(!0);return i&&n.shellSuspendCounter++,ai=sa=null,Zt=l,$.H=h,$.A=p,Ut===null&&(ae=null,Gt=0,Dc()),E}function aR(){for(;Ut!==null;)J_(Ut)}function oR(n,i){var a=Zt;Zt|=2;var l=W_(),h=Z_();ae!==n||Gt!==i?(uf=null,lf=me()+500,mo(n,i)):co=Ls(n,i);t:do try{if(Jt!==0&&Ut!==null){i=Ut;var p=Dn;e:switch(Jt){case 1:Jt=0,Dn=null,go(n,i,p,1);break;case 2:case 9:if(fv(p)){Jt=0,Dn=null,tE(i);break}i=function(){Jt!==2&&Jt!==9||ae!==n||(Jt=7),Nr(n)},p.then(i,i);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:fv(p)?(Jt=0,Dn=null,tE(i)):(Jt=0,Dn=null,go(n,i,p,7));break;case 5:var E=null;switch(Ut.tag){case 26:E=Ut.memoizedState;case 5:case 27:var S=Ut;if(!E||kE(E)){Jt=0,Dn=null;var x=S.sibling;if(x!==null)Ut=x;else{var F=S.return;F!==null?(Ut=F,ff(F)):Ut=null}break e}}Jt=0,Dn=null,go(n,i,p,5);break;case 6:Jt=0,Dn=null,go(n,i,p,6);break;case 8:wp(),pe=6;break t;default:throw Error(s(462))}}lR();break}catch(J){X_(n,J)}while(!0);return ai=sa=null,$.H=l,$.A=h,Zt=a,Ut!==null?0:(ae=null,Gt=0,Dc(),pe)}function lR(){for(;Ut!==null&&!Kt();)J_(Ut)}function J_(n){var i=R_(n.alternate,n,pi);n.memoizedProps=n.pendingProps,i===null?ff(n):Ut=i}function tE(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=E_(a,i,i.pendingProps,i.type,void 0,Gt);break;case 11:i=E_(a,i,i.pendingProps,i.type.render,i.ref,Gt);break;case 5:Hd(i);default:I_(a,i),i=Ut=ev(i,pi),i=R_(a,i,pi)}n.memoizedProps=n.pendingProps,i===null?ff(n):Ut=i}function go(n,i,a,l){ai=sa=null,Hd(i),ao=null,Bl=0;var h=i.return;try{if(W1(n,h,i,a,Gt)){pe=1,ef(n,Fn(a,n.current)),Ut=null;return}}catch(p){if(h!==null)throw Ut=h,p;pe=1,ef(n,Fn(a,n.current)),Ut=null;return}i.flags&32768?(Qt||l===1?n=!0:co||(Gt&536870912)!==0?n=!1:(Yi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),eE(i,n)):ff(i)}function ff(n){var i=n;do{if((i.flags&32768)!==0){eE(i,Yi);return}n=i.return;var a=J1(i.alternate,i,pi);if(a!==null){Ut=a;return}if(i=i.sibling,i!==null){Ut=i;return}Ut=i=n}while(i!==null);pe===0&&(pe=5)}function eE(n,i){do{var a=tR(n.alternate,n);if(a!==null){a.flags&=32767,Ut=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ut=n;return}Ut=n=a}while(n!==null);pe=6,Ut=null}function nE(n,i,a,l,h,p,E,S,x){n.cancelPendingCommit=null;do hf();while(Qe!==0);if((Zt&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=yd,al(n,a,p,E,S,x),n===ae&&(Ut=ae=null,Gt=0),ho=i,Wi=n,po=a,Sp=p,Ap=h,$_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,hR(vn,function(){return oE(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=lt.p,lt.p=2,E=Zt,Zt|=4;try{eR(n,i,a)}finally{Zt=E,lt.p=h,$.T=l}}Qe=1,rE(),iE(),sE()}}function rE(){if(Qe===1){Qe=0;var n=Wi,i=ho,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=lt.p;lt.p=2;var h=Zt;Zt|=4;try{j_(i,n);var p=jp,E=Gy(n.containerInfo),S=p.focusedElem,x=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&Fy(S.ownerDocument.documentElement,S)){if(x!==null&&hd(S)){var F=x.start,J=x.end;if(J===void 0&&(J=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(J,S.value.length);else{var nt=S.ownerDocument||document,G=nt&&nt.defaultView||window;if(G.getSelection){var K=G.getSelection(),It=S.textContent.length,At=Math.min(x.start,It),ie=x.end===void 0?At:Math.min(x.end,It);!K.extend&&At>ie&&(E=ie,ie=At,At=E);var B=qy(S,At),L=qy(S,ie);if(B&&L&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var q=nt.createRange();q.setStart(B.node,B.offset),K.removeAllRanges(),At>ie?(K.addRange(q),K.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),K.addRange(q))}}}}for(nt=[],K=S;K=K.parentNode;)K.nodeType===1&&nt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var et=nt[S];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}bf=!!Up,jp=Up=null}finally{Zt=h,lt.p=l,$.T=a}}n.current=i,Qe=2}}function iE(){if(Qe===2){Qe=0;var n=Wi,i=ho,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=lt.p;lt.p=2;var h=Zt;Zt|=4;try{k_(n,i.alternate,i)}finally{Zt=h,lt.p=l,$.T=a}}Qe=3}}function sE(){if(Qe===4||Qe===3){Qe=0,Ln();var n=Wi,i=ho,a=po,l=$_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Qe=5:(Qe=0,ho=Wi=null,aE(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Xi=null),xa(a),i=i.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Tt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=lt.p,lt.p=2,$.T=null;try{for(var p=n.onRecoverableError,E=0;E<l.length;E++){var S=l[E];p(S.value,{componentStack:S.stack})}}finally{$.T=i,lt.p=h}}(po&3)!==0&&hf(),Nr(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===bp?Ql++:(Ql=0,bp=n):Ql=0,Xl(0)}}function aE(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ol(i)))}function hf(n){return rE(),iE(),sE(),oE()}function oE(){if(Qe!==5)return!1;var n=Wi,i=Sp;Sp=0;var a=xa(po),l=$.T,h=lt.p;try{lt.p=32>a?32:a,$.T=null,a=Ap,Ap=null;var p=Wi,E=po;if(Qe=0,ho=Wi=null,po=0,(Zt&6)!==0)throw Error(s(331));var S=Zt;if(Zt|=4,F_(p.current),z_(p,p.current,E,a),Zt=S,Xl(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Tt,p)}catch{}return!0}finally{lt.p=h,$.T=l,aE(n,i)}}function lE(n,i,a){i=Fn(a,i),i=np(n.stateNode,i,2),n=zi(n,i,2),n!==null&&($r(n,2),Nr(n))}function se(n,i,a){if(n.tag===3)lE(n,n,a);else for(;i!==null;){if(i.tag===3){lE(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xi===null||!Xi.has(l))){n=Fn(a,n),a=h_(2),l=zi(i,a,2),l!==null&&(d_(a,l,i,n),$r(l,2),Nr(l));break}}i=i.return}}function Ip(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new iR;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(vp=!0,h.add(a),n=uR.bind(null,n,i,a),i.then(n,n))}function uR(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ae===n&&(Gt&a)===a&&(pe===4||pe===3&&(Gt&62914560)===Gt&&300>me()-Tp?(Zt&2)===0&&mo(n,0):_p|=a,fo===Gt&&(fo=0)),Nr(n)}function uE(n,i){i===0&&(i=sl()),n=Xa(n,i),n!==null&&($r(n,i),Nr(n))}function cR(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),uE(n,a)}function fR(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),uE(n,a)}function hR(n,i){return nn(n,i)}var df=null,yo=null,Op=!1,pf=!1,Np=!1,ha=0;function Nr(n){n!==yo&&n.next===null&&(yo===null?df=yo=n:yo=yo.next=n),pf=!0,Op||(Op=!0,pR())}function Xl(n,i){if(!Np&&pf){Np=!0;do for(var a=!1,l=df;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var E=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-an(42|n)+1)-1,p&=h&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,dE(l,p))}else p=Gt,p=Da(l,l===ae?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Ls(l,p)||(a=!0,dE(l,p));l=l.next}while(a);Np=!1}}function dR(){cE()}function cE(){pf=Op=!1;var n=0;ha!==0&&(SR()&&(n=ha),ha=0);for(var i=me(),a=null,l=df;l!==null;){var h=l.next,p=fE(l,i);p===0?(l.next=null,a===null?df=h:a.next=h,h===null&&(yo=a)):(a=l,(n!==0||(p&3)!==0)&&(pf=!0)),l=h}Xl(n)}function fE(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-an(p),S=1<<E,x=h[E];x===-1?((S&a)===0||(S&l)!==0)&&(h[E]=rl(S,i)):x<=i&&(n.expiredLanes|=S),p&=~S}if(i=ae,a=Gt,a=Da(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Jt===2||Jt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&rn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ls(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&rn(l),xa(a)){case 2:case 8:a=sn;break;case 32:a=vn;break;case 268435456:a=rr;break;default:a=vn}return l=hE.bind(null,n),a=nn(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&rn(l),n.callbackPriority=2,n.callbackNode=null,2}function hE(n,i){if(Qe!==0&&Qe!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(hf()&&n.callbackNode!==a)return null;var l=Gt;return l=Da(n,n===ae?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Y_(n,l,i),fE(n,me()),n.callbackNode!=null&&n.callbackNode===a?hE.bind(null,n):null)}function dE(n,i){if(hf())return null;Y_(n,i,!0)}function pR(){bR(function(){(Zt&6)!==0?nn(qr,dR):cE()})}function Dp(){return ha===0&&(ha=il()),ha}function pE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ua(""+n)}function mE(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function mR(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var p=pE((h[Te]||null).action),E=l.submitter;E&&(i=(i=E[Te]||null)?pE(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var S=new ja("action","action",null,l,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ha!==0){var x=E?mE(h,E):new FormData(h);Wd(a,{pending:!0,data:x,method:h.method,action:p},null,x)}}else typeof p=="function"&&(S.preventDefault(),x=E?mE(h,E):new FormData(h),Wd(a,{pending:!0,data:x,method:h.method,action:p},p,x))},currentTarget:h}]})}}for(var xp=0;xp<gd.length;xp++){var Mp=gd[xp],gR=Mp.toLowerCase(),yR=Mp[0].toUpperCase()+Mp.slice(1);or(gR,"on"+yR)}or(Yy,"onAnimationEnd"),or(Qy,"onAnimationIteration"),or(Xy,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(V1,"onTransitionRun"),or(k1,"onTransitionStart"),or(P1,"onTransitionCancel"),or(Wy,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function gE(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;t:{var p=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],x=S.instance,F=S.currentTarget;if(S=S.listener,x!==p&&h.isPropagationStopped())break t;p=S,h.currentTarget=F;try{p(h)}catch(J){tf(J)}h.currentTarget=null,p=x}else for(E=0;E<l.length;E++){if(S=l[E],x=S.instance,F=S.currentTarget,S=S.listener,x!==p&&h.isPropagationStopped())break t;p=S,h.currentTarget=F;try{p(h)}catch(J){tf(J)}h.currentTarget=null,p=x}}}}function jt(n,i){var a=i[ll];a===void 0&&(a=i[ll]=new Set);var l=n+"__bubble";a.has(l)||(yE(i,n,2,!1),a.add(l))}function Vp(n,i,a){var l=0;i&&(l|=4),yE(a,n,l,i)}var mf="_reactListening"+Math.random().toString(36).slice(2);function kp(n){if(!n[mf]){n[mf]=!0,ul.forEach(function(a){a!=="selectionchange"&&(vR.has(a)||Vp(a,!1,n),Vp(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[mf]||(i[mf]=!0,Vp("selectionchange",!1,i))}}function yE(n,i,a,l){switch(zE(i)){case 2:var h=GR;break;case 8:h=$R;break;default:h=Qp}a=h.bind(null,i,a,n),h=void 0,!Hn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function Pp(n,i,a,l,h){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=l.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Kr(S),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){l=p=E;continue t}S=S.parentNode}}l=l.return}gc(function(){var F=p,J=zn(a),nt=[];t:{var G=Zy.get(n);if(G!==void 0){var K=ja,It=n;switch(n){case"keypress":if(Tr(a)===0)break t;case"keydown":case"keyup":K=Ga;break;case"focusin":It="focus",K=Ha;break;case"focusout":It="blur",K=Ha;break;case"beforeblur":case"afterblur":K=Ha;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=bc;break;case Yy:case Qy:case Xy:K=qa;break;case Wy:K=Rc;break;case"scroll":case"scrollend":K=yc;break;case"wheel":K=$a;break;case"copy":case"cut":case"paste":K=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Tl;break;case"toggle":case"beforetoggle":K=Ic}var At=(i&4)!==0,ie=!At&&(n==="scroll"||n==="scrollend"),B=At?G!==null?G+"Capture":null:G;At=[];for(var L=F,q;L!==null;){var et=L;if(q=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||q===null||B===null||(et=Gs(L,B),et!=null&&At.push(Zl(L,et,q))),ie)break;L=L.return}0<At.length&&(G=new K(G,It,null,a,J),nt.push({event:G,listeners:At}))}}if((i&7)===0){t:{if(G=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",G&&a!==Wr&&(It=a.relatedTarget||a.fromElement)&&(Kr(It)||It[jn]))break t;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(It=a.relatedTarget||a.toElement,K=F,It=It?Kr(It):null,It!==null&&(ie=u(It),At=It.tag,It!==ie||At!==5&&At!==27&&At!==6)&&(It=null)):(K=null,It=F),K!==It)){if(At=qn,et="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(At=Tl,et="onPointerLeave",B="onPointerEnter",L="pointer"),ie=K==null?G:yr(K),q=It==null?G:yr(It),G=new At(et,L+"leave",K,a,J),G.target=ie,G.relatedTarget=q,et=null,Kr(J)===F&&(At=new At(B,L+"enter",It,a,J),At.target=q,At.relatedTarget=ie,et=At),ie=et,K&&It)e:{for(At=K,B=It,L=0,q=At;q;q=vo(q))L++;for(q=0,et=B;et;et=vo(et))q++;for(;0<L-q;)At=vo(At),L--;for(;0<q-L;)B=vo(B),q--;for(;L--;){if(At===B||B!==null&&At===B.alternate)break e;At=vo(At),B=vo(B)}At=null}else At=null;K!==null&&vE(nt,G,K,At,!1),It!==null&&ie!==null&&vE(nt,ie,It,At,!0)}}t:{if(G=F?yr(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var mt=Ly;else if(Ne(G))if(Uy)mt=D1;else{mt=O1;var Lt=I1}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&pl(F.elementType)&&(mt=Ly):mt=N1;if(mt&&(mt=mt(n,F))){ni(nt,mt,a,J);break t}Lt&&Lt(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Pi(G,"number",G.value)}switch(Lt=F?yr(F):window,n){case"focusin":(Ne(Lt)||Lt.contentEditable==="true")&&(Ka=Lt,dd=F,bl=null);break;case"focusout":bl=dd=Ka=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,$y(nt,a,J);break;case"selectionchange":if(M1)break;case"keydown":case"keyup":$y(nt,a,J)}var _t;if(br)t:{switch(n){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else qt?Y(n,a)&&(bt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(bt="onCompositionStart");bt&&(_&&a.locale!=="ko"&&(qt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&qt&&(_t=gl()):(Er=J,Li="value"in Er?Er.value:Er.textContent,qt=!0)),Lt=gf(F,bt),0<Lt.length&&(bt=new _l(bt,n,null,a,J),nt.push({event:bt,listeners:Lt}),_t?bt.data=_t:(_t=ct(a),_t!==null&&(bt.data=_t)))),(_t=y?Oe(n,a):Ft(n,a))&&(bt=gf(F,"onBeforeInput"),0<bt.length&&(Lt=new _l("onBeforeInput","beforeinput",null,a,J),nt.push({event:Lt,listeners:bt}),Lt.data=_t)),mR(nt,n,F,a,J)}gE(nt,i)})}function Zl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function gf(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Gs(n,a),h!=null&&l.unshift(Zl(n,h,p)),h=Gs(n,i),h!=null&&l.push(Zl(n,h,p))),n.tag===3)return l;n=n.return}return[]}function vo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function vE(n,i,a,l,h){for(var p=i._reactName,E=[];a!==null&&a!==l;){var S=a,x=S.alternate,F=S.stateNode;if(S=S.tag,x!==null&&x===l)break;S!==5&&S!==26&&S!==27||F===null||(x=F,h?(F=Gs(a,p),F!=null&&E.unshift(Zl(a,F,x))):h||(F=Gs(a,p),F!=null&&E.push(Zl(a,F,x)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var _R=/\r\n?/g,ER=/\u0000|\uFFFD/g;function _E(n){return(typeof n=="string"?n:""+n).replace(_R,`
`).replace(ER,"")}function EE(n,i){return i=_E(i),_E(n)===i}function yf(){}function re(n,i,a,l,h,p){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Bn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Bn(n,""+l);break;case"className":vr(n,"class",l);break;case"tabIndex":vr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(n,a,l);break;case"style":dl(n,l,p);break;case"data":if(i!=="object"){vr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ua(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&re(n,i,"name",h.name,h,null),re(n,i,"formEncType",h.formEncType,h,null),re(n,i,"formMethod",h.formMethod,h,null),re(n,i,"formTarget",h.formTarget,h,null)):(re(n,i,"encType",h.encType,h,null),re(n,i,"method",h.method,h,null),re(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ua(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=yf);break;case"onScroll":l!=null&&jt("scroll",n);break;case"onScrollEnd":l!=null&&jt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ua(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":jt("beforetoggle",n),jt("toggle",n),ki(n,"popover",l);break;case"xlinkActuate":$e(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$e(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$e(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$e(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$e(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$e(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$e(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$e(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$e(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ki(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ad.get(a)||a,ki(n,a,l))}}function Lp(n,i,a,l,h,p){switch(a){case"style":dl(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Bn(n,l):(typeof l=="number"||typeof l=="bigint")&&Bn(n,""+l);break;case"onScroll":l!=null&&jt("scroll",n);break;case"onScrollEnd":l!=null&&jt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=yf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),p=n[Te]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(i,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):ki(n,a,l)}}}function Xe(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",n),jt("load",n);var l=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:re(n,i,p,E,a,null)}}h&&re(n,i,"srcSet",a.srcSet,a,null),l&&re(n,i,"src",a.src,a,null);return;case"input":jt("invalid",n);var S=p=E=h=null,x=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":E=J;break;case"checked":x=J;break;case"defaultChecked":F=J;break;case"value":p=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:re(n,i,l,J,a,null)}}Hs(n,p,S,x,F,E,h,!1),La(n);return;case"select":jt("invalid",n),l=E=p=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:re(n,i,h,S,a,null)}i=p,a=E,n.multiple=!!l,i!=null?Xr(n,!!l,i,!1):a!=null&&Xr(n,!!l,a,!0);return;case"textarea":jt("invalid",n),p=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:re(n,i,E,S,a,null)}qs(n,l,h,p),La(n);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(n,i,x,l,a,null)}return;case"dialog":jt("beforetoggle",n),jt("toggle",n),jt("cancel",n),jt("close",n);break;case"iframe":case"object":jt("load",n);break;case"video":case"audio":for(l=0;l<Wl.length;l++)jt(Wl[l],n);break;case"image":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"embed":case"source":case"link":jt("error",n),jt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:re(n,i,F,l,a,null)}return;default:if(pl(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Lp(n,i,J,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&re(n,i,S,l,a,null))}function TR(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,S=null,x=null,F=null,J=null;for(K in a){var nt=a[K];if(a.hasOwnProperty(K)&&nt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":x=nt;default:l.hasOwnProperty(K)||re(n,i,K,null,l,nt)}}for(var G in l){var K=l[G];if(nt=a[G],l.hasOwnProperty(G)&&(K!=null||nt!=null))switch(G){case"type":p=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":J=K;break;case"value":E=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==nt&&re(n,i,G,K,l,nt)}}Rn(n,E,S,x,F,J,p,h);return;case"select":K=E=S=G=null;for(p in a)if(x=a[p],a.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":K=x;default:l.hasOwnProperty(p)||re(n,i,p,null,l,x)}for(h in l)if(p=l[h],x=a[h],l.hasOwnProperty(h)&&(p!=null||x!=null))switch(h){case"value":G=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==x&&re(n,i,h,p,l,x)}i=S,a=E,l=K,G!=null?Xr(n,!!a,G,!1):!!l!=!!a&&(i!=null?Xr(n,!!a,i,!0):Xr(n,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:re(n,i,S,null,l,h)}for(E in l)if(h=l[E],p=a[E],l.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&re(n,i,E,h,l,p)}ee(n,G,K);return;case"option":for(var It in a)if(G=a[It],a.hasOwnProperty(It)&&G!=null&&!l.hasOwnProperty(It))switch(It){case"selected":n.selected=!1;break;default:re(n,i,It,null,l,G)}for(x in l)if(G=l[x],K=a[x],l.hasOwnProperty(x)&&G!==K&&(G!=null||K!=null))switch(x){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:re(n,i,x,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)G=a[At],a.hasOwnProperty(At)&&G!=null&&!l.hasOwnProperty(At)&&re(n,i,At,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:re(n,i,F,G,l,K)}return;default:if(pl(i)){for(var ie in a)G=a[ie],a.hasOwnProperty(ie)&&G!==void 0&&!l.hasOwnProperty(ie)&&Lp(n,i,ie,void 0,l,G);for(J in l)G=l[J],K=a[J],!l.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||Lp(n,i,J,G,l,K);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&re(n,i,B,null,l,G);for(nt in l)G=l[nt],K=a[nt],!l.hasOwnProperty(nt)||G===K||G==null&&K==null||re(n,i,nt,G,l,K)}var Up=null,jp=null;function vf(n){return n.nodeType===9?n:n.ownerDocument}function TE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SE(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Bp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zp=null;function SR(){var n=window.event;return n&&n.type==="popstate"?n===zp?!1:(zp=n,!0):(zp=null,!1)}var AE=typeof setTimeout=="function"?setTimeout:void 0,AR=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,bR=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(n){return bE.resolve(null).then(n).catch(wR)}:AE;function wR(n){setTimeout(function(){throw n})}function Ji(n){return n==="head"}function wE(n,i){var a=i,l=0,h=0;do{var p=a.nextSibling;if(n.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Jl(E.documentElement),a&2&&Jl(E.body),a&4)for(a=E.head,Jl(a),E=a.firstChild;E;){var S=E.nextSibling,x=E.nodeName;E[Us]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(h===0){n.removeChild(p),ou(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=p}while(a);ou(i)}function Hp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hp(a),Vi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function RR(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Us])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ur(n.nextSibling),n===null)break}return null}function CR(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ur(n.nextSibling),n===null))return null;return n}function qp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function IR(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ur(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Fp=null;function RE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function CE(n,i,a){switch(i=vf(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Jl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Vi(n)}var Xn=new Map,IE=new Set;function _f(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var mi=lt.d;lt.d={f:OR,r:NR,D:DR,C:xR,L:MR,m:VR,X:PR,S:kR,M:LR};function OR(){var n=mi.f(),i=cf();return n||i}function NR(n){var i=gr(n);i!==null&&i.tag===5&&i.type==="form"?Yv(i):mi.r(n)}var _o=typeof document>"u"?null:document;function OE(n,i,a){var l=_o;if(l&&typeof i=="string"&&i){var h=Se(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),IE.has(h)||(IE.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xe(i,"link",n),ge(i),l.head.appendChild(i)))}}function DR(n){mi.D(n),OE("dns-prefetch",n,null)}function xR(n,i){mi.C(n,i),OE("preconnect",n,i)}function MR(n,i,a){mi.L(n,i,a);var l=_o;if(l&&n&&i){var h='link[rel="preload"][as="'+Se(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Se(a.imageSizes)+'"]')):h+='[href="'+Se(n)+'"]';var p=h;switch(i){case"style":p=Eo(n);break;case"script":p=To(n)}Xn.has(p)||(n=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Xn.set(p,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(tu(p))||i==="script"&&l.querySelector(eu(p))||(i=l.createElement("link"),Xe(i,"link",n),ge(i),l.head.appendChild(i)))}}function VR(n,i){mi.m(n,i);var a=_o;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(n)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=To(n)}if(!Xn.has(p)&&(n=v({rel:"modulepreload",href:n},i),Xn.set(p,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(eu(p)))return}l=a.createElement("link"),Xe(l,"link",n),ge(l),a.head.appendChild(l)}}}function kR(n,i,a){mi.S(n,i,a);var l=_o;if(l&&n){var h=pn(l).hoistableStyles,p=Eo(n);i=i||"default";var E=h.get(p);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(tu(p)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Xn.get(p))&&Gp(n,a);var x=E=l.createElement("link");ge(x),Xe(x,"link",n),x._p=new Promise(function(F,J){x.onload=F,x.onerror=J}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ef(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(p,E)}}}function PR(n,i){mi.X(n,i);var a=_o;if(a&&n){var l=pn(a).hoistableScripts,h=To(n),p=l.get(h);p||(p=a.querySelector(eu(h)),p||(n=v({src:n,async:!0},i),(i=Xn.get(h))&&$p(n,i),p=a.createElement("script"),ge(p),Xe(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function LR(n,i){mi.M(n,i);var a=_o;if(a&&n){var l=pn(a).hoistableScripts,h=To(n),p=l.get(h);p||(p=a.querySelector(eu(h)),p||(n=v({src:n,async:!0,type:"module"},i),(i=Xn.get(h))&&$p(n,i),p=a.createElement("script"),ge(p),Xe(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function NE(n,i,a,l){var h=(h=Et.current)?_f(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Eo(a.href),a=pn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Eo(a.href);var p=pn(h).hoistableStyles,E=p.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=h.querySelector(tu(n)))&&!p._p&&(E.instance=p,E.state.loading=5),Xn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(n,a),p||UR(h,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=To(a),a=pn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Eo(n){return'href="'+Se(n)+'"'}function tu(n){return'link[rel="stylesheet"]['+n+"]"}function DE(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function UR(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xe(i,"link",a),ge(i),n.head.appendChild(i))}function To(n){return'[src="'+Se(n)+'"]'}function eu(n){return"script[async]"+n}function xE(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return i.instance=l,ge(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ge(l),Xe(l,"style",h),Ef(l,a.precedence,n),i.instance=l;case"stylesheet":h=Eo(a.href);var p=n.querySelector(tu(h));if(p)return i.state.loading|=4,i.instance=p,ge(p),p;l=DE(a),(h=Xn.get(h))&&Gp(l,h),p=(n.ownerDocument||n).createElement("link"),ge(p);var E=p;return E._p=new Promise(function(S,x){E.onload=S,E.onerror=x}),Xe(p,"link",l),i.state.loading|=4,Ef(p,a.precedence,n),i.instance=p;case"script":return p=To(a.src),(h=n.querySelector(eu(p)))?(i.instance=h,ge(h),h):(l=a,(h=Xn.get(p))&&(l=v({},a),$p(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),ge(h),Xe(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ef(l,a.precedence,n));return i.instance}function Ef(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)p=S;else if(p!==h)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Gp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function $p(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Tf=null;function ME(n,i,a){if(Tf===null){var l=new Map,h=Tf=new Map;h.set(a,l)}else h=Tf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var p=a[h];if(!(p[Us]||p[Ie]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=n+E;var S=l.get(E);S?S.push(p):l.set(E,[p])}}return l}function VE(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function jR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function kE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var nu=null;function BR(){}function zR(n,i,a){if(nu===null)throw Error(s(475));var l=nu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Eo(a.href),p=n.querySelector(tu(h));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Sf.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=p,ge(p);return}p=n.ownerDocument||n,a=DE(a),(h=Xn.get(h))&&Gp(a,h),p=p.createElement("link"),ge(p);var E=p;E._p=new Promise(function(S,x){E.onload=S,E.onerror=x}),Xe(p,"link",a),i.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Sf.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function HR(){if(nu===null)throw Error(s(475));var n=nu;return n.stylesheets&&n.count===0&&Kp(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Kp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Sf(){if(this.count--,this.count===0){if(this.stylesheets)Kp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Af=null;function Kp(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Af=new Map,i.forEach(qR,n),Af=null,Sf.call(n))}function qR(n,i){if(!(i.state.loading&4)){var a=Af.get(n);if(a)var l=a.get(null);else{a=new Map,Af.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),p=a.get(E)||l,p===l&&a.set(null,h),a.set(E,h),this.count++,l=Sf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var ru={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function FR(n,i,a,l,h,p,E,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function PE(n,i,a,l,h,p,E,S,x,F,J,nt){return n=new FR(n,i,a,E,S,x,F,nt),i=1,p===!0&&(i|=24),p=In(3,null,null,i),n.current=p,p.stateNode=n,i=Id(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:i},xd(p),n}function LE(n){return n?(n=Wa,n):Wa}function UE(n,i,a,l,h,p){h=LE(h),l.context===null?l.context=h:l.pendingContext=h,l=Bi(i),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=zi(n,l,i),a!==null&&(Mn(a,n,i),Ml(a,n,i))}function jE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Yp(n,i){jE(n,i),(n=n.alternate)&&jE(n,i)}function BE(n){if(n.tag===13){var i=Xa(n,67108864);i!==null&&Mn(i,n,67108864),Yp(n,67108864)}}var bf=!0;function GR(n,i,a,l){var h=$.T;$.T=null;var p=lt.p;try{lt.p=2,Qp(n,i,a,l)}finally{lt.p=p,$.T=h}}function $R(n,i,a,l){var h=$.T;$.T=null;var p=lt.p;try{lt.p=8,Qp(n,i,a,l)}finally{lt.p=p,$.T=h}}function Qp(n,i,a,l){if(bf){var h=Xp(l);if(h===null)Pp(n,i,l,wf,a),HE(n,l);else if(YR(h,n,i,a,l))l.stopPropagation();else if(HE(n,l),i&4&&-1<KR.indexOf(n)){for(;h!==null;){var p=gr(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=ir(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var x=1<<31-an(E);S.entanglements[1]|=x,E&=~x}Nr(p),(Zt&6)===0&&(lf=me()+500,Xl(0))}}break;case 13:S=Xa(p,2),S!==null&&Mn(S,p,2),cf(),Yp(p,2)}if(p=Xp(l),p===null&&Pp(n,i,l,wf,a),p===h)break;h=p}h!==null&&l.stopPropagation()}else Pp(n,i,l,null,a)}}function Xp(n){return n=zn(n),Wp(n)}var wf=null;function Wp(n){if(wf=null,n=Kr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=f(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return wf=n,null}function zE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ms()){case qr:return 2;case sn:return 8;case vn:case Ni:return 32;case rr:return 268435456;default:return 32}default:return 32}}var Zp=!1,ts=null,es=null,ns=null,iu=new Map,su=new Map,rs=[],KR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HE(n,i){switch(n){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":iu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(i.pointerId)}}function au(n,i,a,l,h,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},i!==null&&(i=gr(i),i!==null&&BE(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function YR(n,i,a,l,h){switch(i){case"focusin":return ts=au(ts,n,i,a,l,h),!0;case"dragenter":return es=au(es,n,i,a,l,h),!0;case"mouseover":return ns=au(ns,n,i,a,l,h),!0;case"pointerover":var p=h.pointerId;return iu.set(p,au(iu.get(p)||null,n,i,a,l,h)),!0;case"gotpointercapture":return p=h.pointerId,su.set(p,au(su.get(p)||null,n,i,a,l,h)),!0}return!1}function qE(n){var i=Kr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){n.blockedOn=i,uc(n.priority,function(){if(a.tag===13){var l=xn();l=Di(l);var h=Xa(a,l);h!==null&&Mn(h,a,l),Yp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Rf(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Xp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Wr=l,a.target.dispatchEvent(l),Wr=null}else return i=gr(a),i!==null&&BE(i),n.blockedOn=a,!1;i.shift()}return!0}function FE(n,i,a){Rf(n)&&a.delete(i)}function QR(){Zp=!1,ts!==null&&Rf(ts)&&(ts=null),es!==null&&Rf(es)&&(es=null),ns!==null&&Rf(ns)&&(ns=null),iu.forEach(FE),su.forEach(FE)}function Cf(n,i){n.blockedOn===i&&(n.blockedOn=null,Zp||(Zp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,QR)))}var If=null;function GE(n){If!==n&&(If=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){If===n&&(If=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(Wp(l||a)===null)continue;break}var p=gr(a);p!==null&&(n.splice(i,3),i-=3,Wd(p,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ou(n){function i(x){return Cf(x,n)}ts!==null&&Cf(ts,n),es!==null&&Cf(es,n),ns!==null&&Cf(ns,n),iu.forEach(i),su.forEach(i);for(var a=0;a<rs.length;a++){var l=rs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)qE(a),a.blockedOn===null&&rs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],p=a[l+1],E=h[Te]||null;if(typeof p=="function")E||GE(a);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[Te]||null)S=E.formAction;else if(Wp(h)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),GE(a)}}}function Jp(n){this._internalRoot=n}Of.prototype.render=Jp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();UE(a,l,n,i,null,null)},Of.prototype.unmount=Jp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;UE(n.current,2,null,n,null,null),cf(),i[jn]=null}};function Of(n){this._internalRoot=n}Of.prototype.unstable_scheduleHydration=function(n){if(n){var i=xi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<rs.length&&i!==0&&i<rs[a].priority;a++);rs.splice(a,0,n),a===0&&qE(n)}};var $E=t.version;if($E!=="19.1.1")throw Error(s(527,$E,"19.1.1"));lt.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var XR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{Tt=Nf.inject(XR),Vt=Nf}catch{}}return uu.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=l_,p=u_,E=c_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=PE(n,1,!1,null,null,a,l,h,p,E,S,null),n[jn]=i.current,kp(n),new Jp(i)},uu.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",p=l_,E=u_,S=c_,x=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=PE(n,1,!0,i,a??null,l,h,p,E,S,x,F),i.context=LE(null),a=i.current,l=xn(),l=Di(l),h=Bi(l),h.callback=null,zi(a,h,l),a=l,i.current.lanes=a,$r(i,a),Nr(i),n[jn]=i.current,kp(n),new Of(i)},uu.version="19.1.1",uu}var nT;function sC(){if(nT)return nm.exports;nT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),nm.exports=iC(),nm.exports}var aC=sC();const oC=()=>{};var rT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=function(r){const t=[];let e=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},lC=function(r){const t=[];let e=0,s=0;for(;e<r.length;){const o=r[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[e++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[e++],f=r[e++],d=r[e++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[e++],f=r[e++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},mS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,d=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,v=u>>2,T=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,N=g&63;m||(N=64,f||(A=64)),s.push(e[v],e[T],e[A],e[N])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(pS(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):lC(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=e[r.charAt(o++)],d=o<r.length?e[r.charAt(o)]:0;++o;const g=o<r.length?e[r.charAt(o)]:64;++o;const T=o<r.length?e[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new uC;const A=u<<2|d>>4;if(s.push(A),g!==64){const N=d<<4&240|g>>2;if(s.push(N),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cC=function(r){const t=pS(r);return mS.encodeByteArray(t,!0)},Jf=function(r){return cC(r).replace(/\./g,"")},gS=function(r){try{return mS.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=()=>fC().__FIREBASE_DEFAULTS__,dC=()=>{if(typeof process>"u"||typeof rT>"u")return;const r=rT.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&gS(r[1]);return t&&JSON.parse(t)},Rh=()=>{try{return oC()||hC()||dC()||pC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},yS=r=>Rh()?.emulatorHosts?.[r],mC=r=>{const t=yS(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},vS=()=>Rh()?.config,_S=r=>Rh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ES(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jf(JSON.stringify(e)),Jf(JSON.stringify(f)),""].join(".")}const _u={};function vC(){const r={prod:[],emulator:[]};for(const t of Object.keys(_u))_u[t]?r.emulator.push(t):r.prod.push(t);return r}function _C(r){let t=document.getElementById(r),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),e=!0),{created:e,element:t}}let iT=!1;function TS(r,t){if(typeof window>"u"||typeof document>"u"||!$o(window.location.host)||_u[r]===t||_u[r]||iT)return;_u[r]=t;function e(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=vC().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{iT=!0,f()},A}function v(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=_C(s),N=e("text"),U=document.getElementById(N)||document.createElement("span"),z=e("learnmore"),k=document.getElementById(z)||document.createElement("a"),Z=e("preprendIcon"),X=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;d(Q),v(k,z);const W=g();m(X,Z),Q.append(X,U,k,W),document.body.appendChild(Q)}u?(U.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function TC(){const r=Rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wC(){const r=dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RC(){return!TC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CC(){try{return typeof indexedDB=="object"}catch{return!1}}function IC(){return new Promise((r,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="FirebaseError";class Ii extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=OC,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?NC(u,s):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new Ii(o,d,s)}}function NC(r,t){return r.replace(DC,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const DC=/\{\$([^}]+)}/g;function xC(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ta(r,t){if(r===t)return!0;const e=Object.keys(r),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(sT(u)&&sT(f)){if(!Ta(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function sT(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(r){const t=[];for(const[e,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function hu(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function du(r){const t=r.indexOf("?");if(!t)return"";const e=r.indexOf("#",t);return r.substring(t,e>0?e:void 0)}function MC(r,t){const e=new VC(r,t);return e.subscribe.bind(e)}class VC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");kC(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=am),o.error===void 0&&(o.error=am),o.complete===void 0&&(o.complete=am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kC(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(r){return r&&r._delegate?r._delegate:r}class Sa{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PC=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new gC;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(UC(t))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=da){return this.instances.has(t)}getOptions(t=da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&f.resolve(o)}return o}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LC(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=da){return this.component?this.component.multipleInstances?t:da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LC(r){return r===da?void 0:r}function UC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new PC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Bt||(Bt={}));const BC={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},zC=Bt.INFO,HC={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},qC=(r,t,...e)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=HC[t];if(o)console[o](`[${s}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Eg{constructor(t){this.name=t,this._logLevel=zC,this._logHandler=qC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const FC=(r,t)=>t.some(e=>r instanceof e);let aT,oT;function GC(){return aT||(aT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $C(){return oT||(oT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SS=new WeakMap,Nm=new WeakMap,AS=new WeakMap,om=new WeakMap,Tg=new WeakMap;function KC(r){const t=new Promise((e,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{e(hs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(e=>{e instanceof IDBCursor&&SS.set(e,r)}).catch(()=>{}),Tg.set(t,r),t}function YC(r){if(Nm.has(r))return;const t=new Promise((e,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{e(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Nm.set(r,t)}let Dm={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return Nm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||AS.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return hs(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function QC(r){Dm=r(Dm)}function XC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=r.call(lm(this),t,...e);return AS.set(s,t.sort?t.sort():[t]),hs(s)}:$C().includes(r)?function(...t){return r.apply(lm(this),t),hs(SS.get(this))}:function(...t){return hs(r.apply(lm(this),t))}}function WC(r){return typeof r=="function"?XC(r):(r instanceof IDBTransaction&&YC(r),FC(r,GC())?new Proxy(r,Dm):r)}function hs(r){if(r instanceof IDBRequest)return KC(r);if(om.has(r))return om.get(r);const t=WC(r);return t!==r&&(om.set(r,t),Tg.set(t,r)),t}const lm=r=>Tg.get(r);function ZC(r,t,{blocked:e,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),d=hs(f);return s&&f.addEventListener("upgradeneeded",m=>{s(hs(f.result),m.oldVersion,m.newVersion,hs(f.transaction),m)}),e&&f.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const JC=["get","getKey","getAll","getAllKeys","count"],tI=["put","add","delete","clear"],um=new Map;function lT(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(um.get(t))return um.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=tI.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JC.includes(e)))return;const u=async function(f,...d){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&m.done]))[0]};return um.set(t,u),u}QC(r=>({...r,get:(t,e,s)=>lT(t,e)||r.get(t,e,s),has:(t,e)=>!!lT(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(nI(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function nI(r){return r.getComponent()?.type==="VERSION"}const xm="@firebase/app",uT="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Eg("@firebase/app"),rI="@firebase/app-compat",iI="@firebase/analytics-compat",sI="@firebase/analytics",aI="@firebase/app-check-compat",oI="@firebase/app-check",lI="@firebase/auth",uI="@firebase/auth-compat",cI="@firebase/database",fI="@firebase/data-connect",hI="@firebase/database-compat",dI="@firebase/functions",pI="@firebase/functions-compat",mI="@firebase/installations",gI="@firebase/installations-compat",yI="@firebase/messaging",vI="@firebase/messaging-compat",_I="@firebase/performance",EI="@firebase/performance-compat",TI="@firebase/remote-config",SI="@firebase/remote-config-compat",AI="@firebase/storage",bI="@firebase/storage-compat",wI="@firebase/firestore",RI="@firebase/ai",CI="@firebase/firestore-compat",II="firebase",OI="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="[DEFAULT]",NI={[xm]:"fire-core",[rI]:"fire-core-compat",[sI]:"fire-analytics",[iI]:"fire-analytics-compat",[oI]:"fire-app-check",[aI]:"fire-app-check-compat",[lI]:"fire-auth",[uI]:"fire-auth-compat",[cI]:"fire-rtdb",[fI]:"fire-data-connect",[hI]:"fire-rtdb-compat",[dI]:"fire-fn",[pI]:"fire-fn-compat",[mI]:"fire-iid",[gI]:"fire-iid-compat",[yI]:"fire-fcm",[vI]:"fire-fcm-compat",[_I]:"fire-perf",[EI]:"fire-perf-compat",[TI]:"fire-rc",[SI]:"fire-rc-compat",[AI]:"fire-gcs",[bI]:"fire-gcs-compat",[wI]:"fire-fst",[CI]:"fire-fst-compat",[RI]:"fire-vertex","fire-js":"fire-js",[II]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,DI=new Map,Vm=new Map;function cT(r,t){try{r.container.addComponent(t)}catch(e){Si.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function Mo(r){const t=r.name;if(Vm.has(t))return Si.debug(`There were multiple attempts to register component ${t}.`),!1;Vm.set(t,r);for(const e of th.values())cT(e,r);for(const e of DI.values())cT(e,r);return!0}function Sg(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function fr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new Fu("app","Firebase",xI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=OI;function bS(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const s={name:Mm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(e||(e=vS()),!e)throw ds.create("no-options");const u=th.get(o);if(u){if(Ta(e,u.options)&&Ta(s,u.config))return u;throw ds.create("duplicate-app",{appName:o})}const f=new jC(o);for(const m of Vm.values())f.addComponent(m);const d=new MI(e,s,f);return th.set(o,d),d}function wS(r=Mm){const t=th.get(r);if(!t&&r===Mm&&vS())return bS();if(!t)throw ds.create("no-app",{appName:r});return t}function ps(r,t,e){let s=NI[r]??r;e&&(s+=`-${e}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Si.warn(f.join(" "));return}Mo(new Sa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="firebase-heartbeat-database",kI=1,Ou="firebase-heartbeat-store";let cm=null;function RS(){return cm||(cm=ZC(VI,kI,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ou)}catch(e){console.warn(e)}}}}).catch(r=>{throw ds.create("idb-open",{originalErrorMessage:r.message})})),cm}async function PI(r){try{const e=(await RS()).transaction(Ou),s=await e.objectStore(Ou).get(CS(r));return await e.done,s}catch(t){if(t instanceof Ii)Si.warn(t.message);else{const e=ds.create("idb-get",{originalErrorMessage:t?.message});Si.warn(e.message)}}}async function fT(r,t){try{const s=(await RS()).transaction(Ou,"readwrite");await s.objectStore(Ou).put(t,CS(r)),await s.done}catch(e){if(e instanceof Ii)Si.warn(e.message);else{const s=ds.create("idb-set",{originalErrorMessage:e?.message});Si.warn(s.message)}}}function CS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=1024,UI=30;class jI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new zI(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>UI){const o=HI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Si.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hT(),{heartbeatsToSend:e,unsentEntries:s}=BI(this._heartbeatsCache.heartbeats),o=Jf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Si.warn(t),""}}}function hT(){return new Date().toISOString().substring(0,10)}function BI(r,t=LI){const e=[];let s=r.slice();for(const o of r){const u=e.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),dT(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),dT(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class zI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CC()?IC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await PI(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return fT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return fT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function dT(r){return Jf(JSON.stringify({version:2,heartbeats:r})).length}function HI(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let s=1;s<r.length;s++)r[s].date<e&&(e=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(r){Mo(new Sa("platform-logger",t=>new eI(t),"PRIVATE")),Mo(new Sa("heartbeat",t=>new jI(t),"PRIVATE")),ps(xm,uT,r),ps(xm,uT,"esm2020"),ps("fire-js","")}qI("");var pT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,IS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,R){function I(){}I.prototype=R.prototype,D.D=R.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(M,P,j){for(var O=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)O[xt-2]=arguments[xt];return R.prototype[P].apply(M,O)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,I){I||(I=0);var M=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)M[P]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(P=0;16>P;++P)M[P]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=D.g[0],I=D.g[1],P=D.g[2];var j=D.g[3],O=R+(j^I&(P^j))+M[0]+3614090360&4294967295;R=I+(O<<7&4294967295|O>>>25),O=j+(P^R&(I^P))+M[1]+3905402710&4294967295,j=R+(O<<12&4294967295|O>>>20),O=P+(I^j&(R^I))+M[2]+606105819&4294967295,P=j+(O<<17&4294967295|O>>>15),O=I+(R^P&(j^R))+M[3]+3250441966&4294967295,I=P+(O<<22&4294967295|O>>>10),O=R+(j^I&(P^j))+M[4]+4118548399&4294967295,R=I+(O<<7&4294967295|O>>>25),O=j+(P^R&(I^P))+M[5]+1200080426&4294967295,j=R+(O<<12&4294967295|O>>>20),O=P+(I^j&(R^I))+M[6]+2821735955&4294967295,P=j+(O<<17&4294967295|O>>>15),O=I+(R^P&(j^R))+M[7]+4249261313&4294967295,I=P+(O<<22&4294967295|O>>>10),O=R+(j^I&(P^j))+M[8]+1770035416&4294967295,R=I+(O<<7&4294967295|O>>>25),O=j+(P^R&(I^P))+M[9]+2336552879&4294967295,j=R+(O<<12&4294967295|O>>>20),O=P+(I^j&(R^I))+M[10]+4294925233&4294967295,P=j+(O<<17&4294967295|O>>>15),O=I+(R^P&(j^R))+M[11]+2304563134&4294967295,I=P+(O<<22&4294967295|O>>>10),O=R+(j^I&(P^j))+M[12]+1804603682&4294967295,R=I+(O<<7&4294967295|O>>>25),O=j+(P^R&(I^P))+M[13]+4254626195&4294967295,j=R+(O<<12&4294967295|O>>>20),O=P+(I^j&(R^I))+M[14]+2792965006&4294967295,P=j+(O<<17&4294967295|O>>>15),O=I+(R^P&(j^R))+M[15]+1236535329&4294967295,I=P+(O<<22&4294967295|O>>>10),O=R+(P^j&(I^P))+M[1]+4129170786&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^P&(R^I))+M[6]+3225465664&4294967295,j=R+(O<<9&4294967295|O>>>23),O=P+(R^I&(j^R))+M[11]+643717713&4294967295,P=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(P^j))+M[0]+3921069994&4294967295,I=P+(O<<20&4294967295|O>>>12),O=R+(P^j&(I^P))+M[5]+3593408605&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^P&(R^I))+M[10]+38016083&4294967295,j=R+(O<<9&4294967295|O>>>23),O=P+(R^I&(j^R))+M[15]+3634488961&4294967295,P=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(P^j))+M[4]+3889429448&4294967295,I=P+(O<<20&4294967295|O>>>12),O=R+(P^j&(I^P))+M[9]+568446438&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^P&(R^I))+M[14]+3275163606&4294967295,j=R+(O<<9&4294967295|O>>>23),O=P+(R^I&(j^R))+M[3]+4107603335&4294967295,P=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(P^j))+M[8]+1163531501&4294967295,I=P+(O<<20&4294967295|O>>>12),O=R+(P^j&(I^P))+M[13]+2850285829&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^P&(R^I))+M[2]+4243563512&4294967295,j=R+(O<<9&4294967295|O>>>23),O=P+(R^I&(j^R))+M[7]+1735328473&4294967295,P=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(P^j))+M[12]+2368359562&4294967295,I=P+(O<<20&4294967295|O>>>12),O=R+(I^P^j)+M[5]+4294588738&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^P)+M[8]+2272392833&4294967295,j=R+(O<<11&4294967295|O>>>21),O=P+(j^R^I)+M[11]+1839030562&4294967295,P=j+(O<<16&4294967295|O>>>16),O=I+(P^j^R)+M[14]+4259657740&4294967295,I=P+(O<<23&4294967295|O>>>9),O=R+(I^P^j)+M[1]+2763975236&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^P)+M[4]+1272893353&4294967295,j=R+(O<<11&4294967295|O>>>21),O=P+(j^R^I)+M[7]+4139469664&4294967295,P=j+(O<<16&4294967295|O>>>16),O=I+(P^j^R)+M[10]+3200236656&4294967295,I=P+(O<<23&4294967295|O>>>9),O=R+(I^P^j)+M[13]+681279174&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^P)+M[0]+3936430074&4294967295,j=R+(O<<11&4294967295|O>>>21),O=P+(j^R^I)+M[3]+3572445317&4294967295,P=j+(O<<16&4294967295|O>>>16),O=I+(P^j^R)+M[6]+76029189&4294967295,I=P+(O<<23&4294967295|O>>>9),O=R+(I^P^j)+M[9]+3654602809&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^P)+M[12]+3873151461&4294967295,j=R+(O<<11&4294967295|O>>>21),O=P+(j^R^I)+M[15]+530742520&4294967295,P=j+(O<<16&4294967295|O>>>16),O=I+(P^j^R)+M[2]+3299628645&4294967295,I=P+(O<<23&4294967295|O>>>9),O=R+(P^(I|~j))+M[0]+4096336452&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~P))+M[7]+1126891415&4294967295,j=R+(O<<10&4294967295|O>>>22),O=P+(R^(j|~I))+M[14]+2878612391&4294967295,P=j+(O<<15&4294967295|O>>>17),O=I+(j^(P|~R))+M[5]+4237533241&4294967295,I=P+(O<<21&4294967295|O>>>11),O=R+(P^(I|~j))+M[12]+1700485571&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~P))+M[3]+2399980690&4294967295,j=R+(O<<10&4294967295|O>>>22),O=P+(R^(j|~I))+M[10]+4293915773&4294967295,P=j+(O<<15&4294967295|O>>>17),O=I+(j^(P|~R))+M[1]+2240044497&4294967295,I=P+(O<<21&4294967295|O>>>11),O=R+(P^(I|~j))+M[8]+1873313359&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~P))+M[15]+4264355552&4294967295,j=R+(O<<10&4294967295|O>>>22),O=P+(R^(j|~I))+M[6]+2734768916&4294967295,P=j+(O<<15&4294967295|O>>>17),O=I+(j^(P|~R))+M[13]+1309151649&4294967295,I=P+(O<<21&4294967295|O>>>11),O=R+(P^(I|~j))+M[4]+4149444226&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~P))+M[11]+3174756917&4294967295,j=R+(O<<10&4294967295|O>>>22),O=P+(R^(j|~I))+M[2]+718787259&4294967295,P=j+(O<<15&4294967295|O>>>17),O=I+(j^(P|~R))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var I=R-this.blockSize,M=this.B,P=this.h,j=0;j<R;){if(P==0)for(;j<=I;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<R;)if(M[P++]=D.charCodeAt(j++),P==this.blockSize){o(this,M),P=0;break}}else for(;j<R;)if(M[P++]=D[j++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var I=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=I&255,I/=256;for(this.u(D),D=Array(16),R=I=0;4>R;++R)for(var M=0;32>M;M+=8)D[I++]=this.g[R]>>>M&255;return D};function u(D,R){var I=d;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=R(D)}function f(D,R){this.h=R;for(var I=[],M=!0,P=D.length-1;0<=P;P--){var j=D[P]|0;M&&j==R||(I[P]=j,M=!1)}this.g=I}var d={};function m(D){return-128<=D&&128>D?u(D,function(R){return new f([R|0],0>R?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return k(g(-D));for(var R=[],I=1,M=0;D>=I;M++)R[M]=D/I|0,I*=4294967296;return new f(R,0)}function v(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return k(v(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),M=T,P=0;P<D.length;P+=8){var j=Math.min(8,D.length-P),O=parseInt(D.substring(P,P+j),R);8>j?(j=g(Math.pow(R,j)),M=M.j(j).add(g(O))):(M=M.j(I),M=M.add(g(O)))}return M}var T=m(0),A=m(1),N=m(16777216);r=f.prototype,r.m=function(){if(z(this))return-k(this).m();for(var D=0,R=1,I=0;I<this.g.length;I++){var M=this.i(I);D+=(0<=M?M:4294967296+M)*R,R*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(z(this))return"-"+k(this).toString(D);for(var R=g(Math.pow(D,6)),I=this,M="";;){var P=W(I,R).g;I=Z(I,P.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=P,U(I))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function z(D){return D.h==-1}r.l=function(D){return D=Z(this,D),z(D)?-1:U(D)?0:1};function k(D){for(var R=D.g.length,I=[],M=0;M<R;M++)I[M]=~D.g[M];return new f(I,~D.h).add(A)}r.abs=function(){return z(this)?k(this):this},r.add=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],M=0,P=0;P<=R;P++){var j=M+(this.i(P)&65535)+(D.i(P)&65535),O=(j>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);M=O>>>16,j&=65535,O&=65535,I[P]=O<<16|j}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Z(D,R){return D.add(k(R))}r.j=function(D){if(U(this)||U(D))return T;if(z(this))return z(D)?k(this).j(k(D)):k(k(this).j(D));if(z(D))return k(this.j(k(D)));if(0>this.l(N)&&0>D.l(N))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,I=[],M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<D.g.length;P++){var j=this.i(M)>>>16,O=this.i(M)&65535,xt=D.i(P)>>>16,Ct=D.i(P)&65535;I[2*M+2*P]+=O*Ct,X(I,2*M+2*P),I[2*M+2*P+1]+=j*Ct,X(I,2*M+2*P+1),I[2*M+2*P+1]+=O*xt,X(I,2*M+2*P+1),I[2*M+2*P+2]+=j*xt,X(I,2*M+2*P+2)}for(M=0;M<R;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=R;M<2*R;M++)I[M]=0;return new f(I,0)};function X(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function Q(D,R){this.g=D,this.h=R}function W(D,R){if(U(R))throw Error("division by zero");if(U(D))return new Q(T,T);if(z(D))return R=W(k(D),R),new Q(k(R.g),k(R.h));if(z(R))return R=W(D,k(R)),new Q(k(R.g),R.h);if(30<D.g.length){if(z(D)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,M=R;0>=M.l(D);)I=st(I),M=st(M);var P=at(I,1),j=at(M,1);for(M=at(M,2),I=at(I,2);!U(M);){var O=j.add(M);0>=O.l(D)&&(P=P.add(I),j=O),M=at(M,1),I=at(I,1)}return R=Z(D,P.j(R)),new Q(P,R)}for(P=T;0<=D.l(R);){for(I=Math.max(1,Math.floor(D.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=g(I),O=j.j(R);z(O)||0<O.l(D);)I-=M,j=g(I),O=j.j(R);U(j)&&(j=A),P=P.add(j),D=Z(D,O)}return new Q(P,D)}r.A=function(D){return W(this,D).h},r.and=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)&D.i(M);return new f(I,this.h&D.h)},r.or=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)|D.i(M);return new f(I,this.h|D.h)},r.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)^D.i(M);return new f(I,this.h^D.h)};function st(D){for(var R=D.g.length+1,I=[],M=0;M<R;M++)I[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(I,D.h)}function at(D,R){var I=R>>5;R%=32;for(var M=D.g.length-I,P=[],j=0;j<M;j++)P[j]=0<R?D.i(j+I)>>>R|D.i(j+I+1)<<32-R:D.i(j+I);return new f(P,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,IS=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,ms=f}).apply(typeof pT<"u"?pT:typeof self<"u"?self:typeof window<"u"?window:{});var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OS,pu,NS,zf,km,DS,xS,MS;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Df=="object"&&Df];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var H=c[b];if(!(H in _))break t;_=_[H]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,H={next:function(){if(!b&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,A.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,H,Y){for(var ct=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)ct[qt-2]=arguments[qt];return y.prototype[H].apply(b,ct)}}function z(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function k(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(m(b)){const H=c.length||0,Y=b.length||0;c.length=H+Y;for(let ct=0;ct<Y;ct++)c[H+ct]=b[ct]}else c.push(b)}}class Z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var st=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function at(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(_ in b)c[_]=b[_];for(let Y=0;Y<I.length;Y++)_=I[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function O(){var c=Ot;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class xt{constructor(){this.h=this.g=null}add(y,_){const b=Ct.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Ct=new Z(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,ft=!1,Ot=new xt,V=()=>{const c=d.Promise.resolve(void 0);lt=()=>{c.then(tt)}};var tt=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(_){j(_)}var y=Ct;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ft=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var ht=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c})();function vt(c,y){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(st){t:{try{W(y.nodeName);var H=!0;break t}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Et[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&vt.aa.h.call(this)}}U(vt,it);var Et={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function Ee(c,y,_,b,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=H,this.key=++Pt,this.da=this.fa=!1}function Ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pe(c){this.src=c,this.g={},this.h=0}Pe.prototype.add=function(c,y,_,b,H){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ct=nn(c,y,b,H);return-1<ct?(y=c[ct],_||(y.fa=!1)):(y=new Ee(y,this.src,Y,!!b,H),y.fa=_,c.push(y)),y};function en(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],H=Array.prototype.indexOf.call(b,y,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(b,H,1),Y&&(Ge(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function nn(c,y,_,b){for(var H=0;H<c.length;++H){var Y=c[H];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==b)return H}return-1}var rn="closure_lm_"+(1e6*Math.random()|0),Kt={};function Ln(c,y,_,b,H){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Ln(c,y[Y],_,b,H);return null}return _=Fr(_),c&&c[te]?c.K(y,_,g(b)?!!b.capture:!1,H):me(c,y,_,!1,b,H)}function me(c,y,_,b,H,Y){if(!y)throw Error("Invalid event type");var ct=g(H)?!!H.capture:!!H,qt=rr(c);if(qt||(c[rn]=qt=new Pe(c)),_=qt.add(y,_,b,ct,Y),_.proxy)return _;if(b=Ms(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ht||(H=ct),H===void 0&&(H=!1),c.addEventListener(y.toString(),b,H);else if(c.attachEvent)c.attachEvent(vn(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ms(){function c(_){return y.call(c.src,c.listener,_)}const y=Ni;return c}function qr(c,y,_,b,H){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)qr(c,y[Y],_,b,H);else b=g(b)?!!b.capture:!!b,_=Fr(_),c&&c[te]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=nn(Y,_,b,H),-1<_&&(Ge(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=rr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=nn(y,_,b,H)),(_=-1<c?y[c]:null)&&sn(_))}function sn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[te])en(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(vn(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=rr(y))?(en(_,c),_.h==0&&(_.src=null,y[rn]=null)):Ge(c)}}}function vn(c){return c in Kt?Kt[c]:Kt[c]="on"+c}function Ni(c,y){if(c.da)c=!0;else{y=new vt(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&sn(c),c=_.call(b,y)}return c}function rr(c){return c=c[rn],c instanceof Pe?c:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fr(c){return typeof c=="function"?c:(c[Un]||(c[Un]=function(y){return c.handleEvent(y)}),c[Un])}function Tt(){ut.call(this),this.i=new Pe(this),this.M=this,this.F=null}U(Tt,ut),Tt.prototype[te]=!0,Tt.prototype.removeEventListener=function(c,y,_,b){qr(this,c,y,_,b)};function Vt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new it(y,c);else if(y instanceof it)y.target=y.target||c;else{var H=y;y=new it(b,c),M(y,H)}if(H=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ct=y.g=_[Y];H=Ce(ct,b,!0,y)&&H}if(ct=y.g=c,H=Ce(ct,b,!0,y)&&H,H=Ce(ct,b,!1,y)&&H,_)for(Y=0;Y<_.length;Y++)ct=y.g=_[Y],H=Ce(ct,b,!1,y)&&H}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Ge(_[b]);delete c.g[y],c.h--}}this.F=null},Tt.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},Tt.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function Ce(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Y=0;Y<y.length;++Y){var ct=y[Y];if(ct&&!ct.da&&ct.capture==_){var qt=ct.listener,Oe=ct.ha||ct.src;ct.fa&&en(c.i,ct),H=qt.call(Oe,b)!==!1&&H}}return H&&!b.defaultPrevented}function an(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function lc(c){c.g=an(()=>{c.g=null,c.i&&(c.i=!1,lc(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nd extends ut{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:lc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(c){ut.call(this),this.h=c,this.g={}}U(Vs,ut);var ks=[];function Ps(c){at(c.g,function(y,_){this.g.hasOwnProperty(_)&&sn(y)},c),c.g={}}Vs.prototype.N=function(){Vs.aa.N.call(this),Ps(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=d.JSON.stringify,Da=d.JSON.parse,Ls=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function rl(){}rl.prototype.h=null;function il(c){return c.h||(c.h=c.i())}function sl(){}var Gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $r(){it.call(this,"d")}U($r,it);function al(){it.call(this,"c")}U(al,it);var mr={},ol=null;function Di(){return ol=ol||new Tt}mr.La="serverreachability";function xa(c){it.call(this,mr.La,c)}U(xa,it);function xi(c){const y=Di();Vt(y,new xa(y))}mr.STAT_EVENT="statevent";function uc(c,y){it.call(this,mr.STAT_EVENT,c),this.stat=y}U(uc,it);function ue(c){const y=Di();Vt(y,new uc(y,c))}mr.Ma="timingevent";function Ie(c,y){it.call(this,mr.Ma,c),this.size=y}U(Ie,it);function Te(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function ll(c,y,_,b,H,Y){c.info(function(){if(c.g)if(Y)for(var ct="",qt=Y.split("&"),Oe=0;Oe<qt.length;Oe++){var Ft=qt[Oe].split("=");if(1<Ft.length){var Ue=Ft[0];Ft=Ft[1];var Ne=Ue.split("_");ct=2<=Ne.length&&Ne[1]=="type"?ct+(Ue+"="+Ft+"&"):ct+(Ue+"=redacted&")}}else ct=null;else ct=Y;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+y+`
`+_+`
`+ct})}function rd(c,y,_,b,H,Y,ct){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+y+`
`+_+`
`+Y+" "+ct})}function Mi(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Us(c,_)+(b?" "+b:"")})}function cc(c,y){c.info(function(){return"TIMEOUT: "+y})}jn.prototype.info=function(){};function Us(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ct=1;ct<H.length;ct++)H[ct]=""}}}}return ir(_)}catch{return y}}var Vi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function yr(){}U(yr,rl),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},gr=new yr;function pn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new Vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var ul={},Ma={};function sr(c,y,_){c.L=1,c.v=qs(Rn(y)),c.m=_,c.P=!0,Yr(c,null)}function Yr(c,y){c.F=Date.now(),js(c),c.A=Rn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),ml(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ge,c.g=Rc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new nd(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(ks[0]=H.toString()),H=ks);for(var Y=0;Y<H.length;Y++){var ct=Ln(_,H[Y],b||y.handleEvent,!1,y.h||y);if(!ct)break;y.g[ct.key]=ct}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),xi(),ll(c.i,c.u,c.A,c.l,c.R,c.m)}pn.prototype.ca=function(c){c=c.target;const y=this.M;y&&qn(c)==3?y.j():this.Y(c)},pn.prototype.Y=function(c){try{if(c==this.g)t:{const Ne=qn(this.g);var y=this.g.Ba();const ni=this.g.Z();if(!(3>Ne)&&(Ne!=3||this.g&&(this.h.h||this.g.oa()||vc(this.g)))){this.J||Ne!=4||y==7||(y==8||0>=ni?xi(3):xi(2)),ki(this);var _=this.g.Z();this.X=_;e:if(fc(this)){var b=vc(this.g);c="";var H=b.length,Y=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),vr(this);var ct="";break e}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Y&&y==H-1)});b.length=0,this.h.g+=c,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=_==200,rd(this.i,this.u,this.A,this.l,this.R,Ne,_),this.o){if(this.T&&!this.K){e:{if(this.g){var qt,Oe=this.g;if((qt=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(qt)){var Ft=qt;break e}}Ft=null}if(_=Ft)Mi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bs(this,_);else{this.o=!1,this.s=3,ue(12),$e(this),vr(this);break t}}if(this.P){_=!0;let Ke;for(;!this.J&&this.C<ct.length;)if(Ke=hc(this,ct),Ke==Ma){Ne==4&&(this.s=4,ue(14),_=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ke==ul){this.s=4,ue(15),Mi(this.i,this.l,ct,"[Invalid Chunk]"),_=!1;break}else Mi(this.i,this.l,Ke,null),Bs(this,Ke);if(fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||ct.length!=0||this.h.h||(this.s=1,ue(16),_=!1),this.o=this.o&&_,!_)Mi(this.i,this.l,ct,"[Invalid Chunked Response]"),$e(this),vr(this);else if(0<ct.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),Ws(Ue),Ue.M=!0,ue(11))}}else Mi(this.i,this.l,ct,null),Bs(this,ct);Ne==4&&$e(this),this.o&&!this.J&&(Ne==4?Ac(this.j,this):(this.o=!1,js(this)))}else ld(this.g),_==400&&0<ct.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),$e(this),vr(this)}}}catch{}finally{}};function fc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hc(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?Ma:(_=Number(y.substring(_,b)),isNaN(_)?ul:(b+=1,b+_>y.length?Ma:(y=y.slice(b,b+_),c.C=b+_,y)))}pn.prototype.cancel=function(){this.J=!0,$e(this)};function js(c){c.S=Date.now()+c.I,dc(c,c.I)}function dc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Te(A(c.ba,c),y)}function ki(c){c.B&&(d.clearTimeout(c.B),c.B=null)}pn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(cc(this.i,this.A),this.L!=2&&(xi(),ue(17)),$e(this),this.s=2,vr(this)):dc(this,this.S-c)};function vr(c){c.j.G==0||c.J||Ac(c.j,c)}function $e(c){ki(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ps(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Bs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||cl(_.h,c))){if(!c.K&&cl(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ga(_),qa(_);else break t;El(_),ue(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Te(A(_.Za,_),6e3));if(1>=ka(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ei(_,11)}else if((c.K||_.g==c)&&Ga(_),!X(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let Ft=H[y];if(_.T=Ft[0],Ft=Ft[1],_.G==2)if(Ft[0]=="c"){_.K=Ft[1],_.ia=Ft[2];const Ue=Ft[3];Ue!=null&&(_.la=Ue,_.j.info("VER="+_.la));const Ne=Ft[4];Ne!=null&&(_.Aa=Ne,_.j.info("SVER="+_.Aa));const ni=Ft[5];ni!=null&&typeof ni=="number"&&0<ni&&(b=1.5*ni,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ke=c.g;if(Ke){const wr=Ke.g?Ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var Y=b.h;Y.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Pa(Y,Y.h),Y.h=null))}if(b.D){const Sl=Ke.g?Ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(b.ya=Sl,ee(b.I,b.D,Sl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ct=c;if(b.qa=wc(b,b.J?b.ia:null,b.W),ct.K){mn(b.h,ct);var qt=ct,Oe=b.L;Oe&&(qt.I=Oe),qt.B&&(ki(qt),js(qt)),b.g=ct}else Tc(b);0<_.i.length&&Fa(_)}else Ft[0]!="stop"&&Ft[0]!="close"||ei(_,7);else _.G==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?ei(_,7):vl(_):Ft[0]!="noop"&&_.l&&_.l.ta(Ft),_.v=0)}}xi(4)}catch{}}var pc=class{constructor(c,y){this.g=c,this.map=y}};function Qr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Va(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ka(c){return c.h?1:c.g?c.g.size:0}function cl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Pa(c,y){c.g?c.g.add(y):c.h=y}function mn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Qr.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return z(c.i)}function id(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function La(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function hl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=La(c),b=id(c),H=b.length,Y=0;Y<H;Y++)y.call(void 0,b[Y],_&&_[Y],c)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sd(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),H=null;if(0<=b){var Y=c[_].substring(0,b);H=c[_].substring(b+1)}else Y=c[_];y(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Se(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Se){this.h=c.h,Hs(this,c.j),this.o=c.o,this.g=c.g,Pi(this,c.s),this.l=c.l;var y=c.i,_=new Wr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Xr(this,_),this.m=c.m}else c&&(y=String(c).match(zs))?(this.h=!1,Hs(this,y[1]||"",!0),this.o=Bn(y[2]||""),this.g=Bn(y[3]||"",!0),Pi(this,y[4]),this.l=Bn(y[5]||"",!0),Xr(this,y[6]||"",!0),this.m=Bn(y[7]||"")):(this.h=!1,this.i=new Wr(null,this.h))}Se.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Fs(y,dl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Fs(y,dl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Fs(_,_.charAt(0)=="/"?ad:pl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Fs(_,Ua)),c.join("")};function Rn(c){return new Se(c)}function Hs(c,y,_){c.j=_?Bn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Pi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Xr(c,y,_){y instanceof Wr?(c.i=y,gc(c.i,c.h)):(_||(y=Fs(y,od)),c.i=new Wr(y,c.h))}function ee(c,y,_){c.i.set(y,_)}function qs(c){return ee(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,mc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var dl=/[#\/\?@]/g,pl=/[#\?:]/g,ad=/[#\?]/g,od=/[#\?@]/g,Ua=/#/g;function Wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function zn(c){c.g||(c.g=new Map,c.h=0,c.i&&sd(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Wr.prototype,r.add=function(c,y){zn(this),this.i=null,c=_r(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Zr(c,y){zn(c),y=_r(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Jr(c,y){return zn(c),y=_r(c,y),c.g.has(y)}r.forEach=function(c,y){zn(this),this.g.forEach(function(_,b){_.forEach(function(H){c.call(y,H,b,this)},this)},this)},r.na=function(){zn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const H=c[b];for(let Y=0;Y<H.length;Y++)_.push(y[b])}return _},r.V=function(c){zn(this);let y=[];if(typeof c=="string")Jr(this,c)&&(y=y.concat(this.g.get(_r(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return zn(this),this.i=null,c=_r(this,c),Jr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ml(c,y,_){Zr(c,y),0<_.length&&(c.i=null,c.g.set(_r(c,y),z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Y=encodeURIComponent(String(b)),ct=this.V(b);for(b=0;b<ct.length;b++){var H=Y;ct[b]!==""&&(H+="="+encodeURIComponent(String(ct[b]))),c.push(H)}}return this.i=c.join("&")};function _r(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function gc(c,y){y&&!c.j&&(zn(c),c.i=null,c.g.forEach(function(_,b){var H=b.toLowerCase();b!=H&&(Zr(this,b),ml(this,H,_))},c)),c.j=y}function Gs(c,y){const _=new jn;if(d.Image){const b=new Image;b.onload=N(Hn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=N(Hn,_,"TestLoadImage: error",!1,y,b),b.onabort=N(Hn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=N(Hn,_,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function ar(c,y){const _=new jn,b=new AbortController,H=setTimeout(()=>{b.abort(),Hn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(H),Y.ok?Hn(_,"TestPingServer: ok",!0,y):Hn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Hn(_,"TestPingServer: error",!1,y)})}function Hn(c,y,_,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(_)}catch{}}function $s(){this.g=new Ls}function Er(c,y,_){const b=_||"";try{hl(c,function(H,Y){let ct=H;g(H)&&(ct=ir(H)),y.push(b+Y+"="+encodeURIComponent(ct))})}catch(H){throw y.push(b+"type="+encodeURIComponent("_badmap")),H}}function Li(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Li,rl),Li.prototype.g=function(){return new ti(this.l,this.j)},Li.prototype.i=(function(c){return function(){return c}})({});function ti(c,y){Tt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(ti,Tt),r=ti.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Sr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Tr(this):Sr(this),this.readyState==3&&gl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},r.Qa=function(c){this.g&&(this.response=c,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Sr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Sr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function yl(c){let y="";return at(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Le(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=yl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ee(c,y,_))}function Xt(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Xt,Tt);var ja=/^https?$/i,Ks=["POST","PUT"];r=Xt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?il(this.o):il(gr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){yc(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)_.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ks,y,void 0))||b||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ct]of _)this.g.setRequestHeader(Y,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){yc(this,Y)}};function yc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ba(c),Ar(c)}function Ba(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Vt(this,"complete"),Vt(this,"abort"),Ar(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),Xt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},r.bb=function(){za(this)};function za(c){if(c.h&&typeof f<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)an(c.Ea,0,c);else if(Vt(c,"readystatechange"),qn(c)==4){c.h=!1;try{const ct=c.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=ct===0){var H=String(c.D).match(zs)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),b=!ja.test(H?H.toLowerCase():"")}_=b}if(_)Vt(c,"complete"),Vt(c,"success");else{c.m=6;try{var Y=2<qn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Ba(c)}}finally{Ar(c)}}}}function Ar(c,y){if(c.g){Ys(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Vt(c,"ready");try{_.onreadystatechange=b}catch{}}}function Ys(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Da(y)}};function vc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ld(c){const y={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(X(c[b]))continue;var _=P(c[b]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[H]||[];y[H]=Y,Y.push(_)}D(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ha(c){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,c),this.cb=Qs("retryDelaySeedMs",1e4,c),this.Wa=Qs("forwardChannelMaxRetries",2,c),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qr(c&&c.concurrentRequestLimit),this.Da=new $s,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ha.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){ue(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=wc(this,null,this.W),Fa(this)};function vl(c){if(_c(c),c.G==3){var y=c.U++,_=Rn(c.I);if(ee(_,"SID",c.K),ee(_,"RID",y),ee(_,"TYPE","terminate"),Xs(c,_),y=new pn(c,c.j,y),y.L=2,y.v=qs(Rn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Rc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),js(y)}bc(c)}function qa(c){c.g&&(Ws(c),c.g.cancel(),c.g=null)}function _c(c){qa(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ga(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Fa(c){if(!Va(c.h)&&!c.s){c.s=!0;var y=c.Ga;lt||V(),ft||(lt(),ft=!0),Ot.add(y,c),c.B=0}}function ud(c,y){return ka(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Te(A(c.Ga,c,y),Tl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new pn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Ec(this,H,y),_=Rn(this.I),ee(_,"RID",c),ee(_,"CVER",22),this.D&&ee(_,"X-HTTP-Session-Id",this.D),Xs(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(yl(Y)))+"&"+y:this.m&&Le(_,this.m,Y)),Pa(this.h,H),this.Ua&&ee(_,"TYPE","init"),this.P?(ee(_,"$req",y),ee(_,"SID","null"),H.T=!0,sr(H,_,null)):sr(H,_,y),this.G=2}}else this.G==3&&(c?_l(this,c):this.i.length==0||Va(this.h)||_l(this))};function _l(c,y){var _;y?_=y.l:_=c.U++;const b=Rn(c.I);ee(b,"SID",c.K),ee(b,"RID",_),ee(b,"AID",c.T),Xs(c,b),c.m&&c.o&&Le(b,c.m,c.o),_=new pn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ec(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pa(c.h,_),sr(_,b,y)}function Xs(c,y){c.H&&at(c.H,function(_,b){ee(y,b,_)}),c.l&&hl({},function(_,b){ee(y,b,_)})}function Ec(c,y,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;t:{var H=c.i;let Y=-1;for(;;){const ct=["count="+_];Y==-1?0<_?(Y=H[0].g,ct.push("ofs="+Y)):Y=0:ct.push("ofs="+Y);let qt=!0;for(let Oe=0;Oe<_;Oe++){let Ft=H[Oe].g;const Ue=H[Oe].map;if(Ft-=Y,0>Ft)Y=Math.max(0,H[Oe].g-100),qt=!1;else try{Er(Ue,ct,"req"+Ft+"_")}catch{b&&b(Ue)}}if(qt){b=ct.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function Tc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;lt||V(),ft||(lt(),ft=!0),Ot.add(y,c),c.v=0}}function El(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Te(A(c.Fa,c),Tl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Te(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),qa(this),Sc(this))};function Ws(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Sc(c){c.g=new pn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Rn(c.qa);ee(y,"RID","rpc"),ee(y,"SID",c.K),ee(y,"AID",c.T),ee(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ee(y,"TO",c.ja),ee(y,"TYPE","xmlhttp"),Xs(c,y),c.m&&c.o&&Le(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=qs(Rn(y)),_.m=null,_.P=!0,Yr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,qa(this),El(this),ue(19))};function Ga(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ac(c,y){var _=null;if(c.g==y){Ga(c),Ws(c),c.g=null;var b=2}else if(cl(c.h,y))_=y.D,mn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;b=Di(),Vt(b,new Ie(b,_)),Fa(c)}else Tc(c);else if(H=y.s,H==3||H==0&&0<y.X||!(b==1&&ud(c,y)||b==2&&El(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:ei(c,5);break;case 4:ei(c,10);break;case 3:ei(c,6);break;default:ei(c,2)}}}function Tl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function ei(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),b=c.Xa;const H=!b;b=new Se(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Hs(b,"https"),qs(b),H?Gs(b.toString(),_):ar(b.toString(),_)}else ue(2);c.G=0,c.l&&c.l.sa(y),bc(c),_c(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function bc(c){if(c.G=0,c.ka=[],c.l){const y=fl(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function wc(c,y,_){var b=_ instanceof Se?Rn(_):new Se(_);if(b.g!="")y&&(b.g=y+"."+b.g),Pi(b,b.s);else{var H=d.location;b=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Y=new Se(null);b&&Hs(Y,b),y&&(Y.g=y),H&&Pi(Y,H),_&&(Y.l=_),b=Y}return _=c.D,y=c.ya,_&&y&&ee(b,_,y),ee(b,"VER",c.la),Xs(c,b),b}function Rc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Xt(new Li({eb:_})):new Xt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}r=Cc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function $a(){}$a.prototype.g=function(c,y){return new gn(c,y)};function gn(c,y){Tt.call(this),this.g=new Ha(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new br(this)}U(gn,Tt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){vl(this.g)},gn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ir(c),c=_);y.i.push(new pc(y.Ya++,c)),y.G==3&&Fa(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,gn.aa.N.call(this)};function Ic(c){$r.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(Ic,$r);function Oc(){al.call(this),this.status=1}U(Oc,al);function br(c){this.g=c}U(br,Cc),br.prototype.ua=function(){Vt(this.g,"a")},br.prototype.ta=function(c){Vt(this.g,new Ic(c))},br.prototype.sa=function(c){Vt(this.g,new Oc)},br.prototype.ra=function(){Vt(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,MS=function(){return new $a},xS=function(){return Di()},DS=mr,km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vi.NO_ERROR=0,Vi.TIMEOUT=8,Vi.HTTP_ERROR=6,zf=Vi,Kr.COMPLETE="complete",NS=Kr,sl.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,pu=sl,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,OS=Xt}).apply(typeof Df<"u"?Df:typeof self<"u"?self:typeof window<"u"?window:{});const mT="@firebase/firestore",gT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Eg("@firebase/firestore");function bo(){return Aa.logLevel}function pt(r,...t){if(Aa.logLevel<=Bt.DEBUG){const e=t.map(Ag);Aa.debug(`Firestore (${Yo}): ${r}`,...e)}}function Ai(r,...t){if(Aa.logLevel<=Bt.ERROR){const e=t.map(Ag);Aa.error(`Firestore (${Yo}): ${r}`,...e)}}function Vo(r,...t){if(Aa.logLevel<=Bt.WARN){const e=t.map(Ag);Aa.warn(`Firestore (${Yo}): ${r}`,...e)}}function Ag(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(r,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,VS(r,s,e)}function VS(r,t,e){let s=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw Ai(s),new Error(s)}function Wt(r,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,r||VS(t,o,s)}function Dt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Ii{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(cn.UNAUTHENTICATED)))}shutdown(){}}class GI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class $I{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Wt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,e(m)):Promise.resolve();let u=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gs,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const m=u;t.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gs)}}),0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string",31837,{l:s}),new kS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class KI{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YI{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new KI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Wt(this.o===void 0,3512);const s=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Wt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new yT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<r;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=XI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<e&&(s+=t.charAt(o[u]%62))}return s}}function zt(r,t){return r<t?-1:r>t?1:0}function Pm(r,t){const e=Math.min(r.length,t.length);for(let s=0;s<e;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return fm(o)===fm(u)?zt(o,u):fm(o)?1:-1}return zt(r.length,t.length)}const WI=55296,ZI=57343;function fm(r){const t=r.charCodeAt(0);return t>=WI&&t<=ZI}function ko(r,t,e){return r.length===t.length&&r.every(((s,o)=>e(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__name__";class Dr{constructor(t,e,s){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Rt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Dr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Dr?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const u=Dr.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return zt(t.length,e.length)}static compareSegments(t,e){const s=Dr.isNumericId(t),o=Dr.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?Dr.extractNumericId(t).compare(Dr.extractNumericId(e)):Pm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ms.fromString(t.substring(4,t.length-2))}}class le extends Dr{construct(t,e,s){return new le(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((o=>o.length>0)))}return new le(e)}static emptyPath(){return new le([])}}const JI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Dr{construct(t,e,s){return new Je(t,e,s)}static isValidIdentifier(t){return JI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vT}static keyField(){return new Je([vT])}static fromServerFormat(t){const e=[];let s="",o=0;const u=()=>{if(s.length===0)throw new yt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let f=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new yt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new yt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(s+=d,o++):(u(),o++)}if(u(),f)throw new yt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(e)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.path=t}static fromPath(t){return new St(le.fromString(t))}static fromName(t){return new St(le.fromString(t).popFirst(5))}static empty(){return new St(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return le.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new St(new le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r,t,e){if(!e)throw new yt(ot.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function tO(r,t,e,s){if(t===!0&&s===!0)throw new yt(ot.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function _T(r){if(!St.isDocumentKey(r))throw new yt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ET(r){if(St.isDocumentKey(r))throw new yt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function LS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Rt(12329,{type:typeof r})}function Ei(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new yt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=wg(r);throw new yt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,t){const e={typeString:r};return t&&(e.value=t),e}function $u(r,t){if(!LS(r))throw new yt(ot.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){e=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){e=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){e=`Expected '${s}' field to equal '${u.value}'`;break}}if(e)throw new yt(ot.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=-62135596800,ST=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*ST);return new oe(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<TT)throw new yt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ST}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($u(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-TT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Re("string",oe._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new oe(0,0))}static max(){return new Nt(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=-1;function eO(r,t){const e=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Nt.fromTimestamp(s===1e9?new oe(e+1,0):new oe(e,s));return new _s(o,St.empty(),t)}function nO(r){return new _s(r.readTime,r.key,Nu)}class _s{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new _s(Nt.min(),St.empty(),Nu)}static max(){return new _s(Nt.max(),St.empty(),Nu)}}function rO(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=St.comparator(r.documentKey,t.documentKey),e!==0?e:zt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r){if(r.code!==ot.FAILED_PRECONDITION||r.message!==iO)throw r;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.reject(e)}static resolve(t){return new rt(((e,s)=>{e(t)}))}static reject(t){return new rt(((e,s)=>{s(t)}))}static waitFor(t){return new rt(((e,s)=>{let o=0,u=0,f=!1;t.forEach((d=>{++o,d.next((()=>{++u,f&&u===o&&e()}),(m=>s(m)))})),f=!0,u===o&&e()}))}static or(t){let e=rt.resolve(!1);for(const s of t)e=e.next((o=>o?rt.resolve(o):s()));return e}static forEach(t,e){const s=[];return t.forEach(((o,u)=>{s.push(e.call(this,o,u))})),this.waitFor(s)}static mapArray(t,e){return new rt(((s,o)=>{const u=t.length,f=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;e(t[g]).next((v=>{f[g]=v,++d,d===u&&s(f)}),(v=>o(v)))}}))}static doWhile(t,e){return new rt(((s,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):s()};u()}))}}function aO(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Xo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=-1;function Ih(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function oO(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="";function lO(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=AT(t)),t=uO(r.get(e),t);return AT(t)}function uO(r,t){let e=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":e+="";break;case US:e+="";break;default:e+=u}}return e}function AT(r){return r+US+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function Os(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function jS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,e){this.comparator=t,this.root=e||Ze.EMPTY}insert(t,e){return new he(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xf(this.root,t,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xf(this.root,t,this.comparator,!0)}}class xf{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,e,s,o,u){this.key=t,this.value=e,this.color=s??Ze.RED,this.left=o??Ze.EMPTY,this.right=u??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,u){return new Ze(t??this.key,e??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,s),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,s,o,u){return this}insert(t,e,s){return new Ze(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new wT(this.data.getIterator())}getIteratorFrom(t){return new wT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ke(this.comparator);return e.data=t,e}}class wT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new kn([])}unionWith(t){let e=new ke(Je.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new kn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ko(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new BS("Invalid base64 string: "+u):u}})(t);return new tn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new tn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const cO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(r){if(Wt(!!r,39018),typeof r=="string"){let t=0;const e=cO.exec(r);if(Wt(!!e,46558,{timestamp:r}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ts(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="server_timestamp",HS="__type__",qS="__previous_value__",FS="__local_write_time__";function Cg(r){return(r?.mapValue?.fields||{})[HS]?.stringValue===zS}function Oh(r){const t=r.mapValue.fields[qS];return Cg(t)?Oh(t):t}function Du(r){const t=Es(r.mapValue.fields[FS].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t,e,s,o,u,f,d,m,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const nh="(default)";class xu{constructor(t,e){this.projectId=t,this.database=e||nh}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database===nh}isEqual(t){return t instanceof xu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="__type__",hO="__max__",Mf={mapValue:{}},$S="__vector__",rh="value";function Ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cg(r)?4:pO(r)?9007199254740991:dO(r)?10:11:Rt(28295,{value:r})}function zr(r,t){if(r===t)return!0;const e=Ss(r);if(e!==Ss(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Du(r).isEqual(Du(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Es(o.timestampValue),d=Es(u.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Ts(o.bytesValue).isEqual(Ts(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_e(o.doubleValue),d=_e(u.doubleValue);return f===d?eh(f)===eh(d):isNaN(f)&&isNaN(d)}return!1})(r,t);case 9:return ko(r.arrayValue.values||[],t.arrayValue.values||[],zr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},d=u.mapValue.fields||{};if(bT(f)!==bT(d))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(d[m]===void 0||!zr(f[m],d[m])))return!1;return!0})(r,t);default:return Rt(52216,{left:r})}}function Mu(r,t){return(r.values||[]).find((e=>zr(e,t)))!==void 0}function Po(r,t){if(r===t)return 0;const e=Ss(r),s=Ss(t);if(e!==s)return zt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const d=_e(u.integerValue||u.doubleValue),m=_e(f.integerValue||f.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(r,t);case 3:return RT(r.timestampValue,t.timestampValue);case 4:return RT(Du(r),Du(t));case 5:return Pm(r.stringValue,t.stringValue);case 6:return(function(u,f){const d=Ts(u),m=Ts(f);return d.compareTo(m)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const d=u.split("/"),m=f.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=zt(d[g],m[g]);if(v!==0)return v}return zt(d.length,m.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const d=zt(_e(u.latitude),_e(f.latitude));return d!==0?d:zt(_e(u.longitude),_e(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return CT(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const d=u.fields||{},m=f.fields||{},g=d[rh]?.arrayValue,v=m[rh]?.arrayValue,T=zt(g?.values?.length||0,v?.values?.length||0);return T!==0?T:CT(g,v)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Mf.mapValue&&f===Mf.mapValue)return 0;if(u===Mf.mapValue)return 1;if(f===Mf.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=f.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const A=Pm(m[T],v[T]);if(A!==0)return A;const N=Po(d[m[T]],g[v[T]]);if(N!==0)return N}return zt(m.length,v.length)})(r.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function RT(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return zt(r,t);const e=Es(r),s=Es(t),o=zt(e.seconds,s.seconds);return o!==0?o:zt(e.nanos,s.nanos)}function CT(r,t){const e=r.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const u=Po(e[o],s[o]);if(u)return u}return zt(e.length,s.length)}function Lo(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(e){const s=Es(e);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(e){return Ts(e).toBase64()})(r.bytesValue):"referenceValue"in r?(function(e){return St.fromName(e).toString()})(r.referenceValue):"geoPointValue"in r?(function(e){return`geo(${e.latitude},${e.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(e){let s="[",o=!0;for(const u of e.values||[])o?o=!1:s+=",",s+=Lm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(e){const s=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Lm(e.fields[f])}`;return o+"}"})(r.mapValue):Rt(61005,{value:r})}function Hf(r){switch(Ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Oh(r);return t?16+Hf(t):16;case 5:return 2*r.stringValue.length;case 6:return Ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Hf(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Os(s.fields,((u,f)=>{o+=u.length+Hf(f)})),o})(r.mapValue);default:throw Rt(13486,{value:r})}}function Um(r){return!!r&&"integerValue"in r}function Ig(r){return!!r&&"arrayValue"in r}function IT(r){return!!r&&"nullValue"in r}function OT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qf(r){return!!r&&"mapValue"in r}function dO(r){return(r?.mapValue?.fields||{})[GS]?.stringValue===$S}function Eu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Os(r.mapValue.fields,((e,s)=>t.mapValue.fields[e]=Eu(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Eu(r.arrayValue.values[e]);return t}return{...r}}function pO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!qf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eu(e)}setAll(t){let e=Je.emptyPath(),s={},o=[];t.forEach(((f,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,s,o),s={},o=[],e=d.popLast()}f?s[d.lastSegment()]=Eu(f):o.push(d.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,s,o)}delete(t){const e=this.field(t.popLast());qf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return zr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];qf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){Os(e,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new An(Eu(this.value))}}function KS(r){const t=[];return Os(r.fields,((e,s)=>{const o=new Je([e]);if(qf(s)){const u=KS(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,e,s,o,u,f,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=d}static newInvalidDocument(t){return new fn(t,0,Nt.min(),Nt.min(),Nt.min(),An.empty(),0)}static newFoundDocument(t,e,s,o){return new fn(t,1,e,Nt.min(),s,o,0)}static newNoDocument(t,e){return new fn(t,2,e,Nt.min(),Nt.min(),An.empty(),0)}static newUnknownDocument(t,e){return new fn(t,3,e,Nt.min(),Nt.min(),An.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,e){this.position=t,this.inclusive=e}}function NT(r,t,e){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=St.comparator(St.fromName(f.referenceValue),e.key):s=Po(f,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function DT(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!zr(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,e="asc"){this.field=t,this.dir=e}}function mO(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{}class Me extends YS{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new yO(t,e,s):e==="array-contains"?new EO(t,s):e==="in"?new TO(t,s):e==="not-in"?new SO(t,s):e==="array-contains-any"?new AO(t,s):new Me(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new vO(t,s):new _O(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Po(e,this.value)):e!==null&&Ss(this.value)===Ss(e)&&this.matchesComparison(Po(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends YS{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Hr(t,e)}matches(t){return QS(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QS(r){return r.op==="and"}function XS(r){return gO(r)&&QS(r)}function gO(r){for(const t of r.filters)if(t instanceof Hr)return!1;return!0}function jm(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Lo(r.value);if(XS(r))return r.filters.map((t=>jm(t))).join(",");{const t=r.filters.map((e=>jm(e))).join(",");return`${r.op}(${t})`}}function WS(r,t){return r instanceof Me?(function(s,o){return o instanceof Me&&s.op===o.op&&s.field.isEqual(o.field)&&zr(s.value,o.value)})(r,t):r instanceof Hr?(function(s,o){return o instanceof Hr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,d)=>u&&WS(f,o.filters[d])),!0):!1})(r,t):void Rt(19439)}function ZS(r){return r instanceof Me?(function(e){return`${e.field.canonicalString()} ${e.op} ${Lo(e.value)}`})(r):r instanceof Hr?(function(e){return e.op.toString()+" {"+e.getFilters().map(ZS).join(" ,")+"}"})(r):"Filter"}class yO extends Me{constructor(t,e,s){super(t,e,s),this.key=St.fromName(s.referenceValue)}matches(t){const e=St.comparator(t.key,this.key);return this.matchesComparison(e)}}class vO extends Me{constructor(t,e){super(t,"in",e),this.keys=JS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class _O extends Me{constructor(t,e){super(t,"not-in",e),this.keys=JS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function JS(r,t){return(t.arrayValue?.values||[]).map((e=>St.fromName(e.referenceValue)))}class EO extends Me{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ig(e)&&Mu(e.arrayValue,this.value)}}class TO extends Me{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Mu(this.value.arrayValue,e)}}class SO extends Me{constructor(t,e){super(t,"not-in",e)}matches(t){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Mu(this.value.arrayValue,e)}}class AO extends Me{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ig(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>Mu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t,e=null,s=[],o=[],u=null,f=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=d,this.Te=null}}function xT(r,t=null,e=[],s=[],o=null,u=null,f=null){return new bO(r,t,e,s,o,u,f)}function Og(r){const t=Dt(r);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>jm(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ih(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>Lo(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>Lo(s))).join(",")),t.Te=e}return t.Te}function Ng(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!mO(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!WS(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!DT(r.startAt,t.startAt)&&DT(r.endAt,t.endAt)}function Bm(r){return St.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,e=null,s=[],o=[],u=null,f="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wO(r,t,e,s,o,u,f,d){return new Nh(r,t,e,s,o,u,f,d)}function Dg(r){return new Nh(r)}function MT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function RO(r){return r.collectionGroup!==null}function Tu(r){const t=Dt(r);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new ke(Je.comparator);return f.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new sh(u,s))})),e.has(Je.keyField().canonicalString())||t.Ie.push(new sh(Je.keyField(),s))}return t.Ie}function xr(r){const t=Dt(r);return t.Ee||(t.Ee=CO(t,Tu(r))),t.Ee}function CO(r,t){if(r.limitType==="F")return xT(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new sh(o.field,u)}));const e=r.endAt?new ih(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ih(r.startAt.position,r.startAt.inclusive):null;return xT(r.path,r.collectionGroup,t,r.filters,r.limit,e,s)}}function zm(r,t,e){return new Nh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function Dh(r,t){return Ng(xr(r),xr(t))&&r.limitType===t.limitType}function tA(r){return`${Og(xr(r))}|lt:${r.limitType}`}function wo(r){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((o=>ZS(o))).join(", ")}]`),Ih(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((o=>Lo(o))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((o=>Lo(o))).join(",")),`Target(${s})`})(xr(r))}; limitType=${r.limitType})`}function xh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):St.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Tu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,d,m){const g=NT(f,d,m);return f.inclusive?g<=0:g<0})(s.startAt,Tu(s),o)||s.endAt&&!(function(f,d,m){const g=NT(f,d,m);return f.inclusive?g>=0:g>0})(s.endAt,Tu(s),o))})(r,t)}function IO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function eA(r){return(t,e)=>{let s=!1;for(const o of Tu(r)){const u=OO(o,t,e);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function OO(r,t,e){const s=r.field.isKeyField()?St.comparator(t.key,e.key):(function(u,f,d){const m=f.data.field(u),g=d.data.field(u);return m!==null&&g!==null?Po(m,g):Rt(42886)})(r.field,t,e);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Rt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Os(this.inner,((e,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return jS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new he(St.comparator);function bi(){return NO}const nA=new he(St.comparator);function mu(...r){let t=nA;for(const e of r)t=t.insert(e.key,e);return t}function rA(r){let t=nA;return r.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function ga(){return Su()}function iA(){return Su()}function Su(){return new Ca((r=>r.toString()),((r,t)=>r.isEqual(t)))}const DO=new he(St.comparator),xO=new ke(St.comparator);function Ht(...r){let t=xO;for(const e of r)t=t.add(e);return t}const MO=new ke(zt);function VO(){return MO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(t)?"-0":t}}function sA(r){return{integerValue:""+r}}function kO(r,t){return oO(t)?sA(t):xg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this._=void 0}}function PO(r,t,e){return r instanceof ah?(function(o,u){const f={fields:{[HS]:{stringValue:zS},[FS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Cg(u)&&(u=Oh(u)),u&&(f.fields[qS]=u),{mapValue:f}})(e,t):r instanceof Vu?oA(r,t):r instanceof ku?lA(r,t):(function(o,u){const f=aA(o,u),d=VT(f)+VT(o.Ae);return Um(f)&&Um(o.Ae)?sA(d):xg(o.serializer,d)})(r,t)}function LO(r,t,e){return r instanceof Vu?oA(r,t):r instanceof ku?lA(r,t):e}function aA(r,t){return r instanceof oh?(function(s){return Um(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class ah extends Mh{}class Vu extends Mh{constructor(t){super(),this.elements=t}}function oA(r,t){const e=uA(t);for(const s of r.elements)e.some((o=>zr(o,s)))||e.push(s);return{arrayValue:{values:e}}}class ku extends Mh{constructor(t){super(),this.elements=t}}function lA(r,t){let e=uA(t);for(const s of r.elements)e=e.filter((o=>!zr(o,s)));return{arrayValue:{values:e}}}class oh extends Mh{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function VT(r){return _e(r.integerValue||r.doubleValue)}function uA(r){return Ig(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function UO(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Vu&&o instanceof Vu||s instanceof ku&&o instanceof ku?ko(s.elements,o.elements,zr):s instanceof oh&&o instanceof oh?zr(s.Ae,o.Ae):s instanceof ah&&o instanceof ah})(r.transform,t.transform)}class jO{constructor(t,e){this.version=t,this.transformResults=e}}class Mr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Mr}static exists(t){return new Mr(void 0,t)}static updateTime(t){return new Mr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ff(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Vh{}function cA(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new hA(r.key,Mr.none()):new Ku(r.key,r.data,Mr.none());{const e=r.data,s=An.empty();let o=new ke(Je.comparator);for(let u of t.fields)if(!o.has(u)){let f=e.field(u);f===null&&u.length>1&&(u=u.popLast(),f=e.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ns(r.key,s,new kn(o.toArray()),Mr.none())}}function BO(r,t,e){r instanceof Ku?(function(o,u,f){const d=o.value.clone(),m=PT(o.fieldTransforms,u,f.transformResults);d.setAll(m),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()})(r,t,e):r instanceof Ns?(function(o,u,f){if(!Ff(o.precondition,u))return void u.convertToUnknownDocument(f.version);const d=PT(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(fA(o)),m.setAll(d),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,e):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,e)}function Au(r,t,e,s){return r instanceof Ku?(function(u,f,d,m){if(!Ff(u.precondition,f))return d;const g=u.value.clone(),v=LT(u.fieldTransforms,m,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,t,e,s):r instanceof Ns?(function(u,f,d,m){if(!Ff(u.precondition,f))return d;const g=LT(u.fieldTransforms,m,f),v=f.data;return v.setAll(fA(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,e,s):(function(u,f,d){return Ff(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d})(r,t,e)}function zO(r,t){let e=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=aA(s.transform,o||null);u!=null&&(e===null&&(e=An.empty()),e.set(s.field,u))}return e||null}function kT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ko(s,o,((u,f)=>UO(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ku extends Vh{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ns extends Vh{constructor(t,e,s,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function fA(r){const t=new Map;return r.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=r.data.field(e);t.set(e,s)}})),t}function PT(r,t,e){const s=new Map;Wt(r.length===e.length,32656,{Re:e.length,Ve:r.length});for(let o=0;o<e.length;o++){const u=r[o],f=u.transform,d=t.data.field(u.field);s.set(u.field,LO(f,d,e[o]))}return s}function LT(r,t,e){const s=new Map;for(const o of r){const u=o.transform,f=e.data.field(o.field);s.set(o.field,PO(u,f,t))}return s}class hA extends Vh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HO extends Vh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&BO(u,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Au(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Au(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=iA();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let d=this.applyToLocalView(f,u.mutatedFields);d=e.has(o.key)?null:d;const m=cA(f,d);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(Nt.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&ko(this.mutations,t.mutations,((e,s)=>kT(e,s)))&&ko(this.baseMutations,t.baseMutations,((e,s)=>kT(e,s)))}}class Mg{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){Wt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return DO})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Mg(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FO=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,$t;function $O(r){switch(r){case ot.OK:return Rt(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return Rt(15467,{code:r})}}function dA(r){if(r===void 0)return Ai("GRPC error has no .code"),ot.UNKNOWN;switch(r){case we.OK:return ot.OK;case we.CANCELLED:return ot.CANCELLED;case we.UNKNOWN:return ot.UNKNOWN;case we.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case we.INTERNAL:return ot.INTERNAL;case we.UNAVAILABLE:return ot.UNAVAILABLE;case we.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case we.NOT_FOUND:return ot.NOT_FOUND;case we.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case we.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case we.ABORTED:return ot.ABORTED;case we.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case we.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case we.DATA_LOSS:return ot.DATA_LOSS;default:return Rt(39323,{code:r})}}($t=we||(we={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new ms([4294967295,4294967295],0);function UT(r){const t=KO().encode(r),e=new IS;return e.update(t),new Uint8Array(e.digest())}function jT(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ms([e,s],0),new ms([o,u],0)]}class Vg{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new gu(`Invalid padding: ${e}`);if(s<0)throw new gu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new gu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ms.fromNumber(this.ge)}ye(t,e,s){let o=t.add(e.multiply(ms.fromNumber(s)));return o.compare(YO)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=UT(t),[s,o]=jT(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Vg(u,o,e);return s.forEach((d=>f.insert(d))),f}insert(t){if(this.ge===0)return;const e=UT(t),[s,o]=jT(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,e,s,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Yu.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new kh(Nt.min(),o,new he(zt),bi(),Ht())}}class Yu{constructor(t,e,s,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Yu(s,e,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,e,s,o){this.be=t,this.removedTargetIds=e,this.key=s,this.De=o}}class pA{constructor(t,e){this.targetId=t,this.Ce=e}}class mA{constructor(t,e,s=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class BT{constructor(){this.ve=0,this.Fe=zT(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),e=Ht(),s=Ht();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Rt(38017,{changeType:u})}})),new Yu(this.Me,this.xe,t,e,s)}qe(){this.Oe=!1,this.Fe=zT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QO{constructor(t){this.Ge=t,this.ze=new Map,this.je=bi(),this.Je=Vf(),this.He=Vf(),this.Ye=new he(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,s=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Bm(u))if(s===0){const f=new St(u.path);this.et(e,f,fn.newNoDocument(f,Nt.min()))}else Wt(s===1,20013,{expectedCount:s});else{const f=this._t(e);if(f!==s){const d=this.ut(t),m=d?this.ct(d,t,f):1;if(m!==0){this.it(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=e;let f,d;try{f=Ts(s).toUint8Array()}catch(m){if(m instanceof BS)return Vo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Vg(f,o,u)}catch(m){return Vo(m instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),d=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,f)=>{const d=this.ot(f);if(d){if(u.current&&Bm(d.target)){const m=new St(d.target.path);this.It(m).has(f)||this.Et(f,m)||this.et(f,m,fn.newNoDocument(m,t))}u.Be&&(e.set(f,u.ke()),u.qe())}}));let s=Ht();this.He.forEach(((u,f)=>{let d=!0;f.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new kh(t,e,this.Ye,this.je,s);return this.je=bi(),this.Je=Vf(),this.He=Vf(),this.Ye=new he(zt),o}Xe(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,s),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new BT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new ke(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new ke(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||pt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new BT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Vf(){return new he(St.comparator)}function zT(){return new he(St.comparator)}const XO={asc:"ASCENDING",desc:"DESCENDING"},WO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZO={and:"AND",or:"OR"};class JO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Hm(r,t){return r.useProto3Json||Ih(t)?t:{value:t}}function lh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function tN(r,t){return lh(r,t.toTimestamp())}function Vr(r){return Wt(!!r,49232),Nt.fromTimestamp((function(e){const s=Es(e);return new oe(s.seconds,s.nanos)})(r))}function kg(r,t){return qm(r,t).canonicalString()}function qm(r,t){const e=(function(o){return new le(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?e:e.child(t)}function yA(r){const t=le.fromString(r);return Wt(SA(t),10190,{key:t.toString()}),t}function Fm(r,t){return kg(r.databaseId,t.path)}function hm(r,t){const e=yA(t);if(e.get(1)!==r.databaseId.projectId)throw new yt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new yt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new St(_A(e))}function vA(r,t){return kg(r.databaseId,t)}function eN(r){const t=yA(r);return t.length===4?le.emptyPath():_A(t)}function Gm(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _A(r){return Wt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function HT(r,t,e){return{name:Fm(r,t),fields:e.value.mapValue.fields}}function nN(r,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Rt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Wt(v===void 0||typeof v=="string",58123),tn.fromBase64String(v||"")):(Wt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),tn.fromUint8Array(v||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,d=f&&(function(g){const v=g.code===void 0?ot.UNKNOWN:dA(g.code);return new yt(v,g.message||"")})(f);e=new mA(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=hm(r,s.document.name),u=Vr(s.document.updateTime),f=s.document.createTime?Vr(s.document.createTime):Nt.min(),d=new An({mapValue:{fields:s.document.fields}}),m=fn.newFoundDocument(o,u,f,d),g=s.targetIds||[],v=s.removedTargetIds||[];e=new Gf(g,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=hm(r,s.document),u=s.readTime?Vr(s.readTime):Nt.min(),f=fn.newNoDocument(o,u),d=s.removedTargetIds||[];e=new Gf([],d,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=hm(r,s.document),u=s.removedTargetIds||[];e=new Gf([],u,o,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new GO(o,u),d=s.targetId;e=new pA(d,f)}}return e}function rN(r,t){let e;if(t instanceof Ku)e={update:HT(r,t.key,t.value)};else if(t instanceof hA)e={delete:Fm(r,t.key)};else if(t instanceof Ns)e={update:HT(r,t.key,t.data),updateMask:hN(t.fieldMask)};else{if(!(t instanceof HO))return Rt(16599,{Vt:t.type});e={verify:Fm(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const d=f.transform;if(d instanceof ah)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ku)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof oh)return{fieldPath:f.field.canonicalString(),increment:d.Ae};throw Rt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:tN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Rt(27497)})(r,t.precondition)),e}function iN(r,t){return r&&r.length>0?(Wt(t!==void 0,14353),r.map((e=>(function(o,u){let f=o.updateTime?Vr(o.updateTime):Vr(u);return f.isEqual(Nt.min())&&(f=Vr(u)),new jO(f,o.transformResults||[])})(e,t)))):[]}function sN(r,t){return{documents:[vA(r,t.path)]}}function aN(r,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=vA(r,o);const u=(function(g){if(g.length!==0)return TA(Hr.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:Ro(A.field),direction:uN(A.dir)}})(v)))})(t.orderBy);f&&(e.structuredQuery.orderBy=f);const d=Hm(r,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function oN(r){let t=eN(r.parent);const e=r.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){Wt(s===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(T){const A=EA(T);return A instanceof Hr&&XS(A)?A.getFilters():[A]})(e.where));let f=[];e.orderBy&&(f=(function(T){return T.map((A=>(function(U){return new sh(Co(U.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(e.orderBy));let d=null;e.limit&&(d=(function(T){let A;return A=typeof T=="object"?T.value:T,Ih(A)?null:A})(e.limit));let m=null;e.startAt&&(m=(function(T){const A=!!T.before,N=T.values||[];return new ih(N,A)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const A=!T.before,N=T.values||[];return new ih(N,A)})(e.endAt)),wO(t,o,f,u,d,"F",m,g)}function lN(r,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function EA(r){return r.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Co(e.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(e.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Co(e.unaryFilter.field);return Me.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Co(e.unaryFilter.field);return Me.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(r):r.fieldFilter!==void 0?(function(e){return Me.create(Co(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(e){return Hr.create(e.compositeFilter.filters.map((s=>EA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(e.compositeFilter.op))})(r):Rt(30097,{filter:r})}function uN(r){return XO[r]}function cN(r){return WO[r]}function fN(r){return ZO[r]}function Ro(r){return{fieldPath:r.canonicalString()}}function Co(r){return Je.fromServerFormat(r.fieldPath)}function TA(r){return r instanceof Me?(function(e){if(e.op==="=="){if(OT(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NAN"}};if(IT(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(OT(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NOT_NAN"}};if(IT(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(e.field),op:cN(e.op),value:e.value}}})(r):r instanceof Hr?(function(e){const s=e.getFilters().map((o=>TA(o)));return s.length===1?s[0]:{compositeFilter:{op:fN(e.op),filters:s}}})(r):Rt(54877,{filter:r})}function hN(r){const t=[];return r.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function SA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,e,s,o,u=Nt.min(),f=Nt.min(),d=tn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t){this.yt=t}}function pN(r){const t=oN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.Cn=new gN}addToCollectionParentIndex(t,e){return this.Cn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(_s.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(_s.min())}updateCollectionGroup(t,e,s){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class gN{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new ke(le.comparator),u=!o.has(s);return this.index[e]=o.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ke(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AA=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(AA,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Uo(0)}static cr(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="LruGarbageCollector",yN=1048576;function GT([r,t],[e,s]){const o=zt(r,e);return o===0?zt(t,s):o}class vN{constructor(t){this.Ir=t,this.buffer=new ke(GT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();GT(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class _N{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pt(FT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Xo(e)?pt(FT,"Ignoring IndexedDB error during garbage collection: ",e):await Qo(e)}await this.Vr(3e5)}))}}class EN{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(Ch.ce);const s=new vN(e);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.mr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(qT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let s,o,u,f,d,m,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,d=Date.now(),this.removeTargets(t,s,e)))).next((T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),bo()<=Bt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function TN(r,t){return new EN(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.changes=new Ca((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?rt.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(s!==null&&Au(s.mutation,o,kn.empty(),oe.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,Ht()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=Ht()){const o=ga();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,s).next((u=>{let f=mu();return u.forEach(((d,m)=>{f=f.insert(d,m.overlayedDocument)})),f}))))}getOverlayedDocuments(t,e){const s=ga();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,Ht())))}populateOverlays(t,e,s){const o=[];return s.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,d)=>{e.set(f,d)}))}))}computeViews(t,e,s,o){let u=bi();const f=Su(),d=(function(){return Su()})();return e.forEach(((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ns)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Au(v.mutation,g,v.mutation.getFieldMask(),oe.now())):f.set(g.key,kn.empty())})),this.recalculateAndSaveOverlays(t,u).next((m=>(m.forEach(((g,v)=>f.set(g,v))),e.forEach(((g,v)=>d.set(g,new AN(v,f.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=Su();let o=new he(((f,d)=>f-d)),u=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((f=>{for(const d of f)d.keys().forEach((m=>{const g=e.get(m);if(g===null)return;let v=s.get(m)||kn.empty();v=d.applyToLocalView(g,v),s.set(m,v);const T=(o.get(d.batchId)||Ht()).add(m);o=o.insert(d.batchId,T)}))})).next((()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,T=iA();v.forEach((A=>{if(!u.has(A)){const N=cA(e.get(A),s.get(A));N!==null&&T.set(A,N),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return rt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,o){return(function(f){return St.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):RO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-u.size):rt.resolve(ga());let d=Nu,m=u;return f.next((g=>rt.forEach(g,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(v)?rt.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{m=m.insert(v,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,m,g,Ht()))).next((v=>({batchId:d,changes:rA(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new St(e)).next((s=>{let o=mu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const u=e.collectionGroup;let f=mu();return this.indexManager.getCollectionParents(t,u).next((d=>rt.forEach(d,(m=>{const g=(function(T,A){return new Nh(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,e,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,o)))).next((f=>{u.forEach(((m,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,fn.newInvalidDocument(v)))}));let d=mu();return f.forEach(((m,g)=>{const v=u.get(m);v!==void 0&&Au(v.mutation,g,kn.empty(),oe.now()),xh(e,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return rt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Vr(o.createTime)}})(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:pN(o.bundledQuery),readTime:Vr(o.readTime)}})(e)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.overlays=new he(St.comparator),this.qr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const s=ga();return rt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((o,u)=>{this.St(t,e,u)})),rt.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),rt.resolve()}getOverlaysForCollection(t,e,s){const o=ga(),u=e.length+1,f=new St(e.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let u=new he(((g,v)=>g-v));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ga(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ga(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return rt.resolve(d)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new FO(e,s));let u=this.qr.get(e);u===void 0&&(u=Ht(),this.qr.set(e,u)),this.qr.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(){this.Qr=new ke(He.$r),this.Ur=new ke(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const s=new He(t,e);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Gr(new He(t,e))}zr(t,e){t.forEach((s=>this.removeReference(s,e)))}jr(t){const e=new St(new le([])),s=new He(e,t),o=new He(e,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new St(new le([])),s=new He(e,t),o=new He(e,t+1);let u=Ht();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const e=new He(t,0),s=this.Qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return St.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||St.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new ke(He.$r)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new qO(u,e,s,o);this.mutationQueue.push(f);for(const d of o)this.Zr=this.Zr.add(new He(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return rt.resolve(f)}lookupMutationBatch(t,e){return rt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ei(s),u=o<0?0:o;return rt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Rg:this.tr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new He(e,0),o=new He(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const d=this.Xr(f.Yr);u.push(d)})),rt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new ke(zt);return e.forEach((o=>{const u=new He(o,0),f=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(d=>{s=s.add(d.Yr)}))})),rt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let u=s;St.isDocumentKey(u)||(u=u.child(""));const f=new He(new St(u),0);let d=new ke(zt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)}),f),rt.resolve(this.ti(d))}ti(t){const e=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Wt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return rt.forEach(e.mutations,(o=>{const u=new He(o.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,e){const s=new He(e,0),o=this.Zr.firstAfterOrEqual(s);return rt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t){this.ri=t,this.docs=(function(){return new he(St.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return rt.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(e))}getEntries(t,e){let s=bi();return e.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),rt.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let u=bi();const f=e.path,d=new St(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||rO(nO(v),s)<=0||(o.has(v.key)||xh(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return rt.resolve(u)}getAllFromCollectionGroup(t,e,s,o){Rt(9500)}ii(t,e){return rt.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new NN(this)}getSize(t){return rt.resolve(this.size)}}class NN extends SN{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),rt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.persistence=t,this.si=new Ca((e=>Og(e)),Ng),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pg,this.targetCount=0,this.ai=Uo.ur()}forEachTarget(t,e){return this.si.forEach(((s,o)=>e(o))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.oi&&(this.oi=e),rt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Uo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.Pr(e),rt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,s){let o=0;const u=[];return this.si.forEach(((f,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),rt.waitFor(u).next((()=>o))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const s=this.si.get(e)||null;return rt.resolve(s)}addMatchingKeys(t,e,s){return this._i.Wr(e,s),rt.resolve()}removeMatchingKeys(t,e,s){this._i.zr(e,s);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),rt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const s=this._i.Hr(e);return rt.resolve(s)}containsKey(t,e){return rt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t,e){this.ui={},this.overlays={},this.ci=new Ch(0),this.li=!1,this.li=!0,this.hi=new CN,this.referenceDelegate=t(this),this.Pi=new DN(this),this.indexManager=new mN,this.remoteDocumentCache=(function(o){return new ON(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new dN(e),this.Ii=new wN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new RN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ui[t.toKey()];return s||(s=new IN(e,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,s){pt("MemoryPersistence","Starting transaction:",t);const o=new xN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return rt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,e))))}}class xN extends sO{constructor(t){super(),this.currentSequenceNumber=t}}class Lg{constructor(t){this.persistence=t,this.Ri=new Pg,this.Vi=null}static mi(t){return new Lg(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.fi.delete(s.toString()),rt.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.fi.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.fi,(s=>{const o=St.fromPath(s);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Nt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((s=>{s?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return rt.or([()=>rt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class uh{constructor(t,e){this.persistence=t,this.pi=new Ca((s=>lO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=TN(this,e)}static mi(t,e){return new uh(t,e)}Ei(){}di(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((o=>s+o))))}wr(t){let e=0;return this.pr(t,(s=>{e++})).next((()=>e))}pr(t,e){return rt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?rt.resolve():e(o)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,e).next((d=>{d||(s++,u.removeEntry(f,Nt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),rt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Hf(t.data.value)),e}br(t,e,s){return rt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return rt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.Es=s,this.ds=o}static As(t,e){let s=Ht(),o=Ht();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ug(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RC()?8:aO(dn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,o){const u={result:null};return this.ys(t,e).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,e,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new MN;return this.Ss(t,e,f).next((d=>{if(u.result=d,this.Vs)return this.bs(t,e,f,d.size)}))})).next((()=>u.result))}bs(t,e,s,o){return s.documentReadCount<this.fs?(bo()<=Bt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",wo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),rt.resolve()):(bo()<=Bt.DEBUG&&pt("QueryEngine","Query:",wo(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(bo()<=Bt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",wo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xr(e))):rt.resolve())}ys(t,e){if(MT(e))return rt.resolve(null);let s=xr(e);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=zm(e,null,"F"),s=xr(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Ht(...u);return this.ps.getDocuments(t,f).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const g=this.Ds(e,d);return this.Cs(e,g,f,m.readTime)?this.ys(t,zm(e,null,"F")):this.vs(t,g,e,m)}))))})))))}ws(t,e,s,o){return MT(e)||o.isEqual(Nt.min())?rt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(e,u);return this.Cs(e,f,s,o)?rt.resolve(null):(bo()<=Bt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(e)),this.vs(t,f,e,eO(o,Nu)).next((d=>d)))}))}Ds(t,e){let s=new ke(eA(t));return e.forEach(((o,u)=>{xh(t,u)&&(s=s.add(u))})),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,s){return bo()<=Bt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",wo(e)),this.ps.getDocumentsMatchingQuery(t,e,_s.min(),s)}vs(t,e,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(e.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="LocalStore",kN=3e8;class PN{constructor(t,e,s,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new he(zt),this.xs=new Ca((u=>Og(u)),Ng),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function LN(r,t,e,s){return new PN(r,t,e,s)}async function wA(r,t){const e=Dt(r);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],d=[];let m=Ht();for(const g of o){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return e.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:d})))}))}))}function UN(r,t){const e=Dt(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const T=g.batch,A=T.keys();let N=rt.resolve();return A.forEach((U=>{N=N.next((()=>v.getEntry(m,U))).next((z=>{const k=g.docVersions.get(U);Wt(k!==null,48541),z.version.compareTo(k)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(e,s,t,u).next((()=>u.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Ht();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(s,o)))}))}function RA(r){const t=Dt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function jN(r,t){const e=Dt(r),s=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach(((v,T)=>{const A=o.get(T);if(!A)return;d.push(e.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>e.Pi.addMatchingKeys(u,v.addedDocuments,T))));let N=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?N=N.withResumeToken(tn.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,s)),o=o.insert(T,N),(function(z,k,Z){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=kN?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,N,v)&&d.push(e.Pi.updateTargetData(u,N))}));let m=bi(),g=Ht();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(BN(u,f,t.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!s.isEqual(Nt.min())){const v=e.Pi.getLastRemoteSnapshotVersion(u).next((T=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(v)}return rt.waitFor(d).next((()=>f.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(e.Ms=o,u)))}function BN(r,t,e){let s=Ht(),o=Ht();return e.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=bi();return e.forEach(((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Nt.min())?(t.removeEntry(d,m.readTime),f=f.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),f=f.insert(d,m)):pt(jg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:f,qs:o}}))}function zN(r,t){const e=Dt(r);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Rg),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function HN(r,t){const e=Dt(r);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return e.Pi.getTargetData(s,t).next((u=>u?(o=u,rt.resolve(o)):e.Pi.allocateTargetId(s).next((f=>(o=new fs(t,f,"TargetPurposeListen",s.currentSequenceNumber),e.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=e.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(s.targetId,s),e.xs.set(t,s.targetId)),s}))}async function $m(r,t,e){const s=Dt(r),o=s.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Xo(f))throw f;pt(jg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function $T(r,t,e){const s=Dt(r);let o=Nt.min(),u=Ht();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(m,g,v){const T=Dt(m),A=T.xs.get(v);return A!==void 0?rt.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,v)})(s,f,xr(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,d.targetId).next((m=>{u=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,e?o:Nt.min(),e?u:Ht()))).next((d=>(qN(s,IO(t),d),{documents:d,Qs:u})))))}function qN(r,t,e){let s=r.Os.get(t)||Nt.min();e.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class KT{constructor(){this.activeTargetIds=VO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class FN{constructor(){this.Mo=new KT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,s){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new KT,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="ConnectivityMonitor";class QT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(YT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pt(YT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf=null;function Km(){return kf===null?kf=(function(){return 268435456+Math.round(2147483648*Math.random())})():kf++,"0x"+kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",$N={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===nh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,e,s,o,u){const f=Km(),d=this.zo(t,e.toUriEncodedString());pt(dm,`Sending RPC '${t}' ${f}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),v=$o(g);return this.Jo(t,d,m,s,v).then((T=>(pt(dm,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw Vo(dm,`RPC '${t}' ${f} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(t,e,s,o,u,f){return this.Go(t,e,s,o,u)}jo(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const s=$N[t];return`${this.Uo}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class QN extends KN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,u){const f=Km();return new Promise(((d,m)=>{const g=new OS;g.setWithCredentials(!0),g.listenOnce(NS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case zf.NO_ERROR:const T=g.getResponseJson();pt(un,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),d(T);break;case zf.TIMEOUT:pt(un,`RPC '${t}' ${f} timed out`),m(new yt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const A=g.getStatus();if(pt(un,`RPC '${t}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const z=(function(Z){const X=Z.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(X)>=0?X:ot.UNKNOWN})(U.status);m(new yt(z,U.message))}else m(new yt(ot.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new yt(ot.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pt(un,`RPC '${t}' ${f} completed.`)}}));const v=JSON.stringify(o);pt(un,`RPC '${t}' ${f} sending request:`,o),g.send(e,"POST",v,s,15)}))}T_(t,e,s){const o=Km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=MS(),d=xS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,s),m.encodeInitMessageHeaders=!0;const v=u.join("");pt(un,`Creating RPC '${t}' stream ${o}: ${v}`,m);const T=f.createWebChannel(v,m);this.I_(T);let A=!1,N=!1;const U=new YN({Yo:k=>{N?pt(un,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(A||(pt(un,`Opening RPC '${t}' stream ${o} transport.`),T.open(),A=!0),pt(un,`RPC '${t}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),z=(k,Z,X)=>{k.listen(Z,(Q=>{try{X(Q)}catch(W){setTimeout((()=>{throw W}),0)}}))};return z(T,pu.EventType.OPEN,(()=>{N||(pt(un,`RPC '${t}' stream ${o} transport opened.`),U.o_())})),z(T,pu.EventType.CLOSE,(()=>{N||(N=!0,pt(un,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(T))})),z(T,pu.EventType.ERROR,(k=>{N||(N=!0,Vo(un,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),U.a_(new yt(ot.UNAVAILABLE,"The operation could not be completed")))})),z(T,pu.EventType.MESSAGE,(k=>{if(!N){const Z=k.data[0];Wt(!!Z,16349);const X=Z,Q=X?.error||X[0]?.error;if(Q){pt(un,`RPC '${t}' stream ${o} received error:`,Q);const W=Q.status;let st=(function(R){const I=we[R];if(I!==void 0)return dA(I)})(W),at=Q.message;st===void 0&&(st=ot.INTERNAL,at="Unknown error status: "+W+" with message "+Q.message),N=!0,U.a_(new yt(st,at)),T.close()}else pt(un,`RPC '${t}' stream ${o} received:`,Z),U.u_(Z)}})),z(d,DS.STAT_EVENT,(k=>{k.stat===km.PROXY?pt(un,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===km.NOPROXY&&pt(un,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(r){return new JO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(t,e,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-s);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="PersistentStream";class IA{constructor(t,e,s,o,u,f,d,m){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ot.RESOURCE_EXHAUSTED?(Ai(e.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===e&&this.G_(s,o)}),(s=>{t((()=>{const o=new yt(ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,e){const s=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(XT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(pt(XT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XN extends IA{constructor(t,e,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,f),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=nN(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Nt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Nt.min():f.readTime?Vr(f.readTime):Nt.min()})(t);return this.listener.H_(e,s)}Y_(t){const e={};e.database=Gm(this.serializer),e.addTarget=(function(u,f){let d;const m=f.target;if(d=Bm(m)?{documents:sN(u,m)}:{query:aN(u,m).ft},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=gA(u,f.resumeToken);const g=Hm(u,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(Nt.min())>0){d.readTime=lh(u,f.snapshotVersion.toTimestamp());const g=Hm(u,f.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=lN(this.serializer,t);s&&(e.labels=s),this.q_(e)}Z_(t){const e={};e.database=Gm(this.serializer),e.removeTarget=t,this.q_(e)}}class WN extends IA{constructor(t,e,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=iN(t.writeResults,t.commitTime),s=Vr(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=Gm(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>rN(this.serializer,s)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{}class JN extends ZN{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,qm(e,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(ot.UNKNOWN,u.toString())}))}Ho(t,e,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Ho(t,qm(e,s),o,f,d,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(ot.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(e),this.aa=!1):pt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class eD{constructor(t,e,s,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Ia(this)&&(pt(ba,"Restarting streams for network reachability change."),await(async function(m){const g=Dt(m);g.Ea.add(4),await Qu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Lh(g)})(this))}))})),this.Ra=new tD(s,o)}}async function Lh(r){if(Ia(r))for(const t of r.da)await t(!0)}async function Qu(r){for(const t of r.da)await t(!1)}function OA(r,t){const e=Dt(r);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),qg(e)?Hg(e):Wo(e).O_()&&zg(e,t))}function Bg(r,t){const e=Dt(r),s=Wo(e);e.Ia.delete(t),s.O_()&&NA(e,t),e.Ia.size===0&&(s.O_()?s.L_():Ia(e)&&e.Ra.set("Unknown"))}function zg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Wo(r).Y_(t)}function NA(r,t){r.Va.Ue(t),Wo(r).Z_(t)}function Hg(r){r.Va=new QO({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Wo(r).start(),r.Ra.ua()}function qg(r){return Ia(r)&&!Wo(r).x_()&&r.Ia.size>0}function Ia(r){return Dt(r).Ea.size===0}function DA(r){r.Va=void 0}async function nD(r){r.Ra.set("Online")}async function rD(r){r.Ia.forEach(((t,e)=>{zg(r,t)}))}async function iD(r,t){DA(r),qg(r)?(r.Ra.ha(t),Hg(r)):r.Ra.set("Unknown")}async function sD(r,t,e){if(r.Ra.set("Online"),t instanceof mA&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o.Ia.delete(d),o.Va.removeTarget(d))})(r,t)}catch(s){pt(ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ch(r,s)}else if(t instanceof Gf?r.Va.Ze(t):t instanceof pA?r.Va.st(t):r.Va.tt(t),!e.isEqual(Nt.min()))try{const s=await RA(r.localStore);e.compareTo(s)>=0&&await(function(u,f){const d=u.Va.Tt(f);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(m.resumeToken,f))}})),d.targetMismatches.forEach(((m,g)=>{const v=u.Ia.get(m);if(!v)return;u.Ia.set(m,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),NA(u,m);const T=new fs(v.target,m,g,v.sequenceNumber);zg(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(r,e)}catch(s){pt(ba,"Failed to raise snapshot:",s),await ch(r,s)}}async function ch(r,t,e){if(!Xo(t))throw t;r.Ea.add(1),await Qu(r),r.Ra.set("Offline"),e||(e=()=>RA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{pt(ba,"Retrying IndexedDB access"),await e(),r.Ea.delete(1),await Lh(r)}))}function xA(r,t){return t().catch((e=>ch(r,e,t)))}async function Uh(r){const t=Dt(r),e=As(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rg;for(;aD(t);)try{const o=await zN(t.localStore,s);if(o===null){t.Ta.length===0&&e.L_();break}s=o.batchId,oD(t,o)}catch(o){await ch(t,o)}MA(t)&&VA(t)}function aD(r){return Ia(r)&&r.Ta.length<10}function oD(r,t){r.Ta.push(t);const e=As(r);e.O_()&&e.X_&&e.ea(t.mutations)}function MA(r){return Ia(r)&&!As(r).x_()&&r.Ta.length>0}function VA(r){As(r).start()}async function lD(r){As(r).ra()}async function uD(r){const t=As(r);for(const e of r.Ta)t.ea(e.mutations)}async function cD(r,t,e){const s=r.Ta.shift(),o=Mg.from(s,t,e);await xA(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Uh(r)}async function fD(r,t){t&&As(r).X_&&await(async function(s,o){if((function(f){return $O(f)&&f!==ot.ABORTED})(o.code)){const u=s.Ta.shift();As(s).B_(),await xA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Uh(s)}})(r,t),MA(r)&&VA(r)}async function WT(r,t){const e=Dt(r);e.asyncQueue.verifyOperationInProgress(),pt(ba,"RemoteStore received new credentials");const s=Ia(e);e.Ea.add(3),await Qu(e),s&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Lh(e)}async function hD(r,t){const e=Dt(r);t?(e.Ea.delete(2),await Lh(e)):t||(e.Ea.add(2),await Qu(e),e.Ra.set("Unknown"))}function Wo(r){return r.ma||(r.ma=(function(e,s,o){const u=Dt(e);return u.sa(),new XN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:nD.bind(null,r),t_:rD.bind(null,r),r_:iD.bind(null,r),H_:sD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),qg(r)?Hg(r):r.Ra.set("Unknown")):(await r.ma.stop(),DA(r))}))),r.ma}function As(r){return r.fa||(r.fa=(function(e,s,o){const u=Dt(e);return u.sa(),new WN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:lD.bind(null,r),r_:fD.bind(null,r),ta:uD.bind(null,r),na:cD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Uh(r)):(await r.fa.stop(),r.Ta.length>0&&(pt(ba,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(t,e,s,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,u){const f=Date.now()+s,d=new Fg(t,e,f,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gg(r,t){if(Ai("AsyncQueue",`${t}: ${r}`),Xo(r))return new yt(ot.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(t){return new Oo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||St.comparator(e.key,s.key):(e,s)=>St.comparator(e.key,s.key),this.keyedMap=mu(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Oo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Oo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.ga=new he(St.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class jo{constructor(t,e,s,o,u,f,d,m,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,u){const f=[];return e.forEach((d=>{f.push({type:0,doc:d})})),new jo(t,e,Oo.emptySet(e),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class pD{constructor(){this.queries=JT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=Dt(e),u=o.queries;o.queries=JT(),u.forEach(((f,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new yt(ot.ABORTED,"Firestore shutting down"))}}function JT(){return new Ca((r=>tA(r)),Dh)}async function kA(r,t){const e=Dt(r);let s=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new dD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(f){const d=Gg(f,`Initialization of query '${wo(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&$g(e)}async function PA(r,t){const e=Dt(r),s=t.query;let o=3;const u=e.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function mD(r,t){const e=Dt(r);let s=!1;for(const o of t){const u=o.query,f=e.queries.get(u);if(f){for(const d of f.Sa)d.Fa(o)&&(s=!0);f.wa=o}}s&&$g(e)}function gD(r,t,e){const s=Dt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);s.queries.delete(t)}function $g(r){r.Ca.forEach((t=>{t.next()}))}var Ym,t0;(t0=Ym||(Ym={})).Ma="default",t0.Cache="cache";class LA{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new jo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=jo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t){this.key=t}}class jA{constructor(t){this.key=t}}class yD{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=eA(t),this.tu=new Oo(this.eu)}get nu(){return this.Ya}ru(t,e){const s=e?e.iu:new ZT,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,f=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const A=o.get(v),N=xh(this.query,T)?T:null,U=!!A&&this.mutatedKeys.has(A.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let k=!1;A&&N?A.data.isEqual(N.data)?U!==z&&(s.track({type:3,doc:N}),k=!0):this.su(A,N)||(s.track({type:2,doc:N}),k=!0,(m&&this.eu(N,m)>0||g&&this.eu(N,g)<0)&&(d=!0)):!A&&N?(s.track({type:0,doc:N}),k=!0):A&&!N&&(s.track({type:1,doc:A}),k=!0,(m||g)&&(d=!0)),k&&(N?(f=f.add(N),u=z?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:f,iu:s,Cs:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((v,T)=>(function(N,U){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:k})}};return z(N)-z(U)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const d=e&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,f.length!==0||g?{snapshot:new jo(this.query,t.tu,u,f,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ht(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const e=[];return t.forEach((s=>{this.Xa.has(s)||e.push(new jA(s))})),this.Xa.forEach((s=>{t.has(s)||e.push(new UA(s))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ht();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kg="SyncEngine";class vD{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class _D{constructor(t){this.key=t,this.hu=!1}}class ED{constructor(t,e,s,o,u,f){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ca((d=>tA(d)),Dh),this.Iu=new Map,this.Eu=new Set,this.du=new he(St.comparator),this.Au=new Map,this.Ru=new Pg,this.Vu={},this.mu=new Map,this.fu=Uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TD(r,t,e=!0){const s=GA(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await BA(s,t,e,!0),o}async function SD(r,t){const e=GA(r);await BA(e,t,!0,!1)}async function BA(r,t,e,s){const o=await HN(r.localStore,xr(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await AD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&e&&OA(r.remoteStore,o),d}async function AD(r,t,e,s,o){r.pu=(T,A,N)=>(async function(z,k,Z,X){let Q=k.view.ru(Z);Q.Cs&&(Q=await $T(z.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,Q))));const W=X&&X.targetChanges.get(k.targetId),st=X&&X.targetMismatches.get(k.targetId)!=null,at=k.view.applyChanges(Q,z.isPrimaryClient,W,st);return n0(z,k.targetId,at.au),at.snapshot})(r,T,A,N);const u=await $T(r.localStore,t,!0),f=new yD(t,u.Qs),d=f.ru(u.documents),m=Yu.createSynthesizedTargetChangeForCurrentChange(e,s&&r.onlineState!=="Offline",o),g=f.applyChanges(d,r.isPrimaryClient,m);n0(r,e,g.au);const v=new vD(t,e,f);return r.Tu.set(t,v),r.Iu.has(e)?r.Iu.get(e).push(t):r.Iu.set(e,[t]),g.snapshot}async function bD(r,t,e){const s=Dt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Dh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),e&&Bg(s.remoteStore,o.targetId),Qm(s,o.targetId)})).catch(Qo)):(Qm(s,o.targetId),await $m(s.localStore,o.targetId,!0))}async function wD(r,t){const e=Dt(r),s=e.Tu.get(t),o=e.Iu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Bg(e.remoteStore,s.targetId))}async function RD(r,t,e){const s=MD(r);try{const o=await(function(f,d){const m=Dt(f),g=oe.now(),v=d.reduce(((N,U)=>N.add(U.key)),Ht());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let U=bi(),z=Ht();return m.Ns.getEntries(N,v).next((k=>{U=k,U.forEach(((Z,X)=>{X.isValidDocument()||(z=z.add(Z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(N,U))).next((k=>{T=k;const Z=[];for(const X of d){const Q=zO(X,T.get(X.key).overlayedDocument);Q!=null&&Z.push(new Ns(X.key,Q,KS(Q.value.mapValue),Mr.exists(!0)))}return m.mutationQueue.addMutationBatch(N,g,Z,d)})).next((k=>{A=k;const Z=k.applyToLocalDocumentSet(T,z);return m.documentOverlayCache.saveOverlays(N,k.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:rA(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,d,m){let g=f.Vu[f.currentUser.toKey()];g||(g=new he(zt)),g=g.insert(d,m),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,e),await Xu(s,o.changes),await Uh(s.remoteStore)}catch(o){const u=Gg(o,"Failed to persist write");e.reject(u)}}async function zA(r,t){const e=Dt(r);try{const s=await jN(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=e.Au.get(u);f&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Wt(f.hu,14607):o.removedDocuments.size>0&&(Wt(f.hu,42227),f.hu=!1))})),await Xu(e,s,t)}catch(s){await Qo(s)}}function e0(r,t,e){const s=Dt(r);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.Tu.forEach(((u,f)=>{const d=f.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(f,d){const m=Dt(f);m.onlineState=d;let g=!1;m.queries.forEach(((v,T)=>{for(const A of T.Sa)A.va(d)&&(g=!0)})),g&&$g(m)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function CD(r,t,e){const s=Dt(r);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new he(St.comparator);f=f.insert(u,fn.newNoDocument(u,Nt.min()));const d=Ht().add(u),m=new kh(Nt.min(),new Map,new he(zt),f,d);await zA(s,m),s.du=s.du.remove(u),s.Au.delete(t),Yg(s)}else await $m(s.localStore,t,!1).then((()=>Qm(s,t,e))).catch(Qo)}async function ID(r,t){const e=Dt(r),s=t.batch.batchId;try{const o=await UN(e.localStore,t);qA(e,s,null),HA(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Xu(e,o)}catch(o){await Qo(o)}}async function OD(r,t,e){const s=Dt(r);try{const o=await(function(f,d){const m=Dt(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((T=>(Wt(T!==null,37113),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);qA(s,t,e),HA(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Xu(s,o)}catch(o){await Qo(o)}}function HA(r,t){(r.mu.get(t)||[]).forEach((e=>{e.resolve()})),r.mu.delete(t)}function qA(r,t,e){const s=Dt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Qm(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),e&&r.Pu.yu(s,e);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||FA(r,s)}))}function FA(r,t){r.Eu.delete(t.path.canonicalString());const e=r.du.get(t);e!==null&&(Bg(r.remoteStore,e),r.du=r.du.remove(t),r.Au.delete(e),Yg(r))}function n0(r,t,e){for(const s of e)s instanceof UA?(r.Ru.addReference(s.key,t),ND(r,s)):s instanceof jA?(pt(Kg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||FA(r,s.key)):Rt(19791,{wu:s})}function ND(r,t){const e=t.key,s=e.path.canonicalString();r.du.get(e)||r.Eu.has(s)||(pt(Kg,"New document in limbo: "+e),r.Eu.add(s),Yg(r))}function Yg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const e=new St(le.fromString(t)),s=r.fu.next();r.Au.set(s,new _D(e)),r.du=r.du.insert(e,s),OA(r.remoteStore,new fs(xr(Dg(e.path)),s,"TargetPurposeLimboResolution",Ch.ce))}}async function Xu(r,t,e){const s=Dt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{f.push(s.pu(m,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Ug.As(m.targetId,g);u.push(v)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(m,g){const v=Dt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>rt.forEach(g,(A=>rt.forEach(A.Es,(N=>v.persistence.referenceDelegate.addReference(T,A.targetId,N))).next((()=>rt.forEach(A.ds,(N=>v.persistence.referenceDelegate.removeReference(T,A.targetId,N)))))))))}catch(T){if(!Xo(T))throw T;pt(jg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const N=v.Ms.get(A),U=N.snapshotVersion,z=N.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(A,z)}}})(s.localStore,u))}async function DD(r,t){const e=Dt(r);if(!e.currentUser.isEqual(t)){pt(Kg,"User change. New user:",t.toKey());const s=await wA(e.localStore,t);e.currentUser=t,(function(u,f){u.mu.forEach((d=>{d.forEach((m=>{m.reject(new yt(ot.CANCELLED,f))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Xu(e,s.Ls)}}function xD(r,t){const e=Dt(r),s=e.Au.get(t);if(s&&s.hu)return Ht().add(s.key);{let o=Ht();const u=e.Iu.get(t);if(!u)return o;for(const f of u){const d=e.Tu.get(f);o=o.unionWith(d.view.nu)}return o}}function GA(r){const t=Dt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=zA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CD.bind(null,t),t.Pu.H_=mD.bind(null,t.eventManager),t.Pu.yu=gD.bind(null,t.eventManager),t}function MD(r){const t=Dt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ID.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OD.bind(null,t),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return LN(this.persistence,new VN,t.initialUser,this.serializer)}Cu(t){return new bA(Lg.mi,this.serializer)}Du(t){return new FN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class VD extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Wt(this.persistence.referenceDelegate instanceof uh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _N(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new bA((s=>uh.mi(s,e)),this.serializer)}}class Xm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>e0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DD.bind(null,this.syncEngine),await hD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pD})()}createDatastore(t){const e=Ph(t.databaseInfo.databaseId),s=(function(u){return new QN(u)})(t.databaseInfo);return(function(u,f,d,m){return new JN(u,f,d,m)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,o,u,f,d){return new eD(s,o,u,f,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>e0(this.syncEngine,e,0)),(function(){return QT.v()?new QT:new GN})())}createSyncEngine(t,e){return(function(o,u,f,d,m,g,v){const T=new ED(o,u,f,d,m,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=Dt(e);pt(ba,"RemoteStore shutting down."),s.Ea.add(5),await Qu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ai("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="FirestoreClient";class kD{constructor(t,e,s,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{pt(bs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(pt(bs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=Gg(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function mm(r,t){r.asyncQueue.verifyOperationInProgress(),pt(bs,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let s=e.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await wA(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function r0(r,t){r.asyncQueue.verifyOperationInProgress();const e=await PD(r);pt(bs,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener((s=>WT(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>WT(t.remoteStore,o))),r._onlineComponents=t}async function PD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pt(bs,"Using user provided OfflineComponentProvider");try{await mm(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Vo("Error using user provided cache. Falling back to memory cache: "+e),await mm(r,new fh)}}else pt(bs,"Using default OfflineComponentProvider"),await mm(r,new VD(void 0));return r._offlineComponents}async function KA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pt(bs,"Using user provided OnlineComponentProvider"),await r0(r,r._uninitializedComponentsProvider._online)):(pt(bs,"Using default OnlineComponentProvider"),await r0(r,new Xm))),r._onlineComponents}function LD(r){return KA(r).then((t=>t.syncEngine))}async function Wm(r){const t=await KA(r),e=t.eventManager;return e.onListen=TD.bind(null,t.syncEngine),e.onUnlisten=bD.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=SD.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=wD.bind(null,t.syncEngine),e}function UD(r,t,e={}){const s=new gs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,d,m,g){const v=new $A({next:A=>{v.Nu(),f.enqueueAndForget((()=>PA(u,T))),A.fromCache&&m.source==="server"?g.reject(new yt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new LA(d,v,{includeMetadataChanges:!0,qa:!0});return kA(u,T)})(await Wm(r),r.asyncQueue,t,e,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firestore.googleapis.com",s0=!0;class a0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QA,this.ssl=s0}else this.host=t.host,this.ssl=t.ssl??s0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=AA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<yN)throw new yt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YA(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jh{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new FI;switch(s.type){case"firstParty":return new YI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=i0.get(e);s&&(pt("ComponentProvider","Removing Datastore"),i0.delete(e),s.terminate())})(this),Promise.resolve()}}function jD(r,t,e,s={}){r=Ei(r,jh);const o=$o(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},d=`${t}:${e}`;o&&(ES(`https://${d}`),TS("Firestore",!0)),u.host!==QA&&u.host!==d&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:s};if(!Ta(m,f)&&(r._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=cn.MOCK_USER;else{g=yC(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new yt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(T)}r._authCredentials=new GI(new kS(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Wu(this.firestore,t,this._query)}}class Ve{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if($u(e,Ve._jsonSchema))return new Ve(t,s||null,new St(le.fromString(e.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Re("string",Ve._jsonSchemaVersion),referencePath:Re("string")};class ys extends Wu{constructor(t,e,s){super(t,e,Dg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new St(t))}withConverter(t){return new ys(this.firestore,t,this._path)}}function Pu(r,t,...e){if(r=Fe(r),PS("collection","path",t),r instanceof jh){const s=le.fromString(t,...e);return ET(s),new ys(r,null,s)}{if(!(r instanceof Ve||r instanceof ys))throw new yt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(t,...e));return ET(s),new ys(r.firestore,null,s)}}function hh(r,t,...e){if(r=Fe(r),arguments.length===1&&(t=bg.newId()),PS("doc","path",t),r instanceof jh){const s=le.fromString(t,...e);return _T(s),new Ve(r,null,new St(s))}{if(!(r instanceof Ve||r instanceof ys))throw new yt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(t,...e));return _T(s),new Ve(r.firestore,r instanceof ys?r.converter:null,new St(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="AsyncQueue";class l0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CA(this,"async_queue_retry"),this._c=()=>{const s=pm();s&&pt(o0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=pm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=pm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Xo(t))throw t;pt(o0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",u0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Fg.createAndSchedule(this,t,e,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Rt(47125,{Pc:u0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function u0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(r){return(function(e,s){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Bo extends jh{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new l0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new l0(t),this._firestoreClient=void 0,await t}}}function BD(r,t){const e=typeof r=="object"?r:wS(),s=typeof r=="string"?r:nh,o=Sg(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=mC("firestore");u&&jD(o,...u)}return o}function Qg(r){if(r._terminated)throw new yt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zD(r),r._firestoreClient}function zD(r){const t=r._freezeSettings(),e=(function(o,u,f,d){return new fO(o,u,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,YA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new kD(r._authCredentials,r._appCheckCredentials,r._queue,e,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wn(tn.fromBase64String(t))}catch(e){throw new yt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Wn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($u(t,Wn._jsonSchema))return Wn.fromBase64String(t.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Re("string",Wn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(t){if($u(t,kr._jsonSchema))return new kr(t.latitude,t.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:Re("string",kr._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($u(t,Pr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Pr(t.vectorValues);throw new yt(ot.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pr._jsonSchemaVersion="firestore/vectorValue/1.0",Pr._jsonSchema={type:Re("string",Pr._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=/^__.*__$/;class qD{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Ns(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ku(t,this.data,e,this.fieldTransforms)}}class XA{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Ns(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function WA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:r})}}class Wg{constructor(t,e,s,o,u,f){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Wg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.gc(t),s}yc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return dh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(WA(this.Ac)&&HD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class FD{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Ph(t)}Cc(t,e,s,o=!1){return new Wg({Ac:t,methodName:e,Dc:s,path:Je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZA(r){const t=r._freezeSettings(),e=Ph(r._databaseId);return new FD(r._databaseId,!!t.ignoreUndefinedProperties,e)}function GD(r,t,e,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,e,o);Zg("Data must be an object, but it was:",f,s);const d=JA(s,f);let m,g;if(u.merge)m=new kn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const A=Zm(t,T,e);if(!f.contains(A))throw new yt(ot.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);eb(v,A)||v.push(A)}m=new kn(v),g=f.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=f.fieldTransforms;return new qD(new An(d),m,g)}class zh extends Xg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zh}}function $D(r,t,e,s){const o=r.Cc(1,t,e);Zg("Data must be an object, but it was:",o,s);const u=[],f=An.empty();Os(s,((m,g)=>{const v=Jg(t,m,e);g=Fe(g);const T=o.yc(v);if(g instanceof zh)u.push(v);else{const A=Hh(g,T);A!=null&&(u.push(v),f.set(v,A))}}));const d=new kn(u);return new XA(f,d,o.fieldTransforms)}function KD(r,t,e,s,o,u){const f=r.Cc(1,t,e),d=[Zm(t,s,e)],m=[o];if(u.length%2!=0)throw new yt(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)d.push(Zm(t,u[A])),m.push(u[A+1]);const g=[],v=An.empty();for(let A=d.length-1;A>=0;--A)if(!eb(g,d[A])){const N=d[A];let U=m[A];U=Fe(U);const z=f.yc(N);if(U instanceof zh)g.push(N);else{const k=Hh(U,z);k!=null&&(g.push(N),v.set(N,k))}}const T=new kn(g);return new XA(v,T,f.fieldTransforms)}function Hh(r,t){if(tb(r=Fe(r)))return Zg("Unsupported field value:",t,r),JA(r,t);if(r instanceof Xg)return(function(s,o){if(!WA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const d of s){let m=Hh(d,o.wc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Fe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=oe.fromDate(s);return{timestampValue:lh(o.serializer,u)}}if(s instanceof oe){const u=new oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lh(o.serializer,u)}}if(s instanceof kr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wn)return{bytesValue:gA(o.serializer,s._byteString)};if(s instanceof Ve){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Pr)return(function(f,d){return{mapValue:{fields:{[GS]:{stringValue:$S},[rh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return xg(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${wg(s)}`)})(r,t)}function JA(r,t){const e={};return jS(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Os(r,((s,o)=>{const u=Hh(o,t.mc(s));u!=null&&(e[s]=u)})),{mapValue:{fields:e}}}function tb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof oe||r instanceof kr||r instanceof Wn||r instanceof Ve||r instanceof Xg||r instanceof Pr)}function Zg(r,t,e){if(!tb(e)||!LS(e)){const s=wg(e);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Zm(r,t,e){if((t=Fe(t))instanceof Bh)return t._internalPath;if(typeof t=="string")return Jg(r,t);throw dh("Field path arguments must be of type string or ",r,!1,void 0,e)}const YD=new RegExp("[~\\*/\\[\\]]");function Jg(r,t,e){if(t.search(YD)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new Bh(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function dh(r,t,e,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new yt(ot.INVALID_ARGUMENT,d+r+m)}function eb(r,t){return r.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,e,s,o,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(rb("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class QD extends nb{data(){return super.data()}}function rb(r,t){return typeof t=="string"?Jg(r,t):t instanceof Bh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new yt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XD{convertValue(t,e="none"){switch(Ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Os(t,((o,u)=>{s[o]=this.convertValue(u,e)})),s}convertVectorValue(t){const e=t.fields?.[rh].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new Pr(e)}convertGeoPoint(t){return new kr(_e(t.latitude),_e(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Oh(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Du(t));default:return null}}convertTimestamp(t){const e=Es(t);return new oe(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=le.fromString(t);Wt(SA(s),9688,{name:t});const o=new xu(s.get(1),s.get(3)),u=new St(s.popFirst(5));return o.isEqual(e)||Ai(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(r,t,e){let s;return s=r?r.toFirestore(t):t,s}class yu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class va extends nb{constructor(t,e,s,o,u,f){super(t,e,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(rb("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ot.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=va._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:Re("string",va._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class $f extends va{data(t={}){return super.data(t)}}class _a{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new yu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new $f(this._firestore,this._userDataWriter,s.key,s,new yu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((d=>{const m=new $f(o._firestore,o._userDataWriter,d.doc.key,d.doc,new yu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const m=new $f(o._firestore,o._userDataWriter,d.doc.key,d.doc,new yu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),v=f.indexOf(d.doc.key)),{type:ZD(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ot.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=_a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ZD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:r})}}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:Re("string",_a._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class ty extends XD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,e)}}function Jm(r){r=Ei(r,Wu);const t=Ei(r.firestore,Bo),e=Qg(t),s=new ty(t);return ib(r._query),UD(e,r._query).then((o=>new _a(t,s,r,o)))}function ey(r,t,e,...s){r=Ei(r,Ve);const o=Ei(r.firestore,Bo),u=ZA(o);let f;return f=typeof(t=Fe(t))=="string"||t instanceof Bh?KD(u,"updateDoc",r._key,t,e,s):$D(u,"updateDoc",r._key,t),sb(o,[f.toMutation(r._key,Mr.exists(!0))])}function JD(r,t){const e=Ei(r.firestore,Bo),s=hh(r),o=WD(r.converter,t);return sb(e,[GD(ZA(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Mr.exists(!1))]).then((()=>s))}function t2(r,...t){r=Fe(r);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||c0(t[s])||(e=t[s++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(c0(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let u,f,d;if(r instanceof Ve)f=Ei(r.firestore,Bo),d=Dg(r._key.path),u={next:m=>{t[s]&&t[s](e2(f,r,m))},error:t[s+1],complete:t[s+2]};else{const m=Ei(r,Wu);f=Ei(m.firestore,Bo),d=m._query;const g=new ty(f);u={next:v=>{t[s]&&t[s](new _a(f,g,m,v))},error:t[s+1],complete:t[s+2]},ib(r._query)}return(function(g,v,T,A){const N=new $A(A),U=new LA(v,N,T);return g.asyncQueue.enqueueAndForget((async()=>kA(await Wm(g),U))),()=>{N.Nu(),g.asyncQueue.enqueueAndForget((async()=>PA(await Wm(g),U)))}})(Qg(f),d,o,u)}function sb(r,t){return(function(s,o){const u=new gs;return s.asyncQueue.enqueueAndForget((async()=>RD(await LD(s),o,u))),u.promise})(Qg(r),t)}function e2(r,t,e){const s=e.docs.get(t._key),o=new ty(r);return new va(r,o,t._key,s,new yu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Yo=o})(Ko),Mo(new Sa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),d=new Bo(new $I(s.getProvider("auth-internal")),new QI(f,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new yt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(g.options.projectId,v)})(f,o),f);return u={useFetchStreams:e,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),ps(mT,gT,t),ps(mT,gT,"esm2020")})();function ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n2=ab,ob=new Fu("auth","Firebase",ab());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Eg("@firebase/auth");function r2(r,...t){ph.logLevel<=Bt.WARN&&ph.warn(`Auth (${Ko}): ${r}`,...t)}function Kf(r,...t){ph.logLevel<=Bt.ERROR&&ph.error(`Auth (${Ko}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(r,...t){throw ny(r,...t)}function Lr(r,...t){return ny(r,...t)}function lb(r,t,e){const s={...n2(),[t]:e};return new Fu("auth","Firebase",s).create(t,{appName:r.name})}function vs(r){return lb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ny(r,...t){if(typeof r!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(e,...s)}return ob.create(r,...t)}function wt(r,t,...e){if(!r)throw ny(t,...e)}function yi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Kf(t),new Error(t)}function wi(r,t){r||yi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(){return typeof self<"u"&&self.location?.href||""}function i2(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i2()||AC()||"connection"in navigator)?navigator.onLine:!0}function a2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,e){this.shortDelay=t,this.longDelay=e,wi(e>t,"Short delay should be less than long delay!"),this.isMobile=EC()||bC()}get(){return s2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(r,t){wi(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u2=new Zu(3e4,6e4);function Oa(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ds(r,t,e,s,o={}){return cb(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const d=Gu({key:r.config.apiKey,...f}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:m,...u};return SC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&$o(r.emulatorConfig.host)&&(g.credentials="include"),ub.fetch()(await fb(r,r.config.apiHost,e,d),g)})}async function cb(r,t,e){r._canInitEmulator=!1;const s={...o2,...t};try{const o=new f2(r),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Pf(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pf(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Pf(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw Pf(r,"user-disabled",f);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lb(r,v,g);pr(r,v)}}catch(o){if(o instanceof Ii)throw o;pr(r,"network-request-failed",{message:String(o)})}}async function qh(r,t,e,s,o={}){const u=await Ds(r,t,e,s,o);return"mfaPendingCredential"in u&&pr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function fb(r,t,e,s){const o=`${t}${e}?${s}`,u=r,f=u.config.emulator?ry(r.config,o):`${r.config.apiScheme}://${o}`;return l2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function c2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class f2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Lr(this.auth,"network-request-failed")),u2.get())})}}function Pf(r,t,e){const s={appName:r.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=Lr(r,t,s);return o.customData._tokenResponse=e,o}function h0(r){return r!==void 0&&r.enterprise!==void 0}class h2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return c2(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function d2(r,t){return Ds(r,"GET","/v2/recaptchaConfig",Oa(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(r,t){return Ds(r,"POST","/v1/accounts:delete",t)}async function mh(r,t){return Ds(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function m2(r,t=!1){const e=Fe(r),s=await e.getIdToken(t),o=iy(s);wt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:bu(gm(o.auth_time)),issuedAtTime:bu(gm(o.iat)),expirationTime:bu(gm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function gm(r){return Number(r)*1e3}function iy(r){const[t,e,s]=r.split(".");if(t===void 0||e===void 0||s===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const o=gS(e);return o?JSON.parse(o):(Kf("Failed to decode base64 JWT payload"),null)}catch(o){return Kf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function d0(r){const t=iy(r);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(r,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Ii&&g2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function g2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(r){const t=r.auth,e=await r.getIdToken(),s=await Lu(r,mh(t,{idToken:e}));wt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?hb(o.providerUserInfo):[],f=_2(r.providerData,u),d=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!f?.length,g=d?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new eg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function v2(r){const t=Fe(r);await gh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _2(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function hb(r){return r.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(r,t){const e=await cb(r,{},async()=>{const s=Gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await fb(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return r.emulatorConfig&&$o(r.emulatorConfig.host)&&(m.credentials="include"),ub.fetch()(f,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function T2(r,t){return Ds(r,"POST","/v2/accounts:revokeToken",Oa(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):d0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=d0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:u}=await E2(t,e);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:u}=e,f=new No;return s&&(wt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(wt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(wt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(r,t){wt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class hr{constructor({uid:t,auth:e,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Lu(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return m2(this,t)}reload(){return v2(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new hr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(vs(this.auth));const t=await this.getIdToken();return await Lu(this,p2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,f=e.photoURL??void 0,d=e.tenantId??void 0,m=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:N,providerData:U,stsTokenManager:z}=e;wt(T&&z,t,"internal-error");const k=No.fromJSON(this.name,z);wt(typeof T=="string",t,"internal-error"),ss(s,t.name),ss(o,t.name),wt(typeof A=="boolean",t,"internal-error"),wt(typeof N=="boolean",t,"internal-error"),ss(u,t.name),ss(f,t.name),ss(d,t.name),ss(m,t.name),ss(g,t.name),ss(v,t.name);const Z=new hr({uid:T,auth:t,email:o,emailVerified:A,displayName:s,isAnonymous:N,photoURL:f,phoneNumber:u,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(Z.providerData=U.map(X=>({...X}))),m&&(Z._redirectEventId=m),Z}static async _fromIdTokenResponse(t,e,s=!1){const o=new No;o.updateFromServerResponse(e);const u=new hr({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await gh(u),u}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];wt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,d=new No;d.updateFromIdToken(s);const m=new hr({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new eg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;function vi(r){wi(r instanceof Function,"Expected a class definition");let t=p0.get(r);return t?(wi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,p0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}db.type="NONE";const m0=db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(r,t,e){return`firebase:${r}:${t}:${e}`}class Do{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Yf(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yf("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await mh(this.auth,{idToken:t}).catch(()=>{});return e?hr._fromGetAccountInfoResponse(this.auth,e,t):null}return hr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Do(vi(m0),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||vi(m0);const f=Yf(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const v=await g._get(f);if(v){let T;if(typeof v=="string"){const A=await mh(t,{idToken:v}).catch(()=>{});if(!A)break;T=await hr._fromGetAccountInfoResponse(t,A,v)}else T=hr._fromJSON(t,v);g!==u&&(d=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Do(u,t,s):(u=m[0],d&&await u._set(f,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Do(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_b(t))return"Blackberry";if(Eb(t))return"Webos";if(mb(t))return"Safari";if((t.includes("chrome/")||gb(t))&&!t.includes("edge/"))return"Chrome";if(vb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(e);if(s?.length===2)return s[1]}return"Other"}function pb(r=dn()){return/firefox\//i.test(r)}function mb(r=dn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gb(r=dn()){return/crios\//i.test(r)}function yb(r=dn()){return/iemobile/i.test(r)}function vb(r=dn()){return/android/i.test(r)}function _b(r=dn()){return/blackberry/i.test(r)}function Eb(r=dn()){return/webos/i.test(r)}function sy(r=dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function S2(r=dn()){return sy(r)&&!!window.navigator?.standalone}function A2(){return wC()&&document.documentMode===10}function Tb(r=dn()){return sy(r)||vb(r)||Eb(r)||_b(r)||/windows phone/i.test(r)||yb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(r,t=[]){let e;switch(r){case"Browser":e=g0(dn());break;case"Worker":e=`${g0(dn())}-${r}`;break;default:e=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((f,d)=>{try{const m=t(u);f(m)}catch(m){d(m)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(r,t={}){return Ds(r,"GET","/v2/passwordPolicy",Oa(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=6;class C2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??R2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new b2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ob,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=vi(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await mh(this,{idToken:t}),s=await hr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(fr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===f)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await gh(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=a2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fr(this.app))return Promise.reject(vs(this));const e=t?Fe(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fr(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await w2(this),e=new C2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await T2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&vi(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[vi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,s,o);return()=>{f=!0,m()}}else{const m=t.addObserver(e);return()=>{f=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&r2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zo(r){return Fe(r)}class y0{constructor(t){this.auth=t,this.observer=null,this.addObserver=MC(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O2(r){Fh=r}function Ab(r){return Fh.loadJS(r)}function N2(){return Fh.recaptchaEnterpriseScript}function D2(){return Fh.gapiScript}function x2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class M2{constructor(){this.enterprise=new V2}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class V2{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const k2="recaptcha-enterprise",bb="NO_RECAPTCHA";class P2{constructor(t){this.type=k2,this.auth=Zo(t)}async verify(t="verify",e=!1){async function s(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{d2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new h2(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,f,d){const m=window.grecaptcha;h0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(bb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new M2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(d=>{if(!e&&h0(window.grecaptcha))o(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=N2();m.length!==0&&(m+=d),Ab(m).then(()=>{o(d,u,f)}).catch(g=>{f(g)})}}).catch(d=>{f(d)})})}}async function v0(r,t,e,s=!1,o=!1){const u=new P2(r);let f;if(o)f=bb;else try{f=await u.verify(e)}catch{f=await u.verify(e,!0)}const d={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function _0(r,t,e,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await v0(r,t,e,e==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await v0(r,t,e,e==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(r,t){const e=Sg(r,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Ta(u,t??{}))return o;pr(o,"already-initialized")}return e.initialize({options:t})}function U2(r,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(vi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function j2(r,t,e){const s=Zo(r);wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=wb(t),{host:f,port:d}=B2(t),m=d===null?"":`:${d}`,g={url:`${u}//${f}${m}/`},v=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(Ta(g,s.config.emulator)&&Ta(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,$o(f)?(ES(`${u}//${f}${m}`),TS("Auth",!0)):z2()}function wb(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function B2(r){const t=wb(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:E0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:E0(f)}}}function E0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function z2(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return yi("not implemented")}_getIdTokenResponse(t){return yi("not implemented")}_linkToIdToken(t,e){return yi("not implemented")}_getReauthenticationResolver(t){return yi("not implemented")}}async function H2(r,t){return Ds(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(r,t){return qh(r,"POST","/v1/accounts:signInWithPassword",Oa(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(r,t){return qh(r,"POST","/v1/accounts:signInWithEmailLink",Oa(r,t))}async function G2(r,t){return qh(r,"POST","/v1/accounts:signInWithEmailLink",Oa(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends ay{constructor(t,e,s,o=null){super("password",s),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new Uu(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new Uu(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _0(t,e,"signInWithPassword",q2);case"emailLink":return F2(t,{email:this._email,oobCode:this._password});default:pr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _0(t,s,"signUpPassword",H2);case"emailLink":return G2(t,{idToken:e,email:this._email,oobCode:this._password});default:pr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(r,t){return qh(r,"POST","/v1/accounts:signInWithIdp",Oa(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="http://localhost";class wa extends ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new wa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):pr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=e;if(!s||!o)return null;const f=new wa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const e=this.buildRequest();return xo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,xo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,xo(t,e)}buildRequest(){const t={requestUri:$2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Gu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y2(r){const t=hu(du(r)).link,e=t?hu(du(t)).deep_link_id:null,s=hu(du(r)).deep_link_id;return(s?hu(du(s)).link:null)||s||e||t||r}class oy{constructor(t){const e=hu(du(t)),s=e.apiKey??null,o=e.oobCode??null,u=K2(e.mode??null);wt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=Y2(t);try{return new oy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(t,e){return Uu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=oy.parseLink(e);return wt(s,"argument-error"),Uu._fromEmailAndCode(t,s.code,s.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Rb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Ju{constructor(){super("facebook.com")}static credential(t){return wa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return os.credential(t.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return wa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return ls.credential(e,s)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Ju{constructor(){super("github.com")}static credential(t){return wa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Ju{constructor(){super("twitter.com")}static credential(t,e){return wa._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return cs.credential(e,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const u=await hr._fromIdTokenResponse(t,s,o),f=T0(s);return new zo({user:u,providerId:f,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=T0(s);return new zo({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function T0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends Ii{constructor(t,e,s,o){super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new yh(t,e,s,o)}}function Cb(r,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(r,u,t,s):u})}async function Q2(r,t,e=!1){const s=await Lu(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return zo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(r,t,e=!1){const{auth:s}=r;if(fr(s.app))return Promise.reject(vs(s));const o="reauthenticate";try{const u=await Lu(r,Cb(s,o,t,r),e);wt(u.idToken,s,"internal-error");const f=iy(u.idToken);wt(f,s,"internal-error");const{sub:d}=f;return wt(r.uid===d,s,"user-mismatch"),zo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&pr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(r,t,e=!1){if(fr(r.app))return Promise.reject(vs(r));const s="signIn",o=await Cb(r,s,t),u=await zo._fromIdTokenResponse(r,s,o);return e||await r._updateCurrentUser(u.user),u}async function W2(r,t){return Ib(Zo(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(r){const t=Zo(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function J2(r,t,e){return fr(r.app)?Promise.reject(vs(r)):W2(Fe(r),Jo.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Z2(r),s})}function tx(r,t,e,s){return Fe(r).onIdTokenChanged(t,e,s)}function ex(r,t,e){return Fe(r).beforeAuthStateChanged(t,e)}function nx(r,t,e,s){return Fe(r).onAuthStateChanged(t,e,s)}function rx(r){return Fe(r).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=1e3,sx=10;class Nb extends Ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((f,d,m)=>{this.notifyListeners(f,m)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!e&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);A2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,sx):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},ix)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Nb.type="LOCAL";const ax=Nb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db extends Ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Db.type="SESSION";const xb=Db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new Gh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:u}=e.data,f=this.handlersMap[o];if(!f?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(f).map(async g=>g(e.origin,u)),m=await ox(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(r="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,m)=>{const g=ly("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(A.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function ux(r){Ur().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function cx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fx(){return navigator?.serviceWorker?.controller||null}function hx(){return Mb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firebaseLocalStorageDb",dx=1,_h="firebaseLocalStorage",kb="fbase_key";class tc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function $h(r,t){return r.transaction([_h],t?"readwrite":"readonly").objectStore(_h)}function px(){const r=indexedDB.deleteDatabase(Vb);return new tc(r).toPromise()}function ng(){const r=indexedDB.open(Vb,dx);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(_h,{keyPath:kb})}catch(o){e(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(_h)?t(s):(s.close(),await px(),t(await ng()))})})}async function S0(r,t,e){const s=$h(r,!0).put({[kb]:t,value:e});return new tc(s).toPromise()}async function mx(r,t){const e=$h(r,!1).get(t),s=await new tc(e).toPromise();return s===void 0?null:s.value}function A0(r,t){const e=$h(r,!0).delete(t);return new tc(e).toPromise()}const gx=800,yx=3;class Pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>yx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(hx()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cx(),!this.activeServiceWorker)return;this.sender=new lx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ng();return await S0(t,vh,"1"),await A0(t,vh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>S0(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>mx(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>A0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=$h(o,!1).getAll();return new tc(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pb.type="LOCAL";const vx=Pb;new Zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(r,t){return t?vi(t):(wt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends ay{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return xo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return xo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Ex(r){return Ib(r.auth,new uy(r),r.bypassAuthState)}function Tx(r){const{auth:t,user:e}=r;return wt(e,t,"internal-error"),X2(e,new uy(r),r.bypassAuthState)}async function Sx(r){const{auth:t,user:e}=r;return wt(e,t,"internal-error"),Q2(e,new uy(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,e,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:u,error:f,type:d}=t;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ex;case"linkViaPopup":case"linkViaRedirect":return Sx;case"reauthViaPopup":case"reauthViaRedirect":return Tx;default:pr(this.auth,"internal-error")}}resolve(t){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Zu(2e3,1e4);class Io extends Lb{constructor(t,e,s,o,u){super(t,e,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const t=ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ax.get())};t()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="pendingRedirect",Qf=new Map;class wx extends Lb{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Qf.get(this.auth._key());if(!t){try{const s=await Rx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Qf.set(this.auth._key(),t)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rx(r,t){const e=Ox(t),s=Ix(r);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function Cx(r,t){Qf.set(r._key(),t)}function Ix(r){return vi(r._redirectPersistence)}function Ox(r){return Yf(bx,r.config.apiKey,r.name)}async function Nx(r,t,e=!1){if(fr(r.app))return Promise.reject(vs(r));const s=Zo(r),o=_x(s,t),f=await new wx(s,o,e).execute();return f&&!e&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=600*1e3;class xx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Mx(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Ub(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Lr(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Dx&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(t))}saveEventToCache(t){this.cachedEventUids.add(b0(t)),this.lastProcessedEventTime=Date.now()}}function b0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Ub({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Mx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ub(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(r,t={}){return Ds(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Px=/^https?/;async function Lx(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Vx(r);for(const e of t)try{if(Ux(e))return}catch{}pr(r,"unauthorized-domain")}function Ux(r){const t=tg(),{protocol:e,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&f.hostname===s}if(!Px.test(e))return!1;if(kx.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new Zu(3e4,6e4);function w0(){const r=Ur().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function Bx(r){return new Promise((t,e)=>{function s(){w0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{w0(),e(Lr(r,"network-request-failed"))},timeout:jx.get()})}if(Ur().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ur().gapi?.load)s();else{const o=x2("iframefcb");return Ur()[o]=()=>{gapi.load?s():e(Lr(r,"network-request-failed"))},Ab(`${D2()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Xf=null,t})}let Xf=null;function zx(r){return Xf=Xf||Bx(r),Xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Zu(5e3,15e3),qx="__/auth/iframe",Fx="emulator/auth/iframe",Gx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$x=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kx(r){const t=r.config;wt(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?ry(t,Fx):`https://${r.config.authDomain}/${qx}`,s={apiKey:t.apiKey,appName:r.name,v:Ko},o=$x.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${Gu(s).slice(1)}`}async function Yx(r){const t=await zx(r),e=Ur().gapi;return wt(e,r,"internal-error"),t.open({where:document.body,url:Kx(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Lr(r,"network-request-failed"),d=Ur().setTimeout(()=>{u(f)},Hx.get());function m(){Ur().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xx=500,Wx=600,Zx="_blank",Jx="http://localhost";class R0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tM(r,t,e,s=Xx,o=Wx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...Qx,width:s.toString(),height:o.toString(),top:u,left:f},g=dn().toLowerCase();e&&(d=gb(g)?Zx:e),pb(g)&&(t=t||Jx,m.scrollbars="yes");const v=Object.entries(m).reduce((A,[N,U])=>`${A}${N}=${U},`,"");if(S2(g)&&d!=="_self")return eM(t||"",d),new R0(null);const T=window.open(t||"",d,v);wt(T,r,"popup-blocked");try{T.focus()}catch{}return new R0(T)}function eM(r,t){const e=document.createElement("a");e.href=r,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="__/auth/handler",rM="emulator/auth/handler",iM=encodeURIComponent("fac");async function C0(r,t,e,s,o,u){wt(r.config.authDomain,r,"auth-domain-config-required"),wt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:s,v:Ko,eventId:o};if(t instanceof Rb){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",xC(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))f[v]=T}if(t instanceof Ju){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await r._getAppCheckToken(),g=m?`#${iM}=${encodeURIComponent(m)}`:"";return`${sM(r)}?${Gu(d).slice(1)}${g}`}function sM({config:r}){return r.emulator?ry(r,rM):`https://${r.authDomain}/${nM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="webStorageSupport";class aM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xb,this._completeRedirectFn=Nx,this._overrideRedirectResult=Cx}async _openPopup(t,e,s,o){wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await C0(t,e,s,tg(),o);return tM(t,u,ly())}async _openRedirect(t,e,s,o){await this._originValidation(t);const u=await C0(t,e,s,tg(),o);return ux(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(wi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await Yx(t),s=new xx(t);return e.register("authEvent",o=>(wt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ym,{type:ym},o=>{const u=o?.[0]?.[ym];u!==void 0&&e(!!u),pr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Lx(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Tb()||mb()||sy()}}const oM=aM;var I0="@firebase/auth",O0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cM(r){Mo(new Sa("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=s.options;wt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sb(r)},g=new I2(s,o,u,m);return U2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Mo(new Sa("auth-internal",t=>{const e=Zo(t.getProvider("auth").getImmediate());return(s=>new lM(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(I0,O0,uM(r)),ps(I0,O0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=300,hM=_S("authIdTokenMaxAge")||fM;let N0=null;const dM=r=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>hM)return;const o=e?.token;N0!==o&&(N0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pM(r=wS()){const t=Sg(r,"auth");if(t.isInitialized())return t.getImmediate();const e=L2(r,{popupRedirectResolver:oM,persistence:[vx,ax,xb]}),s=_S("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=dM(u.toString());ex(e,f,()=>f(e.currentUser)),tx(e,d=>f(d))}}const o=yS("auth");return o&&j2(e,`http://${o}`),e}function mM(){return document.getElementsByTagName("head")?.[0]??document}O2({loadJS(r){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Lr("internal-error");u.customData=o,e(u)},s.type="text/javascript",s.charset="UTF-8",mM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cM("Browser");var gM="firebase",yM="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(gM,yM,"app");var vm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var D0;function vM(){return D0||(D0=1,(function(r){(function(){var t={}.hasOwnProperty;function e(){for(var u="",f=0;f<arguments.length;f++){var d=arguments[f];d&&(u=o(u,s(d)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return e.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var f="";for(var d in u)t.call(u,d)&&u[d]&&(f=o(f,d));return f}function o(u,f){return f?u?u+" "+f:u+f:u}r.exports?(e.default=e,r.exports=e):window.classNames=e})()})(vm)),vm.exports}var _M=vM();const dt=qu(_M);function rg(){return rg=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},rg.apply(null,arguments)}function jb(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)!==-1)continue;e[s]=r[s]}return e}function x0(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function EM(r){var t=TM(r,"string");return typeof t=="symbol"?t:String(t)}function TM(r,t){if(typeof r!="object"||r===null)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var s=e.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Bb(r,t,e){var s=w.useRef(r!==void 0),o=w.useState(t),u=o[0],f=o[1],d=r!==void 0,m=s.current;return s.current=d,!d&&m&&u!==t&&f(t),[d?r:u,w.useCallback(function(g){for(var v=arguments.length,T=new Array(v>1?v-1:0),A=1;A<v;A++)T[A-1]=arguments[A];e&&e.apply(void 0,[g].concat(T)),f(g)},[e])]}function Kh(r,t){return Object.keys(t).reduce(function(e,s){var o,u=e,f=u[x0(s)],d=u[s],m=jb(u,[x0(s),s].map(EM)),g=t[s],v=Bb(d,f,r[g]),T=v[0],A=v[1];return rg({},m,(o={},o[s]=T,o[g]=A,o))},r)}function ig(r,t){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},ig(r,t)}function SM(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,ig(r,t)}const AM=["xxl","xl","lg","md","sm","xs"],bM="xs",ec=w.createContext({prefixes:{},breakpoints:AM,minBreakpoint:bM}),{Consumer:eP,Provider:nP}=ec;function gt(r,t){const{prefixes:e}=w.useContext(ec);return r||e[t]||t}function zb(){const{breakpoints:r}=w.useContext(ec);return r}function Hb(){const{minBreakpoint:r}=w.useContext(ec);return r}function cy(){const{dir:r}=w.useContext(ec);return r==="rtl"}function tl(r){return r&&r.ownerDocument||document}function wM(r){var t=tl(r);return t&&t.defaultView||window}function RM(r,t){return wM(r).getComputedStyle(r,t)}var CM=/([A-Z])/g;function IM(r){return r.replace(CM,"-$1").toLowerCase()}var OM=/^ms-/;function Lf(r){return IM(r).replace(OM,"-ms-")}var NM=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function DM(r){return!!(r&&NM.test(r))}function Ti(r,t){var e="",s="";if(typeof t=="string")return r.style.getPropertyValue(Lf(t))||RM(r).getPropertyValue(Lf(t));Object.keys(t).forEach(function(o){var u=t[o];!u&&u!==0?r.style.removeProperty(Lf(o)):DM(o)?s+=o+"("+u+") ":e+=Lf(o)+": "+u+";"}),s&&(e+="transform: "+s+";"),r.style.cssText+=";"+e}var _m={exports:{}},Em,M0;function xM(){if(M0)return Em;M0=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Em=r,Em}var Tm,V0;function MM(){if(V0)return Tm;V0=1;var r=xM();function t(){}function e(){}return e.resetWarningCache=t,Tm=function(){function s(f,d,m,g,v,T){if(T!==r){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return u.PropTypes=u,u},Tm}var k0;function VM(){return k0||(k0=1,_m.exports=MM()()),_m.exports}var kM=VM();const hn=qu(kM);var PM=dS();const ya=qu(PM),P0={disabled:!1},qb=Vn.createContext(null);var LM=function(t){return t.scrollTop},vu="unmounted",as="exited",cr="entering",gi="entered",ju="exiting",Oi=(function(r){SM(t,r);function t(s,o){var u;u=r.call(this,s,o)||this;var f=o,d=f&&!f.isMounting?s.enter:s.appear,m;return u.appearStatus=null,s.in?d?(m=as,u.appearStatus=cr):m=gi:s.unmountOnExit||s.mountOnEnter?m=vu:m=as,u.state={status:m},u.nextCallback=null,u}t.getDerivedStateFromProps=function(o,u){var f=o.in;return f&&u.status===vu?{status:as}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(o){var u=null;if(o!==this.props){var f=this.state.status;this.props.in?f!==cr&&f!==gi&&(u=cr):(f===cr||f===gi)&&(u=ju)}this.updateStatus(!1,u)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var o=this.props.timeout,u,f,d;return u=f=d=o,o!=null&&typeof o!="number"&&(u=o.exit,f=o.enter,d=o.appear!==void 0?o.appear:f),{exit:u,enter:f,appear:d}},e.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===cr){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:ya.findDOMNode(this);f&&LM(f)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===as&&this.setState({status:vu})},e.performEnter=function(o){var u=this,f=this.props.enter,d=this.context?this.context.isMounting:o,m=this.props.nodeRef?[d]:[ya.findDOMNode(this),d],g=m[0],v=m[1],T=this.getTimeouts(),A=d?T.appear:T.enter;if(!o&&!f||P0.disabled){this.safeSetState({status:gi},function(){u.props.onEntered(g)});return}this.props.onEnter(g,v),this.safeSetState({status:cr},function(){u.props.onEntering(g,v),u.onTransitionEnd(A,function(){u.safeSetState({status:gi},function(){u.props.onEntered(g,v)})})})},e.performExit=function(){var o=this,u=this.props.exit,f=this.getTimeouts(),d=this.props.nodeRef?void 0:ya.findDOMNode(this);if(!u||P0.disabled){this.safeSetState({status:as},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:ju},function(){o.props.onExiting(d),o.onTransitionEnd(f.exit,function(){o.safeSetState({status:as},function(){o.props.onExited(d)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},e.setNextCallback=function(o){var u=this,f=!0;return this.nextCallback=function(d){f&&(f=!1,u.nextCallback=null,o(d))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},e.onTransitionEnd=function(o,u){this.setNextCallback(u);var f=this.props.nodeRef?this.props.nodeRef.current:ya.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!f||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],g=m[0],v=m[1];this.props.addEndListener(g,v)}o!=null&&setTimeout(this.nextCallback,o)},e.render=function(){var o=this.state.status;if(o===vu)return null;var u=this.props,f=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var d=jb(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Vn.createElement(qb.Provider,{value:null},typeof f=="function"?f(o,d):Vn.cloneElement(Vn.Children.only(f),d))},t})(Vn.Component);Oi.contextType=qb;Oi.propTypes={};function So(){}Oi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:So,onEntering:So,onEntered:So,onExit:So,onExiting:So,onExited:So};Oi.UNMOUNTED=vu;Oi.EXITED=as;Oi.ENTERING=cr;Oi.ENTERED=gi;Oi.EXITING=ju;function Fb(r){return r.code==="Escape"||r.keyCode===27}function UM(){const r=w.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function Na(r){if(!r||typeof r=="function")return null;const{major:t}=UM();return t>=19?r.props.ref:r.ref}const el=!!(typeof window<"u"&&window.document&&window.document.createElement);var sg=!1,ag=!1;try{var Sm={get passive(){return sg=!0},get once(){return ag=sg=!0}};el&&(window.addEventListener("test",Sm,Sm),window.removeEventListener("test",Sm,!0))}catch{}function Gb(r,t,e,s){if(s&&typeof s!="boolean"&&!ag){var o=s.once,u=s.capture,f=e;!ag&&o&&(f=e.__once||function d(m){this.removeEventListener(t,d,u),e.call(this,m)},e.__once=f),r.addEventListener(t,f,sg?s:u)}r.addEventListener(t,e,s)}function og(r,t,e,s){var o=s&&typeof s!="boolean"?s.capture:s;r.removeEventListener(t,e,o),e.__once&&r.removeEventListener(t,e.__once,o)}function _i(r,t,e,s){return Gb(r,t,e,s),function(){og(r,t,e,s)}}function jM(r,t,e,s){if(s===void 0&&(s=!0),r){var o=document.createEvent("HTMLEvents");o.initEvent(t,e,s),r.dispatchEvent(o)}}function BM(r){var t=Ti(r,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function zM(r,t,e){e===void 0&&(e=5);var s=!1,o=setTimeout(function(){s||jM(r,"transitionend",!0)},t+e),u=_i(r,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function $b(r,t,e,s){e==null&&(e=BM(r)||0);var o=zM(r,e,s),u=_i(r,"transitionend",t);return function(){o(),u()}}function L0(r,t){const e=Ti(r,t)||"",s=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*s}function fy(r,t){const e=L0(r,"transitionDuration"),s=L0(r,"transitionDelay"),o=$b(r,u=>{u.target===r&&(o(),t(u))},e+s)}function cu(...r){return r.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...o){t.apply(this,o),e.apply(this,o)}},null)}function Kb(r){r.offsetHeight}const U0=r=>!r||typeof r=="function"?r:t=>{r.current=t};function HM(r,t){const e=U0(r),s=U0(t);return o=>{e&&e(o),s&&s(o)}}function Yh(r,t){return w.useMemo(()=>HM(r,t),[r,t])}function Eh(r){return r&&"setState"in r?ya.findDOMNode(r):r??null}const Qh=Vn.forwardRef(({onEnter:r,onEntering:t,onEntered:e,onExit:s,onExiting:o,onExited:u,addEndListener:f,children:d,childRef:m,...g},v)=>{const T=w.useRef(null),A=Yh(T,m),N=at=>{A(Eh(at))},U=at=>D=>{at&&T.current&&at(T.current,D)},z=w.useCallback(U(r),[r]),k=w.useCallback(U(t),[t]),Z=w.useCallback(U(e),[e]),X=w.useCallback(U(s),[s]),Q=w.useCallback(U(o),[o]),W=w.useCallback(U(u),[u]),st=w.useCallback(U(f),[f]);return C.jsx(Oi,{ref:v,...g,onEnter:z,onEntered:Z,onEntering:k,onExit:X,onExited:W,onExiting:Q,addEndListener:st,nodeRef:T,children:typeof d=="function"?(at,D)=>d(at,{...D,ref:N}):Vn.cloneElement(d,{ref:N})})});Qh.displayName="TransitionWrapper";const qM={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function FM(r,t){const e=`offset${r[0].toUpperCase()}${r.slice(1)}`,s=t[e],o=qM[r];return s+parseInt(Ti(t,o[0]),10)+parseInt(Ti(t,o[1]),10)}const GM={[as]:"collapse",[ju]:"collapsing",[cr]:"collapsing",[gi]:"collapse show"},hy=Vn.forwardRef(({onEnter:r,onEntering:t,onEntered:e,onExit:s,onExiting:o,className:u,children:f,dimension:d="height",in:m=!1,timeout:g=300,mountOnEnter:v=!1,unmountOnExit:T=!1,appear:A=!1,getDimensionValue:N=FM,...U},z)=>{const k=typeof d=="function"?d():d,Z=w.useMemo(()=>cu(at=>{at.style[k]="0"},r),[k,r]),X=w.useMemo(()=>cu(at=>{const D=`scroll${k[0].toUpperCase()}${k.slice(1)}`;at.style[k]=`${at[D]}px`},t),[k,t]),Q=w.useMemo(()=>cu(at=>{at.style[k]=null},e),[k,e]),W=w.useMemo(()=>cu(at=>{at.style[k]=`${N(k,at)}px`,Kb(at)},s),[s,N,k]),st=w.useMemo(()=>cu(at=>{at.style[k]=null},o),[k,o]);return C.jsx(Qh,{ref:z,addEndListener:fy,...U,"aria-expanded":U.role?m:null,onEnter:Z,onEntering:X,onEntered:Q,onExit:W,onExiting:st,childRef:Na(f),in:m,timeout:g,mountOnEnter:v,unmountOnExit:T,appear:A,children:(at,D)=>Vn.cloneElement(f,{...D,className:dt(u,f.props.className,GM[at],k==="width"&&"collapse-horizontal")})})});hy.displayName="Collapse";function Yb(r,t){return Array.isArray(r)?r.includes(t):r===t}const nc=w.createContext({});nc.displayName="AccordionContext";const dy=w.forwardRef(({as:r="div",bsPrefix:t,className:e,children:s,eventKey:o,...u},f)=>{const{activeEventKey:d}=w.useContext(nc);return t=gt(t,"accordion-collapse"),C.jsx(hy,{ref:f,in:Yb(d,o),...u,className:dt(e,t),children:C.jsx(r,{children:w.Children.only(s)})})});dy.displayName="AccordionCollapse";const Xh=w.createContext({eventKey:""});Xh.displayName="AccordionItemContext";const Qb=w.forwardRef(({as:r="div",bsPrefix:t,className:e,onEnter:s,onEntering:o,onEntered:u,onExit:f,onExiting:d,onExited:m,...g},v)=>{t=gt(t,"accordion-body");const{eventKey:T}=w.useContext(Xh);return C.jsx(dy,{eventKey:T,onEnter:s,onEntering:o,onEntered:u,onExit:f,onExiting:d,onExited:m,children:C.jsx(r,{ref:v,...g,className:dt(e,t)})})});Qb.displayName="AccordionBody";function Xb(r,t){const{activeEventKey:e,onSelect:s,alwaysOpen:o}=w.useContext(nc);return u=>{let f=r===e?null:r;o&&(Array.isArray(e)?e.includes(r)?f=e.filter(d=>d!==r):f=[...e,r]:f=[r]),s?.(f,u),t?.(u)}}const py=w.forwardRef(({as:r="button",bsPrefix:t,className:e,onClick:s,...o},u)=>{t=gt(t,"accordion-button");const{eventKey:f}=w.useContext(Xh),d=Xb(f,s),{activeEventKey:m}=w.useContext(nc);return r==="button"&&(o.type="button"),C.jsx(r,{ref:u,onClick:d,...o,"aria-expanded":Array.isArray(m)?m.includes(f):f===m,className:dt(e,t,!Yb(m,f)&&"collapsed")})});py.displayName="AccordionButton";const Wb=w.forwardRef(({as:r="h2","aria-controls":t,bsPrefix:e,className:s,children:o,onClick:u,...f},d)=>(e=gt(e,"accordion-header"),C.jsx(r,{ref:d,...f,className:dt(s,e),children:C.jsx(py,{onClick:u,"aria-controls":t,children:o})})));Wb.displayName="AccordionHeader";const Zb=w.forwardRef(({as:r="div",bsPrefix:t,className:e,eventKey:s,...o},u)=>{t=gt(t,"accordion-item");const f=w.useMemo(()=>({eventKey:s}),[s]);return C.jsx(Xh.Provider,{value:f,children:C.jsx(r,{ref:u,...o,className:dt(e,t)})})});Zb.displayName="AccordionItem";const Jb=w.forwardRef((r,t)=>{const{as:e="div",activeKey:s,bsPrefix:o,className:u,onSelect:f,flush:d,alwaysOpen:m,...g}=Kh(r,{activeKey:"onSelect"}),v=gt(o,"accordion"),T=w.useMemo(()=>({activeEventKey:s,onSelect:f,alwaysOpen:m}),[s,f,m]);return C.jsx(nc.Provider,{value:T,children:C.jsx(e,{ref:t,...g,className:dt(u,v,d&&`${v}-flush`)})})});Jb.displayName="Accordion";const tw=Object.assign(Jb,{Button:py,Collapse:dy,Item:Zb,Header:Wb,Body:Qb});function $M(r){const t=w.useRef(r);return w.useEffect(()=>{t.current=r},[r]),t}function ws(r){const t=$M(r);return w.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const rc=(r=>w.forwardRef((t,e)=>C.jsx("div",{...t,ref:e,className:dt(t.className,r)}))),ew=rc("h4");ew.displayName="DivStyledAsH4";const nw=w.forwardRef(({className:r,bsPrefix:t,as:e=ew,...s},o)=>(t=gt(t,"alert-heading"),C.jsx(e,{ref:o,className:dt(r,t),...s})));nw.displayName="AlertHeading";function j0(){return w.useState(null)}function KM(r){const t=w.useRef(r);return w.useEffect(()=>{t.current=r},[r]),t}function Zn(r){const t=KM(r);return w.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function rw(){const r=w.useRef(!0),t=w.useRef(()=>r.current);return w.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),t.current}function YM(r){const t=w.useRef(null);return w.useEffect(()=>{t.current=r}),t.current}const QM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",XM=typeof document<"u",B0=XM||QM?w.useLayoutEffect:w.useEffect,WM=["as","disabled"];function ZM(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function JM(r){return!r||r.trim()==="#"}function my({tagName:r,disabled:t,href:e,target:s,rel:o,role:u,onClick:f,tabIndex:d=0,type:m}){r||(e!=null||s!=null||o!=null?r="a":r="button");const g={tagName:r};if(r==="button")return[{type:m||"button",disabled:t},g];const v=A=>{if((t||r==="a"&&JM(e))&&A.preventDefault(),t){A.stopPropagation();return}f?.(A)},T=A=>{A.key===" "&&(A.preventDefault(),v(A))};return r==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:u??"button",disabled:void 0,tabIndex:t?void 0:d,href:e,target:r==="a"?s:void 0,"aria-disabled":t||void 0,rel:r==="a"?o:void 0,onClick:v,onKeyDown:T},g]}const iw=w.forwardRef((r,t)=>{let{as:e,disabled:s}=r,o=ZM(r,WM);const[u,{tagName:f}]=my(Object.assign({tagName:e,disabled:s},o));return C.jsx(f,Object.assign({},o,u,{ref:t}))});iw.displayName="Button";const tV=["onKeyDown"];function eV(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function nV(r){return!r||r.trim()==="#"}const gy=w.forwardRef((r,t)=>{let{onKeyDown:e}=r,s=eV(r,tV);const[o]=my(Object.assign({tagName:"a"},s)),u=Zn(f=>{o.onKeyDown(f),e?.(f)});return nV(s.href)||s.role==="button"?C.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:u})):C.jsx("a",Object.assign({ref:t},s,{onKeyDown:e}))});gy.displayName="Anchor";const sw=w.forwardRef(({className:r,bsPrefix:t,as:e=gy,...s},o)=>(t=gt(t,"alert-link"),C.jsx(e,{ref:o,className:dt(r,t),...s})));sw.displayName="AlertLink";const rV={[cr]:"show",[gi]:"show"},Rs=w.forwardRef(({className:r,children:t,transitionClasses:e={},onEnter:s,...o},u)=>{const f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=w.useCallback((m,g)=>{Kb(m),s?.(m,g)},[s]);return C.jsx(Qh,{ref:u,addEndListener:fy,...f,onEnter:d,childRef:Na(t),children:(m,g)=>w.cloneElement(t,{...g,className:dt("fade",r,t.props.className,rV[m],e[m])})})});Rs.displayName="Fade";const iV={"aria-label":hn.string,onClick:hn.func,variant:hn.oneOf(["white"])},Wh=w.forwardRef(({className:r,variant:t,"aria-label":e="Close",...s},o)=>C.jsx("button",{ref:o,type:"button",className:dt("btn-close",t&&`btn-close-${t}`,r),"aria-label":e,...s}));Wh.displayName="CloseButton";Wh.propTypes=iV;const aw=w.forwardRef((r,t)=>{const{bsPrefix:e,show:s=!0,closeLabel:o="Close alert",closeVariant:u,className:f,children:d,variant:m="primary",onClose:g,dismissible:v,transition:T=Rs,...A}=Kh(r,{show:"onClose"}),N=gt(e,"alert"),U=ws(Z=>{g&&g(!1,Z)}),z=T===!0?Rs:T,k=C.jsxs("div",{role:"alert",...z?void 0:A,ref:t,className:dt(f,N,m&&`${N}-${m}`,v&&`${N}-dismissible`),children:[v&&C.jsx(Wh,{onClick:U,"aria-label":o,variant:u}),d]});return z?C.jsx(z,{unmountOnExit:!0,...A,ref:void 0,in:s,children:k}):s?k:null});aw.displayName="Alert";const sV=Object.assign(aw,{Link:sw,Heading:nw}),ow=w.forwardRef(({bsPrefix:r,bg:t="primary",pill:e=!1,text:s,className:o,as:u="span",...f},d)=>{const m=gt(r,"badge");return C.jsx(u,{ref:d,...f,className:dt(o,m,e&&"rounded-pill",s&&`text-${s}`,t&&`bg-${t}`)})});ow.displayName="Badge";const tr=w.forwardRef(({as:r,bsPrefix:t,variant:e="primary",size:s,active:o=!1,disabled:u=!1,className:f,...d},m)=>{const g=gt(t,"btn"),[v,{tagName:T}]=my({tagName:r,disabled:u,...d}),A=T;return C.jsx(A,{...v,...d,ref:m,disabled:u,className:dt(f,g,o&&"active",e&&`${g}-${e}`,s&&`${g}-${s}`,d.href&&u&&"disabled")})});tr.displayName="Button";const yy=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"card-body"),C.jsx(e,{ref:o,className:dt(r,t),...s})));yy.displayName="CardBody";const lw=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"card-footer"),C.jsx(e,{ref:o,className:dt(r,t),...s})));lw.displayName="CardFooter";const vy=w.createContext(null);vy.displayName="CardHeaderContext";const uw=w.forwardRef(({bsPrefix:r,className:t,as:e="div",...s},o)=>{const u=gt(r,"card-header"),f=w.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return C.jsx(vy.Provider,{value:f,children:C.jsx(e,{ref:o,...s,className:dt(t,u)})})});uw.displayName="CardHeader";const cw=w.forwardRef(({bsPrefix:r,className:t,variant:e,as:s="img",...o},u)=>{const f=gt(r,"card-img");return C.jsx(s,{ref:u,className:dt(e?`${f}-${e}`:f,t),...o})});cw.displayName="CardImg";const fw=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"card-img-overlay"),C.jsx(e,{ref:o,className:dt(r,t),...s})));fw.displayName="CardImgOverlay";const hw=w.forwardRef(({className:r,bsPrefix:t,as:e="a",...s},o)=>(t=gt(t,"card-link"),C.jsx(e,{ref:o,className:dt(r,t),...s})));hw.displayName="CardLink";const aV=rc("h6"),dw=w.forwardRef(({className:r,bsPrefix:t,as:e=aV,...s},o)=>(t=gt(t,"card-subtitle"),C.jsx(e,{ref:o,className:dt(r,t),...s})));dw.displayName="CardSubtitle";const pw=w.forwardRef(({className:r,bsPrefix:t,as:e="p",...s},o)=>(t=gt(t,"card-text"),C.jsx(e,{ref:o,className:dt(r,t),...s})));pw.displayName="CardText";const oV=rc("h5"),mw=w.forwardRef(({className:r,bsPrefix:t,as:e=oV,...s},o)=>(t=gt(t,"card-title"),C.jsx(e,{ref:o,className:dt(r,t),...s})));mw.displayName="CardTitle";const gw=w.forwardRef(({bsPrefix:r,className:t,bg:e,text:s,border:o,body:u=!1,children:f,as:d="div",...m},g)=>{const v=gt(r,"card");return C.jsx(d,{ref:g,...m,className:dt(t,v,e&&`bg-${e}`,s&&`text-${s}`,o&&`border-${o}`),children:u?C.jsx(yy,{children:f}):f})});gw.displayName="Card";const dr=Object.assign(gw,{Img:cw,Title:mw,Subtitle:dw,Body:yy,Link:hw,Text:pw,Header:uw,Footer:lw,ImgOverlay:fw});function lV(){const r=w.useRef(!0),t=w.useRef(()=>r.current);return w.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),t.current}function uV(r){const t=w.useRef(r);return t.current=r,t}function yw(r){const t=uV(r);w.useEffect(()=>()=>t.current(),[])}const lg=2**31-1;function vw(r,t,e){const s=e-Date.now();r.current=s<=lg?setTimeout(t,s):setTimeout(()=>vw(r,t,e),lg)}function cV(){const r=lV(),t=w.useRef();return yw(()=>clearTimeout(t.current)),w.useMemo(()=>{const e=()=>clearTimeout(t.current);function s(o,u=0){r()&&(e(),u<=lg?t.current=setTimeout(o,u):vw(t,o,Date.now()+u))}return{set:s,clear:e,handleRef:t}},[])}function fV(r,t){return w.Children.toArray(r).some(e=>w.isValidElement(e)&&e.type===t)}function hV({as:r,bsPrefix:t,className:e,...s}){t=gt(t,"col");const o=zb(),u=Hb(),f=[],d=[];return o.forEach(m=>{const g=s[m];delete s[m];let v,T,A;typeof g=="object"&&g!=null?{span:v,offset:T,order:A}=g:v=g;const N=m!==u?`-${m}`:"";v&&f.push(v===!0?`${t}${N}`:`${t}${N}-${v}`),A!=null&&d.push(`order${N}-${A}`),T!=null&&d.push(`offset${N}-${T}`)}),[{...s,className:dt(e,...f,...d)},{as:r,bsPrefix:t,spans:f}]}const wu=w.forwardRef((r,t)=>{const[{className:e,...s},{as:o="div",bsPrefix:u,spans:f}]=hV(r);return C.jsx(o,{...s,ref:t,className:dt(e,!f.length&&u)})});wu.displayName="Col";const Th=w.forwardRef(({bsPrefix:r,fluid:t=!1,as:e="div",className:s,...o},u)=>{const f=gt(r,"container"),d=typeof t=="string"?`-${t}`:"-fluid";return C.jsx(e,{ref:u,...o,className:dt(s,t?`${f}${d}`:f)})});Th.displayName="Container";var dV=Function.prototype.bind.call(Function.prototype.call,[].slice);function pa(r,t){return dV(r.querySelectorAll(t))}function pV(){const[,r]=w.useReducer(t=>t+1,0);return r}var z0=Object.prototype.hasOwnProperty;function H0(r,t,e){for(e of r.keys())if(Ru(e,t))return e}function Ru(r,t){var e,s,o;if(r===t)return!0;if(r&&t&&(e=r.constructor)===t.constructor){if(e===Date)return r.getTime()===t.getTime();if(e===RegExp)return r.toString()===t.toString();if(e===Array){if((s=r.length)===t.length)for(;s--&&Ru(r[s],t[s]););return s===-1}if(e===Set){if(r.size!==t.size)return!1;for(s of r)if(o=s,o&&typeof o=="object"&&(o=H0(t,o),!o)||!t.has(o))return!1;return!0}if(e===Map){if(r.size!==t.size)return!1;for(s of r)if(o=s[0],o&&typeof o=="object"&&(o=H0(t,o),!o)||!Ru(s[1],t.get(o)))return!1;return!0}if(e===ArrayBuffer)r=new Uint8Array(r),t=new Uint8Array(t);else if(e===DataView){if((s=r.byteLength)===t.byteLength)for(;s--&&r.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(r)){if((s=r.byteLength)===t.byteLength)for(;s--&&r[s]===t[s];);return s===-1}if(!e||typeof r=="object"){s=0;for(e in r)if(z0.call(r,e)&&++s&&!z0.call(t,e)||!(e in t)||!Ru(r[e],t[e]))return!1;return Object.keys(t).length===s}}return r!==r&&t!==t}function mV(r){const t=rw();return[r[0],w.useCallback(e=>{if(t())return r[1](e)},[t,r[1]])]}var bn="top",er="bottom",nr="right",wn="left",_y="auto",ic=[bn,er,nr,wn],Ho="start",Bu="end",gV="clippingParents",_w="viewport",fu="popper",yV="reference",q0=ic.reduce(function(r,t){return r.concat([t+"-"+Ho,t+"-"+Bu])},[]),Ew=[].concat(ic,[_y]).reduce(function(r,t){return r.concat([t,t+"-"+Ho,t+"-"+Bu])},[]),vV="beforeRead",_V="read",EV="afterRead",TV="beforeMain",SV="main",AV="afterMain",bV="beforeWrite",wV="write",RV="afterWrite",CV=[vV,_V,EV,TV,SV,AV,bV,wV,RV];function jr(r){return r.split("-")[0]}function Pn(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var t=r.ownerDocument;return t&&t.defaultView||window}return r}function Ra(r){var t=Pn(r).Element;return r instanceof t||r instanceof Element}function Br(r){var t=Pn(r).HTMLElement;return r instanceof t||r instanceof HTMLElement}function Ey(r){if(typeof ShadowRoot>"u")return!1;var t=Pn(r).ShadowRoot;return r instanceof t||r instanceof ShadowRoot}var Ea=Math.max,Sh=Math.min,qo=Math.round;function ug(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Tw(){return!/^((?!chrome|android).)*safari/i.test(ug())}function Fo(r,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var s=r.getBoundingClientRect(),o=1,u=1;t&&Br(r)&&(o=r.offsetWidth>0&&qo(s.width)/r.offsetWidth||1,u=r.offsetHeight>0&&qo(s.height)/r.offsetHeight||1);var f=Ra(r)?Pn(r):window,d=f.visualViewport,m=!Tw()&&e,g=(s.left+(m&&d?d.offsetLeft:0))/o,v=(s.top+(m&&d?d.offsetTop:0))/u,T=s.width/o,A=s.height/u;return{width:T,height:A,top:v,right:g+T,bottom:v+A,left:g,x:g,y:v}}function Ty(r){var t=Fo(r),e=r.offsetWidth,s=r.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:r.offsetLeft,y:r.offsetTop,width:e,height:s}}function Sw(r,t){var e=t.getRootNode&&t.getRootNode();if(r.contains(t))return!0;if(e&&Ey(e)){var s=t;do{if(s&&r.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Cs(r){return r?(r.nodeName||"").toLowerCase():null}function Ri(r){return Pn(r).getComputedStyle(r)}function IV(r){return["table","td","th"].indexOf(Cs(r))>=0}function xs(r){return((Ra(r)?r.ownerDocument:r.document)||window.document).documentElement}function Zh(r){return Cs(r)==="html"?r:r.assignedSlot||r.parentNode||(Ey(r)?r.host:null)||xs(r)}function F0(r){return!Br(r)||Ri(r).position==="fixed"?null:r.offsetParent}function OV(r){var t=/firefox/i.test(ug()),e=/Trident/i.test(ug());if(e&&Br(r)){var s=Ri(r);if(s.position==="fixed")return null}var o=Zh(r);for(Ey(o)&&(o=o.host);Br(o)&&["html","body"].indexOf(Cs(o))<0;){var u=Ri(o);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||t&&u.willChange==="filter"||t&&u.filter&&u.filter!=="none")return o;o=o.parentNode}return null}function sc(r){for(var t=Pn(r),e=F0(r);e&&IV(e)&&Ri(e).position==="static";)e=F0(e);return e&&(Cs(e)==="html"||Cs(e)==="body"&&Ri(e).position==="static")?t:e||OV(r)||t}function Sy(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Cu(r,t,e){return Ea(r,Sh(t,e))}function NV(r,t,e){var s=Cu(r,t,e);return s>e?e:s}function Aw(){return{top:0,right:0,bottom:0,left:0}}function bw(r){return Object.assign({},Aw(),r)}function ww(r,t){return t.reduce(function(e,s){return e[s]=r,e},{})}var DV=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,bw(typeof t!="number"?t:ww(t,ic))};function xV(r){var t,e=r.state,s=r.name,o=r.options,u=e.elements.arrow,f=e.modifiersData.popperOffsets,d=jr(e.placement),m=Sy(d),g=[wn,nr].indexOf(d)>=0,v=g?"height":"width";if(!(!u||!f)){var T=DV(o.padding,e),A=Ty(u),N=m==="y"?bn:wn,U=m==="y"?er:nr,z=e.rects.reference[v]+e.rects.reference[m]-f[m]-e.rects.popper[v],k=f[m]-e.rects.reference[m],Z=sc(u),X=Z?m==="y"?Z.clientHeight||0:Z.clientWidth||0:0,Q=z/2-k/2,W=T[N],st=X-A[v]-T[U],at=X/2-A[v]/2+Q,D=Cu(W,at,st),R=m;e.modifiersData[s]=(t={},t[R]=D,t.centerOffset=D-at,t)}}function MV(r){var t=r.state,e=r.options,s=e.element,o=s===void 0?"[data-popper-arrow]":s;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Sw(t.elements.popper,o)&&(t.elements.arrow=o))}const VV={name:"arrow",enabled:!0,phase:"main",fn:xV,effect:MV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Go(r){return r.split("-")[1]}var kV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function PV(r,t){var e=r.x,s=r.y,o=t.devicePixelRatio||1;return{x:qo(e*o)/o||0,y:qo(s*o)/o||0}}function G0(r){var t,e=r.popper,s=r.popperRect,o=r.placement,u=r.variation,f=r.offsets,d=r.position,m=r.gpuAcceleration,g=r.adaptive,v=r.roundOffsets,T=r.isFixed,A=f.x,N=A===void 0?0:A,U=f.y,z=U===void 0?0:U,k=typeof v=="function"?v({x:N,y:z}):{x:N,y:z};N=k.x,z=k.y;var Z=f.hasOwnProperty("x"),X=f.hasOwnProperty("y"),Q=wn,W=bn,st=window;if(g){var at=sc(e),D="clientHeight",R="clientWidth";if(at===Pn(e)&&(at=xs(e),Ri(at).position!=="static"&&d==="absolute"&&(D="scrollHeight",R="scrollWidth")),at=at,o===bn||(o===wn||o===nr)&&u===Bu){W=er;var I=T&&at===st&&st.visualViewport?st.visualViewport.height:at[D];z-=I-s.height,z*=m?1:-1}if(o===wn||(o===bn||o===er)&&u===Bu){Q=nr;var M=T&&at===st&&st.visualViewport?st.visualViewport.width:at[R];N-=M-s.width,N*=m?1:-1}}var P=Object.assign({position:d},g&&kV),j=v===!0?PV({x:N,y:z},Pn(e)):{x:N,y:z};if(N=j.x,z=j.y,m){var O;return Object.assign({},P,(O={},O[W]=X?"0":"",O[Q]=Z?"0":"",O.transform=(st.devicePixelRatio||1)<=1?"translate("+N+"px, "+z+"px)":"translate3d("+N+"px, "+z+"px, 0)",O))}return Object.assign({},P,(t={},t[W]=X?z+"px":"",t[Q]=Z?N+"px":"",t.transform="",t))}function LV(r){var t=r.state,e=r.options,s=e.gpuAcceleration,o=s===void 0?!0:s,u=e.adaptive,f=u===void 0?!0:u,d=e.roundOffsets,m=d===void 0?!0:d,g={placement:jr(t.placement),variation:Go(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,G0(Object.assign({},g,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:f,roundOffsets:m})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,G0(Object.assign({},g,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const UV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:LV,data:{}};var Uf={passive:!0};function jV(r){var t=r.state,e=r.instance,s=r.options,o=s.scroll,u=o===void 0?!0:o,f=s.resize,d=f===void 0?!0:f,m=Pn(t.elements.popper),g=[].concat(t.scrollParents.reference,t.scrollParents.popper);return u&&g.forEach(function(v){v.addEventListener("scroll",e.update,Uf)}),d&&m.addEventListener("resize",e.update,Uf),function(){u&&g.forEach(function(v){v.removeEventListener("scroll",e.update,Uf)}),d&&m.removeEventListener("resize",e.update,Uf)}}const BV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jV,data:{}};var zV={left:"right",right:"left",bottom:"top",top:"bottom"};function Wf(r){return r.replace(/left|right|bottom|top/g,function(t){return zV[t]})}var HV={start:"end",end:"start"};function $0(r){return r.replace(/start|end/g,function(t){return HV[t]})}function Ay(r){var t=Pn(r),e=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:e,scrollTop:s}}function by(r){return Fo(xs(r)).left+Ay(r).scrollLeft}function qV(r,t){var e=Pn(r),s=xs(r),o=e.visualViewport,u=s.clientWidth,f=s.clientHeight,d=0,m=0;if(o){u=o.width,f=o.height;var g=Tw();(g||!g&&t==="fixed")&&(d=o.offsetLeft,m=o.offsetTop)}return{width:u,height:f,x:d+by(r),y:m}}function FV(r){var t,e=xs(r),s=Ay(r),o=(t=r.ownerDocument)==null?void 0:t.body,u=Ea(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),f=Ea(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),d=-s.scrollLeft+by(r),m=-s.scrollTop;return Ri(o||e).direction==="rtl"&&(d+=Ea(e.clientWidth,o?o.clientWidth:0)-u),{width:u,height:f,x:d,y:m}}function wy(r){var t=Ri(r),e=t.overflow,s=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+o+s)}function Rw(r){return["html","body","#document"].indexOf(Cs(r))>=0?r.ownerDocument.body:Br(r)&&wy(r)?r:Rw(Zh(r))}function Iu(r,t){var e;t===void 0&&(t=[]);var s=Rw(r),o=s===((e=r.ownerDocument)==null?void 0:e.body),u=Pn(s),f=o?[u].concat(u.visualViewport||[],wy(s)?s:[]):s,d=t.concat(f);return o?d:d.concat(Iu(Zh(f)))}function cg(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function GV(r,t){var e=Fo(r,!1,t==="fixed");return e.top=e.top+r.clientTop,e.left=e.left+r.clientLeft,e.bottom=e.top+r.clientHeight,e.right=e.left+r.clientWidth,e.width=r.clientWidth,e.height=r.clientHeight,e.x=e.left,e.y=e.top,e}function K0(r,t,e){return t===_w?cg(qV(r,e)):Ra(t)?GV(t,e):cg(FV(xs(r)))}function $V(r){var t=Iu(Zh(r)),e=["absolute","fixed"].indexOf(Ri(r).position)>=0,s=e&&Br(r)?sc(r):r;return Ra(s)?t.filter(function(o){return Ra(o)&&Sw(o,s)&&Cs(o)!=="body"}):[]}function KV(r,t,e,s){var o=t==="clippingParents"?$V(r):[].concat(t),u=[].concat(o,[e]),f=u[0],d=u.reduce(function(m,g){var v=K0(r,g,s);return m.top=Ea(v.top,m.top),m.right=Sh(v.right,m.right),m.bottom=Sh(v.bottom,m.bottom),m.left=Ea(v.left,m.left),m},K0(r,f,s));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function Cw(r){var t=r.reference,e=r.element,s=r.placement,o=s?jr(s):null,u=s?Go(s):null,f=t.x+t.width/2-e.width/2,d=t.y+t.height/2-e.height/2,m;switch(o){case bn:m={x:f,y:t.y-e.height};break;case er:m={x:f,y:t.y+t.height};break;case nr:m={x:t.x+t.width,y:d};break;case wn:m={x:t.x-e.width,y:d};break;default:m={x:t.x,y:t.y}}var g=o?Sy(o):null;if(g!=null){var v=g==="y"?"height":"width";switch(u){case Ho:m[g]=m[g]-(t[v]/2-e[v]/2);break;case Bu:m[g]=m[g]+(t[v]/2-e[v]/2);break}}return m}function zu(r,t){t===void 0&&(t={});var e=t,s=e.placement,o=s===void 0?r.placement:s,u=e.strategy,f=u===void 0?r.strategy:u,d=e.boundary,m=d===void 0?gV:d,g=e.rootBoundary,v=g===void 0?_w:g,T=e.elementContext,A=T===void 0?fu:T,N=e.altBoundary,U=N===void 0?!1:N,z=e.padding,k=z===void 0?0:z,Z=bw(typeof k!="number"?k:ww(k,ic)),X=A===fu?yV:fu,Q=r.rects.popper,W=r.elements[U?X:A],st=KV(Ra(W)?W:W.contextElement||xs(r.elements.popper),m,v,f),at=Fo(r.elements.reference),D=Cw({reference:at,element:Q,placement:o}),R=cg(Object.assign({},Q,D)),I=A===fu?R:at,M={top:st.top-I.top+Z.top,bottom:I.bottom-st.bottom+Z.bottom,left:st.left-I.left+Z.left,right:I.right-st.right+Z.right},P=r.modifiersData.offset;if(A===fu&&P){var j=P[o];Object.keys(M).forEach(function(O){var xt=[nr,er].indexOf(O)>=0?1:-1,Ct=[bn,er].indexOf(O)>=0?"y":"x";M[O]+=j[Ct]*xt})}return M}function YV(r,t){t===void 0&&(t={});var e=t,s=e.placement,o=e.boundary,u=e.rootBoundary,f=e.padding,d=e.flipVariations,m=e.allowedAutoPlacements,g=m===void 0?Ew:m,v=Go(s),T=v?d?q0:q0.filter(function(U){return Go(U)===v}):ic,A=T.filter(function(U){return g.indexOf(U)>=0});A.length===0&&(A=T);var N=A.reduce(function(U,z){return U[z]=zu(r,{placement:z,boundary:o,rootBoundary:u,padding:f})[jr(z)],U},{});return Object.keys(N).sort(function(U,z){return N[U]-N[z]})}function QV(r){if(jr(r)===_y)return[];var t=Wf(r);return[$0(r),t,$0(t)]}function XV(r){var t=r.state,e=r.options,s=r.name;if(!t.modifiersData[s]._skip){for(var o=e.mainAxis,u=o===void 0?!0:o,f=e.altAxis,d=f===void 0?!0:f,m=e.fallbackPlacements,g=e.padding,v=e.boundary,T=e.rootBoundary,A=e.altBoundary,N=e.flipVariations,U=N===void 0?!0:N,z=e.allowedAutoPlacements,k=t.options.placement,Z=jr(k),X=Z===k,Q=m||(X||!U?[Wf(k)]:QV(k)),W=[k].concat(Q).reduce(function(ht,vt){return ht.concat(jr(vt)===_y?YV(t,{placement:vt,boundary:v,rootBoundary:T,padding:g,flipVariations:U,allowedAutoPlacements:z}):vt)},[]),st=t.rects.reference,at=t.rects.popper,D=new Map,R=!0,I=W[0],M=0;M<W.length;M++){var P=W[M],j=jr(P),O=Go(P)===Ho,xt=[bn,er].indexOf(j)>=0,Ct=xt?"width":"height",$=zu(t,{placement:P,boundary:v,rootBoundary:T,altBoundary:A,padding:g}),lt=xt?O?nr:wn:O?er:bn;st[Ct]>at[Ct]&&(lt=Wf(lt));var ft=Wf(lt),Ot=[];if(u&&Ot.push($[j]<=0),d&&Ot.push($[lt]<=0,$[ft]<=0),Ot.every(function(ht){return ht})){I=P,R=!1;break}D.set(P,Ot)}if(R)for(var V=U?3:1,tt=function(vt){var Et=W.find(function(te){var Pt=D.get(te);if(Pt)return Pt.slice(0,vt).every(function(Ee){return Ee})});if(Et)return I=Et,"break"},ut=V;ut>0;ut--){var it=tt(ut);if(it==="break")break}t.placement!==I&&(t.modifiersData[s]._skip=!0,t.placement=I,t.reset=!0)}}const WV={name:"flip",enabled:!0,phase:"main",fn:XV,requiresIfExists:["offset"],data:{_skip:!1}};function Y0(r,t,e){return e===void 0&&(e={x:0,y:0}),{top:r.top-t.height-e.y,right:r.right-t.width+e.x,bottom:r.bottom-t.height+e.y,left:r.left-t.width-e.x}}function Q0(r){return[bn,nr,er,wn].some(function(t){return r[t]>=0})}function ZV(r){var t=r.state,e=r.name,s=t.rects.reference,o=t.rects.popper,u=t.modifiersData.preventOverflow,f=zu(t,{elementContext:"reference"}),d=zu(t,{altBoundary:!0}),m=Y0(f,s),g=Y0(d,o,u),v=Q0(m),T=Q0(g);t.modifiersData[e]={referenceClippingOffsets:m,popperEscapeOffsets:g,isReferenceHidden:v,hasPopperEscaped:T},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":T})}const JV={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ZV};function t4(r,t,e){var s=jr(r),o=[wn,bn].indexOf(s)>=0?-1:1,u=typeof e=="function"?e(Object.assign({},t,{placement:r})):e,f=u[0],d=u[1];return f=f||0,d=(d||0)*o,[wn,nr].indexOf(s)>=0?{x:d,y:f}:{x:f,y:d}}function e4(r){var t=r.state,e=r.options,s=r.name,o=e.offset,u=o===void 0?[0,0]:o,f=Ew.reduce(function(v,T){return v[T]=t4(T,t.rects,u),v},{}),d=f[t.placement],m=d.x,g=d.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=m,t.modifiersData.popperOffsets.y+=g),t.modifiersData[s]=f}const n4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:e4};function r4(r){var t=r.state,e=r.name;t.modifiersData[e]=Cw({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const i4={name:"popperOffsets",enabled:!0,phase:"read",fn:r4,data:{}};function s4(r){return r==="x"?"y":"x"}function a4(r){var t=r.state,e=r.options,s=r.name,o=e.mainAxis,u=o===void 0?!0:o,f=e.altAxis,d=f===void 0?!1:f,m=e.boundary,g=e.rootBoundary,v=e.altBoundary,T=e.padding,A=e.tether,N=A===void 0?!0:A,U=e.tetherOffset,z=U===void 0?0:U,k=zu(t,{boundary:m,rootBoundary:g,padding:T,altBoundary:v}),Z=jr(t.placement),X=Go(t.placement),Q=!X,W=Sy(Z),st=s4(W),at=t.modifiersData.popperOffsets,D=t.rects.reference,R=t.rects.popper,I=typeof z=="function"?z(Object.assign({},t.rects,{placement:t.placement})):z,M=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(at){if(u){var O,xt=W==="y"?bn:wn,Ct=W==="y"?er:nr,$=W==="y"?"height":"width",lt=at[W],ft=lt+k[xt],Ot=lt-k[Ct],V=N?-R[$]/2:0,tt=X===Ho?D[$]:R[$],ut=X===Ho?-R[$]:-D[$],it=t.elements.arrow,ht=N&&it?Ty(it):{width:0,height:0},vt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Aw(),Et=vt[xt],te=vt[Ct],Pt=Cu(0,D[$],ht[$]),Ee=Q?D[$]/2-V-Pt-Et-M.mainAxis:tt-Pt-Et-M.mainAxis,Ge=Q?-D[$]/2+V+Pt+te+M.mainAxis:ut+Pt+te+M.mainAxis,Pe=t.elements.arrow&&sc(t.elements.arrow),en=Pe?W==="y"?Pe.clientTop||0:Pe.clientLeft||0:0,nn=(O=P?.[W])!=null?O:0,rn=lt+Ee-nn-en,Kt=lt+Ge-nn,Ln=Cu(N?Sh(ft,rn):ft,lt,N?Ea(Ot,Kt):Ot);at[W]=Ln,j[W]=Ln-lt}if(d){var me,Ms=W==="x"?bn:wn,qr=W==="x"?er:nr,sn=at[st],vn=st==="y"?"height":"width",Ni=sn+k[Ms],rr=sn-k[qr],Un=[bn,wn].indexOf(Z)!==-1,Fr=(me=P?.[st])!=null?me:0,Tt=Un?Ni:sn-D[vn]-R[vn]-Fr+M.altAxis,Vt=Un?sn+D[vn]+R[vn]-Fr-M.altAxis:rr,Ce=N&&Un?NV(Tt,sn,Vt):Cu(N?Tt:Ni,sn,N?Vt:rr);at[st]=Ce,j[st]=Ce-sn}t.modifiersData[s]=j}}const o4={name:"preventOverflow",enabled:!0,phase:"main",fn:a4,requiresIfExists:["offset"]};function l4(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function u4(r){return r===Pn(r)||!Br(r)?Ay(r):l4(r)}function c4(r){var t=r.getBoundingClientRect(),e=qo(t.width)/r.offsetWidth||1,s=qo(t.height)/r.offsetHeight||1;return e!==1||s!==1}function f4(r,t,e){e===void 0&&(e=!1);var s=Br(t),o=Br(t)&&c4(t),u=xs(t),f=Fo(r,o,e),d={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(s||!s&&!e)&&((Cs(t)!=="body"||wy(u))&&(d=u4(t)),Br(t)?(m=Fo(t,!0),m.x+=t.clientLeft,m.y+=t.clientTop):u&&(m.x=by(u))),{x:f.left+d.scrollLeft-m.x,y:f.top+d.scrollTop-m.y,width:f.width,height:f.height}}function h4(r){var t=new Map,e=new Set,s=[];r.forEach(function(u){t.set(u.name,u)});function o(u){e.add(u.name);var f=[].concat(u.requires||[],u.requiresIfExists||[]);f.forEach(function(d){if(!e.has(d)){var m=t.get(d);m&&o(m)}}),s.push(u)}return r.forEach(function(u){e.has(u.name)||o(u)}),s}function d4(r){var t=h4(r);return CV.reduce(function(e,s){return e.concat(t.filter(function(o){return o.phase===s}))},[])}function p4(r){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(r())})})),t}}function m4(r){var t=r.reduce(function(e,s){var o=e[s.name];return e[s.name]=o?Object.assign({},o,s,{options:Object.assign({},o.options,s.options),data:Object.assign({},o.data,s.data)}):s,e},{});return Object.keys(t).map(function(e){return t[e]})}var X0={placement:"bottom",modifiers:[],strategy:"absolute"};function W0(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function g4(r){r===void 0&&(r={});var t=r,e=t.defaultModifiers,s=e===void 0?[]:e,o=t.defaultOptions,u=o===void 0?X0:o;return function(d,m,g){g===void 0&&(g=u);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},X0,u),modifiersData:{},elements:{reference:d,popper:m},attributes:{},styles:{}},T=[],A=!1,N={state:v,setOptions:function(Z){var X=typeof Z=="function"?Z(v.options):Z;z(),v.options=Object.assign({},u,v.options,X),v.scrollParents={reference:Ra(d)?Iu(d):d.contextElement?Iu(d.contextElement):[],popper:Iu(m)};var Q=d4(m4([].concat(s,v.options.modifiers)));return v.orderedModifiers=Q.filter(function(W){return W.enabled}),U(),N.update()},forceUpdate:function(){if(!A){var Z=v.elements,X=Z.reference,Q=Z.popper;if(W0(X,Q)){v.rects={reference:f4(X,sc(Q),v.options.strategy==="fixed"),popper:Ty(Q)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(M){return v.modifiersData[M.name]=Object.assign({},M.data)});for(var W=0;W<v.orderedModifiers.length;W++){if(v.reset===!0){v.reset=!1,W=-1;continue}var st=v.orderedModifiers[W],at=st.fn,D=st.options,R=D===void 0?{}:D,I=st.name;typeof at=="function"&&(v=at({state:v,options:R,name:I,instance:N})||v)}}}},update:p4(function(){return new Promise(function(k){N.forceUpdate(),k(v)})}),destroy:function(){z(),A=!0}};if(!W0(d,m))return N;N.setOptions(g).then(function(k){!A&&g.onFirstUpdate&&g.onFirstUpdate(k)});function U(){v.orderedModifiers.forEach(function(k){var Z=k.name,X=k.options,Q=X===void 0?{}:X,W=k.effect;if(typeof W=="function"){var st=W({state:v,name:Z,instance:N,options:Q}),at=function(){};T.push(st||at)}})}function z(){T.forEach(function(k){return k()}),T=[]}return N}}const y4=g4({defaultModifiers:[JV,i4,UV,BV,n4,WV,o4,VV]}),v4=["enabled","placement","strategy","modifiers"];function _4(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}const E4={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},T4={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:r})=>()=>{const{reference:t,popper:e}=r.elements;if("removeAttribute"in t){const s=(t.getAttribute("aria-describedby")||"").split(",").filter(o=>o.trim()!==e.id);s.length?t.setAttribute("aria-describedby",s.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:r})=>{var t;const{popper:e,reference:s}=r.elements,o=(t=e.getAttribute("role"))==null?void 0:t.toLowerCase();if(e.id&&o==="tooltip"&&"setAttribute"in s){const u=s.getAttribute("aria-describedby");if(u&&u.split(",").indexOf(e.id)!==-1)return;s.setAttribute("aria-describedby",u?`${u},${e.id}`:e.id)}}},S4=[];function A4(r,t,e={}){let{enabled:s=!0,placement:o="bottom",strategy:u="absolute",modifiers:f=S4}=e,d=_4(e,v4);const m=w.useRef(f),g=w.useRef(),v=w.useCallback(()=>{var k;(k=g.current)==null||k.update()},[]),T=w.useCallback(()=>{var k;(k=g.current)==null||k.forceUpdate()},[]),[A,N]=mV(w.useState({placement:o,update:v,forceUpdate:T,attributes:{},styles:{popper:{},arrow:{}}})),U=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:k})=>{const Z={},X={};Object.keys(k.elements).forEach(Q=>{Z[Q]=k.styles[Q],X[Q]=k.attributes[Q]}),N({state:k,styles:Z,attributes:X,update:v,forceUpdate:T,placement:k.placement})}}),[v,T,N]),z=w.useMemo(()=>(Ru(m.current,f)||(m.current=f),m.current),[f]);return w.useEffect(()=>{!g.current||!s||g.current.setOptions({placement:o,strategy:u,modifiers:[...z,U,E4]})},[u,o,U,s,z]),w.useEffect(()=>{if(!(!s||r==null||t==null))return g.current=y4(r,t,Object.assign({},d,{placement:o,strategy:u,modifiers:[...z,T4,U]})),()=>{g.current!=null&&(g.current.destroy(),g.current=void 0,N(k=>Object.assign({},k,{attributes:{},styles:{popper:{}}})))}},[s,r,t]),A}function Hu(r,t){if(r.contains)return r.contains(t);if(r.compareDocumentPosition)return r===t||!!(r.compareDocumentPosition(t)&16)}var Am,Z0;function b4(){if(Z0)return Am;Z0=1;var r=function(){};return Am=r,Am}var w4=b4();const R4=qu(w4),J0=()=>{};function C4(r){return r.button===0}function I4(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}const Zf=r=>r&&("current"in r?r.current:r),tS={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function O4(r,t=J0,{disabled:e,clickTrigger:s="click"}={}){const o=w.useRef(!1),u=w.useRef(!1),f=w.useCallback(g=>{const v=Zf(r);R4(!!v,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!v||I4(g)||!C4(g)||!!Hu(v,g.target)||u.current,u.current=!1},[r]),d=Zn(g=>{const v=Zf(r);v&&Hu(v,g.target)?u.current=!0:u.current=!1}),m=Zn(g=>{o.current||t(g)});w.useEffect(()=>{var g,v;if(e||r==null)return;const T=tl(Zf(r)),A=T.defaultView||window;let N=(g=A.event)!=null?g:(v=A.parent)==null?void 0:v.event,U=null;tS[s]&&(U=_i(T,tS[s],d,!0));const z=_i(T,s,f,!0),k=_i(T,s,X=>{if(X===N){N=void 0;return}m(X)});let Z=[];return"ontouchstart"in T.documentElement&&(Z=[].slice.call(T.body.children).map(X=>_i(X,"mousemove",J0))),()=>{U?.(),z(),k(),Z.forEach(X=>X())}},[r,e,s,f,d,m])}function N4(r){const t={};return Array.isArray(r)?(r?.forEach(e=>{t[e.name]=e}),t):r||t}function D4(r={}){return Array.isArray(r)?r:Object.keys(r).map(t=>(r[t].name=t,r[t]))}function x4({enabled:r,enableEvents:t,placement:e,flip:s,offset:o,fixed:u,containerPadding:f,arrowElement:d,popperConfig:m={}}){var g,v,T,A;const N=N4(m.modifiers);return Object.assign({},m,{placement:e,enabled:r,strategy:u?"fixed":m.strategy,modifiers:D4(Object.assign({},N,{eventListeners:{enabled:t,options:(g=N.eventListeners)==null?void 0:g.options},preventOverflow:Object.assign({},N.preventOverflow,{options:Object.assign({padding:f},(v=N.preventOverflow)==null?void 0:v.options)}),offset:{options:Object.assign({offset:o},(T=N.offset)==null?void 0:T.options)},arrow:Object.assign({},N.arrow,{enabled:!!d,options:Object.assign({},(A=N.arrow)==null?void 0:A.options,{element:d})}),flip:Object.assign({enabled:!!s},N.flip)}))})}const Ah=w.createContext(null),Ry=(r,t=null)=>r!=null?String(r):t||null,Cy=w.createContext(null);Cy.displayName="NavContext";const M4="data-rr-ui-",V4="rrUi";function Jh(r){return`${M4}${r}`}function k4(r){return`${V4}${r}`}const Iw=w.createContext(el?window:void 0);Iw.Provider;function Iy(){return w.useContext(Iw)}const P4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",L4=typeof document<"u",Ow=L4||P4?w.useLayoutEffect:w.useEffect,Nw=w.createContext(null);Nw.displayName="InputGroupContext";const nl=w.createContext(null);nl.displayName="NavbarContext";const U4={type:hn.string,tooltip:hn.bool,as:hn.elementType},td=w.forwardRef(({as:r="div",className:t,type:e="valid",tooltip:s=!1,...o},u)=>C.jsx(r,{...o,ref:u,className:dt(t,`${e}-${s?"tooltip":"feedback"}`)}));td.displayName="Feedback";td.propTypes=U4;const Ci=w.createContext({}),ac=w.forwardRef(({id:r,bsPrefix:t,className:e,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:f="input",...d},m)=>{const{controlId:g}=w.useContext(Ci);return t=gt(t,"form-check-input"),C.jsx(f,{...d,ref:m,type:s,id:r||g,className:dt(e,t,o&&"is-valid",u&&"is-invalid")})});ac.displayName="FormCheckInput";const bh=w.forwardRef(({bsPrefix:r,className:t,htmlFor:e,...s},o)=>{const{controlId:u}=w.useContext(Ci);return r=gt(r,"form-check-label"),C.jsx("label",{...s,ref:o,htmlFor:e||u,className:dt(t,r)})});bh.displayName="FormCheckLabel";const Dw=w.forwardRef(({id:r,bsPrefix:t,bsSwitchPrefix:e,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:f=!1,isInvalid:d=!1,feedbackTooltip:m=!1,feedback:g,feedbackType:v,className:T,style:A,title:N="",type:U="checkbox",label:z,children:k,as:Z="input",...X},Q)=>{t=gt(t,"form-check"),e=gt(e,"form-switch");const{controlId:W}=w.useContext(Ci),st=w.useMemo(()=>({controlId:r||W}),[W,r]),at=!k&&z!=null&&z!==!1||fV(k,bh),D=C.jsx(ac,{...X,type:U==="switch"?"checkbox":U,ref:Q,isValid:f,isInvalid:d,disabled:u,as:Z});return C.jsx(Ci.Provider,{value:st,children:C.jsx("div",{style:A,className:dt(T,at&&t,s&&`${t}-inline`,o&&`${t}-reverse`,U==="switch"&&e),children:k||C.jsxs(C.Fragment,{children:[D,at&&C.jsx(bh,{title:N,children:z}),g&&C.jsx(td,{type:v,tooltip:m,children:g})]})})})});Dw.displayName="FormCheck";const wh=Object.assign(Dw,{Input:ac,Label:bh}),xw=w.forwardRef(({bsPrefix:r,type:t,size:e,htmlSize:s,id:o,className:u,isValid:f=!1,isInvalid:d=!1,plaintext:m,readOnly:g,as:v="input",...T},A)=>{const{controlId:N}=w.useContext(Ci);return r=gt(r,"form-control"),C.jsx(v,{...T,type:t,size:s,ref:A,readOnly:g,id:o||N,className:dt(u,m?`${r}-plaintext`:r,e&&`${r}-${e}`,t==="color"&&`${r}-color`,f&&"is-valid",d&&"is-invalid")})});xw.displayName="FormControl";const j4=Object.assign(xw,{Feedback:td}),Mw=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"form-floating"),C.jsx(e,{ref:o,className:dt(r,t),...s})));Mw.displayName="FormFloating";const Oy=w.forwardRef(({controlId:r,as:t="div",...e},s)=>{const o=w.useMemo(()=>({controlId:r}),[r]);return C.jsx(Ci.Provider,{value:o,children:C.jsx(t,{...e,ref:s})})});Oy.displayName="FormGroup";const Vw=w.forwardRef(({as:r="label",bsPrefix:t,column:e=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...f},d)=>{const{controlId:m}=w.useContext(Ci);t=gt(t,"form-label");let g="col-form-label";typeof e=="string"&&(g=`${g} ${g}-${e}`);const v=dt(o,t,s&&"visually-hidden",e&&g);return u=u||m,e?C.jsx(wu,{ref:d,as:"label",className:v,htmlFor:u,...f}):C.jsx(r,{ref:d,className:v,htmlFor:u,...f})});Vw.displayName="FormLabel";const kw=w.forwardRef(({bsPrefix:r,className:t,id:e,...s},o)=>{const{controlId:u}=w.useContext(Ci);return r=gt(r,"form-range"),C.jsx("input",{...s,type:"range",ref:o,className:dt(t,r),id:e||u})});kw.displayName="FormRange";const Pw=w.forwardRef(({bsPrefix:r,size:t,htmlSize:e,className:s,isValid:o=!1,isInvalid:u=!1,id:f,...d},m)=>{const{controlId:g}=w.useContext(Ci);return r=gt(r,"form-select"),C.jsx("select",{...d,size:e,ref:m,className:dt(s,r,t&&`${r}-${t}`,o&&"is-valid",u&&"is-invalid"),id:f||g})});Pw.displayName="FormSelect";const Lw=w.forwardRef(({bsPrefix:r,className:t,as:e="small",muted:s,...o},u)=>(r=gt(r,"form-text"),C.jsx(e,{...o,ref:u,className:dt(t,r,s&&"text-muted")})));Lw.displayName="FormText";const Uw=w.forwardRef((r,t)=>C.jsx(wh,{...r,ref:t,type:"switch"}));Uw.displayName="Switch";const B4=Object.assign(Uw,{Input:wh.Input,Label:wh.Label}),ma=w.forwardRef(({bsPrefix:r,className:t,children:e,controlId:s,label:o,...u},f)=>(r=gt(r,"form-floating"),C.jsxs(Oy,{ref:f,className:dt(t,r),controlId:s,...u,children:[e,C.jsx("label",{htmlFor:s,children:o})]})));ma.displayName="FloatingLabel";const z4={_ref:hn.any,validated:hn.bool,as:hn.elementType},Ny=w.forwardRef(({className:r,validated:t,as:e="form",...s},o)=>C.jsx(e,{...s,ref:o,className:dt(r,t&&"was-validated")}));Ny.displayName="Form";Ny.propTypes=z4;const qe=Object.assign(Ny,{Group:Oy,Control:j4,Floating:Mw,Check:wh,Switch:B4,Label:Vw,Text:Lw,Range:kw,Select:Pw,FloatingLabel:ma}),ed=w.forwardRef(({className:r,bsPrefix:t,as:e="span",...s},o)=>(t=gt(t,"input-group-text"),C.jsx(e,{ref:o,className:dt(r,t),...s})));ed.displayName="InputGroupText";const H4=r=>C.jsx(ed,{children:C.jsx(ac,{type:"checkbox",...r})}),q4=r=>C.jsx(ed,{children:C.jsx(ac,{type:"radio",...r})}),jw=w.forwardRef(({bsPrefix:r,size:t,hasValidation:e,className:s,as:o="div",...u},f)=>{r=gt(r,"input-group");const d=w.useMemo(()=>({}),[]);return C.jsx(Nw.Provider,{value:d,children:C.jsx(o,{ref:f,...u,className:dt(s,r,t&&`${r}-${t}`,e&&"has-validation")})})});jw.displayName="InputGroup";const Bw=Object.assign(jw,{Text:ed,Radio:q4,Checkbox:H4}),eS=r=>!r||typeof r=="function"?r:t=>{r.current=t};function F4(r,t){const e=eS(r),s=eS(t);return o=>{e&&e(o),s&&s(o)}}function oc(r,t){return w.useMemo(()=>F4(r,t),[r,t])}const zw=w.createContext(null),G4=["as","active","eventKey"];function $4(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function Hw({key:r,onClick:t,active:e,id:s,role:o,disabled:u}){const f=w.useContext(Ah),d=w.useContext(Cy),m=w.useContext(zw);let g=e;const v={role:o};if(d){!o&&d.role==="tablist"&&(v.role="tab");const T=d.getControllerId(r??null),A=d.getControlledId(r??null);v[Jh("event-key")]=r,v.id=T||s,g=e==null&&r!=null?d.activeKey===r:e,(g||!(m!=null&&m.unmountOnExit)&&!(m!=null&&m.mountOnEnter))&&(v["aria-controls"]=A)}return v.role==="tab"&&(v["aria-selected"]=g,g||(v.tabIndex=-1),u&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=Zn(T=>{u||(t?.(T),r!=null&&f&&!T.isPropagationStopped()&&f(r,T))}),[v,{isActive:g}]}const qw=w.forwardRef((r,t)=>{let{as:e=iw,active:s,eventKey:o}=r,u=$4(r,G4);const[f,d]=Hw(Object.assign({key:Ry(o,u.href),active:s},u));return f[Jh("active")]=d.isActive,C.jsx(e,Object.assign({},u,f,{ref:t}))});qw.displayName="NavItem";const K4=["as","onSelect","activeKey","role","onKeyDown"];function Y4(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}const nS=()=>{},rS=Jh("event-key"),Fw=w.forwardRef((r,t)=>{let{as:e="div",onSelect:s,activeKey:o,role:u,onKeyDown:f}=r,d=Y4(r,K4);const m=pV(),g=w.useRef(!1),v=w.useContext(Ah),T=w.useContext(zw);let A,N;T&&(u=u||"tablist",o=T.activeKey,A=T.getControlledId,N=T.getControllerId);const U=w.useRef(null),z=Q=>{const W=U.current;if(!W)return null;const st=pa(W,`[${rS}]:not([aria-disabled=true])`),at=W.querySelector("[aria-selected=true]");if(!at||at!==document.activeElement)return null;const D=st.indexOf(at);if(D===-1)return null;let R=D+Q;return R>=st.length&&(R=0),R<0&&(R=st.length-1),st[R]},k=(Q,W)=>{Q!=null&&(s?.(Q,W),v?.(Q,W))},Z=Q=>{if(f?.(Q),!T)return;let W;switch(Q.key){case"ArrowLeft":case"ArrowUp":W=z(-1);break;case"ArrowRight":case"ArrowDown":W=z(1);break;default:return}W&&(Q.preventDefault(),k(W.dataset[k4("EventKey")]||null,Q),g.current=!0,m())};w.useEffect(()=>{if(U.current&&g.current){const Q=U.current.querySelector(`[${rS}][aria-selected=true]`);Q?.focus()}g.current=!1});const X=oc(t,U);return C.jsx(Ah.Provider,{value:k,children:C.jsx(Cy.Provider,{value:{role:u,activeKey:Ry(o),getControlledId:A||nS,getControllerId:N||nS},children:C.jsx(e,Object.assign({},d,{onKeyDown:Z,ref:X,role:u}))})})});Fw.displayName="Nav";const Q4=Object.assign(Fw,{Item:qw});var jf;function iS(r){if((!jf&&jf!==0||r)&&el){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),jf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return jf}function X4(){return w.useState(null)}function bm(r){r===void 0&&(r=tl());try{var t=r.activeElement;return!t||!t.nodeName?null:t}catch{return r.body}}function W4(r){const t=w.useRef(r);return t.current=r,t}function Z4(r){const t=W4(r);w.useEffect(()=>()=>t.current(),[])}function J4(r=document){const t=r.defaultView;return Math.abs(t.innerWidth-r.documentElement.clientWidth)}const sS=Jh("modal-open");class Dy{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:s=!1}={}){this.handleContainerOverflow=e,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return J4(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(e[s]=`${parseInt(Ti(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(sS,""),Ti(o,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(sS),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const wm=(r,t)=>el?r==null?(t||tl()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function fg(r,t){const e=Iy(),[s,o]=w.useState(()=>wm(r,e?.document));if(!s){const u=wm(r);u&&o(u)}return w.useEffect(()=>{},[t,s]),w.useEffect(()=>{const u=wm(r);u!==s&&o(u)},[r,s]),s}function tk({children:r,in:t,onExited:e,mountOnEnter:s,unmountOnExit:o}){const u=w.useRef(null),f=w.useRef(t),d=Zn(e);w.useEffect(()=>{t?f.current=!0:d(u.current)},[t,d]);const m=oc(u,Na(r)),g=w.cloneElement(r,{ref:m});return t?g:o||!f.current&&s?null:g}const ek=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function nk(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function rk(r){let{onEnter:t,onEntering:e,onEntered:s,onExit:o,onExiting:u,onExited:f,addEndListener:d,children:m}=r,g=nk(r,ek);const v=w.useRef(null),T=oc(v,Na(m)),A=W=>st=>{W&&v.current&&W(v.current,st)},N=w.useCallback(A(t),[t]),U=w.useCallback(A(e),[e]),z=w.useCallback(A(s),[s]),k=w.useCallback(A(o),[o]),Z=w.useCallback(A(u),[u]),X=w.useCallback(A(f),[f]),Q=w.useCallback(A(d),[d]);return Object.assign({},g,{nodeRef:v},t&&{onEnter:N},e&&{onEntering:U},s&&{onEntered:z},o&&{onExit:k},u&&{onExiting:Z},f&&{onExited:X},d&&{addEndListener:Q},{children:typeof m=="function"?(W,st)=>m(W,Object.assign({},st,{ref:T})):w.cloneElement(m,{ref:T})})}const ik=["component"];function sk(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}const ak=w.forwardRef((r,t)=>{let{component:e}=r,s=sk(r,ik);const o=rk(s);return C.jsx(e,Object.assign({ref:t},o))});function ok({in:r,onTransition:t}){const e=w.useRef(null),s=w.useRef(!0),o=Zn(t);return B0(()=>{if(!e.current)return;let u=!1;return o({in:r,element:e.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[r,o]),B0(()=>(s.current=!1,()=>{s.current=!0}),[]),e}function lk({children:r,in:t,onExited:e,onEntered:s,transition:o}){const[u,f]=w.useState(!t);t&&u&&f(!1);const d=ok({in:!!t,onTransition:g=>{const v=()=>{g.isStale()||(g.in?s?.(g.element,g.initial):(f(!0),e?.(g.element)))};Promise.resolve(o(g)).then(v,T=>{throw g.in||f(!0),T})}}),m=oc(d,Na(r));return u&&!t?null:w.cloneElement(r,{ref:m})}function hg(r,t,e){return r?C.jsx(ak,Object.assign({},e,{component:r})):t?C.jsx(lk,Object.assign({},e,{transition:t})):C.jsx(tk,Object.assign({},e))}const uk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function ck(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}let Rm;function fk(r){return Rm||(Rm=new Dy({ownerDocument:r?.document})),Rm}function hk(r){const t=Iy(),e=r||fk(t),s=w.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>e.add(s.current),remove:()=>e.remove(s.current),isTopModal:()=>e.isTopModal(s.current),setDialogRef:w.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:w.useCallback(o=>{s.current.backdrop=o},[])})}const Gw=w.forwardRef((r,t)=>{let{show:e=!1,role:s="dialog",className:o,style:u,children:f,backdrop:d=!0,keyboard:m=!0,onBackdropClick:g,onEscapeKeyDown:v,transition:T,runTransition:A,backdropTransition:N,runBackdropTransition:U,autoFocus:z=!0,enforceFocus:k=!0,restoreFocus:Z=!0,restoreFocusOptions:X,renderDialog:Q,renderBackdrop:W=Kt=>C.jsx("div",Object.assign({},Kt)),manager:st,container:at,onShow:D,onHide:R=()=>{},onExit:I,onExited:M,onExiting:P,onEnter:j,onEntering:O,onEntered:xt}=r,Ct=ck(r,uk);const $=Iy(),lt=fg(at),ft=hk(st),Ot=rw(),V=YM(e),[tt,ut]=w.useState(!e),it=w.useRef(null);w.useImperativeHandle(t,()=>ft,[ft]),el&&!V&&e&&(it.current=bm($?.document)),e&&tt&&ut(!1);const ht=Zn(()=>{if(ft.add(),Ge.current=_i(document,"keydown",Pt),Ee.current=_i(document,"focus",()=>setTimeout(Et),!0),D&&D(),z){var Kt,Ln;const me=bm((Kt=(Ln=ft.dialog)==null?void 0:Ln.ownerDocument)!=null?Kt:$?.document);ft.dialog&&me&&!Hu(ft.dialog,me)&&(it.current=me,ft.dialog.focus())}}),vt=Zn(()=>{if(ft.remove(),Ge.current==null||Ge.current(),Ee.current==null||Ee.current(),Z){var Kt;(Kt=it.current)==null||Kt.focus==null||Kt.focus(X),it.current=null}});w.useEffect(()=>{!e||!lt||ht()},[e,lt,ht]),w.useEffect(()=>{tt&&vt()},[tt,vt]),Z4(()=>{vt()});const Et=Zn(()=>{if(!k||!Ot()||!ft.isTopModal())return;const Kt=bm($?.document);ft.dialog&&Kt&&!Hu(ft.dialog,Kt)&&ft.dialog.focus()}),te=Zn(Kt=>{Kt.target===Kt.currentTarget&&(g?.(Kt),d===!0&&R())}),Pt=Zn(Kt=>{m&&Fb(Kt)&&ft.isTopModal()&&(v?.(Kt),Kt.defaultPrevented||R())}),Ee=w.useRef(),Ge=w.useRef(),Pe=(...Kt)=>{ut(!0),M?.(...Kt)};if(!lt)return null;const en=Object.assign({role:s,ref:ft.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Ct,{style:u,className:o,tabIndex:-1});let nn=Q?Q(en):C.jsx("div",Object.assign({},en,{children:w.cloneElement(f,{role:"document"})}));nn=hg(T,A,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:I,onExiting:P,onExited:Pe,onEnter:j,onEntering:O,onEntered:xt,children:nn});let rn=null;return d&&(rn=W({ref:ft.setBackdropRef,onClick:te}),rn=hg(N,U,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:rn})),C.jsx(C.Fragment,{children:ya.createPortal(C.jsxs(C.Fragment,{children:[rn,nn]}),lt)})});Gw.displayName="Modal";const $w=Object.assign(Gw,{Manager:Dy});function dg(r,t){return r.classList?!!t&&r.classList.contains(t):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+t+" ")!==-1}function dk(r,t){r.classList?r.classList.add(t):dg(r,t)||(typeof r.className=="string"?r.className=r.className+" "+t:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+t))}function aS(r,t){return r.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function pk(r,t){r.classList?r.classList.remove(t):typeof r.className=="string"?r.className=aS(r.className,t):r.setAttribute("class",aS(r.className&&r.className.baseVal||"",t))}const Ao={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Kw extends Dy{adjustAndStore(t,e,s){const o=e.style[t];e.dataset[t]=o,Ti(e,{[t]:`${parseFloat(Ti(e,t))+s}px`})}restore(t,e){const s=e.dataset[t];s!==void 0&&(delete e.dataset[t],Ti(e,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(dk(e,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";pa(e,Ao.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,t.scrollBarWidth)),pa(e,Ao.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-t.scrollBarWidth)),pa(e,Ao.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();pk(e,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";pa(e,Ao.FIXED_CONTENT).forEach(u=>this.restore(s,u)),pa(e,Ao.STICKY_CONTENT).forEach(u=>this.restore(o,u)),pa(e,Ao.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let Cm;function Yw(r){return Cm||(Cm=new Kw(r)),Cm}const Qw=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"modal-body"),C.jsx(e,{ref:o,className:dt(r,t),...s})));Qw.displayName="ModalBody";const xy=w.createContext({onHide(){}}),My=w.forwardRef(({bsPrefix:r,className:t,contentClassName:e,centered:s,size:o,fullscreen:u,children:f,scrollable:d,...m},g)=>{r=gt(r,"modal");const v=`${r}-dialog`,T=typeof u=="string"?`${r}-fullscreen-${u}`:`${r}-fullscreen`;return C.jsx("div",{...m,ref:g,className:dt(v,t,o&&`${r}-${o}`,s&&`${v}-centered`,d&&`${v}-scrollable`,u&&T),children:C.jsx("div",{className:dt(`${r}-content`,e),children:f})})});My.displayName="ModalDialog";const Xw=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"modal-footer"),C.jsx(e,{ref:o,className:dt(r,t),...s})));Xw.displayName="ModalFooter";const Vy=w.forwardRef(({closeLabel:r="Close",closeVariant:t,closeButton:e=!1,onHide:s,children:o,...u},f)=>{const d=w.useContext(xy),m=ws(()=>{d?.onHide(),s?.()});return C.jsxs("div",{ref:f,...u,children:[o,e&&C.jsx(Wh,{"aria-label":r,variant:t,onClick:m})]})});Vy.displayName="AbstractModalHeader";const Ww=w.forwardRef(({bsPrefix:r,className:t,closeLabel:e="Close",closeButton:s=!1,...o},u)=>(r=gt(r,"modal-header"),C.jsx(Vy,{ref:u,...o,className:dt(t,r),closeLabel:e,closeButton:s})));Ww.displayName="ModalHeader";const mk=rc("h4"),Zw=w.forwardRef(({className:r,bsPrefix:t,as:e=mk,...s},o)=>(t=gt(t,"modal-title"),C.jsx(e,{ref:o,className:dt(r,t),...s})));Zw.displayName="ModalTitle";function gk(r){return C.jsx(Rs,{...r,timeout:null})}function yk(r){return C.jsx(Rs,{...r,timeout:null})}const Jw=w.forwardRef(({bsPrefix:r,className:t,style:e,dialogClassName:s,contentClassName:o,children:u,dialogAs:f=My,"data-bs-theme":d,"aria-labelledby":m,"aria-describedby":g,"aria-label":v,show:T=!1,animation:A=!0,backdrop:N=!0,keyboard:U=!0,onEscapeKeyDown:z,onShow:k,onHide:Z,container:X,autoFocus:Q=!0,enforceFocus:W=!0,restoreFocus:st=!0,restoreFocusOptions:at,onEntered:D,onExit:R,onExiting:I,onEnter:M,onEntering:P,onExited:j,backdropClassName:O,manager:xt,...Ct},$)=>{const[lt,ft]=w.useState({}),[Ot,V]=w.useState(!1),tt=w.useRef(!1),ut=w.useRef(!1),it=w.useRef(null),[ht,vt]=X4(),Et=Yh($,vt),te=ws(Z),Pt=cy();r=gt(r,"modal");const Ee=w.useMemo(()=>({onHide:te}),[te]);function Ge(){return xt||Yw({isRTL:Pt})}function Pe(Tt){if(!el)return;const Vt=Ge().getScrollbarWidth()>0,Ce=Tt.scrollHeight>tl(Tt).documentElement.clientHeight;ft({paddingRight:Vt&&!Ce?iS():void 0,paddingLeft:!Vt&&Ce?iS():void 0})}const en=ws(()=>{ht&&Pe(ht.dialog)});yw(()=>{og(window,"resize",en),it.current==null||it.current()});const nn=()=>{tt.current=!0},rn=Tt=>{tt.current&&ht&&Tt.target===ht.dialog&&(ut.current=!0),tt.current=!1},Kt=()=>{V(!0),it.current=$b(ht.dialog,()=>{V(!1)})},Ln=Tt=>{Tt.target===Tt.currentTarget&&Kt()},me=Tt=>{if(N==="static"){Ln(Tt);return}if(ut.current||Tt.target!==Tt.currentTarget){ut.current=!1;return}Z?.()},Ms=Tt=>{U?z?.(Tt):(Tt.preventDefault(),N==="static"&&Kt())},qr=(Tt,Vt)=>{Tt&&Pe(Tt),M?.(Tt,Vt)},sn=Tt=>{it.current==null||it.current(),R?.(Tt)},vn=(Tt,Vt)=>{P?.(Tt,Vt),Gb(window,"resize",en)},Ni=Tt=>{Tt&&(Tt.style.display=""),j?.(Tt),og(window,"resize",en)},rr=w.useCallback(Tt=>C.jsx("div",{...Tt,className:dt(`${r}-backdrop`,O,!A&&"show")}),[A,O,r]),Un={...e,...lt};Un.display="block";const Fr=Tt=>C.jsx("div",{role:"dialog",...Tt,style:Un,className:dt(t,r,Ot&&`${r}-static`,!A&&"show"),onClick:N?me:void 0,onMouseUp:rn,"data-bs-theme":d,"aria-label":v,"aria-labelledby":m,"aria-describedby":g,children:C.jsx(f,{...Ct,onMouseDown:nn,className:s,contentClassName:o,children:u})});return C.jsx(xy.Provider,{value:Ee,children:C.jsx($w,{show:T,ref:Et,backdrop:N,container:X,keyboard:!0,autoFocus:Q,enforceFocus:W,restoreFocus:st,restoreFocusOptions:at,onEscapeKeyDown:Ms,onShow:k,onHide:Z,onEnter:qr,onEntering:vn,onEntered:D,onExit:sn,onExiting:I,onExited:Ni,manager:Ge(),transition:A?gk:void 0,backdropTransition:A?yk:void 0,renderBackdrop:rr,renderDialog:Fr})})});Jw.displayName="Modal";const Jn=Object.assign(Jw,{Body:Qw,Header:Ww,Title:Zw,Footer:Xw,Dialog:My,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),t1=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"nav-item"),C.jsx(e,{ref:o,className:dt(r,t),...s})));t1.displayName="NavItem";const e1=w.forwardRef(({bsPrefix:r,className:t,as:e=gy,active:s,eventKey:o,disabled:u=!1,...f},d)=>{r=gt(r,"nav-link");const[m,g]=Hw({key:Ry(o,f.href),active:s,disabled:u,...f});return C.jsx(e,{...f,...m,ref:d,disabled:u,className:dt(t,r,u&&"disabled",g.isActive&&"active")})});e1.displayName="NavLink";const n1=w.forwardRef((r,t)=>{const{as:e="div",bsPrefix:s,variant:o,fill:u=!1,justify:f=!1,navbar:d,navbarScroll:m,className:g,activeKey:v,...T}=Kh(r,{activeKey:"onSelect"}),A=gt(s,"nav");let N,U,z=!1;const k=w.useContext(nl),Z=w.useContext(vy);return k?(N=k.bsPrefix,z=d??!0):Z&&({cardHeaderBsPrefix:U}=Z),C.jsx(Q4,{as:e,ref:t,activeKey:v,className:dt(g,{[A]:!z,[`${N}-nav`]:z,[`${N}-nav-scroll`]:z&&m,[`${U}-${o}`]:!!U,[`${A}-${o}`]:!!o,[`${A}-fill`]:u,[`${A}-justified`]:f}),...T})});n1.displayName="Nav";const oS=Object.assign(n1,{Item:t1,Link:e1}),r1=w.forwardRef(({bsPrefix:r,className:t,as:e,...s},o)=>{r=gt(r,"navbar-brand");const u=e||(s.href?"a":"span");return C.jsx(u,{...s,ref:o,className:dt(t,r)})});r1.displayName="NavbarBrand";const i1=w.forwardRef(({children:r,bsPrefix:t,...e},s)=>{t=gt(t,"navbar-collapse");const o=w.useContext(nl);return C.jsx(hy,{in:!!(o&&o.expanded),...e,children:C.jsx("div",{ref:s,className:t,children:r})})});i1.displayName="NavbarCollapse";const s1=w.forwardRef(({bsPrefix:r,className:t,children:e,label:s="Toggle navigation",as:o="button",onClick:u,...f},d)=>{r=gt(r,"navbar-toggler");const{onToggle:m,expanded:g}=w.useContext(nl)||{},v=ws(T=>{u&&u(T),m&&m()});return o==="button"&&(f.type="button"),C.jsx(o,{...f,ref:d,onClick:v,"aria-label":s,className:dt(t,r,!g&&"collapsed"),children:e||C.jsx("span",{className:`${r}-icon`})})});s1.displayName="NavbarToggle";const pg=new WeakMap,lS=(r,t)=>{if(!r||!t)return;const e=pg.get(t)||new Map;pg.set(t,e);let s=e.get(r);return s||(s=t.matchMedia(r),s.refCount=0,e.set(s.media,s)),s};function vk(r,t=typeof window>"u"?void 0:window){const e=lS(r,t),[s,o]=w.useState(()=>e?e.matches:!1);return Ow(()=>{let u=lS(r,t);if(!u)return o(!1);let f=pg.get(t);const d=()=>{o(u.matches)};return u.refCount++,u.addListener(d),d(),()=>{u.removeListener(d),u.refCount--,u.refCount<=0&&f?.delete(u.media),u=void 0}},[r]),s}function _k(r){const t=Object.keys(r);function e(d,m){return d===m?m:d?`${d} and ${m}`:m}function s(d){return t[Math.min(t.indexOf(d)+1,t.length-1)]}function o(d){const m=s(d);let g=r[m];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function u(d){let m=r[d];return typeof m=="number"&&(m=`${m}px`),`(min-width: ${m})`}function f(d,m,g){let v;typeof d=="object"?(v=d,g=m,m=!0):(m=m||!0,v={[d]:m});let T=w.useMemo(()=>Object.entries(v).reduce((A,[N,U])=>((U==="up"||U===!0)&&(A=e(A,u(N))),(U==="down"||U===!0)&&(A=e(A,o(N))),A),""),[JSON.stringify(v)]);return vk(T,g)}return f}const Ek=_k({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),a1=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"offcanvas-body"),C.jsx(e,{ref:o,className:dt(r,t),...s})));a1.displayName="OffcanvasBody";const Tk={[cr]:"show",[gi]:"show"},o1=w.forwardRef(({bsPrefix:r,className:t,children:e,in:s=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:f=!1,...d},m)=>(r=gt(r,"offcanvas"),C.jsx(Qh,{ref:m,addEndListener:fy,in:s,mountOnEnter:o,unmountOnExit:u,appear:f,...d,childRef:Na(e),children:(g,v)=>w.cloneElement(e,{...v,className:dt(t,e.props.className,(g===cr||g===ju)&&`${r}-toggling`,Tk[g])})})));o1.displayName="OffcanvasToggling";const l1=w.forwardRef(({bsPrefix:r,className:t,closeLabel:e="Close",closeButton:s=!1,...o},u)=>(r=gt(r,"offcanvas-header"),C.jsx(Vy,{ref:u,...o,className:dt(t,r),closeLabel:e,closeButton:s})));l1.displayName="OffcanvasHeader";const Sk=rc("h5"),u1=w.forwardRef(({className:r,bsPrefix:t,as:e=Sk,...s},o)=>(t=gt(t,"offcanvas-title"),C.jsx(e,{ref:o,className:dt(r,t),...s})));u1.displayName="OffcanvasTitle";function Ak(r){return C.jsx(o1,{...r})}function bk(r){return C.jsx(Rs,{...r})}const c1=w.forwardRef(({bsPrefix:r,className:t,children:e,"aria-labelledby":s,placement:o="start",responsive:u,show:f=!1,backdrop:d=!0,keyboard:m=!0,scroll:g=!1,onEscapeKeyDown:v,onShow:T,onHide:A,container:N,autoFocus:U=!0,enforceFocus:z=!0,restoreFocus:k=!0,restoreFocusOptions:Z,onEntered:X,onExit:Q,onExiting:W,onEnter:st,onEntering:at,onExited:D,backdropClassName:R,manager:I,renderStaticNode:M=!1,...P},j)=>{const O=w.useRef();r=gt(r,"offcanvas");const[xt,Ct]=w.useState(!1),$=ws(A),lt=Ek(u||"xs","up");w.useEffect(()=>{Ct(u?f&&!lt:f)},[f,u,lt]);const ft=w.useMemo(()=>({onHide:$}),[$]);function Ot(){return I||(g?(O.current||(O.current=new Kw({handleContainerOverflow:!1})),O.current):Yw())}const V=(ht,...vt)=>{ht&&(ht.style.visibility="visible"),st?.(ht,...vt)},tt=(ht,...vt)=>{ht&&(ht.style.visibility=""),D?.(...vt)},ut=w.useCallback(ht=>C.jsx("div",{...ht,className:dt(`${r}-backdrop`,R)}),[R,r]),it=ht=>C.jsx("div",{...ht,...P,className:dt(t,u?`${r}-${u}`:r,`${r}-${o}`),"aria-labelledby":s,children:e});return C.jsxs(C.Fragment,{children:[!xt&&(u||M)&&it({}),C.jsx(xy.Provider,{value:ft,children:C.jsx($w,{show:xt,ref:j,backdrop:d,container:N,keyboard:m,autoFocus:U,enforceFocus:z&&!g,restoreFocus:k,restoreFocusOptions:Z,onEscapeKeyDown:v,onShow:T,onHide:$,onEnter:V,onEntering:at,onEntered:X,onExit:Q,onExiting:W,onExited:tt,manager:Ot(),transition:Ak,backdropTransition:bk,renderBackdrop:ut,renderDialog:it})})]})});c1.displayName="Offcanvas";const wk=Object.assign(c1,{Body:a1,Header:l1,Title:u1}),f1=w.forwardRef(({onHide:r,...t},e)=>{const s=w.useContext(nl),o=ws(()=>{s==null||s.onToggle==null||s.onToggle(),r?.()});return C.jsx(wk,{ref:e,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});f1.displayName="NavbarOffcanvas";const h1=w.forwardRef(({className:r,bsPrefix:t,as:e="span",...s},o)=>(t=gt(t,"navbar-text"),C.jsx(e,{ref:o,className:dt(r,t),...s})));h1.displayName="NavbarText";const d1=w.forwardRef((r,t)=>{const{bsPrefix:e,expand:s=!0,variant:o="light",bg:u,fixed:f,sticky:d,className:m,as:g="nav",expanded:v,onToggle:T,onSelect:A,collapseOnSelect:N=!1,...U}=Kh(r,{expanded:"onToggle"}),z=gt(e,"navbar"),k=w.useCallback((...Q)=>{A?.(...Q),N&&v&&T?.(!1)},[A,N,v,T]);U.role===void 0&&g!=="nav"&&(U.role="navigation");let Z=`${z}-expand`;typeof s=="string"&&(Z=`${Z}-${s}`);const X=w.useMemo(()=>({onToggle:()=>T?.(!v),bsPrefix:z,expanded:!!v,expand:s}),[z,v,s,T]);return C.jsx(nl.Provider,{value:X,children:C.jsx(Ah.Provider,{value:k,children:C.jsx(g,{ref:t,...U,className:dt(m,z,s&&Z,o&&`${z}-${o}`,u&&`bg-${u}`,d&&`sticky-${d}`,f&&`fixed-${f}`)})})})});d1.displayName="Navbar";const Bf=Object.assign(d1,{Brand:r1,Collapse:i1,Offcanvas:f1,Text:h1,Toggle:s1}),Rk=()=>{};function Ck(r,t,{disabled:e,clickTrigger:s}={}){const o=t||Rk;O4(r,o,{disabled:e,clickTrigger:s});const u=Zn(f=>{Fb(f)&&o(f)});w.useEffect(()=>{if(e||r==null)return;const f=tl(Zf(r));let d=(f.defaultView||window).event;const m=_i(f,"keyup",g=>{if(g===d){d=void 0;return}u(g)});return()=>{m()}},[r,e,u])}const p1=w.forwardRef((r,t)=>{const{flip:e,offset:s,placement:o,containerPadding:u,popperConfig:f={},transition:d,runTransition:m}=r,[g,v]=j0(),[T,A]=j0(),N=oc(v,t),U=fg(r.container),z=fg(r.target),[k,Z]=w.useState(!r.show),X=A4(z,g,x4({placement:o,enableEvents:!!r.show,containerPadding:u||5,flip:e,offset:s,arrowElement:T,popperConfig:f}));r.show&&k&&Z(!1);const Q=(...P)=>{Z(!0),r.onExited&&r.onExited(...P)},W=r.show||!k;if(Ck(g,r.onHide,{disabled:!r.rootClose||r.rootCloseDisabled,clickTrigger:r.rootCloseEvent}),!W)return null;const{onExit:st,onExiting:at,onEnter:D,onEntering:R,onEntered:I}=r;let M=r.children(Object.assign({},X.attributes.popper,{style:X.styles.popper,ref:N}),{popper:X,placement:o,show:!!r.show,arrowProps:Object.assign({},X.attributes.arrow,{style:X.styles.arrow,ref:A})});return M=hg(d,m,{in:!!r.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:M,onExit:st,onExiting:at,onExited:Q,onEnter:D,onEntering:R,onEntered:I}),U?ya.createPortal(M,U):null});p1.displayName="Overlay";const m1=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"popover-header"),C.jsx(e,{ref:o,className:dt(r,t),...s})));m1.displayName="PopoverHeader";const ky=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"popover-body"),C.jsx(e,{ref:o,className:dt(r,t),...s})));ky.displayName="PopoverBody";function g1(r,t){let e=r;return r==="left"?e=t?"end":"start":r==="right"&&(e=t?"start":"end"),e}function y1(r="absolute"){return{position:r,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const v1=w.forwardRef(({bsPrefix:r,placement:t="right",className:e,style:s,children:o,body:u,arrowProps:f,hasDoneInitialMeasure:d,popper:m,show:g,...v},T)=>{const A=gt(r,"popover"),N=cy(),[U]=t?.split("-")||[],z=g1(U,N);let k=s;return g&&!d&&(k={...s,...y1(m?.strategy)}),C.jsxs("div",{ref:T,role:"tooltip",style:k,"x-placement":U,className:dt(e,A,U&&`bs-popover-${z}`),...v,children:[C.jsx("div",{className:"popover-arrow",...f}),u?C.jsx(ky,{children:o}):o]})});v1.displayName="Popover";const Ik=Object.assign(v1,{Header:m1,Body:ky,POPPER_OFFSET:[0,8]}),_1=w.forwardRef(({bsPrefix:r,placement:t="right",className:e,style:s,children:o,arrowProps:u,hasDoneInitialMeasure:f,popper:d,show:m,...g},v)=>{r=gt(r,"tooltip");const T=cy(),[A]=t?.split("-")||[],N=g1(A,T);let U=s;return m&&!f&&(U={...s,...y1(d?.strategy)}),C.jsxs("div",{ref:v,style:U,role:"tooltip","x-placement":A,className:dt(e,r,`bs-tooltip-${N}`),...g,children:[C.jsx("div",{className:"tooltip-arrow",...u}),C.jsx("div",{className:`${r}-inner`,children:o})]})});_1.displayName="Tooltip";const E1=Object.assign(_1,{TOOLTIP_OFFSET:[0,6]});function Ok(r){const t=w.useRef(null),e=gt(void 0,"popover"),s=gt(void 0,"tooltip"),o=w.useMemo(()=>({name:"offset",options:{offset:()=>{if(r)return r;if(t.current){if(dg(t.current,e))return Ik.POPPER_OFFSET;if(dg(t.current,s))return E1.TOOLTIP_OFFSET}return[0,0]}}}),[r,e,s]);return[t,[o]]}function Nk(r,t){const{ref:e}=r,{ref:s}=t;r.ref=e.__wrapped||(e.__wrapped=o=>e(Eh(o))),t.ref=s.__wrapped||(s.__wrapped=o=>s(Eh(o)))}const T1=w.forwardRef(({children:r,transition:t=Rs,popperConfig:e={},rootClose:s=!1,placement:o="top",show:u=!1,...f},d)=>{const m=w.useRef({}),[g,v]=w.useState(null),[T,A]=Ok(f.offset),N=Yh(d,T),U=t===!0?Rs:t||void 0,z=ws(k=>{v(k),e==null||e.onFirstUpdate==null||e.onFirstUpdate(k)});return Ow(()=>{g&&f.target&&(m.current.scheduleUpdate==null||m.current.scheduleUpdate())},[g,f.target]),w.useEffect(()=>{u||v(null)},[u]),C.jsx(p1,{...f,ref:N,popperConfig:{...e,modifiers:A.concat(e.modifiers||[]),onFirstUpdate:z},transition:U,rootClose:s,placement:o,show:u,children:(k,{arrowProps:Z,popper:X,show:Q})=>{var W;Nk(k,Z);const st=X?.placement,at=Object.assign(m.current,{state:X?.state,scheduleUpdate:X?.update,placement:st,outOfBoundaries:(X==null||(W=X.state)==null||(W=W.modifiersData.hide)==null?void 0:W.isReferenceHidden)||!1,strategy:e.strategy}),D=!!g;return typeof r=="function"?r({...k,placement:st,show:Q,...!t&&Q&&{className:"show"},popper:at,arrowProps:Z,hasDoneInitialMeasure:D}):w.cloneElement(r,{...k,placement:st,arrowProps:Z,popper:at,hasDoneInitialMeasure:D,className:dt(r.props.className,!t&&Q&&"show"),style:{...r.props.style,...k.style}})}})});T1.displayName="Overlay";function Dk(r){return r&&typeof r=="object"?r:{show:r,hide:r}}function uS(r,t,e){const[s]=t,o=s.currentTarget,u=s.relatedTarget||s.nativeEvent[e];(!u||u!==o)&&!Hu(o,u)&&r(...t)}hn.oneOf(["click","hover","focus"]);const xk=({trigger:r=["hover","focus"],overlay:t,children:e,popperConfig:s={},show:o,defaultShow:u=!1,onToggle:f,delay:d,placement:m,flip:g=m&&m.indexOf("auto")!==-1,...v})=>{const T=w.useRef(null),A=Yh(T,Na(e)),N=cV(),U=w.useRef(""),[z,k]=Bb(o,u,f),Z=Dk(d),{onFocus:X,onBlur:Q,onClick:W}=typeof e!="function"?w.Children.only(e).props:{},st=Ct=>{A(Eh(Ct))},at=w.useCallback(()=>{if(N.clear(),U.current="show",!Z.show){k(!0);return}N.set(()=>{U.current==="show"&&k(!0)},Z.show)},[Z.show,k,N]),D=w.useCallback(()=>{if(N.clear(),U.current="hide",!Z.hide){k(!1);return}N.set(()=>{U.current==="hide"&&k(!1)},Z.hide)},[Z.hide,k,N]),R=w.useCallback((...Ct)=>{at(),X?.(...Ct)},[at,X]),I=w.useCallback((...Ct)=>{D(),Q?.(...Ct)},[D,Q]),M=w.useCallback((...Ct)=>{k(!z),W?.(...Ct)},[W,k,z]),P=w.useCallback((...Ct)=>{uS(at,Ct,"fromElement")},[at]),j=w.useCallback((...Ct)=>{uS(D,Ct,"toElement")},[D]),O=r==null?[]:[].concat(r),xt={ref:st};return O.indexOf("click")!==-1&&(xt.onClick=M),O.indexOf("focus")!==-1&&(xt.onFocus=R,xt.onBlur=I),O.indexOf("hover")!==-1&&(xt.onMouseOver=P,xt.onMouseOut=j),C.jsxs(C.Fragment,{children:[typeof e=="function"?e(xt):w.cloneElement(e,xt),C.jsx(T1,{...v,show:z,onHide:D,flip:g,placement:m,popperConfig:s,target:T.current,children:t})]})},mg=w.forwardRef(({bsPrefix:r,className:t,as:e="div",...s},o)=>{const u=gt(r,"row"),f=zb(),d=Hb(),m=`${u}-cols`,g=[];return f.forEach(v=>{const T=s[v];delete s[v];let A;T!=null&&typeof T=="object"?{cols:A}=T:A=T;const N=v!==d?`-${v}`:"";A!=null&&g.push(`${m}${N}-${A}`)}),C.jsx(e,{ref:o,...s,className:dt(t,u,...g)})});mg.displayName="Row";const S1=w.forwardRef(({bsPrefix:r,variant:t,animation:e="border",size:s,as:o="div",className:u,...f},d)=>{r=gt(r,"spinner");const m=`${r}-${e}`;return C.jsx(o,{ref:d,...f,className:dt(u,m,s&&`${m}-${s}`,t&&`text-${t}`)})});S1.displayName="Spinner";const We=[];for(let r=0;r<256;++r)We.push((r+256).toString(16).slice(1));function Mk(r,t=0){return(We[r[t+0]]+We[r[t+1]]+We[r[t+2]]+We[r[t+3]]+"-"+We[r[t+4]]+We[r[t+5]]+"-"+We[r[t+6]]+We[r[t+7]]+"-"+We[r[t+8]]+We[r[t+9]]+"-"+We[r[t+10]]+We[r[t+11]]+We[r[t+12]]+We[r[t+13]]+We[r[t+14]]+We[r[t+15]]).toLowerCase()}let Im;const Vk=new Uint8Array(16);function kk(){if(!Im){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Im=crypto.getRandomValues.bind(crypto)}return Im(Vk)}const Pk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cS={randomUUID:Pk};function Lk(r,t,e){if(cS.randomUUID&&!r)return cS.randomUUID();r=r||{};const s=r.random??r.rng?.()??kk();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Mk(s)}async function Om(){const r={},t=await vg(async()=>await Jm(Pu(Is,"meds")));for(const u of t.docs){const f=u.data();r[u.id]=new A1(u.id,f.name,f.group,f.min,f.max,f.pkg,f.entries)}const e=await vg(async()=>await Jm(Pu(Is,"aliases")));for(const u of e.docs){const f=u.data();r[u.id]=new b1(u.id,f.name,f.entries,r[f.parent])}const s=Object.entries(r);return s.sort((u,f)=>u[1].compare(f[1])),Object.fromEntries(s)}class gg{constructor(t,e="",s=0){this.med=t,this.id=Lk(),this.date=e,this.amount=s}getDate(){return new Date(this.date)}}class A1{constructor(t,e,s,o,u,f,d){this.entries=[],this.onOrder=0,this.id=t,this.name=e,this.group=s,this.min=o,this.max=u,this.pkg=f,this instanceof b1?this.docRef=hh(Is,"aliases",this.id):this.docRef=hh(Is,"meds",this.id);for(const m of d)if(m.date){const g=m.date.toDate().toISOString().slice(0,10);this.entries.push(new gg(this,g,m.amount))}else this.entries.push(new gg(this,"",m.amount))}compare(t){return this.getGroup()===t.getGroup()?this.getName().localeCompare(t.getName()):this.getGroup().localeCompare(t.getGroup())}getGroup(){return this.group}getName(){return this.name}getMin(){return this.min}getMax(){return this.max}getPkg(){return this.pkg}getId(){return this.id}getRef(){return this.docRef}getEntries(){return[...this.entries]}newEntry(t){this.entries.push(t)}setEntries(t){this.entries=t}isAlias(){return!1}}class b1 extends A1{constructor(t,e,s,o){super(t,e,o.getGroup(),o.getMin(),o.getMax(),o.getPkg(),s),this.parent=o}compare(t){return this.getGroup()===t.getGroup()?this.getName().localeCompare(t.getName()):this.getGroup().localeCompare(t.getGroup())}getGroup(){return super.getGroup()}getName(){return super.getName()}getMin(){return super.getMin()}getMax(){return super.getMax()}getPkg(){return super.getPkg()}getId(){return super.getId()}getRef(){return super.getRef()}getEntries(){return super.getEntries()}getParent(){return this.parent}newEntry(t){const e=super.getEntries();e.push(t),this.setEntries(e)}setEntries(t){super.setEntries(t)}isAlias(){return!0}}var Uk=["color","size","title","className"];function yg(){return yg=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},yg.apply(null,arguments)}function jk(r,t){if(r==null)return{};var e,s,o=Bk(r,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(s=0;s<u.length;s++)e=u[s],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(r,e)&&(o[e]=r[e])}return o}function Bk(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)!==-1)continue;e[s]=r[s]}return e}var w1=w.forwardRef(function(r,t){var e=r.color,s=e===void 0?"currentColor":e,o=r.size,u=o===void 0?"1em":o,f=r.title,d=f===void 0?null:f,m=r.className,g=m===void 0?"":m,v=jk(r,Uk);return Vn.createElement("svg",yg({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:u,height:u,fill:s,className:["bi","bi-trash",g].filter(Boolean).join(" ")},v),d?Vn.createElement("title",null,d):null,Vn.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),Vn.createElement("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"}))});w1.propTypes={color:hn.string,size:hn.oneOfType([hn.string,hn.number]),title:hn.string,className:hn.string};function zk({handleClose:r,onDelete:t}){return C.jsxs(Jn,{show:!0,onHide:r,children:[C.jsx(Jn.Header,{closeButton:!0,children:C.jsx(Jn.Title,{children:"Are you sure you want to delete this entry?"})}),C.jsxs(Jn.Footer,{children:[C.jsx(tr,{variant:"danger",onClick:()=>{r(),t()},children:"DELETE"}),C.jsx(tr,{variant:"primary",onClick:r,children:"Cancel"})]})]})}function Hk({onChange:r,children:t,onDelete:e}){const[s,o]=w.useState(t.amount||void 0),[u,f]=w.useState(t.date),[d,m]=w.useState(!1),g=z=>{const k=z.target.value,Z=Number(k);isNaN(Z)||k===""?o(void 0):Z<0?(t.amount=0,o(0)):(t.amount=Z,o(Z),r())},v=z=>{t.date=z.target.value,f(z.target.value),r()},T=()=>{s?m(!0):e()},A=()=>{m(!1)},N=()=>u===""?!1:new Date(u)<=new Date,U=z=>{if(N())return C.jsxs(E1,{...z,children:["Panic!",C.jsx("br",{})," This is expired!"]})};return C.jsxs(C.Fragment,{children:[d&&C.jsx(zk,{handleClose:A,onDelete:e}),C.jsx(qe,{children:C.jsx(qe.Group,{className:"mb-3",controlId:"fromDate",children:C.jsxs(Bw,{children:[N()?C.jsx(xk,{placement:"left",delay:{show:250,hide:400},overlay:U,children:C.jsx(qe.Control,{className:"w-50 bg-danger",type:"date",value:u,onChange:v})}):C.jsx(qe.Control,{className:"w-50",type:"date",value:u,onChange:v}),C.jsx(qe.Control,{className:"w-25",type:"number",value:s===void 0?"":s,onChange:g,min:"0"}),C.jsx(tr,{variant:"outline-secondary",onClick:T,children:C.jsx(w1,{})})]})})})]})}function qk({children:r}){const[t,e]=w.useState(r.getEntries());w.useEffect(()=>{const d=[];for(const m of t)m.date===""?d.push({date:"",amount:m.amount}):d.push({date:oe.fromDate(m.getDate()),amount:m.amount});ey(r.getRef(),{entries:d})},[t]);const s=()=>{const d=new gg(r);r.newEntry(d),e([...t,d])},o=d=>{r.setEntries(t.filter(m=>m.id!==d)),e(t.filter(m=>m.id!==d))},u=()=>{e([...t])},f=()=>{let d=0;for(const m of t){const g=m.getDate();(isNaN(g.valueOf())||g>new Date)&&(d=d+m.amount)}return d};if(t.length===0)s();else return C.jsx(C.Fragment,{children:C.jsx(dr,{className:"h-100",style:{width:"18rem"},children:C.jsxs(dr.Body,{className:"d-flex flex-column",children:[C.jsx(dr.Title,{children:r.getName()}),C.jsxs(dr.Subtitle,{className:"d-flex justify-content-around",children:[C.jsxs("p",{children:["Total: ",f()]}),C.jsxs("p",{children:["Ordered: ",r.onOrder]})]}),t.map(d=>C.jsx(Hk,{onChange:u,onDelete:()=>{o(d.id)},children:d},d.id)),C.jsx(tr,{className:"w-100 mt-auto",color:"blue",onClick:s,children:"+"})]})})})}function fS({setPage:r,setCurrentUser:t,admin:e}){const s=["Home","Orders"];return e&&s.push("Meds"),C.jsx(Bf,{expand:"lg",className:"bg-body-tertiary mb-5",children:C.jsxs(Th,{children:[C.jsx(Bf.Brand,{onClick:()=>{r("home")},children:"BLLK"}),C.jsx(Bf.Toggle,{"aria-controls":"basic-navbar-nav"}),C.jsxs(Bf.Collapse,{id:"basic-navbar-nav",children:[C.jsx(oS,{className:"me-auto",children:s.map(o=>C.jsx(oS.Link,{onClick:()=>{r(o.toLocaleLowerCase())},children:o},o))}),C.jsx(tr,{onClick:()=>{t(null),rx(Py)},type:"button",children:"Log Out"})]})]})})}function Fk({setCurrentUser:r}){const[t,e]=w.useState(!0),[s,o]=w.useState(!1),[u,f]=w.useState(!1),d=m=>{m.preventDefault(),f(!0);const g=new FormData(m.target),v=Object.fromEntries(g);vg(()=>J2(Py,v.username+"@bllk.inv",v.password)).then(T=>{T&&(r(T.user),e(!1),f(!1),console.log("User signed in successfully."))}).catch(T=>{T.message==="auth/invalid-credential"&&o(!0),console.error("Error signing in:",T)})};return C.jsxs(Jn,{show:t,children:[C.jsx(Jn.Header,{children:C.jsx(Jn.Title,{children:"Log in"})}),C.jsxs(Jn.Body,{children:[s&&C.jsx(sV,{variant:"danger",onClose:()=>o(!1),dismissible:!0,children:C.jsx("p",{children:"Oh snap! You entered invalid credentials!"})}),C.jsxs(qe,{onSubmit:d,children:[C.jsxs(qe.Group,{className:"mb-3",controlId:"formUsername",children:[C.jsx(qe.Label,{children:"Email address"}),C.jsx(qe.Control,{name:"username",autoFocus:!0,type:"text",placeholder:"Enter username"})]}),C.jsxs(qe.Group,{className:"mb-3",controlId:"formPassword",children:[C.jsx(qe.Label,{children:"Password"}),C.jsx(qe.Control,{name:"password",type:"password",placeholder:"Password"})]}),C.jsx(tr,{variant:"primary",type:"submit",children:"Log In"}),u&&C.jsx(S1,{animation:"border"})]})]})]})}async function Gk(r){const t={},e=await Jm(Pu(Is,"orders"));for(const u of e.docs){const f=u.data(),d=[];for(const m of f.meds)d.push({med:r[m.id],amount:m.amount});t[u.id]=new R1(u.id,f.date.toDate(),d,f.status)}const s=Object.entries(t);return s.sort((u,f)=>u[1].compare(f[1])),Object.fromEntries(s)}class R1{constructor(t,e,s,o){if(this.id=t,this.date=e,this.status=o,this.docRef=hh(Is,"orders",this.id),this.entries=s,this.status==="Ordered")for(const u of this.entries)u.med.onOrder=u.med.onOrder+u.amount}getId(){return this.id}getDate(){return this.date}getDateString(){return this.date.toDateString()}getStatus(){return this.status}getEntries(){return[...this.entries]}getRef(){return this.docRef}setStatus(t){this.status=t}getStatusColour(){if(this.status==="Ordered")return"secondary";if(this.status==="Received")return"success";if(this.status==="Zeroed")return"warning"}getContent(){let t=[];for(const e of this.entries)t.push(e.med.getName()+": x"+e.amount);return t}isReceived(){return this.status==="Received"}compare(t){return this.getDate()>t.getDate()?-1:1}}function hS({children:r,handleMedChange:t}){const[e,s]=w.useState(!0),[o,u]=w.useState(r?r.getGroup():""),[f,d]=w.useState(r?r.getMin()<0?void 0:r.getMin():void 0),[m,g]=w.useState(r?r.getMax()<0?void 0:r.getMax():void 0),[v,T]=w.useState(r?r.getPkg()<0?void 0:r.getPkg():void 0),A=X=>{const Q=X.target.value;u(Q),s(!1)},N=X=>{const Q=X.target.value,W=Number(Q);isNaN(W)?d(void 0):W<0?d(0):(d(Q),s(!1))},U=X=>{const Q=X.target.value,W=Number(Q);isNaN(W)?g(void 0):W<0?g(0):(g(Q),s(!1))},z=X=>{const Q=X.target.value,W=Number(Q);isNaN(W)?T(void 0):W<0?T(0):(T(Q),s(!1))},k=X=>{X.preventDefault();const Q=new FormData(X.target),W=Object.fromEntries(Q);if(console.log(W),r){const st={name:r.getName(),group:W.group,min:Number(W.min),max:Number(W.max),pkg:Number(W.pkg)};ey(r.getRef(),st),s(!0)}else{const st={name:W.name,group:W.group,min:W.min===""?-1:Number(W.min),max:W.max===""?-1:Number(W.max),pkg:W.pkg===""?-1:Number(W.pkg),entries:[]};u(""),d(void 0),g(void 0),T(void 0),document.getElementById("floatingName").value="",JD(Pu(Is,"meds"),st).then(()=>t())}},Z=X=>{r&&(u(r.getGroup()),d(r.getMin()),g(r.getMax()),T(r.getPkg()),s(!0))};return C.jsx(C.Fragment,{children:C.jsx(dr,{className:"h-100",style:{width:"18rem"},children:C.jsxs(dr.Body,{className:"d-flex flex-column",children:[r&&C.jsx(dr.Title,{className:"mb-4",children:r.getName()}),!e&&r&&C.jsx(dr.Subtitle,{className:"fst-italic text-muted",children:"Unsaved"}),C.jsxs(qe,{onSubmit:k,children:[r===void 0&&C.jsx(ma,{controlId:"floatingName",label:"Name",children:C.jsx(qe.Control,{onChange:()=>s(!1),type:"text",placeholder:"Medication",name:"name"})}),C.jsx(ma,{controlId:"floatingGroup",label:"Group",children:C.jsx(qe.Control,{onChange:A,type:"text",placeholder:"Injectable",name:"group",value:o||""})}),C.jsxs(Bw,{className:"mb-3",children:[C.jsx(ma,{controlId:"floatingMin",label:"Min",children:C.jsx(qe.Control,{onChange:N,type:"number",placeholder:"0",name:"min",min:"0",value:f||""})}),C.jsx(ma,{controlId:"floatingMax",label:"Max",children:C.jsx(qe.Control,{onChange:U,type:"number",placeholder:"0",name:"max",min:"0",value:m||""})}),C.jsx(ma,{controlId:"floaingPkg",label:"Pkg",children:C.jsx(qe.Control,{onChange:z,type:"number",placeholder:"0",name:"pkg",min:"0",value:v||""})})]}),C.jsx(tr,{className:r?"w-50":"w-100",variant:"primary",type:"submit",children:r?"Save":"Create"}),r&&C.jsx(tr,{onClick:Z,className:"w-50",variant:"secondary",type:"button",children:"Cancel"})]})]})})})}function $k({order:r,eventKey:t,onReceive:e}){return C.jsxs(dr,{children:[C.jsx(Yk,{disableButton:r.isReceived(),onButtonClick:e,eventKey:t,children:r}),C.jsx(tw.Collapse,{eventKey:t,children:C.jsx(dr.Body,{children:r.getContent().map((s,o)=>C.jsx("p",{className:"mb-0",children:s},o))})})]},r.getId())}function Kk({handleClose:r,onReceive:t}){return C.jsxs(Jn,{show:!0,onHide:r,children:[C.jsx(Jn.Header,{closeButton:!0,children:C.jsx(Jn.Title,{children:"Are you sure you want to receive this order? Cannot Undo"})}),C.jsxs(Jn.Footer,{children:[C.jsx(tr,{variant:"primary",onClick:()=>{r(),t()},children:"Receive"}),C.jsx(tr,{variant:"secondary",onClick:r,children:"Cancel"})]})]})}function Yk({children:r,eventKey:t,onButtonClick:e,disableButton:s}){const[o,u]=w.useState(!1),f=Xb(t);return C.jsxs(C.Fragment,{children:[o&&C.jsx(Kk,{handleClose:()=>u(!1),onReceive:e}),C.jsx(dr.Header,{children:C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[C.jsxs("div",{onClick:f,style:{flexGrow:1,cursor:"pointer"},children:[r.getDateString(),C.jsx(ow,{bg:r.getStatusColour(),className:"ms-3",children:r.getStatus()})]}),C.jsx(tr,{disabled:s,variant:s?"secondary":"primary",onClick:()=>u(!0),children:"Receive"})]})})]})}const Qk={apiKey:"AIzaSyD9-6prflaJhhuFut_6-ze9H5JI2ROG0b8",authDomain:"bllkinventory-bd8eb.firebaseapp.com",projectId:"bllkinventory-bd8eb",storageBucket:"bllkinventory-bd8eb.firebasestorage.app",messagingSenderId:"803086724359",appId:"1:803086724359:web:dcb95778290927a225e9a2"},C1=bS(Qk),Is=BD(C1),Py=pM(C1),Xk=Pu(Is,"orders");async function vg(r,t=3,e=1e3){let s=0;for(;s<t;)try{return await r()}catch(o){if(o.code==="unavailable"||o.code==="deadline-exceeded")console.warn(`Firestore operation failed (retry ${s+1}/${t}):`,o.message),await new Promise(u=>setTimeout(u,e*Math.pow(2,s))),s++;else throw o}throw new Error(`Firestore operation failed after ${t} retries.`)}function Wk(){const[r,t]=w.useState({}),[e,s]=w.useState({}),[o,u]=w.useState(null),[f,d]=w.useState(!0),[m,g]=w.useState("home");return w.useEffect(()=>{const v=nx(Py,T=>{u(T),d(!1)});return()=>v()},[]),w.useEffect(()=>{!f&&o&&Om().then(v=>{t(v),Gk(v).then(T=>s(T))})},[o]),w.useEffect(()=>{if(!f&&Object.keys(r).length>0){const v=t2(Xk,T=>{const A={};Object.values(r).forEach(z=>z.onOrder=0);for(const z of T.docs){const k=z.data(),Z=[];for(const X of k.meds)Z.push({med:r[X.id],amount:X.amount});A[z.id]=new R1(z.id,k.date.toDate(),Z,k.status)}const N=Object.entries(A);N.sort((z,k)=>z[1].compare(k[1]));const U=Object.fromEntries(N);s(U)});return()=>v()}},[r]),f?C.jsx("div",{children:"Loading authentication status..."}):o?C.jsxs(C.Fragment,{children:[C.jsx(fS,{admin:o.email==="admin@bllk.inv",setCurrentUser:u,setPage:g}),m==="home"&&C.jsx(Th,{children:C.jsx(mg,{children:Object.values(r).map(v=>C.jsx(wu,{className:"mb-3",children:C.jsx(qk,{children:v})},v.getId()))})}),m==="orders"&&C.jsx(tw,{children:Object.values(e).map((v,T)=>C.jsx($k,{eventKey:T.toString(),order:v,onReceive:()=>{if(v.getStatus()==="Ordered")for(const A of v.getEntries())A.med.onOrder=A.med.onOrder-A.amount;v.setStatus("Received"),s({...e}),ey(v.getRef(),{status:"Received"})}},v.getId()))}),m==="meds"&&C.jsx(Th,{children:C.jsxs(mg,{children:[Object.values(r).map(v=>C.jsx(wu,{className:"mb-3",children:C.jsx(hS,{handleMedChange:()=>{Om().then(T=>{t(T)})},children:v})},v.getId())),C.jsx(wu,{className:"mb-3",children:C.jsx(hS,{handleMedChange:()=>{Om().then(v=>{t(v)})},children:void 0})})]})})]}):C.jsxs(C.Fragment,{children:[C.jsx(Fk,{setCurrentUser:u}),C.jsx(fS,{admin:!1,setCurrentUser:u,setPage:g})]})}aC.createRoot(document.getElementById("root")).render(C.jsx(w.StrictMode,{children:C.jsx(Wk,{})}));

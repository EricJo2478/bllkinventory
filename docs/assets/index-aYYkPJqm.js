(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Ah(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yd={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function JA(){if(uv)return Ml;uv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=t,Ml.jsx=n,Ml.jsxs=n,Ml}var cv;function tb(){return cv||(cv=1,Yd.exports=JA()),Yd.exports}var j=tb(),$d={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function eb(){if(hv)return Nt;hv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,tt={};function Q(N,X,nt){this.props=N,this.context=X,this.refs=tt,this.updater=nt||q}Q.prototype.isReactComponent={},Q.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},Q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ht(){}ht.prototype=Q.prototype;function dt(N,X,nt){this.props=N,this.context=X,this.refs=tt,this.updater=nt||q}var st=dt.prototype=new ht;st.constructor=dt,K(st,Q.prototype),st.isPureReactComponent=!0;var mt=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function D(N,X,nt,J,ot,Rt){return nt=Rt.ref,{$$typeof:r,type:N,key:X,ref:nt!==void 0?nt:null,props:Rt}}function A(N,X){return D(N.type,X,void 0,void 0,void 0,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function x(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(nt){return X[nt]})}var V=/\/+/g;function k(N,X){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):X.toString(36)}function C(){}function re(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(X){N.status==="pending"&&(N.status="fulfilled",N.value=X)},function(X){N.status==="pending"&&(N.status="rejected",N.reason=X)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Zt(N,X,nt,J,ot){var Rt=typeof N;(Rt==="undefined"||Rt==="boolean")&&(N=null);var Et=!1;if(N===null)Et=!0;else switch(Rt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(N.$$typeof){case r:case t:Et=!0;break;case E:return Et=N._init,Zt(Et(N._payload),X,nt,J,ot)}}if(Et)return ot=ot(N),Et=J===""?"."+k(N,0):J,mt(ot)?(nt="",Et!=null&&(nt=Et.replace(V,"$&/")+"/"),Zt(ot,X,nt,"",function(Ye){return Ye})):ot!=null&&(I(ot)&&(ot=A(ot,nt+(ot.key==null||N&&N.key===ot.key?"":(""+ot.key).replace(V,"$&/")+"/")+Et)),X.push(ot)),1;Et=0;var oe=J===""?".":J+":";if(mt(N))for(var Kt=0;Kt<N.length;Kt++)J=N[Kt],Rt=oe+k(J,Kt),Et+=Zt(J,X,nt,Rt,ot);else if(Kt=R(N),typeof Kt=="function")for(N=Kt.call(N),Kt=0;!(J=N.next()).done;)J=J.value,Rt=oe+k(J,Kt++),Et+=Zt(J,X,nt,Rt,ot);else if(Rt==="object"){if(typeof N.then=="function")return Zt(re(N),X,nt,J,ot);throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Et}function G(N,X,nt){if(N==null)return N;var J=[],ot=0;return Zt(N,J,"","",function(Rt){return X.call(nt,Rt,ot++)}),J}function et(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(nt){(N._status===0||N._status===-1)&&(N._status=1,N._result=nt)},function(nt){(N._status===0||N._status===-1)&&(N._status=2,N._result=nt)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var at=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Mt(){}return Nt.Children={map:G,forEach:function(N,X,nt){G(N,function(){X.apply(this,arguments)},nt)},count:function(N){var X=0;return G(N,function(){X++}),X},toArray:function(N){return G(N,function(X){return X})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Nt.Component=Q,Nt.Fragment=n,Nt.Profiler=o,Nt.PureComponent=dt,Nt.StrictMode=s,Nt.Suspense=g,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ut.H.useMemoCache(N)}},Nt.cache=function(N){return function(){return N.apply(null,arguments)}},Nt.cloneElement=function(N,X,nt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var J=K({},N.props),ot=N.key,Rt=void 0;if(X!=null)for(Et in X.ref!==void 0&&(Rt=void 0),X.key!==void 0&&(ot=""+X.key),X)!ct.call(X,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&X.ref===void 0||(J[Et]=X[Et]);var Et=arguments.length-2;if(Et===1)J.children=nt;else if(1<Et){for(var oe=Array(Et),Kt=0;Kt<Et;Kt++)oe[Kt]=arguments[Kt+2];J.children=oe}return D(N.type,ot,void 0,void 0,Rt,J)},Nt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Nt.createElement=function(N,X,nt){var J,ot={},Rt=null;if(X!=null)for(J in X.key!==void 0&&(Rt=""+X.key),X)ct.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ot[J]=X[J]);var Et=arguments.length-2;if(Et===1)ot.children=nt;else if(1<Et){for(var oe=Array(Et),Kt=0;Kt<Et;Kt++)oe[Kt]=arguments[Kt+2];ot.children=oe}if(N&&N.defaultProps)for(J in Et=N.defaultProps,Et)ot[J]===void 0&&(ot[J]=Et[J]);return D(N,Rt,void 0,void 0,null,ot)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(N){return{$$typeof:m,render:N}},Nt.isValidElement=I,Nt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:et}},Nt.memo=function(N,X){return{$$typeof:y,type:N,compare:X===void 0?null:X}},Nt.startTransition=function(N){var X=ut.T,nt={};ut.T=nt;try{var J=N(),ot=ut.S;ot!==null&&ot(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Mt,at)}catch(Rt){at(Rt)}finally{ut.T=X}},Nt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Nt.use=function(N){return ut.H.use(N)},Nt.useActionState=function(N,X,nt){return ut.H.useActionState(N,X,nt)},Nt.useCallback=function(N,X){return ut.H.useCallback(N,X)},Nt.useContext=function(N){return ut.H.useContext(N)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(N,X){return ut.H.useDeferredValue(N,X)},Nt.useEffect=function(N,X,nt){var J=ut.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(N,X)},Nt.useId=function(){return ut.H.useId()},Nt.useImperativeHandle=function(N,X,nt){return ut.H.useImperativeHandle(N,X,nt)},Nt.useInsertionEffect=function(N,X){return ut.H.useInsertionEffect(N,X)},Nt.useLayoutEffect=function(N,X){return ut.H.useLayoutEffect(N,X)},Nt.useMemo=function(N,X){return ut.H.useMemo(N,X)},Nt.useOptimistic=function(N,X){return ut.H.useOptimistic(N,X)},Nt.useReducer=function(N,X,nt){return ut.H.useReducer(N,X,nt)},Nt.useRef=function(N){return ut.H.useRef(N)},Nt.useState=function(N){return ut.H.useState(N)},Nt.useSyncExternalStore=function(N,X,nt){return ut.H.useSyncExternalStore(N,X,nt)},Nt.useTransition=function(){return ut.H.useTransition()},Nt.version="19.1.1",Nt}var fv;function ip(){return fv||(fv=1,$d.exports=eb()),$d.exports}var O=ip();const wn=Ah(O);var Qd={exports:{}},xl={},Xd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function nb(){return dv||(dv=1,(function(r){function t(G,et){var at=G.length;G.push(et);t:for(;0<at;){var Mt=at-1>>>1,N=G[Mt];if(0<o(N,et))G[Mt]=et,G[at]=N,at=Mt;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var et=G[0],at=G.pop();if(at!==et){G[0]=at;t:for(var Mt=0,N=G.length,X=N>>>1;Mt<X;){var nt=2*(Mt+1)-1,J=G[nt],ot=nt+1,Rt=G[ot];if(0>o(J,at))ot<N&&0>o(Rt,J)?(G[Mt]=Rt,G[ot]=at,Mt=ot):(G[Mt]=J,G[nt]=at,Mt=nt);else if(ot<N&&0>o(Rt,at))G[Mt]=Rt,G[ot]=at,Mt=ot;else break t}}return et}function o(G,et){var at=G.sortIndex-et.sortIndex;return at!==0?at:G.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,b=null,R=3,q=!1,K=!1,tt=!1,Q=!1,ht=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function mt(G){for(var et=n(y);et!==null;){if(et.callback===null)s(y);else if(et.startTime<=G)s(y),et.sortIndex=et.expirationTime,t(g,et);else break;et=n(y)}}function ut(G){if(tt=!1,mt(G),!K)if(n(g)!==null)K=!0,ct||(ct=!0,k());else{var et=n(y);et!==null&&Zt(ut,et.startTime-G)}}var ct=!1,D=-1,A=5,I=-1;function x(){return Q?!0:!(r.unstable_now()-I<A)}function V(){if(Q=!1,ct){var G=r.unstable_now();I=G;var et=!0;try{t:{K=!1,tt&&(tt=!1,dt(D),D=-1),q=!0;var at=R;try{e:{for(mt(G),b=n(g);b!==null&&!(b.expirationTime>G&&x());){var Mt=b.callback;if(typeof Mt=="function"){b.callback=null,R=b.priorityLevel;var N=Mt(b.expirationTime<=G);if(G=r.unstable_now(),typeof N=="function"){b.callback=N,mt(G),et=!0;break e}b===n(g)&&s(g),mt(G)}else s(g);b=n(g)}if(b!==null)et=!0;else{var X=n(y);X!==null&&Zt(ut,X.startTime-G),et=!1}}break t}finally{b=null,R=at,q=!1}et=void 0}}finally{et?k():ct=!1}}}var k;if(typeof st=="function")k=function(){st(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,re=C.port2;C.port1.onmessage=V,k=function(){re.postMessage(null)}}else k=function(){ht(V,0)};function Zt(G,et){D=ht(function(){G(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(G){switch(R){case 1:case 2:case 3:var et=3;break;default:et=R}var at=R;R=et;try{return G()}finally{R=at}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var at=R;R=G;try{return et()}finally{R=at}},r.unstable_scheduleCallback=function(G,et,at){var Mt=r.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Mt+at:Mt):at=Mt,G){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=at+N,G={id:E++,callback:et,priorityLevel:G,startTime:at,expirationTime:N,sortIndex:-1},at>Mt?(G.sortIndex=at,t(y,G),n(g)===null&&G===n(y)&&(tt?(dt(D),D=-1):tt=!0,Zt(ut,at-Mt))):(G.sortIndex=N,t(g,G),K||q||(K=!0,ct||(ct=!0,k()))),G},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(G){var et=R;return function(){var at=R;R=et;try{return G.apply(this,arguments)}finally{R=at}}}})(Zd)),Zd}var mv;function ib(){return mv||(mv=1,Xd.exports=nb()),Xd.exports}var Wd={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function rb(){if(pv)return Ze;pv=1;var r=ip();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Ze.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Ze.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ze.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ze.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:q}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:R,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ze.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ze.requestFormReset=function(g){s.d.r(g)},Ze.unstable_batchedUpdates=function(g,y){return g(y)},Ze.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Ze.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ze.version="19.1.1",Ze}var gv;function mT(){if(gv)return Wd.exports;gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Wd.exports=rb(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function sb(){if(yv)return xl;yv=1;var r=ib(),t=ip(),n=mT();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ht=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case Q:return"Profiler";case tt:return"StrictMode";case ut:return"Suspense";case ct:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case st:return(e.displayName||"Context")+".Provider";case dt:return(e._context.displayName||"Context")+".Consumer";case mt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:re(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return re(e(i))}catch{}}return null}var Zt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Mt=[],N=-1;function X(e){return{current:e}}function nt(e){0>N||(e.current=Mt[N],Mt[N]=null,N--)}function J(e,i){N++,Mt[N]=e.current,e.current=i}var ot=X(null),Rt=X(null),Et=X(null),oe=X(null);function Kt(e,i){switch(J(Et,i),J(Rt,e),J(ot,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?U_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=U_(i),e=P_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ot),J(ot,e)}function Ye(){nt(ot),nt(Rt),nt(Et)}function nn(e){e.memoizedState!==null&&J(oe,e);var i=ot.current,a=P_(i,e.type);i!==a&&(J(Rt,e),J(ot,a))}function cn(e){Rt.current===e&&(nt(ot),nt(Rt)),oe.current===e&&(nt(oe),Cl._currentValue=at)}var hn=Object.prototype.hasOwnProperty,yn=r.unstable_scheduleCallback,fn=r.unstable_cancelCallback,Yt=r.unstable_shouldYield,Si=r.unstable_requestPaint,Me=r.unstable_now,Ro=r.unstable_getCurrentPriorityLevel,ss=r.unstable_ImmediatePriority,ar=r.unstable_UserBlockingPriority,Ai=r.unstable_NormalPriority,wo=r.unstable_LowPriority,or=r.unstable_IdlePriority,lr=r.log,Zs=r.unstable_setDisableYieldValue,_t=null,kt=null;function $e(e){if(typeof lr=="function"&&Zs(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(_t,e)}catch{}}var Qe=Math.clz32?Math.clz32:as,gu=Math.log,$h=Math.LN2;function as(e){return e>>>=0,e===0?32:31-(gu(e)/$h|0)|0}var os=256,ls=4194304;function zn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ws(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=zn(l):(v&=T,v!==0?h=zn(v):a||(a=T&~e,a!==0&&(h=zn(a))))):(T=l&~d,T!==0?h=zn(T):v!==0?h=zn(v):a||(a=l&~e,a!==0&&(h=zn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function us(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Co(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var e=os;return os<<=1,(os&4194048)===0&&(os=256),e}function No(){var e=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),e}function bi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ri(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-Qe(a),Z=1<<Y;T[Y]=0,w[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&Xn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Xn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Qe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Do(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Qe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Js(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cr(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:iv(e.type))}function yu(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var se=Math.random().toString(36).slice(2),Re="__reactFiber$"+se,_e="__reactProps$"+se,Cn="__reactContainer$"+se,Mo="__reactEvents$"+se,Qh="__reactListeners$"+se,hr="__reactHandles$"+se,_u="__reactResources$"+se,cs="__reactMarker$"+se;function fr(e){delete e[Re],delete e[_e],delete e[Mo],delete e[Qh],delete e[hr]}function wi(e){var i=e[Re];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Cn]||a[Re]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=H_(e);e!==null;){if(a=e[Re])return a;e=H_(e)}return i}e=a,a=e.parentNode}return null}function Zn(e){if(e=e[Re]||e[Cn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Wn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function rn(e){var i=e[_u];return i||(i=e[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function de(e){e[cs]=!0}var xo=new Set,ta={};function Bn(e,i){Ci(e,i),Ci(e+"Capture",i)}function Ci(e,i){for(ta[e]=i,e=0;e<i.length;e++)xo.add(i[e])}var vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eu={},hs={};function Tu(e){return hn.call(hs,e)?!0:hn.call(Eu,e)?!1:vu.test(e)?hs[e]=!0:(Eu[e]=!0,!1)}function dr(e,i,a){if(Tu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Jn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function je(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var fs,Su;function Ii(e){if(fs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fs=i&&i[1]||"",Su=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+e+Su}var ea=!1;function na(e,i){if(!e||ea)return"";ea=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var B=H}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(H){B=H}e.call(Z.prototype)}}else{try{throw Error()}catch(H){B=H}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var w=v.split(`
`),z=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===z.length)for(l=w.length-1,h=z.length-1;1<=l&&0<=h&&w[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==z[h]){var Y=`
`+w[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{ea=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ii(a):""}function Vo(e){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return na(e.type,!1);case 11:return na(e.type.render,!1);case 1:return na(e.type,!0);case 31:return Ii("Activity");default:return""}}function ia(e){try{var i="";do i+=Vo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ko(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xh(e){var i=ko(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ra(e){e._valueTracker||(e._valueTracker=Xh(e))}function Lo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=ko(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zh=/[\n"\\]/g;function ve(e){return e.replace(Zh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _n(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+sn(i)):e.value!==""+sn(i)&&(e.value=""+sn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?mr(e,v,sn(i)):a!=null?mr(e,v,sn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+sn(T):e.removeAttribute("name")}function ms(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+sn(a):"",i=i!=null?""+sn(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function mr(e,i,a){i==="number"&&ds(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ni(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+sn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Wt(e,i,a){if(i!=null&&(i=""+sn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+sn(a):""}function ps(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Zt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=sn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function In(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||gs.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Uo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Au(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Au(e,d,i[d])}function Po(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return Jh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Oi=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,Mi=null;function jo(e){var i=Zn(e);if(i&&(e=i.stateNode)){var a=e[_e]||null;t:switch(e=i.stateNode,i.type){case"input":if(_n(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ve(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[_e]||null;if(!h)throw Error(s(90));_n(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Lo(l)}break t;case"textarea":Wt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ni(e,!!a.multiple,i,!1)}}}var ti=!1;function bu(e,i,a){if(ti)return e(i,a);ti=!0;try{var l=e(i);return l}finally{if(ti=!1,(Di!==null||Mi!==null)&&(yc(),Di&&(i=Di,e=Mi,Mi=Di=null,jo(i),e)))for(i=0;i<e.length;i++)jo(e[i])}}function ys(e,i){var a=e.stateNode;if(a===null)return null;var l=a[_e]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(Hn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){On=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{On=!1}var ei=null,pr=null,xi=null;function zo(){if(xi)return xi;var e,i=pr,a=i.length,l,h="value"in ei?ei.value:ei.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return xi=h.slice(e,1<l?1-l:void 0)}function ni(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function Bo(){return!1}function xe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:Bo,this.isPropagationStopped=Bo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),i}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=xe($t),vs=E({},$t,{view:0,detail:0}),Ru=xe(vs),oa,la,ri,Es=E({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(oa=e.screenX-ri.screenX,la=e.screenY-ri.screenY):la=oa=0,ri=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Dn=xe(Es),wu=E({},Es,{dataTransfer:0}),tf=xe(wu),Ts=E({},vs,{relatedTarget:0}),ua=xe(Ts),Ho=E({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),ca=xe(Ho),Cu=E({},$t,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ha=xe(Cu),ef=E({},$t,{data:0}),qo=xe(ef),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Nu[e])?!!i[e]:!1}function As(){return Fo}var Ou=E({},vs,{key:function(e){if(e.key){var i=Ss[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fa=xe(Ou),Du=E({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=xe(Du),Vi=E({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),Mu=xe(Vi),xu=E({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=xe(xu),ku=E({},Es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),da=xe(ku),an=E({},$t,{newState:0,oldState:0}),Lu=xe(an),Uu=[9,13,27,32],si=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var p=Hn&&"TextEvent"in window&&!c,_=Hn&&(!si||c&&8<c&&11>=c),S=" ",U=!1;function F(e,i){switch(e){case"keyup":return Uu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function we(e,i){switch(e){case"compositionend":return it(i);case"keypress":return i.which!==32?null:(U=!0,S);case"textInput":return e=i.data,e===S&&U?null:e;default:return null}}function jt(e,i){if(Pt)return e==="compositionend"||!si&&F(e,i)?(e=zo(),xi=pr=ei=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ce(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ve[e.type]:i==="textarea"}function ki(e,i,a,l){Di?Mi?Mi.push(l):Mi=[l]:Di=l,i=Ac(i,"onChange"),0<i.length&&(a=new aa("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var ze=null,ai=null;function Ko(e){M_(e,0)}function Pu(e){var i=Wn(e);if(Lo(i))return e}function Jp(e,i){if(e==="change")return i}var tg=!1;if(Hn){var nf;if(Hn){var rf="oninput"in document;if(!rf){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),rf=typeof eg.oninput=="function"}nf=rf}else nf=!1;tg=nf&&(!document.documentMode||9<document.documentMode)}function ng(){ze&&(ze.detachEvent("onpropertychange",ig),ai=ze=null)}function ig(e){if(e.propertyName==="value"&&Pu(ai)){var i=[];ki(i,ai,e,Nn(e)),bu(Ko,i)}}function N1(e,i,a){e==="focusin"?(ng(),ze=i,ai=a,ze.attachEvent("onpropertychange",ig)):e==="focusout"&&ng()}function O1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pu(ai)}function D1(e,i){if(e==="click")return Pu(i)}function M1(e,i){if(e==="input"||e==="change")return Pu(i)}function x1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var vn=typeof Object.is=="function"?Object.is:x1;function Yo(e,i){if(vn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!hn.call(i,h)||!vn(e[h],i[h]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sg(e,i){var a=rg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=rg(a)}}function ag(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ag(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ds(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ds(e.document)}return i}function sf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var V1=Hn&&"documentMode"in document&&11>=document.documentMode,ma=null,af=null,$o=null,of=!1;function lg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;of||ma==null||ma!==ds(l)||(l=ma,"selectionStart"in l&&sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Yo($o,l)||($o=l,l=Ac(af,"onSelect"),0<l.length&&(i=new aa("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ma)))}function bs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var pa={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},lf={},ug={};Hn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Rs(e){if(lf[e])return lf[e];if(!pa[e])return e;var i=pa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ug)return lf[e]=i[a];return e}var cg=Rs("animationend"),hg=Rs("animationiteration"),fg=Rs("animationstart"),k1=Rs("transitionrun"),L1=Rs("transitionstart"),U1=Rs("transitioncancel"),dg=Rs("transitionend"),mg=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function qn(e,i){mg.set(e,i),Bn(i,[e])}var pg=new WeakMap;function Mn(e,i){if(typeof e=="object"&&e!==null){var a=pg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ia(i)},pg.set(e,i),i)}return{value:e,source:i,stack:ia(i)}}var xn=[],ga=0,cf=0;function ju(){for(var e=ga,i=cf=ga=0;i<e;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&gg(a,h,d)}}function zu(e,i,a,l){xn[ga++]=e,xn[ga++]=i,xn[ga++]=a,xn[ga++]=l,cf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function hf(e,i,a,l){return zu(e,i,a,l),Bu(e)}function ya(e,i){return zu(e,null,null,i),Bu(e)}function gg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Qe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Bu(e){if(50<vl)throw vl=0,yd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var _a={};function P1(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,i,a,l){return new P1(e,i,a,l)}function ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,i){var a=e.alternate;return a===null?(a=En(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function yg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Hu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")ff(e)&&(v=1);else if(typeof e=="string")v=zA(e,a,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=En(31,a,i,h),e.elementType=I,e.lanes=d,e;case K:return ws(a.children,h,d,i);case tt:v=8,h|=24;break;case Q:return e=En(12,a,i,h|2),e.elementType=Q,e.lanes=d,e;case ut:return e=En(13,a,i,h),e.elementType=ut,e.lanes=d,e;case ct:return e=En(19,a,i,h),e.elementType=ct,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:case st:v=10;break t;case dt:v=9;break t;case mt:v=11;break t;case D:v=14;break t;case A:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=En(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ws(e,i,a,l){return e=En(7,e,l,i),e.lanes=a,e}function df(e,i,a){return e=En(6,e,null,i),e.lanes=a,e}function mf(e,i,a){return i=En(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var va=[],Ea=0,qu=null,Fu=0,Vn=[],kn=0,Cs=null,Ui=1,Pi="";function Is(e,i){va[Ea++]=Fu,va[Ea++]=qu,qu=e,Fu=i}function _g(e,i,a){Vn[kn++]=Ui,Vn[kn++]=Pi,Vn[kn++]=Cs,Cs=e;var l=Ui;e=Pi;var h=32-Qe(l)-1;l&=~(1<<h),a+=1;var d=32-Qe(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ui=1<<32-Qe(i)+h|a<<h|l,Pi=d+e}else Ui=1<<d|a<<h|l,Pi=e}function pf(e){e.return!==null&&(Is(e,1),_g(e,1,0))}function gf(e){for(;e===qu;)qu=va[--Ea],va[Ea]=null,Fu=va[--Ea],va[Ea]=null;for(;e===Cs;)Cs=Vn[--kn],Vn[kn]=null,Pi=Vn[--kn],Vn[kn]=null,Ui=Vn[--kn],Vn[kn]=null}var on=null,he=null,Gt=!1,Ns=null,oi=!1,yf=Error(s(519));function Os(e){var i=Error(s(418,""));throw Zo(Mn(i,e)),yf}function vg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Re]=e,i[_e]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Vt(Tl[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),ms(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ra(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),ps(i,l.value,l.defaultValue,l.children),ra(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||L_(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=bc),i=!0):i=!1,i||Os(e)}function Eg(e){for(on=e.return;on;)switch(on.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:on=on.return}}function Qo(e){if(e!==on)return!1;if(!Gt)return Eg(e),Gt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||xd(e.type,e.memoizedProps)),a=!a),a&&he&&Os(e),Eg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){he=Gn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}he=null}}else i===27?(i=he,Dr(e.type)?(e=Ud,Ud=null,he=e):he=i):he=on?Gn(e.stateNode.nextSibling):null;return!0}function Xo(){he=on=null,Gt=!1}function Tg(){var e=Ns;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ns=null),e}function Zo(e){Ns===null?Ns=[e]:Ns.push(e)}var _f=X(null),Ds=null,ji=null;function gr(e,i,a){J(_f,i._currentValue),i._currentValue=a}function zi(e){e._currentValue=_f.current,nt(_f)}function vf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Ef(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var w=0;w<i.length;w++)if(T.context===i[w]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),vf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),vf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Wo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;vn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===oe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}h=h.return}e!==null&&Ef(i,e,a,l),i.flags|=262144}function Gu(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){Ds=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return Sg(Ds,e)}function Ku(e,i){return Ds===null&&Ms(e),Sg(e,i)}function Sg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ji===null){if(e===null)throw Error(s(308));ji=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ji=ji.next=i;return a}var j1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},z1=r.unstable_scheduleCallback,B1=r.unstable_NormalPriority,Ie={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new j1,data:new Map,refCount:0}}function Jo(e){e.refCount--,e.refCount===0&&z1(B1,function(){e.controller.abort()})}var tl=null,Sf=0,Ta=0,Sa=null;function H1(e,i){if(tl===null){var a=tl=[];Sf=0,Ta=bd(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,i.then(Ag,Ag),i}function Ag(){if(--Sf===0&&tl!==null){Sa!==null&&(Sa.status="fulfilled");var e=tl;tl=null,Ta=0,Sa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function q1(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var bg=G.S;G.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&H1(e,i),bg!==null&&bg(e,i)};var xs=X(null);function Af(){var e=xs.current;return e!==null?e:ie.pooledCache}function Yu(e,i){i===null?J(xs,xs.current):J(xs,i.pool)}function Rg(){var e=Af();return e===null?null:{parent:Ie._currentValue,pool:e}}var el=Error(s(460)),wg=Error(s(474)),$u=Error(s(542)),bf={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qu(){}function Ig(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Qu,Qu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Og(e),e;default:if(typeof i.status=="string")i.then(Qu,Qu);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Og(e),e}throw nl=i,el}}var nl=null;function Ng(){if(nl===null)throw Error(s(459));var e=nl;return nl=null,e}function Og(e){if(e===el||e===$u)throw Error(s(483))}var yr=!1;function Rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(e),gg(e,null,a),i}return zu(e,l,i,a),Bu(e)}function il(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Do(e,a)}}function Cf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var If=!1;function rl(){if(If){var e=Sa;if(e!==null)throw e}}function sl(e,i,a,l){If=!1;var h=e.updateQueue;yr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,z=w.next;w.next=null,v===null?d=z:v.next=z,v=w;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=w))}if(d!==null){var Z=h.baseState;v=0,Y=z=w=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(zt&B)===B:(l&B)===B){B!==0&&B===Ta&&(If=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var wt=e,vt=T;B=i;var ee=a;switch(vt.tag){case 1:if(wt=vt.payload,typeof wt=="function"){Z=wt.call(ee,Z,B);break t}Z=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=vt.payload,B=typeof wt=="function"?wt.call(ee,Z,B):wt,B==null)break t;Z=E({},Z,B);break t;case 2:yr=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=H,w=Z):Y=Y.next=H,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(w=Z),h.baseState=w,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Cr|=v,e.lanes=v,e.memoizedState=Z}}function Dg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Mg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Dg(a[e],i)}var Aa=X(null),Xu=X(0);function xg(e,i){e=Yi,J(Xu,e),J(Aa,i),Yi=e|i.baseLanes}function Nf(){J(Xu,Yi),J(Aa,Aa.current)}function Of(){Yi=Xu.current,nt(Aa),nt(Xu)}var Er=0,Ot=null,Jt=null,Ee=null,Zu=!1,ba=!1,Vs=!1,Wu=0,al=0,Ra=null,F1=0;function me(){throw Error(s(321))}function Df(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!vn(e[a],i[a]))return!1;return!0}function Mf(e,i,a,l,h,d){return Er=d,Ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?gy:yy,Vs=!1,d=a(l,h),Vs=!1,ba&&(d=kg(i,a,l,h)),Vg(e),d}function Vg(e){G.H=rc;var i=Jt!==null&&Jt.next!==null;if(Er=0,Ee=Jt=Ot=null,Zu=!1,al=0,Ra=null,i)throw Error(s(300));e===null||ke||(e=e.dependencies,e!==null&&Gu(e)&&(ke=!0))}function kg(e,i,a,l){Ot=e;var h=0;do{if(ba&&(Ra=null),al=0,ba=!1,25<=h)throw Error(s(301));if(h+=1,Ee=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Z1,d=i(a,l)}while(ba);return d}function G1(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?ol(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Ot.flags|=1024),i}function xf(){var e=Wu!==0;return Wu=0,e}function Vf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function kf(e){if(Zu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Zu=!1}Er=0,Ee=Jt=Ot=null,ba=!1,al=Wu=0,Ra=null}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Ot.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function Te(){if(Jt===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Ee===null?Ot.memoizedState:Ee.next;if(i!==null)Ee=i,Jt=e;else{if(e===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ee===null?Ot.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var i=al;return al+=1,Ra===null&&(Ra=[]),e=Ig(Ra,e,i),i=Ot,(Ee===null?i.memoizedState:Ee.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?gy:yy),e}function Ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===st)return Xe(e)}throw Error(s(438,String(e)))}function Uf(e){var i=null,a=Ot.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Lf(),Ot.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=x;return i.index++,a}function Bi(e,i){return typeof i=="function"?i(e):i}function tc(e){var i=Te();return Pf(i,Jt,e)}function Pf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,w=null,z=i,Y=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(zt&Z)===Z:(Er&Z)===Z){var B=z.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Ta&&(Y=!0);else if((Er&B)===B){z=z.next,B===Ta&&(Y=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=Z,v=d):w=w.next=Z,Ot.lanes|=B,Cr|=B;Z=z.action,Vs&&a(d,Z),d=z.hasEagerState?z.eagerState:a(d,Z)}else B={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=B,v=d):w=w.next=B,Ot.lanes|=Z,Cr|=Z;z=z.next}while(z!==null&&z!==i);if(w===null?v=d:w.next=T,!vn(d,e.memoizedState)&&(ke=!0,Y&&(a=Sa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function jf(e){var i=Te(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);vn(d,i.memoizedState)||(ke=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Lg(e,i,a){var l=Ot,h=Te(),d=Gt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!vn((Jt||h).memoizedState,a);v&&(h.memoizedState=a,ke=!0),h=h.queue;var T=jg.bind(null,l,h,e);if(ll(2048,8,T,[e]),h.getSnapshot!==i||v||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,wa(9,ec(),Pg.bind(null,l,h,a,i),null),ie===null)throw Error(s(349));d||(Er&124)!==0||Ug(l,i,a)}return a}function Ug(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ot.updateQueue,i===null?(i=Lf(),Ot.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Pg(e,i,a,l){i.value=a,i.getSnapshot=l,zg(i)&&Bg(e)}function jg(e,i,a){return a(function(){zg(i)&&Bg(e)})}function zg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!vn(e,a)}catch{return!0}}function Bg(e){var i=ya(e,2);i!==null&&Rn(i,e,2)}function zf(e){var i=dn();if(typeof e=="function"){var a=e;if(e=a(),Vs){$e(!0);try{a()}finally{$e(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},i}function Hg(e,i,a,l){return e.baseState=a,Pf(e,Jt,typeof l=="function"?l:Bi)}function K1(e,i,a,l,h){if(ic(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,qg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function qg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,v={};G.T=v;try{var T=a(h,l),w=G.S;w!==null&&w(v,T),Fg(e,i,T)}catch(z){Bf(e,i,z)}finally{G.T=d}}else try{d=a(h,l),Fg(e,i,d)}catch(z){Bf(e,i,z)}}function Fg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gg(e,i,l)},function(l){return Bf(e,i,l)}):Gg(e,i,a)}function Gg(e,i,a){i.status="fulfilled",i.value=a,Kg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,qg(e,a)))}function Bf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Kg(i),i=i.next;while(i!==l)}e.action=null}function Kg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Yg(e,i){return i}function $g(e,i){if(Gt){var a=ie.formState;if(a!==null){t:{var l=Ot;if(Gt){if(he){e:{for(var h=he,d=oi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Gn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){he=Gn(h.nextSibling),l=h.data==="F!";break t}}Os(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:i},a.queue=l,a=dy.bind(null,Ot,l),l.dispatch=a,l=zf(!1),d=Kf.bind(null,Ot,!1,l.queue),l=dn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=K1.bind(null,Ot,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Qg(e){var i=Te();return Xg(i,Jt,e)}function Xg(e,i,a){if(i=Pf(e,i,Yg)[0],e=tc(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ol(i)}catch(v){throw v===el?$u:v}else l=i;i=Te();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ot.flags|=2048,wa(9,ec(),Y1.bind(null,h,a),null)),[l,d,e]}function Y1(e,i){e.action=i}function Zg(e){var i=Te(),a=Jt;if(a!==null)return Xg(i,a,e);Te(),i=i.memoizedState,a=Te();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function wa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Ot.updateQueue,i===null&&(i=Lf(),Ot.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function ec(){return{destroy:void 0,resource:void 0}}function Wg(){return Te().memoizedState}function nc(e,i,a,l){var h=dn();l=l===void 0?null:l,Ot.flags|=e,h.memoizedState=wa(1|i,ec(),a,l)}function ll(e,i,a,l){var h=Te();l=l===void 0?null:l;var d=h.memoizedState.inst;Jt!==null&&l!==null&&Df(l,Jt.memoizedState.deps)?h.memoizedState=wa(i,d,a,l):(Ot.flags|=e,h.memoizedState=wa(1|i,d,a,l))}function Jg(e,i){nc(8390656,8,e,i)}function ty(e,i){ll(2048,8,e,i)}function ey(e,i){return ll(4,2,e,i)}function ny(e,i){return ll(4,4,e,i)}function iy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ry(e,i,a){a=a!=null?a.concat([e]):null,ll(4,4,iy.bind(null,i,e),a)}function Hf(){}function sy(e,i){var a=Te();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Df(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function ay(e,i){var a=Te();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Df(i,l[1]))return l[0];if(l=e(),Vs){$e(!0);try{e()}finally{$e(!1)}}return a.memoizedState=[l,i],l}function qf(e,i,a){return a===void 0||(Er&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=u_(),Ot.lanes|=e,Cr|=e,a)}function oy(e,i,a,l){return vn(a,i)?a:Aa.current!==null?(e=qf(e,a,l),vn(e,i)||(ke=!0),e):(Er&42)===0?(ke=!0,e.memoizedState=a):(e=u_(),Ot.lanes|=e,Cr|=e,i)}function ly(e,i,a,l,h){var d=et.p;et.p=d!==0&&8>d?d:8;var v=G.T,T={};G.T=T,Kf(e,!1,i,a);try{var w=h(),z=G.S;if(z!==null&&z(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Y=q1(w,l);ul(e,i,Y,bn(e))}else ul(e,i,l,bn(e))}catch(Z){ul(e,i,{then:function(){},status:"rejected",reason:Z},bn())}finally{et.p=d,G.T=v}}function $1(){}function Ff(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=uy(e).queue;ly(e,h,i,at,a===null?$1:function(){return cy(e),a(l)})}function uy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:at},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function cy(e){var i=uy(e).next.queue;ul(e,i,{},bn())}function Gf(){return Xe(Cl)}function hy(){return Te().memoizedState}function fy(){return Te().memoizedState}function Q1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();e=_r(a);var l=vr(i,e,a);l!==null&&(Rn(l,i,a),il(l,i,a)),i={cache:Tf()},e.payload=i;return}i=i.return}}function X1(e,i,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ic(e)?my(i,a):(a=hf(e,i,a,l),a!==null&&(Rn(a,e,l),py(a,i,l)))}function dy(e,i,a){var l=bn();ul(e,i,a,l)}function ul(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(e))my(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,vn(T,v))return zu(e,i,h,0),ie===null&&ju(),!1}catch{}finally{}if(a=hf(e,i,h,l),a!==null)return Rn(a,e,l),py(a,i,l),!0}return!1}function Kf(e,i,a,l){if(l={lane:2,revertLane:bd(),action:l,hasEagerState:!1,eagerState:null,next:null},ic(e)){if(i)throw Error(s(479))}else i=hf(e,a,l,2),i!==null&&Rn(i,e,2)}function ic(e){var i=e.alternate;return e===Ot||i!==null&&i===Ot}function my(e,i){ba=Zu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function py(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Do(e,a)}}var rc={readContext:Xe,use:Ju,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me},gy={readContext:Xe,use:Ju,useCallback:function(e,i){return dn().memoizedState=[e,i===void 0?null:i],e},useContext:Xe,useEffect:Jg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,nc(4194308,4,iy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return nc(4194308,4,e,i)},useInsertionEffect:function(e,i){nc(4,2,e,i)},useMemo:function(e,i){var a=dn();i=i===void 0?null:i;var l=e();if(Vs){$e(!0);try{e()}finally{$e(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=dn();if(a!==void 0){var h=a(i);if(Vs){$e(!0);try{a(i)}finally{$e(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=X1.bind(null,Ot,e),[l.memoizedState,e]},useRef:function(e){var i=dn();return e={current:e},i.memoizedState=e},useState:function(e){e=zf(e);var i=e.queue,a=dy.bind(null,Ot,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(e,i){var a=dn();return qf(a,e,i)},useTransition:function(){var e=zf(!1);return e=ly.bind(null,Ot,e.queue,!0,!1),dn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ot,h=dn();if(Gt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ie===null)throw Error(s(349));(zt&124)!==0||Ug(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Jg(jg.bind(null,l,d,e),[e]),l.flags|=2048,wa(9,ec(),Pg.bind(null,l,d,a,i),null),a},useId:function(){var e=dn(),i=ie.identifierPrefix;if(Gt){var a=Pi,l=Ui;a=(l&~(1<<32-Qe(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=F1++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Gf,useFormState:$g,useActionState:$g,useOptimistic:function(e){var i=dn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,Ot,!0,a),a.dispatch=i,[e,i]},useMemoCache:Uf,useCacheRefresh:function(){return dn().memoizedState=Q1.bind(null,Ot)}},yy={readContext:Xe,use:Ju,useCallback:sy,useContext:Xe,useEffect:ty,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ny,useMemo:ay,useReducer:tc,useRef:Wg,useState:function(){return tc(Bi)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=Te();return oy(a,Jt.memoizedState,e,i)},useTransition:function(){var e=tc(Bi)[0],i=Te().memoizedState;return[typeof e=="boolean"?e:ol(e),i]},useSyncExternalStore:Lg,useId:hy,useHostTransitionStatus:Gf,useFormState:Qg,useActionState:Qg,useOptimistic:function(e,i){var a=Te();return Hg(a,Jt,e,i)},useMemoCache:Uf,useCacheRefresh:fy},Z1={readContext:Xe,use:Ju,useCallback:sy,useContext:Xe,useEffect:ty,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ny,useMemo:ay,useReducer:jf,useRef:Wg,useState:function(){return jf(Bi)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=Te();return Jt===null?qf(a,e,i):oy(a,Jt.memoizedState,e,i)},useTransition:function(){var e=jf(Bi)[0],i=Te().memoizedState;return[typeof e=="boolean"?e:ol(e),i]},useSyncExternalStore:Lg,useId:hy,useHostTransitionStatus:Gf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,i){var a=Te();return Jt!==null?Hg(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:fy},Ca=null,cl=0;function sc(e){var i=cl;return cl+=1,Ca===null&&(Ca=[]),Ig(Ca,e,i)}function hl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ac(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function _y(e){var i=e._init;return i(e._payload)}function vy(e){function i(L,M){if(e){var P=L.deletions;P===null?(L.deletions=[M],L.flags|=16):P.push(M)}}function a(L,M){if(!e)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Li(L,M),L.index=0,L.sibling=null,L}function d(L,M,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<M?(L.flags|=67108866,M):P):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,P,$){return M===null||M.tag!==6?(M=df(P,L.mode,$),M.return=L,M):(M=h(M,P),M.return=L,M)}function w(L,M,P,$){var ft=P.type;return ft===K?Y(L,M,P.props.children,$,P.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&_y(ft)===M.type)?(M=h(M,P.props),hl(M,P),M.return=L,M):(M=Hu(P.type,P.key,P.props,null,L.mode,$),hl(M,P),M.return=L,M)}function z(L,M,P,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=mf(P,L.mode,$),M.return=L,M):(M=h(M,P.children||[]),M.return=L,M)}function Y(L,M,P,$,ft){return M===null||M.tag!==7?(M=ws(P,L.mode,$,ft),M.return=L,M):(M=h(M,P),M.return=L,M)}function Z(L,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=df(""+M,L.mode,P),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case R:return P=Hu(M.type,M.key,M.props,null,L.mode,P),hl(P,M),P.return=L,P;case q:return M=mf(M,L.mode,P),M.return=L,M;case A:var $=M._init;return M=$(M._payload),Z(L,M,P)}if(Zt(M)||k(M))return M=ws(M,L.mode,P,null),M.return=L,M;if(typeof M.then=="function")return Z(L,sc(M),P);if(M.$$typeof===st)return Z(L,Ku(L,M),P);ac(L,M)}return null}function B(L,M,P,$){var ft=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:T(L,M,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return P.key===ft?w(L,M,P,$):null;case q:return P.key===ft?z(L,M,P,$):null;case A:return ft=P._init,P=ft(P._payload),B(L,M,P,$)}if(Zt(P)||k(P))return ft!==null?null:Y(L,M,P,$,null);if(typeof P.then=="function")return B(L,M,sc(P),$);if(P.$$typeof===st)return B(L,M,Ku(L,P),$);ac(L,P)}return null}function H(L,M,P,$,ft){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(P)||null,T(M,L,""+$,ft);if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return L=L.get($.key===null?P:$.key)||null,w(M,L,$,ft);case q:return L=L.get($.key===null?P:$.key)||null,z(M,L,$,ft);case A:var Dt=$._init;return $=Dt($._payload),H(L,M,P,$,ft)}if(Zt($)||k($))return L=L.get(P)||null,Y(M,L,$,ft,null);if(typeof $.then=="function")return H(L,M,P,sc($),ft);if($.$$typeof===st)return H(L,M,P,Ku(M,$),ft);ac(M,$)}return null}function wt(L,M,P,$){for(var ft=null,Dt=null,pt=M,Tt=M=0,Ue=null;pt!==null&&Tt<P.length;Tt++){pt.index>Tt?(Ue=pt,pt=null):Ue=pt.sibling;var Ft=B(L,pt,P[Tt],$);if(Ft===null){pt===null&&(pt=Ue);break}e&&pt&&Ft.alternate===null&&i(L,pt),M=d(Ft,M,Tt),Dt===null?ft=Ft:Dt.sibling=Ft,Dt=Ft,pt=Ue}if(Tt===P.length)return a(L,pt),Gt&&Is(L,Tt),ft;if(pt===null){for(;Tt<P.length;Tt++)pt=Z(L,P[Tt],$),pt!==null&&(M=d(pt,M,Tt),Dt===null?ft=pt:Dt.sibling=pt,Dt=pt);return Gt&&Is(L,Tt),ft}for(pt=l(pt);Tt<P.length;Tt++)Ue=H(pt,L,Tt,P[Tt],$),Ue!==null&&(e&&Ue.alternate!==null&&pt.delete(Ue.key===null?Tt:Ue.key),M=d(Ue,M,Tt),Dt===null?ft=Ue:Dt.sibling=Ue,Dt=Ue);return e&&pt.forEach(function(Lr){return i(L,Lr)}),Gt&&Is(L,Tt),ft}function vt(L,M,P,$){if(P==null)throw Error(s(151));for(var ft=null,Dt=null,pt=M,Tt=M=0,Ue=null,Ft=P.next();pt!==null&&!Ft.done;Tt++,Ft=P.next()){pt.index>Tt?(Ue=pt,pt=null):Ue=pt.sibling;var Lr=B(L,pt,Ft.value,$);if(Lr===null){pt===null&&(pt=Ue);break}e&&pt&&Lr.alternate===null&&i(L,pt),M=d(Lr,M,Tt),Dt===null?ft=Lr:Dt.sibling=Lr,Dt=Lr,pt=Ue}if(Ft.done)return a(L,pt),Gt&&Is(L,Tt),ft;if(pt===null){for(;!Ft.done;Tt++,Ft=P.next())Ft=Z(L,Ft.value,$),Ft!==null&&(M=d(Ft,M,Tt),Dt===null?ft=Ft:Dt.sibling=Ft,Dt=Ft);return Gt&&Is(L,Tt),ft}for(pt=l(pt);!Ft.done;Tt++,Ft=P.next())Ft=H(pt,L,Tt,Ft.value,$),Ft!==null&&(e&&Ft.alternate!==null&&pt.delete(Ft.key===null?Tt:Ft.key),M=d(Ft,M,Tt),Dt===null?ft=Ft:Dt.sibling=Ft,Dt=Ft);return e&&pt.forEach(function(WA){return i(L,WA)}),Gt&&Is(L,Tt),ft}function ee(L,M,P,$){if(typeof P=="object"&&P!==null&&P.type===K&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case R:t:{for(var ft=P.key;M!==null;){if(M.key===ft){if(ft=P.type,ft===K){if(M.tag===7){a(L,M.sibling),$=h(M,P.props.children),$.return=L,L=$;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&_y(ft)===M.type){a(L,M.sibling),$=h(M,P.props),hl($,P),$.return=L,L=$;break t}a(L,M);break}else i(L,M);M=M.sibling}P.type===K?($=ws(P.props.children,L.mode,$,P.key),$.return=L,L=$):($=Hu(P.type,P.key,P.props,null,L.mode,$),hl($,P),$.return=L,L=$)}return v(L);case q:t:{for(ft=P.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(L,M.sibling),$=h(M,P.children||[]),$.return=L,L=$;break t}else{a(L,M);break}else i(L,M);M=M.sibling}$=mf(P,L.mode,$),$.return=L,L=$}return v(L);case A:return ft=P._init,P=ft(P._payload),ee(L,M,P,$)}if(Zt(P))return wt(L,M,P,$);if(k(P)){if(ft=k(P),typeof ft!="function")throw Error(s(150));return P=ft.call(P),vt(L,M,P,$)}if(typeof P.then=="function")return ee(L,M,sc(P),$);if(P.$$typeof===st)return ee(L,M,Ku(L,P),$);ac(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(L,M.sibling),$=h(M,P),$.return=L,L=$):(a(L,M),$=df(P,L.mode,$),$.return=L,L=$),v(L)):a(L,M)}return function(L,M,P,$){try{cl=0;var ft=ee(L,M,P,$);return Ca=null,ft}catch(pt){if(pt===el||pt===$u)throw pt;var Dt=En(29,pt,null,L.mode);return Dt.lanes=$,Dt.return=L,Dt}finally{}}}var Ia=vy(!0),Ey=vy(!1),Ln=X(null),li=null;function Tr(e){var i=e.alternate;J(Ne,Ne.current&1),J(Ln,e),li===null&&(i===null||Aa.current!==null||i.memoizedState!==null)&&(li=e)}function Ty(e){if(e.tag===22){if(J(Ne,Ne.current),J(Ln,e),li===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(li=e)}}else Sr()}function Sr(){J(Ne,Ne.current),J(Ln,Ln.current)}function Hi(e){nt(Ln),li===e&&(li=null),nt(Ne)}var Ne=X(0);function oc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ld(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Yf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $f={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=bn(),h=_r(l);h.payload=i,a!=null&&(h.callback=a),i=vr(e,h,l),i!==null&&(Rn(i,e,l),il(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=bn(),h=_r(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=vr(e,h,l),i!==null&&(Rn(i,e,l),il(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=bn(),l=_r(a);l.tag=2,i!=null&&(l.callback=i),i=vr(e,l,a),i!==null&&(Rn(i,e,a),il(i,e,a))}};function Sy(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Yo(a,l)||!Yo(h,d):!0}function Ay(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&$f.enqueueReplaceState(i,i.state,null)}function ks(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var lc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function by(e){lc(e)}function Ry(e){console.error(e)}function wy(e){lc(e)}function uc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Cy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qf(e,i,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(e,i)},a}function Iy(e){return e=_r(e),e.tag=3,e}function Ny(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Cy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Cy(i,a,l),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function W1(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Wo(i,a,h,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return li===null?vd():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===bf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Td(e,l,h)),!1;case 22:return a.flags|=65536,l===bf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Td(e,l,h)),!1}throw Error(s(435,a.tag))}return Td(e,l,h),vd(),!1}if(Gt)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==yf&&(e=Error(s(422),{cause:l}),Zo(Mn(e,a)))):(l!==yf&&(i=Error(s(423),{cause:l}),Zo(Mn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Mn(l,a),h=Qf(e.stateNode,l,h),Cf(e,h),fe!==4&&(fe=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),_l===null?_l=[d]:_l.push(d),fe!==4&&(fe=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Qf(a.stateNode,l,e),Cf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ir===null||!Ir.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Iy(h),Ny(h,e,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Oy=Error(s(461)),ke=!1;function Be(e,i,a,l){i.child=e===null?Ey(i,null,a,l):Ia(i,e.child,a,l)}function Dy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ms(i),l=Mf(e,i,a,v,d,h),T=xf(),e!==null&&!ke?(Vf(e,i,h),qi(e,i,h)):(Gt&&T&&pf(i),i.flags|=1,Be(e,i,l,h),i.child)}function My(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!ff(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,xy(e,i,d,l,h)):(e=Hu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!id(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(v,l)&&e.ref===i.ref)return qi(e,i,h)}return i.flags|=1,e=Li(d,l),e.ref=i.ref,e.return=i,i.child=e}function xy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Yo(d,l)&&e.ref===i.ref)if(ke=!1,i.pendingProps=l=d,id(e,h))(e.flags&131072)!==0&&(ke=!0);else return i.lanes=e.lanes,qi(e,i,h)}return Xf(e,i,a,l,h)}function Vy(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ky(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yu(i,d!==null?d.cachePool:null),d!==null?xg(i,d):Nf(),Ty(i);else return i.lanes=i.childLanes=536870912,ky(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Yu(i,d.cachePool),xg(i,d),Sr(),i.memoizedState=null):(e!==null&&Yu(i,null),Nf(),Sr());return Be(e,i,h,a),i.child}function ky(e,i,a,l){var h=Af();return h=h===null?null:{parent:Ie._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Yu(i,null),Nf(),Ty(i),e!==null&&Wo(e,i,l,!0),null}function cc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Xf(e,i,a,l,h){return Ms(i),a=Mf(e,i,a,l,void 0,h),l=xf(),e!==null&&!ke?(Vf(e,i,h),qi(e,i,h)):(Gt&&l&&pf(i),i.flags|=1,Be(e,i,a,h),i.child)}function Ly(e,i,a,l,h,d){return Ms(i),i.updateQueue=null,a=kg(i,l,a,h),Vg(e),l=xf(),e!==null&&!ke?(Vf(e,i,d),qi(e,i,d)):(Gt&&l&&pf(i),i.flags|=1,Be(e,i,a,d),i.child)}function Uy(e,i,a,l,h){if(Ms(i),i.stateNode===null){var d=_a,v=a.contextType;typeof v=="object"&&v!==null&&(d=Xe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Rf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Xe(v):_a,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Yf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&$f.enqueueReplaceState(d,d.state,null),sl(i,l,d,h),rl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,w=ks(a,T);d.props=w;var z=d.context,Y=a.contextType;v=_a,typeof Y=="object"&&Y!==null&&(v=Xe(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&Ay(i,d,l,v),yr=!1;var B=i.memoizedState;d.state=B,sl(i,l,d,h),rl(),z=i.memoizedState,T||B!==z||yr?(typeof Z=="function"&&(Yf(i,a,Z,l),z=i.memoizedState),(w=yr||Sy(i,a,w,l,B,z,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,wf(e,i),v=i.memoizedProps,Y=ks(a,v),d.props=Y,Z=i.pendingProps,B=d.context,z=a.contextType,w=_a,typeof z=="object"&&z!==null&&(w=Xe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||B!==w)&&Ay(i,d,l,w),yr=!1,B=i.memoizedState,d.state=B,sl(i,l,d,h),rl();var H=i.memoizedState;v!==Z||B!==H||yr||e!==null&&e.dependencies!==null&&Gu(e.dependencies)?(typeof T=="function"&&(Yf(i,a,T,l),H=i.memoizedState),(Y=yr||Sy(i,a,Y,l,B,H,w)||e!==null&&e.dependencies!==null&&Gu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=w,l=Y):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,cc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ia(i,e.child,null,h),i.child=Ia(i,null,a,h)):Be(e,i,a,h),i.memoizedState=d.state,e=i.child):e=qi(e,i,h),e}function Py(e,i,a,l){return Xo(),i.flags|=256,Be(e,i,a,l),i.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(e){return{baseLanes:e,cachePool:Rg()}}function Jf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Un),e}function jy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Gt){if(h?Tr(i):Sr(),Gt){var T=he,w;if(w=T){t:{for(w=T,T=oi;w.nodeType!==8;){if(!T){T=null;break t}if(w=Gn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(i.memoizedState={dehydrated:T,treeContext:Cs!==null?{id:Ui,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},w=En(18,null,null,0),w.stateNode=T,w.return=i,i.child=w,on=i,he=null,w=!0):w=!1}w||Os(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ld(T)?i.lanes=32:i.lanes=536870912,null;Hi(i)}return T=l.children,l=l.fallback,h?(Sr(),h=i.mode,T=hc({mode:"hidden",children:T},h),l=ws(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Wf(a),h.childLanes=Jf(e,v,a),i.memoizedState=Zf,l):(Tr(i),td(i,T))}if(w=e.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(d)i.flags&256?(Tr(i),i.flags&=-257,i=ed(e,i,a)):i.memoizedState!==null?(Sr(),i.child=e.child,i.flags|=128,i=null):(Sr(),h=l.fallback,T=i.mode,l=hc({mode:"visible",children:l.children},T),h=ws(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ia(i,e.child,null,a),l=i.child,l.memoizedState=Wf(a),l.childLanes=Jf(e,v,a),i.memoizedState=Zf,i=h);else if(Tr(i),Ld(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),i=ed(e,i,a)}else if(ke||Wo(e,i,a,!1),v=(a&e.childLanes)!==0,ke||v){if(v=ie,v!==null&&(l=a&-a,l=(l&42)!==0?1:ur(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,ya(e,l),Rn(v,e,l),Oy;T.data==="$?"||vd(),i=ed(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,he=Gn(T.nextSibling),on=i,Gt=!0,Ns=null,oi=!1,e!==null&&(Vn[kn++]=Ui,Vn[kn++]=Pi,Vn[kn++]=Cs,Ui=e.id,Pi=e.overflow,Cs=i),i=td(i,l.children),i.flags|=4096);return i}return h?(Sr(),h=l.fallback,T=i.mode,w=e.child,z=w.sibling,l=Li(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?h=Li(z,h):(h=ws(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Wf(a):(w=T.cachePool,w!==null?(z=Ie._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=Rg(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=Jf(e,v,a),i.memoizedState=Zf,l):(Tr(i),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function td(e,i){return i=hc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function hc(e,i){return e=En(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ed(e,i,a){return Ia(i,e.child,null,a),e=td(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function zy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),vf(e.return,i,a)}function nd(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function By(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Be(e,i,l.children,a),l=Ne.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zy(e,a,i);else if(e.tag===19)zy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(J(Ne,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&oc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),nd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&oc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}nd(i,!0,a,null,d);break;case"together":nd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Cr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Wo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Li(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function id(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Gu(e)))}function J1(e,i,a){switch(i.tag){case 3:Kt(i,i.stateNode.containerInfo),gr(i,Ie,e.memoizedState.cache),Xo();break;case 27:case 5:nn(i);break;case 4:Kt(i,i.stateNode.containerInfo);break;case 10:gr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Tr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?jy(e,i,a):(Tr(i),e=qi(e,i,a),e!==null?e.sibling:null);Tr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Wo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return By(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Ne,Ne.current),l)break;return null;case 22:case 23:return i.lanes=0,Vy(e,i,a);case 24:gr(i,Ie,e.memoizedState.cache)}return qi(e,i,a)}function Hy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)ke=!0;else{if(!id(e,a)&&(i.flags&128)===0)return ke=!1,J1(e,i,a);ke=(e.flags&131072)!==0}else ke=!1,Gt&&(i.flags&1048576)!==0&&_g(i,Fu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")ff(l)?(e=ks(l,e),i.tag=1,i=Uy(null,i,l,e,a)):(i.tag=0,i=Xf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===mt){i.tag=11,i=Dy(null,i,l,e,a);break t}else if(h===D){i.tag=14,i=My(null,i,l,e,a);break t}}throw i=re(l)||l,Error(s(306,i,""))}}return i;case 0:return Xf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ks(l,i.pendingProps),Uy(e,i,l,h,a);case 3:t:{if(Kt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,wf(e,i),sl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,gr(i,Ie,l),l!==d.cache&&Ef(i,[Ie],a,!0),rl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Py(e,i,l,a);break t}else if(l!==h){h=Mn(Error(s(424)),i),Zo(h),i=Py(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(he=Gn(e.firstChild),on=i,Gt=!0,Ns=null,oi=!0,a=Ey(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xo(),l===h){i=qi(e,i,a);break t}Be(e,i,l,a)}i=i.child}return i;case 26:return cc(e,i),e===null?(a=K_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Gt||(a=i.type,e=i.pendingProps,l=Rc(Et.current).createElement(a),l[Re]=i,l[_e]=e,qe(l,a,e),de(l),i.stateNode=l):i.memoizedState=K_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return nn(i),e===null&&Gt&&(l=i.stateNode=q_(i.type,i.pendingProps,Et.current),on=i,oi=!0,h=he,Dr(i.type)?(Ud=h,he=Gn(l.firstChild)):he=h),Be(e,i,i.pendingProps.children,a),cc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Gt&&((h=l=he)&&(l=CA(l,i.type,i.pendingProps,oi),l!==null?(i.stateNode=l,on=i,he=Gn(l.firstChild),oi=!1,h=!0):h=!1),h||Os(i)),nn(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,xd(h,d)?l=null:v!==null&&xd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Mf(e,i,G1,null,null,a),Cl._currentValue=h),cc(e,i),Be(e,i,l,a),i.child;case 6:return e===null&&Gt&&((e=a=he)&&(a=IA(a,i.pendingProps,oi),a!==null?(i.stateNode=a,on=i,he=null,e=!0):e=!1),e||Os(i)),null;case 13:return jy(e,i,a);case 4:return Kt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ia(i,null,l,a):Be(e,i,l,a),i.child;case 11:return Dy(e,i,i.type,i.pendingProps,a);case 7:return Be(e,i,i.pendingProps,a),i.child;case 8:return Be(e,i,i.pendingProps.children,a),i.child;case 12:return Be(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,gr(i,i.type,l.value),Be(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ms(i),h=Xe(h),l=l(h),i.flags|=1,Be(e,i,l,a),i.child;case 14:return My(e,i,i.type,i.pendingProps,a);case 15:return xy(e,i,i.type,i.pendingProps,a);case 19:return By(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=hc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Li(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Vy(e,i,a);case 24:return Ms(i),l=Xe(Ie),e===null?(h=Af(),h===null&&(h=ie,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Rf(i),gr(i,Ie,h)):((e.lanes&a)!==0&&(wf(e,i),sl(i,null,null,a),rl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),gr(i,Ie,l)):(l=d.cache,gr(i,Ie,l),l!==h.cache&&Ef(i,[Ie],a,!0))),Be(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Fi(e){e.flags|=4}function qy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Z_(i)){if(i=Ln.current,i!==null&&((zt&4194048)===zt?li!==null:(zt&62914560)!==zt&&(zt&536870912)===0||i!==li))throw nl=bf,wg;e.flags|=8192}}function fc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?No():536870912,e.lanes|=i,Ma|=i)}function fl(e,i){if(!Gt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function le(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function tA(e,i,a){var l=i.pendingProps;switch(gf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(i),null;case 1:return le(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zi(Ie),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Qo(i)?Fi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tg())),le(i),null;case 26:return a=i.memoizedState,e===null?(Fi(i),a!==null?(le(i),qy(i,a)):(le(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Fi(i),le(i),qy(i,a)):(le(i),i.flags&=-16777217):(e.memoizedProps!==l&&Fi(i),le(i),i.flags&=-16777217),null;case 27:cn(i),a=Et.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return le(i),null}e=ot.current,Qo(i)?vg(i):(e=q_(h,l,a),i.stateNode=e,Fi(i))}return le(i),null;case 5:if(cn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return le(i),null}if(e=ot.current,Qo(i))vg(i);else{switch(h=Rc(Et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Re]=i,e[_e]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(qe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Fi(i)}}return le(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Et.current,Qo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Re]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||L_(e.nodeValue,a)),e||Os(i)}else e=Rc(e).createTextNode(l),e[Re]=i,i.stateNode=e}return le(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Qo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Re]=i}else Xo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;le(i),h=!1}else h=Tg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Hi(i),i):(Hi(i),null)}if(Hi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),fc(i,i.updateQueue),le(i),null;case 4:return Ye(),e===null&&Id(i.stateNode.containerInfo),le(i),null;case 10:return zi(i.type),le(i),null;case 19:if(nt(Ne),h=i.memoizedState,h===null)return le(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)fl(h,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=oc(e),d!==null){for(i.flags|=128,fl(h,!1),e=d.updateQueue,i.updateQueue=e,fc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)yg(a,e),a=a.sibling;return J(Ne,Ne.current&1|2),i.child}e=e.sibling}h.tail!==null&&Me()>pc&&(i.flags|=128,l=!0,fl(h,!1),i.lanes=4194304)}else{if(!l)if(e=oc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,fc(i,e),fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Gt)return le(i),null}else 2*Me()-h.renderingStartTime>pc&&a!==536870912&&(i.flags|=128,l=!0,fl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Me(),i.sibling=null,e=Ne.current,J(Ne,l?e&1|2:e&1),i):(le(i),null);case 22:case 23:return Hi(i),Of(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(le(i),i.subtreeFlags&6&&(i.flags|=8192)):le(i),a=i.updateQueue,a!==null&&fc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&nt(xs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(Ie),le(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function eA(e,i){switch(gf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zi(Ie),Ye(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return cn(i),null;case 13:if(Hi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Xo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(Ne),null;case 4:return Ye(),null;case 10:return zi(i.type),null;case 22:case 23:return Hi(i),Of(),e!==null&&nt(xs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return zi(Ie),null;case 25:return null;default:return null}}function Fy(e,i){switch(gf(i),i.tag){case 3:zi(Ie),Ye();break;case 26:case 27:case 5:cn(i);break;case 4:Ye();break;case 13:Hi(i);break;case 19:nt(Ne);break;case 10:zi(i.type);break;case 22:case 23:Hi(i),Of(),e!==null&&nt(xs);break;case 24:zi(Ie)}}function dl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){ne(i,i.return,T)}}function Ar(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var w=a,z=T;try{z()}catch(Y){ne(h,w,Y)}}}l=l.next}while(l!==d)}}catch(Y){ne(i,i.return,Y)}}function Gy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Mg(i,a)}catch(l){ne(e,e.return,l)}}}function Ky(e,i,a){a.props=ks(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ne(e,i,l)}}function ml(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ne(e,i,h)}}function ui(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ne(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ne(e,i,h)}else a.current=null}function Yy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ne(e,e.return,h)}}function rd(e,i,a){try{var l=e.stateNode;SA(l,e.type,a,i),l[_e]=i}catch(h){ne(e,e.return,h)}}function $y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function sd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||$y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ad(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=bc));else if(l!==4&&(l===27&&Dr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ad(e,i,a),e=e.sibling;e!==null;)ad(e,i,a),e=e.sibling}function dc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Dr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(dc(e,i,a),e=e.sibling;e!==null;)dc(e,i,a),e=e.sibling}function Qy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qe(i,l,a),i[Re]=e,i[_e]=a}catch(d){ne(e,e.return,d)}}var Gi=!1,pe=!1,od=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function nA(e,i){if(e=e.containerInfo,Dd=Dc,e=og(e),sf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,z=0,Y=0,Z=e,B=null;e:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(w=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(H=Z.firstChild)!==null;)B=Z,Z=H;for(;;){if(Z===e)break e;if(B===a&&++z===h&&(T=v),B===d&&++Y===l&&(w=v),(H=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=H}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Md={focusedElem:e,selectionRange:a},Dc=!1,Le=i;Le!==null;)if(i=Le,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Le=e;else for(;Le!==null;){switch(i=Le,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var wt=ks(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(wt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){ne(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Le=e;break}Le=i.return}}function Zy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(e,a),l&4&&dl(5,a);break;case 1:if(br(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ne(a,a.return,v)}else{var h=ks(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ne(a,a.return,v)}}l&64&&Gy(a),l&512&&ml(a,a.return);break;case 3:if(br(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Mg(e,i)}catch(v){ne(a,a.return,v)}}break;case 27:i===null&&l&4&&Qy(a);case 26:case 5:br(e,a),i===null&&l&4&&Yy(a),l&512&&ml(a,a.return);break;case 12:br(e,a);break;case 13:br(e,a),l&4&&t_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=hA.bind(null,a),NA(e,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){i=i!==null&&i.memoizedState!==null||pe,h=Gi;var d=pe;Gi=l,(pe=i)&&!d?Rr(e,a,(a.subtreeFlags&8772)!==0):br(e,a),Gi=h,pe=d}break;case 30:break;default:br(e,a)}}function Wy(e){var i=e.alternate;i!==null&&(e.alternate=null,Wy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&fr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,mn=!1;function Ki(e,i,a){for(a=a.child;a!==null;)Jy(e,i,a),a=a.sibling}function Jy(e,i,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(_t,a)}catch{}switch(a.tag){case 26:pe||ui(a,i),Ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||ui(a,i);var l=ae,h=mn;Dr(a.type)&&(ae=a.stateNode,mn=!1),Ki(e,i,a),Al(a.stateNode),ae=l,mn=h;break;case 5:pe||ui(a,i);case 6:if(l=ae,h=mn,ae=null,Ki(e,i,a),ae=l,mn=h,ae!==null)if(mn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){ne(a,i,d)}else try{ae.removeChild(a.stateNode)}catch(d){ne(a,i,d)}break;case 18:ae!==null&&(mn?(e=ae,B_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Dl(e)):B_(ae,a.stateNode));break;case 4:l=ae,h=mn,ae=a.stateNode.containerInfo,mn=!0,Ki(e,i,a),ae=l,mn=h;break;case 0:case 11:case 14:case 15:pe||Ar(2,a,i),pe||Ar(4,a,i),Ki(e,i,a);break;case 1:pe||(ui(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ky(a,i,l)),Ki(e,i,a);break;case 21:Ki(e,i,a);break;case 22:pe=(l=pe)||a.memoizedState!==null,Ki(e,i,a),pe=l;break;default:Ki(e,i,a)}}function t_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dl(e)}catch(a){ne(i,i.return,a)}}function iA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Xy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Xy),i;default:throw Error(s(435,e.tag))}}function ld(e,i){var a=iA(e);i.forEach(function(l){var h=fA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Tn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Dr(T.type)){ae=T.stateNode,mn=!1;break t}break;case 5:ae=T.stateNode,mn=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,mn=!0;break t}T=T.return}if(ae===null)throw Error(s(160));Jy(d,v,h),ae=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)e_(i,e),i=i.sibling}var Fn=null;function e_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(i,e),Sn(e),l&4&&(Ar(3,e,e.return),dl(3,e),Ar(5,e,e.return));break;case 1:Tn(i,e),Sn(e),l&512&&(pe||a===null||ui(a,a.return)),l&64&&Gi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Fn;if(Tn(i,e),Sn(e),l&512&&(pe||a===null||ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[cs]||d[Re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qe(d,l,a),d[Re]=e,de(d),l=d;break t;case"link":var v=Q_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),qe(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Q_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),qe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Re]=e,de(d),l=d}e.stateNode=l}else X_(h,e.type,e.stateNode);else e.stateNode=$_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?X_(h,e.type,e.stateNode):$_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&rd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tn(i,e),Sn(e),l&512&&(pe||a===null||ui(a,a.return)),a!==null&&l&4&&rd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tn(i,e),Sn(e),l&512&&(pe||a===null||ui(a,a.return)),e.flags&32){h=e.stateNode;try{In(h,"")}catch(H){ne(e,e.return,H)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,rd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(od=!0);break;case 6:if(Tn(i,e),Sn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(H){ne(e,e.return,H)}}break;case 3:if(Ic=null,h=Fn,Fn=wc(i.containerInfo),Tn(i,e),Fn=h,Sn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(i.containerInfo)}catch(H){ne(e,e.return,H)}od&&(od=!1,n_(e));break;case 4:l=Fn,Fn=wc(e.stateNode.containerInfo),Tn(i,e),Sn(e),Fn=l;break;case 12:Tn(i,e),Sn(e);break;case 13:Tn(i,e),Sn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(md=Me()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ld(e,l)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=Gi,Y=pe;if(Gi=z||h,pe=Y||w,Tn(i,e),pe=Y,Gi=z,Sn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||Gi||pe||Ls(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(d=w.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var Z=w.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(H){ne(w,w.return,H)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(H){ne(w,w.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ld(e,a))));break;case 19:Tn(i,e),Sn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ld(e,l)));break;case 30:break;case 21:break;default:Tn(i,e),Sn(e)}}function Sn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if($y(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=sd(e);dc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(In(v,""),a.flags&=-33);var T=sd(e);dc(e,T,v);break;case 3:case 4:var w=a.stateNode.containerInfo,z=sd(e);ad(e,z,w);break;default:throw Error(s(161))}}catch(Y){ne(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function n_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;n_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function br(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Zy(e,i.alternate,i),i=i.sibling}function Ls(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ar(4,i,i.return),Ls(i);break;case 1:ui(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ky(i,i.return,a),Ls(i);break;case 27:Al(i.stateNode);case 26:case 5:ui(i,i.return),Ls(i);break;case 22:i.memoizedState===null&&Ls(i);break;case 30:Ls(i);break;default:Ls(i)}e=e.sibling}}function Rr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,a),dl(4,d);break;case 1:if(Rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ne(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Dg(w[h],T)}catch(z){ne(l,l.return,z)}}a&&v&64&&Gy(d),ml(d,d.return);break;case 27:Qy(d);case 26:case 5:Rr(h,d,a),a&&l===null&&v&4&&Yy(d),ml(d,d.return);break;case 12:Rr(h,d,a);break;case 13:Rr(h,d,a),a&&v&4&&t_(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,a),ml(d,d.return);break;case 30:break;default:Rr(h,d,a)}i=i.sibling}}function ud(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Jo(a))}function cd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Jo(e))}function ci(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i_(e,i,a,l),i=i.sibling}function i_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ci(e,i,a,l),h&2048&&dl(9,i);break;case 1:ci(e,i,a,l);break;case 3:ci(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Jo(e)));break;case 12:if(h&2048){ci(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){ne(i,i.return,w)}}else ci(e,i,a,l);break;case 13:ci(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ci(e,i,a,l):pl(e,i):d._visibility&2?ci(e,i,a,l):(d._visibility|=2,Na(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ud(v,i);break;case 24:ci(e,i,a,l),h&2048&&cd(i.alternate,i);break;default:ci(e,i,a,l)}}function Na(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,w=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Na(d,v,T,w,h),dl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Na(d,v,T,w,h):pl(d,v):(Y._visibility|=2,Na(d,v,T,w,h)),h&&z&2048&&ud(v.alternate,v);break;case 24:Na(d,v,T,w,h),h&&z&2048&&cd(v.alternate,v);break;default:Na(d,v,T,w,h)}i=i.sibling}}function pl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&ud(l.alternate,l);break;case 24:pl(a,l),h&2048&&cd(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var gl=8192;function Oa(e){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)r_(e),e=e.sibling}function r_(e){switch(e.tag){case 26:Oa(e),e.flags&gl&&e.memoizedState!==null&&HA(Fn,e.memoizedState,e.memoizedProps);break;case 5:Oa(e);break;case 3:case 4:var i=Fn;Fn=wc(e.stateNode.containerInfo),Oa(e),Fn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=gl,gl=16777216,Oa(e),gl=i):Oa(e));break;default:Oa(e)}}function s_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function yl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Le=l,o_(l,e)}s_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)a_(e),e=e.sibling}function a_(e){switch(e.tag){case 0:case 11:case 15:yl(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:yl(e);break;case 12:yl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,mc(e)):yl(e);break;default:yl(e)}}function mc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Le=l,o_(l,e)}s_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ar(8,i,i.return),mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,mc(i));break;default:mc(i)}e=e.sibling}}function o_(e,i){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Ar(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Le=l;else t:for(a=e;Le!==null;){l=Le;var h=l.sibling,d=l.return;if(Wy(l),l===a){Le=null;break t}if(h!==null){h.return=d,Le=h;break t}Le=d}}}var rA={getCacheForType:function(e){var i=Xe(Ie),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},sA=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ie=null,xt=null,zt=0,Xt=0,An=null,wr=!1,Da=!1,hd=!1,Yi=0,fe=0,Cr=0,Us=0,fd=0,Un=0,Ma=0,_l=null,pn=null,dd=!1,md=0,pc=1/0,gc=null,Ir=null,He=0,Nr=null,xa=null,Va=0,pd=0,gd=null,l_=null,vl=0,yd=null;function bn(){if((Qt&2)!==0&&zt!==0)return zt&-zt;if(G.T!==null){var e=Ta;return e!==0?e:bd()}return cr()}function u_(){Un===0&&(Un=(zt&536870912)===0||Gt?Io():536870912);var e=Ln.current;return e!==null&&(e.flags|=32),Un}function Rn(e,i,a){(e===ie&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Or(e,zt,Un,!1)),Ri(e,a),((Qt&2)===0||e!==ie)&&(e===ie&&((Qt&2)===0&&(Us|=a),fe===4&&Or(e,zt,Un,!1)),hi(e))}function c_(e,i,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||us(e,i),h=l?lA(e,i):Ed(e,i,!0),d=l;do{if(h===0){Da&&!l&&Or(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!aA(a)){h=Ed(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=_l;var w=T.current.memoizedState.isDehydrated;if(w&&(ka(T,v).flags|=256),v=Ed(T,v,!1),v!==2){if(hd&&!w){T.errorRecoveryDisabledLanes|=d,Us|=d,h=4;break t}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ka(e,0),Or(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Or(l,i,Un,!wr);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=md+300-Me(),10<h)){if(Or(l,i,Un,!wr),Ws(l,0,!0)!==0)break t;l.timeoutHandle=j_(h_.bind(null,l,a,pn,gc,dd,i,Un,Us,Ma,wr,d,2,-0,0),h);break t}h_(l,a,pn,gc,dd,i,Un,Us,Ma,wr,d,0,-0,0)}}break}while(!0);hi(e)}function h_(e,i,a,l,h,d,v,T,w,z,Y,Z,B,H){if(e.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:BA},r_(i),Z=qA(),Z!==null)){e.cancelPendingCommit=Z(__.bind(null,e,i,d,a,l,h,v,T,w,Y,1,B,H)),Or(e,d,v,!z);return}__(e,i,d,a,l,h,v,T,w)}function aA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Or(e,i,a,l){i&=~fd,i&=~Us,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Qe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Xn(e,a,i)}function yc(){return(Qt&6)===0?(El(0),!1):!0}function _d(){if(xt!==null){if(Xt===0)var e=xt.return;else e=xt,ji=Ds=null,kf(e),Ca=null,cl=0,e=xt;for(;e!==null;)Fy(e.alternate,e),e=e.return;xt=null}}function ka(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,bA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_d(),ie=e,xt=a=Li(e.current,null),zt=i,Xt=0,An=null,wr=!1,Da=us(e,i),hd=!1,Ma=Un=fd=Us=Cr=fe=0,pn=_l=null,dd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Qe(l),d=1<<h;i|=e[h],l&=~d}return Yi=i,ju(),a}function f_(e,i){Ot=null,G.H=rc,i===el||i===$u?(i=Ng(),Xt=3):i===wg?(i=Ng(),Xt=4):Xt=i===Oy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,xt===null&&(fe=1,uc(e,Mn(i,e.current)))}function d_(){var e=G.H;return G.H=rc,e===null?rc:e}function m_(){var e=G.A;return G.A=rA,e}function vd(){fe=4,wr||(zt&4194048)!==zt&&Ln.current!==null||(Da=!0),(Cr&134217727)===0&&(Us&134217727)===0||ie===null||Or(ie,zt,Un,!1)}function Ed(e,i,a){var l=Qt;Qt|=2;var h=d_(),d=m_();(ie!==e||zt!==i)&&(gc=null,ka(e,i)),i=!1;var v=fe;t:do try{if(Xt!==0&&xt!==null){var T=xt,w=An;switch(Xt){case 8:_d(),v=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(i=!0);var z=Xt;if(Xt=0,An=null,La(e,T,w,z),a&&Da){v=0;break t}break;default:z=Xt,Xt=0,An=null,La(e,T,w,z)}}oA(),v=fe;break}catch(Y){f_(e,Y)}while(!0);return i&&e.shellSuspendCounter++,ji=Ds=null,Qt=l,G.H=h,G.A=d,xt===null&&(ie=null,zt=0,ju()),v}function oA(){for(;xt!==null;)p_(xt)}function lA(e,i){var a=Qt;Qt|=2;var l=d_(),h=m_();ie!==e||zt!==i?(gc=null,pc=Me()+500,ka(e,i)):Da=us(e,i);t:do try{if(Xt!==0&&xt!==null){i=xt;var d=An;e:switch(Xt){case 1:Xt=0,An=null,La(e,i,d,1);break;case 2:case 9:if(Cg(d)){Xt=0,An=null,g_(i);break}i=function(){Xt!==2&&Xt!==9||ie!==e||(Xt=7),hi(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Cg(d)?(Xt=0,An=null,g_(i)):(Xt=0,An=null,La(e,i,d,7));break;case 5:var v=null;switch(xt.tag){case 26:v=xt.memoizedState;case 5:case 27:var T=xt;if(!v||Z_(v)){Xt=0,An=null;var w=T.sibling;if(w!==null)xt=w;else{var z=T.return;z!==null?(xt=z,_c(z)):xt=null}break e}}Xt=0,An=null,La(e,i,d,5);break;case 6:Xt=0,An=null,La(e,i,d,6);break;case 8:_d(),fe=6;break t;default:throw Error(s(462))}}uA();break}catch(Y){f_(e,Y)}while(!0);return ji=Ds=null,G.H=l,G.A=h,Qt=a,xt!==null?0:(ie=null,zt=0,ju(),fe)}function uA(){for(;xt!==null&&!Yt();)p_(xt)}function p_(e){var i=Hy(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,i===null?_c(e):xt=i}function g_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Ly(a,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=Ly(a,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:kf(i);default:Fy(a,i),i=xt=yg(i,Yi),i=Hy(a,i,Yi)}e.memoizedProps=e.pendingProps,i===null?_c(e):xt=i}function La(e,i,a,l){ji=Ds=null,kf(i),Ca=null,cl=0;var h=i.return;try{if(W1(e,h,i,a,zt)){fe=1,uc(e,Mn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;fe=1,uc(e,Mn(a,e.current)),xt=null;return}i.flags&32768?(Gt||l===1?e=!0:Da||(zt&536870912)!==0?e=!1:(wr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),y_(i,e)):_c(i)}function _c(e){var i=e;do{if((i.flags&32768)!==0){y_(i,wr);return}e=i.return;var a=tA(i.alternate,i,Yi);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);fe===0&&(fe=5)}function y_(e,i){do{var a=eA(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);fe=6,xt=null}function __(e,i,a,l,h,d,v,T,w){e.cancelPendingCommit=null;do vc();while(He!==0);if((Qt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=cf,Oo(e,a,d,v,T,w),e===ie&&(xt=ie=null,zt=0),xa=i,Nr=e,Va=a,pd=d,gd=h,l_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dA(Ai,function(){return A_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=et.p,et.p=2,v=Qt,Qt|=4;try{nA(e,i,a)}finally{Qt=v,et.p=h,G.T=l}}He=1,v_(),E_(),T_()}}function v_(){if(He===1){He=0;var e=Nr,i=xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=et.p;et.p=2;var h=Qt;Qt|=4;try{e_(i,e);var d=Md,v=og(e.containerInfo),T=d.focusedElem,w=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&ag(T.ownerDocument.documentElement,T)){if(w!==null&&sf(T)){var z=w.start,Y=w.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var H=B.getSelection(),wt=T.textContent.length,vt=Math.min(w.start,wt),ee=w.end===void 0?vt:Math.min(w.end,wt);!H.extend&&vt>ee&&(v=ee,ee=vt,vt=v);var L=sg(T,vt),M=sg(T,ee);if(L&&M&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var P=Z.createRange();P.setStart(L.node,L.offset),H.removeAllRanges(),vt>ee?(H.addRange(P),H.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),H.addRange(P))}}}}for(Z=[],H=T;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var $=Z[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Dc=!!Dd,Md=Dd=null}finally{Qt=h,et.p=l,G.T=a}}e.current=i,He=2}}function E_(){if(He===2){He=0;var e=Nr,i=xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=et.p;et.p=2;var h=Qt;Qt|=4;try{Zy(e,i.alternate,i)}finally{Qt=h,et.p=l,G.T=a}}He=3}}function T_(){if(He===4||He===3){He=0,Si();var e=Nr,i=xa,a=Va,l=l_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?He=5:(He=0,xa=Nr=null,S_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ir=null),Js(a),i=i.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(_t,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=et.p,et.p=2,G.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{G.T=i,et.p=h}}(Va&3)!==0&&vc(),hi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===yd?vl++:(vl=0,yd=e):vl=0,El(0)}}function S_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Jo(i)))}function vc(e){return v_(),E_(),T_(),A_()}function A_(){if(He!==5)return!1;var e=Nr,i=pd;pd=0;var a=Js(Va),l=G.T,h=et.p;try{et.p=32>a?32:a,G.T=null,a=gd,gd=null;var d=Nr,v=Va;if(He=0,xa=Nr=null,Va=0,(Qt&6)!==0)throw Error(s(331));var T=Qt;if(Qt|=4,a_(d.current),i_(d,d.current,v,a),Qt=T,El(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(_t,d)}catch{}return!0}finally{et.p=h,G.T=l,S_(e,i)}}function b_(e,i,a){i=Mn(a,i),i=Qf(e.stateNode,i,2),e=vr(e,i,2),e!==null&&(Ri(e,2),hi(e))}function ne(e,i,a){if(e.tag===3)b_(e,e,a);else for(;i!==null;){if(i.tag===3){b_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ir===null||!Ir.has(l))){e=Mn(a,e),a=Iy(2),l=vr(i,a,2),l!==null&&(Ny(a,l,i,e),Ri(l,2),hi(l));break}}i=i.return}}function Td(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new sA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(hd=!0,h.add(a),e=cA.bind(null,e,i,a),i.then(e,e))}function cA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ie===e&&(zt&a)===a&&(fe===4||fe===3&&(zt&62914560)===zt&&300>Me()-md?(Qt&2)===0&&ka(e,0):fd|=a,Ma===zt&&(Ma=0)),hi(e)}function R_(e,i){i===0&&(i=No()),e=ya(e,i),e!==null&&(Ri(e,i),hi(e))}function hA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),R_(e,a)}function fA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),R_(e,a)}function dA(e,i){return yn(e,i)}var Ec=null,Ua=null,Sd=!1,Tc=!1,Ad=!1,Ps=0;function hi(e){e!==Ua&&e.next===null&&(Ua===null?Ec=Ua=e:Ua=Ua.next=e),Tc=!0,Sd||(Sd=!0,pA())}function El(e,i){if(!Ad&&Tc){Ad=!0;do for(var a=!1,l=Ec;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Qe(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,N_(l,d))}else d=zt,d=Ws(l,l===ie?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||us(l,d)||(a=!0,N_(l,d));l=l.next}while(a);Ad=!1}}function mA(){w_()}function w_(){Tc=Sd=!1;var e=0;Ps!==0&&(AA()&&(e=Ps),Ps=0);for(var i=Me(),a=null,l=Ec;l!==null;){var h=l.next,d=C_(l,i);d===0?(l.next=null,a===null?Ec=h:a.next=h,h===null&&(Ua=a)):(a=l,(e!==0||(d&3)!==0)&&(Tc=!0)),l=h}El(e)}function C_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Qe(d),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Co(T,i)):w<=i&&(e.expiredLanes|=T),d&=~T}if(i=ie,a=zt,a=Ws(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||us(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&fn(l),Js(a)){case 2:case 8:a=ar;break;case 32:a=Ai;break;case 268435456:a=or;break;default:a=Ai}return l=I_.bind(null,e),a=yn(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&fn(l),e.callbackPriority=2,e.callbackNode=null,2}function I_(e,i){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(vc()&&e.callbackNode!==a)return null;var l=zt;return l=Ws(e,e===ie?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(c_(e,l,i),C_(e,Me()),e.callbackNode!=null&&e.callbackNode===a?I_.bind(null,e):null)}function N_(e,i){if(vc())return null;c_(e,i,!0)}function pA(){RA(function(){(Qt&6)!==0?yn(ss,mA):w_()})}function bd(){return Ps===0&&(Ps=Io()),Ps}function O_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function D_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function gA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=O_((h[_e]||null).action),v=l.submitter;v&&(i=(i=v[_e]||null)?O_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new aa("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var w=v?D_(h,v):new FormData(h);Ff(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(T.preventDefault(),w=v?D_(h,v):new FormData(h),Ff(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Rd=0;Rd<uf.length;Rd++){var wd=uf[Rd],yA=wd.toLowerCase(),_A=wd[0].toUpperCase()+wd.slice(1);qn(yA,"on"+_A)}qn(cg,"onAnimationEnd"),qn(hg,"onAnimationIteration"),qn(fg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(k1,"onTransitionRun"),qn(L1,"onTransitionStart"),qn(U1,"onTransitionCancel"),qn(dg,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function M_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,z=T.currentTarget;if(T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Y){lc(Y)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,z=T.currentTarget,T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Y){lc(Y)}h.currentTarget=null,d=w}}}}function Vt(e,i){var a=i[Mo];a===void 0&&(a=i[Mo]=new Set);var l=e+"__bubble";a.has(l)||(x_(i,e,2,!1),a.add(l))}function Cd(e,i,a){var l=0;i&&(l|=4),x_(a,e,l,i)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Id(e){if(!e[Sc]){e[Sc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(vA.has(a)||Cd(a,!1,e),Cd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Sc]||(i[Sc]=!0,Cd("selectionchange",!1,i))}}function x_(e,i,a,l){switch(iv(i)){case 2:var h=KA;break;case 8:h=YA;break;default:h=Hd}a=h.bind(null,i,a,e),h=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Nd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=wi(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}T=T.parentNode}}l=l.return}bu(function(){var z=d,Y=Nn(a),Z=[];t:{var B=mg.get(e);if(B!==void 0){var H=aa,wt=e;switch(e){case"keypress":if(ni(a)===0)break t;case"keydown":case"keyup":H=fa;break;case"focusin":wt="focus",H=ua;break;case"focusout":wt="blur",H=ua;break;case"beforeblur":case"afterblur":H=ua;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Mu;break;case cg:case hg:case fg:H=ca;break;case dg:H=Vu;break;case"scroll":case"scrollend":H=Ru;break;case"wheel":H=da;break;case"copy":case"cut":case"paste":H=ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Go;break;case"toggle":case"beforetoggle":H=Lu}var vt=(i&4)!==0,ee=!vt&&(e==="scroll"||e==="scrollend"),L=vt?B!==null?B+"Capture":null:B;vt=[];for(var M=z,P;M!==null;){var $=M;if(P=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||P===null||L===null||($=ys(M,L),$!=null&&vt.push(Sl(M,$,P))),ee)break;M=M.return}0<vt.length&&(B=new H(B,wt,null,a,Y),Z.push({event:B,listeners:vt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Oi&&(wt=a.relatedTarget||a.fromElement)&&(wi(wt)||wt[Cn]))break t;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(wt=a.relatedTarget||a.toElement,H=z,wt=wt?wi(wt):null,wt!==null&&(ee=u(wt),vt=wt.tag,wt!==ee||vt!==5&&vt!==27&&vt!==6)&&(wt=null)):(H=null,wt=z),H!==wt)){if(vt=Dn,$="onMouseLeave",L="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Go,$="onPointerLeave",L="onPointerEnter",M="pointer"),ee=H==null?B:Wn(H),P=wt==null?B:Wn(wt),B=new vt($,M+"leave",H,a,Y),B.target=ee,B.relatedTarget=P,$=null,wi(Y)===z&&(vt=new vt(L,M+"enter",wt,a,Y),vt.target=P,vt.relatedTarget=ee,$=vt),ee=$,H&&wt)e:{for(vt=H,L=wt,M=0,P=vt;P;P=Pa(P))M++;for(P=0,$=L;$;$=Pa($))P++;for(;0<M-P;)vt=Pa(vt),M--;for(;0<P-M;)L=Pa(L),P--;for(;M--;){if(vt===L||L!==null&&vt===L.alternate)break e;vt=Pa(vt),L=Pa(L)}vt=null}else vt=null;H!==null&&V_(Z,B,H,vt,!1),wt!==null&&ee!==null&&V_(Z,ee,wt,vt,!0)}}t:{if(B=z?Wn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var ft=Jp;else if(Ce(B))if(tg)ft=M1;else{ft=O1;var Dt=N1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Po(z.elementType)&&(ft=Jp):ft=D1;if(ft&&(ft=ft(e,z))){ki(Z,ft,a,Y);break t}Dt&&Dt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&mr(B,"number",B.value)}switch(Dt=z?Wn(z):window,e){case"focusin":(Ce(Dt)||Dt.contentEditable==="true")&&(ma=Dt,af=z,$o=null);break;case"focusout":$o=af=ma=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,lg(Z,a,Y);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":lg(Z,a,Y)}var pt;if(si)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Pt?F(e,a)&&(Tt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&a.locale!=="ko"&&(Pt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Pt&&(pt=zo()):(ei=Y,pr="value"in ei?ei.value:ei.textContent,Pt=!0)),Dt=Ac(z,Tt),0<Dt.length&&(Tt=new qo(Tt,e,null,a,Y),Z.push({event:Tt,listeners:Dt}),pt?Tt.data=pt:(pt=it(a),pt!==null&&(Tt.data=pt)))),(pt=p?we(e,a):jt(e,a))&&(Tt=Ac(z,"onBeforeInput"),0<Tt.length&&(Dt=new qo("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Dt,listeners:Tt}),Dt.data=pt)),gA(Z,e,z,a,Y)}M_(Z,i)})}function Sl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ac(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ys(e,a),h!=null&&l.unshift(Sl(e,h,d)),h=ys(e,i),h!=null&&l.push(Sl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function V_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,w=T.alternate,z=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||z===null||(w=z,h?(z=ys(a,d),z!=null&&v.unshift(Sl(a,z,w))):h||(z=ys(a,d),z!=null&&v.push(Sl(a,z,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var EA=/\r\n?/g,TA=/\u0000|\uFFFD/g;function k_(e){return(typeof e=="string"?e:""+e).replace(EA,`
`).replace(TA,"")}function L_(e,i){return i=k_(i),k_(e)===i}function bc(){}function te(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||In(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&In(e,""+l);break;case"className":Jn(e,"class",l);break;case"tabIndex":Jn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(e,a,l);break;case"style":Uo(e,l,d);break;case"data":if(i!=="object"){Jn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=sa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&te(e,i,"name",h.name,h,null),te(e,i,"formEncType",h.formEncType,h,null),te(e,i,"formMethod",h.formMethod,h,null),te(e,i,"formTarget",h.formTarget,h,null)):(te(e,i,"encType",h.encType,h,null),te(e,i,"method",h.method,h,null),te(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=sa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=bc);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),dr(e,"popover",l);break;case"xlinkActuate":je(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":je(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":je(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":je(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":je(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":je(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":je(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":je(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":je(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wh.get(a)||a,dr(e,a,l))}}function Od(e,i,a,l,h,d){switch(a){case"style":Uo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?In(e,l):(typeof l=="number"||typeof l=="bigint")&&In(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ta.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[_e]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):dr(e,a,l)}}}function qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(e,i,d,v,a,null)}}h&&te(e,i,"srcSet",a.srcSet,a,null),l&&te(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=d=v=h=null,w=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":w=Y;break;case"defaultChecked":z=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:te(e,i,l,Y,a,null)}}ms(e,d,T,w,z,v,h,!1),ra(e);return;case"select":Vt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:te(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ni(e,!!l,i,!1):a!=null&&Ni(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:te(e,i,v,T,a,null)}ps(e,l,h,d),ra(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,i,w,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Vt(Tl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(e,i,z,l,a,null)}return;default:if(Po(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Od(e,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&te(e,i,T,l,a,null))}function SA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,w=null,z=null,Y=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=Z;default:l.hasOwnProperty(H)||te(e,i,H,null,l,Z)}}for(var B in l){var H=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(H!=null||Z!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Y=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==Z&&te(e,i,B,H,l,Z)}}_n(e,v,T,w,z,Y,d,h);return;case"select":H=v=T=B=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(d)||te(e,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==w&&te(e,i,h,d,l,w)}i=T,a=v,l=H,B!=null?Ni(e,!!a,B,!1):!!l!=!!a&&(i!=null?Ni(e,!!a,i,!0):Ni(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:te(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&te(e,i,v,h,l,d)}Wt(e,B,H);return;case"option":for(var wt in a)if(B=a[wt],a.hasOwnProperty(wt)&&B!=null&&!l.hasOwnProperty(wt))switch(wt){case"selected":e.selected=!1;break;default:te(e,i,wt,null,l,B)}for(w in l)if(B=l[w],H=a[w],l.hasOwnProperty(w)&&B!==H&&(B!=null||H!=null))switch(w){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:te(e,i,w,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)B=a[vt],a.hasOwnProperty(vt)&&B!=null&&!l.hasOwnProperty(vt)&&te(e,i,vt,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:te(e,i,z,B,l,H)}return;default:if(Po(i)){for(var ee in a)B=a[ee],a.hasOwnProperty(ee)&&B!==void 0&&!l.hasOwnProperty(ee)&&Od(e,i,ee,void 0,l,B);for(Y in l)B=l[Y],H=a[Y],!l.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||Od(e,i,Y,B,l,H);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&te(e,i,L,null,l,B);for(Z in l)B=l[Z],H=a[Z],!l.hasOwnProperty(Z)||B===H||B==null&&H==null||te(e,i,Z,B,l,H)}var Dd=null,Md=null;function Rc(e){return e.nodeType===9?e:e.ownerDocument}function U_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function xd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vd=null;function AA(){var e=window.event;return e&&e.type==="popstate"?e===Vd?!1:(Vd=e,!0):(Vd=null,!1)}var j_=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(e){return z_.resolve(null).then(e).catch(wA)}:j_;function wA(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function B_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&Al(v.documentElement),a&2&&Al(v.body),a&4)for(a=v.head,Al(a),v=a.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[cs]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),Dl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Dl(i)}function kd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),fr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function CA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[cs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function IA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gn(e.nextSibling),e===null))return null;return e}function Ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function NA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Gn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Ud=null;function H_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function q_(e,i,a){switch(i=Rc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Al(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);fr(e)}var Pn=new Map,F_=new Set;function wc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=et.d;et.d={f:OA,r:DA,D:MA,C:xA,L:VA,m:kA,X:UA,S:LA,M:PA};function OA(){var e=$i.f(),i=yc();return e||i}function DA(e){var i=Zn(e);i!==null&&i.tag===5&&i.type==="form"?cy(i):$i.r(e)}var ja=typeof document>"u"?null:document;function G_(e,i,a){var l=ja;if(l&&typeof i=="string"&&i){var h=ve(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),F_.has(h)||(F_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qe(i,"link",e),de(i),l.head.appendChild(i)))}}function MA(e){$i.D(e),G_("dns-prefetch",e,null)}function xA(e,i){$i.C(e,i),G_("preconnect",e,i)}function VA(e,i,a){$i.L(e,i,a);var l=ja;if(l&&e&&i){var h='link[rel="preload"][as="'+ve(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ve(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ve(a.imageSizes)+'"]')):h+='[href="'+ve(e)+'"]';var d=h;switch(i){case"style":d=za(e);break;case"script":d=Ba(e)}Pn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Pn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(bl(d))||i==="script"&&l.querySelector(Rl(d))||(i=l.createElement("link"),qe(i,"link",e),de(i),l.head.appendChild(i)))}}function kA(e,i){$i.m(e,i);var a=ja;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ve(l)+'"][href="'+ve(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(e)}if(!Pn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Pn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),qe(l,"link",e),de(l),a.head.appendChild(l)}}}function LA(e,i,a){$i.S(e,i,a);var l=ja;if(l&&e){var h=rn(l).hoistableStyles,d=za(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(bl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Pn.get(d))&&Pd(e,a);var w=v=l.createElement("link");de(w),qe(w,"link",e),w._p=new Promise(function(z,Y){w.onload=z,w.onerror=Y}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function UA(e,i){$i.X(e,i);var a=ja;if(a&&e){var l=rn(a).hoistableScripts,h=Ba(e),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(e=E({src:e,async:!0},i),(i=Pn.get(h))&&jd(e,i),d=a.createElement("script"),de(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function PA(e,i){$i.M(e,i);var a=ja;if(a&&e){var l=rn(a).hoistableScripts,h=Ba(e),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Pn.get(h))&&jd(e,i),d=a.createElement("script"),de(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function K_(e,i,a,l){var h=(h=Et.current)?wc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=za(a.href),a=rn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=za(a.href);var d=rn(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(bl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),d||jA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=rn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function za(e){return'href="'+ve(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function Y_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function jA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qe(i,"link",a),de(i),e.head.appendChild(i))}function Ba(e){return'[src="'+ve(e)+'"]'}function Rl(e){return"script[async]"+e}function $_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ve(a.href)+'"]');if(l)return i.instance=l,de(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),de(l),qe(l,"style",h),Cc(l,a.precedence,e),i.instance=l;case"stylesheet":h=za(a.href);var d=e.querySelector(bl(h));if(d)return i.state.loading|=4,i.instance=d,de(d),d;l=Y_(a),(h=Pn.get(h))&&Pd(l,h),d=(e.ownerDocument||e).createElement("link"),de(d);var v=d;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),qe(d,"link",l),i.state.loading|=4,Cc(d,a.precedence,e),i.instance=d;case"script":return d=Ba(a.src),(h=e.querySelector(Rl(d)))?(i.instance=h,de(h),h):(l=a,(h=Pn.get(d))&&(l=E({},a),jd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),de(h),qe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Cc(l,a.precedence,e));return i.instance}function Cc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Pd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function jd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ic=null;function Q_(e,i,a){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(a,l)}else h=Ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[cs]||d[Re]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function X_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function zA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Z_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var wl=null;function BA(){}function HA(e,i,a){if(wl===null)throw Error(s(475));var l=wl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=za(a.href),d=e.querySelector(bl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Nc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,de(d);return}d=e.ownerDocument||e,a=Y_(a),(h=Pn.get(h))&&Pd(a,h),d=d.createElement("link"),de(d);var v=d;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),qe(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Nc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function qA(){if(wl===null)throw Error(s(475));var e=wl;return e.stylesheets&&e.count===0&&zd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&zd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Nc(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oc=null;function zd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oc=new Map,i.forEach(FA,e),Oc=null,Nc.call(e))}function FA(e,i){if(!(i.state.loading&4)){var a=Oc.get(e);if(a)var l=a.get(null);else{a=new Map,Oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Cl={$$typeof:st,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function GA(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function W_(e,i,a,l,h,d,v,T,w,z,Y,Z){return e=new GA(e,i,a,v,T,w,z,Z),i=1,d===!0&&(i|=24),d=En(3,null,null,i),e.current=d,d.stateNode=e,i=Tf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Rf(d),e}function J_(e){return e?(e=_a,e):_a}function tv(e,i,a,l,h,d){h=J_(h),l.context===null?l.context=h:l.pendingContext=h,l=_r(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=vr(e,l,i),a!==null&&(Rn(a,e,i),il(a,e,i))}function ev(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Bd(e,i){ev(e,i),(e=e.alternate)&&ev(e,i)}function nv(e){if(e.tag===13){var i=ya(e,67108864);i!==null&&Rn(i,e,67108864),Bd(e,67108864)}}var Dc=!0;function KA(e,i,a,l){var h=G.T;G.T=null;var d=et.p;try{et.p=2,Hd(e,i,a,l)}finally{et.p=d,G.T=h}}function YA(e,i,a,l){var h=G.T;G.T=null;var d=et.p;try{et.p=8,Hd(e,i,a,l)}finally{et.p=d,G.T=h}}function Hd(e,i,a,l){if(Dc){var h=qd(l);if(h===null)Nd(e,i,l,Mc,a),rv(e,l);else if(QA(h,e,i,a,l))l.stopPropagation();else if(rv(e,l),i&4&&-1<$A.indexOf(e)){for(;h!==null;){var d=Zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=zn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-Qe(v);T.entanglements[1]|=w,v&=~w}hi(d),(Qt&6)===0&&(pc=Me()+500,El(0))}}break;case 13:T=ya(d,2),T!==null&&Rn(T,d,2),yc(),Bd(d,2)}if(d=qd(l),d===null&&Nd(e,i,l,Mc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Nd(e,i,l,null,a)}}function qd(e){return e=Nn(e),Fd(e)}var Mc=null;function Fd(e){if(Mc=null,e=wi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Mc=e,null}function iv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ro()){case ss:return 2;case ar:return 8;case Ai:case wo:return 32;case or:return 268435456;default:return 32}default:return 32}}var Gd=!1,Mr=null,xr=null,Vr=null,Il=new Map,Nl=new Map,kr=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(e,i){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Ol(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Zn(i),i!==null&&nv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function QA(e,i,a,l,h){switch(i){case"focusin":return Mr=Ol(Mr,e,i,a,l,h),!0;case"dragenter":return xr=Ol(xr,e,i,a,l,h),!0;case"mouseover":return Vr=Ol(Vr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Ol(Il.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Ol(Nl.get(d)||null,e,i,a,l,h)),!0}return!1}function sv(e){var i=wi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,yu(e.priority,function(){if(a.tag===13){var l=bn();l=ur(l);var h=ya(a,l);h!==null&&Rn(h,a,l),Bd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=qd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Oi=l,a.target.dispatchEvent(l),Oi=null}else return i=Zn(a),i!==null&&nv(i),e.blockedOn=a,!1;i.shift()}return!0}function av(e,i,a){xc(e)&&a.delete(i)}function XA(){Gd=!1,Mr!==null&&xc(Mr)&&(Mr=null),xr!==null&&xc(xr)&&(xr=null),Vr!==null&&xc(Vr)&&(Vr=null),Il.forEach(av),Nl.forEach(av)}function Vc(e,i){e.blockedOn===i&&(e.blockedOn=null,Gd||(Gd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,XA)))}var kc=null;function ov(e){kc!==e&&(kc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){kc===e&&(kc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Fd(l||a)===null)continue;break}var d=Zn(a);d!==null&&(e.splice(i,3),i-=3,Ff(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Dl(e){function i(w){return Vc(w,e)}Mr!==null&&Vc(Mr,e),xr!==null&&Vc(xr,e),Vr!==null&&Vc(Vr,e),Il.forEach(i),Nl.forEach(i);for(var a=0;a<kr.length;a++){var l=kr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)sv(a),a.blockedOn===null&&kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[_e]||null;if(typeof d=="function")v||ov(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[_e]||null)T=v.formAction;else if(Fd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),ov(a)}}}function Kd(e){this._internalRoot=e}Lc.prototype.render=Kd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();tv(a,l,e,i,null,null)},Lc.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;tv(e.current,2,null,e,null,null),yc(),i[Cn]=null}};function Lc(e){this._internalRoot=e}Lc.prototype.unstable_scheduleHydration=function(e){if(e){var i=cr();e={blockedOn:null,target:e,priority:i};for(var a=0;a<kr.length&&i!==0&&i<kr[a].priority;a++);kr.splice(a,0,e),a===0&&sv(e)}};var lv=t.version;if(lv!=="19.1.1")throw Error(s(527,lv,"19.1.1"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var ZA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{_t=Uc.inject(ZA),kt=Uc}catch{}}return xl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=by,d=Ry,v=wy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=W_(e,1,!1,null,null,a,l,h,d,v,T,null),e[Cn]=i.current,Id(e),new Kd(i)},xl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=by,v=Ry,T=wy,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=W_(e,1,!0,i,a??null,l,h,d,v,T,w,z),i.context=J_(null),a=i.current,l=bn(),l=ur(l),h=_r(l),h.callback=null,vr(a,h,l),a=l,i.current.lanes=a,Ri(i,a),hi(i),e[Cn]=i.current,Id(e),new Lc(i)},xl.version="19.1.1",xl}var _v;function ab(){if(_v)return Qd.exports;_v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Qd.exports=sb(),Qd.exports}var ob=ab();const lb=()=>{};var vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},ub=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},gT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,q=y&63;g||(q=64,f||(R=64)),s.push(n[E],n[b],n[R],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(pT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):ub(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new cb;const R=u<<2|m>>4;if(s.push(R),y!==64){const q=m<<4&240|y>>2;if(s.push(q),b!==64){const K=y<<6&192|b;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class cb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hb=function(r){const t=pT(r);return gT.encodeByteArray(t,!0)},rh=function(r){return hb(r).replace(/\./g,"")},yT=function(r){try{return gT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=()=>fb().__FIREBASE_DEFAULTS__,mb=()=>{if(typeof process>"u"||typeof vv>"u")return;const r=vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&yT(r[1]);return t&&JSON.parse(t)},bh=()=>{try{return lb()||db()||mb()||pb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_T=r=>bh()?.emulatorHosts?.[r],gb=r=>{const t=_T(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},vT=()=>bh()?.config,ET=r=>bh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[rh(JSON.stringify(n)),rh(JSON.stringify(f)),""].join(".")}const Bl={};function vb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Bl))Bl[t]?r.emulator.push(t):r.prod.push(t);return r}function Eb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Ev=!1;function ST(r,t){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Bl[r]===t||Bl[r]||Ev)return;Bl[r]=t;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=vb().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,q){R.setAttribute("width","24"),R.setAttribute("id",q),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Ev=!0,f()},R}function E(R,q){R.setAttribute("id",q),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=Eb(s),q=n("text"),K=document.getElementById(q)||document.createElement("span"),tt=n("learnmore"),Q=document.getElementById(tt)||document.createElement("a"),ht=n("preprendIcon"),dt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const st=R.element;m(st),E(Q,tt);const mt=y();g(dt,ht),st.append(dt,K,Q,mt),document.body.appendChild(st)}u?(K.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Sb(){const r=bh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ab(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Rb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wb(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Cb(){return!Sb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ib(){try{return typeof indexedDB=="object"}catch{return!1}}function Nb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="FirebaseError";class rr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Ob,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Db(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new rr(o,m,s)}}function Db(r,t){return r.replace(Mb,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Mb=/\{\$([^}]+)}/g;function xb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Fs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Tv(u)&&Tv(f)){if(!Fs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Tv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function kl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ll(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function Vb(r,t){const n=new kb(r,t);return n.subscribe.bind(n)}class kb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Lb(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Jd),o.error===void 0&&(o.error=Jd),o.complete===void 0&&(o.complete=Jd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ub=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new yb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jb(t))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=js){return this.instances.has(t)}getOptions(t=js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Pb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=js){return this.component?this.component.multipleInstances?t:js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Pb(r){return r===js?void 0:r}function jb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Ub(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const Bb={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Hb=Lt.INFO,qb={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Fb=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=qb[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rp{constructor(t){this.name=t,this._logLevel=Hb,this._logHandler=Fb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Bb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const Gb=(r,t)=>t.some(n=>r instanceof n);let Sv,Av;function Kb(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yb(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,Am=new WeakMap,bT=new WeakMap,tm=new WeakMap,sp=new WeakMap;function $b(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Gr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&AT.set(n,r)}).catch(()=>{}),sp.set(t,r),t}function Qb(r){if(Am.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Am.set(r,t)}let bm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Am.get(r);if(t==="objectStoreNames")return r.objectStoreNames||bT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Xb(r){bm=r(bm)}function Zb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(em(this),t,...n);return bT.set(s,t.sort?t.sort():[t]),Gr(s)}:Yb().includes(r)?function(...t){return r.apply(em(this),t),Gr(AT.get(this))}:function(...t){return Gr(r.apply(em(this),t))}}function Wb(r){return typeof r=="function"?Zb(r):(r instanceof IDBTransaction&&Qb(r),Gb(r,Kb())?new Proxy(r,bm):r)}function Gr(r){if(r instanceof IDBRequest)return $b(r);if(tm.has(r))return tm.get(r);const t=Wb(r);return t!==r&&(tm.set(r,t),sp.set(t,r)),t}const em=r=>sp.get(r);function Jb(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Gr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Gr(f.result),g.oldVersion,g.newVersion,Gr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const tR=["get","getKey","getAll","getAllKeys","count"],eR=["put","add","delete","clear"],nm=new Map;function bv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(nm.get(t))return nm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=eR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||tR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return nm.set(t,u),u}Xb(r=>({...r,get:(t,n,s)=>bv(t,n)||r.get(t,n,s),has:(t,n)=>!!bv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function iR(r){return r.getComponent()?.type==="VERSION"}const Rm="@firebase/app",Rv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new rp("@firebase/app"),rR="@firebase/app-compat",sR="@firebase/analytics-compat",aR="@firebase/analytics",oR="@firebase/app-check-compat",lR="@firebase/app-check",uR="@firebase/auth",cR="@firebase/auth-compat",hR="@firebase/database",fR="@firebase/data-connect",dR="@firebase/database-compat",mR="@firebase/functions",pR="@firebase/functions-compat",gR="@firebase/installations",yR="@firebase/installations-compat",_R="@firebase/messaging",vR="@firebase/messaging-compat",ER="@firebase/performance",TR="@firebase/performance-compat",SR="@firebase/remote-config",AR="@firebase/remote-config-compat",bR="@firebase/storage",RR="@firebase/storage-compat",wR="@firebase/firestore",CR="@firebase/ai",IR="@firebase/firestore-compat",NR="firebase",OR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",DR={[Rm]:"fire-core",[rR]:"fire-core-compat",[aR]:"fire-analytics",[sR]:"fire-analytics-compat",[lR]:"fire-app-check",[oR]:"fire-app-check-compat",[uR]:"fire-auth",[cR]:"fire-auth-compat",[hR]:"fire-rtdb",[fR]:"fire-data-connect",[dR]:"fire-rtdb-compat",[mR]:"fire-fn",[pR]:"fire-fn-compat",[gR]:"fire-iid",[yR]:"fire-iid-compat",[_R]:"fire-fcm",[vR]:"fire-fcm-compat",[ER]:"fire-perf",[TR]:"fire-perf-compat",[SR]:"fire-rc",[AR]:"fire-rc-compat",[bR]:"fire-gcs",[RR]:"fire-gcs-compat",[wR]:"fire-fst",[IR]:"fire-fst-compat",[CR]:"fire-vertex","fire-js":"fire-js",[NR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map,MR=new Map,Cm=new Map;function wv(r,t){try{r.container.addComponent(t)}catch(n){tr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function ro(r){const t=r.name;if(Cm.has(t))return tr.debug(`There were multiple attempts to register component ${t}.`),!1;Cm.set(t,r);for(const n of sh.values())wv(n,r);for(const n of MR.values())wv(n,r);return!0}function ap(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new nu("app","Firebase",xR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=OR;function RT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:wm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Kr.create("bad-app-name",{appName:String(o)});if(n||(n=vT()),!n)throw Kr.create("no-options");const u=sh.get(o);if(u){if(Fs(n,u.options)&&Fs(s,u.config))return u;throw Kr.create("duplicate-app",{appName:o})}const f=new zb(o);for(const g of Cm.values())f.addComponent(g);const m=new VR(n,s,f);return sh.set(o,m),m}function wT(r=wm){const t=sh.get(r);if(!t&&r===wm&&vT())return RT();if(!t)throw Kr.create("no-app",{appName:r});return t}function Yr(r,t,n){let s=DR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tr.warn(f.join(" "));return}ro(new Gs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebase-heartbeat-database",LR=1,$l="firebase-heartbeat-store";let im=null;function CT(){return im||(im=Jb(kR,LR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(r=>{throw Kr.create("idb-open",{originalErrorMessage:r.message})})),im}async function UR(r){try{const n=(await CT()).transaction($l),s=await n.objectStore($l).get(IT(r));return await n.done,s}catch(t){if(t instanceof rr)tr.warn(t.message);else{const n=Kr.create("idb-get",{originalErrorMessage:t?.message});tr.warn(n.message)}}}async function Cv(r,t){try{const s=(await CT()).transaction($l,"readwrite");await s.objectStore($l).put(t,IT(r)),await s.done}catch(n){if(n instanceof rr)tr.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n?.message});tr.warn(s.message)}}}function IT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=1024,jR=30;class zR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>jR){const o=qR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){tr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Iv(),{heartbeatsToSend:n,unsentEntries:s}=BR(this._heartbeatsCache.heartbeats),o=rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return tr.warn(t),""}}}function Iv(){return new Date().toISOString().substring(0,10)}function BR(r,t=PR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Nv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Nv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class HR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ib()?Nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Nv(r){return rh(JSON.stringify({version:2,heartbeats:r})).length}function qR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(r){ro(new Gs("platform-logger",t=>new nR(t),"PRIVATE")),ro(new Gs("heartbeat",t=>new zR(t),"PRIVATE")),Yr(Rm,Rv,r),Yr(Rm,Rv,"esm2020"),Yr("fire-js","")}FR("");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $r,NT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,A){function I(){}I.prototype=A.prototype,D.D=A.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(x,V,k){for(var C=Array(arguments.length-2),re=2;re<arguments.length;re++)C[re-2]=arguments[re];return A.prototype[V].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,I){I||(I=0);var x=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)x[V]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(V=0;16>V;++V)x[V]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=D.g[0],I=D.g[1],V=D.g[2];var k=D.g[3],C=A+(k^I&(V^k))+x[0]+3614090360&4294967295;A=I+(C<<7&4294967295|C>>>25),C=k+(V^A&(I^V))+x[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(I^k&(A^I))+x[2]+606105819&4294967295,V=k+(C<<17&4294967295|C>>>15),C=I+(A^V&(k^A))+x[3]+3250441966&4294967295,I=V+(C<<22&4294967295|C>>>10),C=A+(k^I&(V^k))+x[4]+4118548399&4294967295,A=I+(C<<7&4294967295|C>>>25),C=k+(V^A&(I^V))+x[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(I^k&(A^I))+x[6]+2821735955&4294967295,V=k+(C<<17&4294967295|C>>>15),C=I+(A^V&(k^A))+x[7]+4249261313&4294967295,I=V+(C<<22&4294967295|C>>>10),C=A+(k^I&(V^k))+x[8]+1770035416&4294967295,A=I+(C<<7&4294967295|C>>>25),C=k+(V^A&(I^V))+x[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(I^k&(A^I))+x[10]+4294925233&4294967295,V=k+(C<<17&4294967295|C>>>15),C=I+(A^V&(k^A))+x[11]+2304563134&4294967295,I=V+(C<<22&4294967295|C>>>10),C=A+(k^I&(V^k))+x[12]+1804603682&4294967295,A=I+(C<<7&4294967295|C>>>25),C=k+(V^A&(I^V))+x[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(I^k&(A^I))+x[14]+2792965006&4294967295,V=k+(C<<17&4294967295|C>>>15),C=I+(A^V&(k^A))+x[15]+1236535329&4294967295,I=V+(C<<22&4294967295|C>>>10),C=A+(V^k&(I^V))+x[1]+4129170786&4294967295,A=I+(C<<5&4294967295|C>>>27),C=k+(I^V&(A^I))+x[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^I&(k^A))+x[11]+643717713&4294967295,V=k+(C<<14&4294967295|C>>>18),C=I+(k^A&(V^k))+x[0]+3921069994&4294967295,I=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(I^V))+x[5]+3593408605&4294967295,A=I+(C<<5&4294967295|C>>>27),C=k+(I^V&(A^I))+x[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^I&(k^A))+x[15]+3634488961&4294967295,V=k+(C<<14&4294967295|C>>>18),C=I+(k^A&(V^k))+x[4]+3889429448&4294967295,I=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(I^V))+x[9]+568446438&4294967295,A=I+(C<<5&4294967295|C>>>27),C=k+(I^V&(A^I))+x[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^I&(k^A))+x[3]+4107603335&4294967295,V=k+(C<<14&4294967295|C>>>18),C=I+(k^A&(V^k))+x[8]+1163531501&4294967295,I=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(I^V))+x[13]+2850285829&4294967295,A=I+(C<<5&4294967295|C>>>27),C=k+(I^V&(A^I))+x[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^I&(k^A))+x[7]+1735328473&4294967295,V=k+(C<<14&4294967295|C>>>18),C=I+(k^A&(V^k))+x[12]+2368359562&4294967295,I=V+(C<<20&4294967295|C>>>12),C=A+(I^V^k)+x[5]+4294588738&4294967295,A=I+(C<<4&4294967295|C>>>28),C=k+(A^I^V)+x[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^I)+x[11]+1839030562&4294967295,V=k+(C<<16&4294967295|C>>>16),C=I+(V^k^A)+x[14]+4259657740&4294967295,I=V+(C<<23&4294967295|C>>>9),C=A+(I^V^k)+x[1]+2763975236&4294967295,A=I+(C<<4&4294967295|C>>>28),C=k+(A^I^V)+x[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^I)+x[7]+4139469664&4294967295,V=k+(C<<16&4294967295|C>>>16),C=I+(V^k^A)+x[10]+3200236656&4294967295,I=V+(C<<23&4294967295|C>>>9),C=A+(I^V^k)+x[13]+681279174&4294967295,A=I+(C<<4&4294967295|C>>>28),C=k+(A^I^V)+x[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^I)+x[3]+3572445317&4294967295,V=k+(C<<16&4294967295|C>>>16),C=I+(V^k^A)+x[6]+76029189&4294967295,I=V+(C<<23&4294967295|C>>>9),C=A+(I^V^k)+x[9]+3654602809&4294967295,A=I+(C<<4&4294967295|C>>>28),C=k+(A^I^V)+x[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^I)+x[15]+530742520&4294967295,V=k+(C<<16&4294967295|C>>>16),C=I+(V^k^A)+x[2]+3299628645&4294967295,I=V+(C<<23&4294967295|C>>>9),C=A+(V^(I|~k))+x[0]+4096336452&4294967295,A=I+(C<<6&4294967295|C>>>26),C=k+(I^(A|~V))+x[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~I))+x[14]+2878612391&4294967295,V=k+(C<<15&4294967295|C>>>17),C=I+(k^(V|~A))+x[5]+4237533241&4294967295,I=V+(C<<21&4294967295|C>>>11),C=A+(V^(I|~k))+x[12]+1700485571&4294967295,A=I+(C<<6&4294967295|C>>>26),C=k+(I^(A|~V))+x[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~I))+x[10]+4293915773&4294967295,V=k+(C<<15&4294967295|C>>>17),C=I+(k^(V|~A))+x[1]+2240044497&4294967295,I=V+(C<<21&4294967295|C>>>11),C=A+(V^(I|~k))+x[8]+1873313359&4294967295,A=I+(C<<6&4294967295|C>>>26),C=k+(I^(A|~V))+x[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~I))+x[6]+2734768916&4294967295,V=k+(C<<15&4294967295|C>>>17),C=I+(k^(V|~A))+x[13]+1309151649&4294967295,I=V+(C<<21&4294967295|C>>>11),C=A+(V^(I|~k))+x[4]+4149444226&4294967295,A=I+(C<<6&4294967295|C>>>26),C=k+(I^(A|~V))+x[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~I))+x[2]+718787259&4294967295,V=k+(C<<15&4294967295|C>>>17),C=I+(k^(V|~A))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+k&4294967295}s.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var I=A-this.blockSize,x=this.B,V=this.h,k=0;k<A;){if(V==0)for(;k<=I;)o(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<A;)if(x[V++]=D.charCodeAt(k++),V==this.blockSize){o(this,x),V=0;break}}else for(;k<A;)if(x[V++]=D[k++],V==this.blockSize){o(this,x),V=0;break}}this.h=V,this.o+=A},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var I=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=I&255,I/=256;for(this.u(D),D=Array(16),A=I=0;4>A;++A)for(var x=0;32>x;x+=8)D[I++]=this.g[A]>>>x&255;return D};function u(D,A){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=A(D)}function f(D,A){this.h=A;for(var I=[],x=!0,V=D.length-1;0<=V;V--){var k=D[V]|0;x&&k==A||(I[V]=k,x=!1)}this.g=I}var m={};function g(D){return-128<=D&&128>D?u(D,function(A){return new f([A|0],0>A?-1:0)}):new f([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return b;if(0>D)return Q(y(-D));for(var A=[],I=1,x=0;D>=I;x++)A[x]=D/I|0,I*=4294967296;return new f(A,0)}function E(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return Q(E(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(A,8)),x=b,V=0;V<D.length;V+=8){var k=Math.min(8,D.length-V),C=parseInt(D.substring(V,V+k),A);8>k?(k=y(Math.pow(A,k)),x=x.j(k).add(y(C))):(x=x.j(I),x=x.add(y(C)))}return x}var b=g(0),R=g(1),q=g(16777216);r=f.prototype,r.m=function(){if(tt(this))return-Q(this).m();for(var D=0,A=1,I=0;I<this.g.length;I++){var x=this.i(I);D+=(0<=x?x:4294967296+x)*A,A*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(K(this))return"0";if(tt(this))return"-"+Q(this).toString(D);for(var A=y(Math.pow(D,6)),I=this,x="";;){var V=mt(I,A).g;I=ht(I,V.j(A));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=V,K(I))return k+x;for(;6>k.length;)k="0"+k;x=k+x}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function K(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function tt(D){return D.h==-1}r.l=function(D){return D=ht(this,D),tt(D)?-1:K(D)?0:1};function Q(D){for(var A=D.g.length,I=[],x=0;x<A;x++)I[x]=~D.g[x];return new f(I,~D.h).add(R)}r.abs=function(){return tt(this)?Q(this):this},r.add=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],x=0,V=0;V<=A;V++){var k=x+(this.i(V)&65535)+(D.i(V)&65535),C=(k>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);x=C>>>16,k&=65535,C&=65535,I[V]=C<<16|k}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ht(D,A){return D.add(Q(A))}r.j=function(D){if(K(this)||K(D))return b;if(tt(this))return tt(D)?Q(this).j(Q(D)):Q(Q(this).j(D));if(tt(D))return Q(this.j(Q(D)));if(0>this.l(q)&&0>D.l(q))return y(this.m()*D.m());for(var A=this.g.length+D.g.length,I=[],x=0;x<2*A;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<D.g.length;V++){var k=this.i(x)>>>16,C=this.i(x)&65535,re=D.i(V)>>>16,Zt=D.i(V)&65535;I[2*x+2*V]+=C*Zt,dt(I,2*x+2*V),I[2*x+2*V+1]+=k*Zt,dt(I,2*x+2*V+1),I[2*x+2*V+1]+=C*re,dt(I,2*x+2*V+1),I[2*x+2*V+2]+=k*re,dt(I,2*x+2*V+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new f(I,0)};function dt(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function st(D,A){this.g=D,this.h=A}function mt(D,A){if(K(A))throw Error("division by zero");if(K(D))return new st(b,b);if(tt(D))return A=mt(Q(D),A),new st(Q(A.g),Q(A.h));if(tt(A))return A=mt(D,Q(A)),new st(Q(A.g),A.h);if(30<D.g.length){if(tt(D)||tt(A))throw Error("slowDivide_ only works with positive integers.");for(var I=R,x=A;0>=x.l(D);)I=ut(I),x=ut(x);var V=ct(I,1),k=ct(x,1);for(x=ct(x,2),I=ct(I,2);!K(x);){var C=k.add(x);0>=C.l(D)&&(V=V.add(I),k=C),x=ct(x,1),I=ct(I,1)}return A=ht(D,V.j(A)),new st(V,A)}for(V=b;0<=D.l(A);){for(I=Math.max(1,Math.floor(D.m()/A.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),k=y(I),C=k.j(A);tt(C)||0<C.l(D);)I-=x,k=y(I),C=k.j(A);K(k)&&(k=R),V=V.add(k),D=ht(D,C)}return new st(V,D)}r.A=function(D){return mt(this,D).h},r.and=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],x=0;x<A;x++)I[x]=this.i(x)&D.i(x);return new f(I,this.h&D.h)},r.or=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],x=0;x<A;x++)I[x]=this.i(x)|D.i(x);return new f(I,this.h|D.h)},r.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],x=0;x<A;x++)I[x]=this.i(x)^D.i(x);return new f(I,this.h^D.h)};function ut(D){for(var A=D.g.length+1,I=[],x=0;x<A;x++)I[x]=D.i(x)<<1|D.i(x-1)>>>31;return new f(I,D.h)}function ct(D,A){var I=A>>5;A%=32;for(var x=D.g.length-I,V=[],k=0;k<x;k++)V[k]=0<A?D.i(k+I)>>>A|D.i(k+I+1)<<32-A:D.i(k+I);return new f(V,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,NT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,$r=f}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OT,Ul,DT,Qc,Im,MT,xT,VT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break t;_=_[U]}c=c[c.length-1],S=_[c],p=p(S),p!=S&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var F=_++;return{value:p(F,c[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function b(c,p,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(p,U)}}return function(){return c.apply(p,arguments)}}function R(c,p,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,R.apply(null,arguments)}function q(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function K(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,F){for(var it=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)it[Pt-2]=arguments[Pt];return p.prototype[U].apply(S,it)}}function tt(c){const p=c.length;if(0<p){const _=Array(p);for(let S=0;S<p;S++)_[S]=c[S];return _}return[]}function Q(c,p){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const U=c.length||0,F=S.length||0;c.length=U+F;for(let it=0;it<F;it++)c[U+it]=S[it]}else c.push(S)}}class ht{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function dt(c){return/^[\s\xa0]*$/.test(c)}function st(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function mt(c){return mt[" "](c),c}mt[" "]=function(){};var ut=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function ct(c,p,_){for(const S in c)p.call(_,c[S],S,c)}function D(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function A(c){const p={};for(const _ in c)p[_]=c[_];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,p){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let F=0;F<I.length;F++)_=I[F],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Mt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class re{constructor(){this.h=this.g=null}add(p,_){const S=Zt.get();S.set(p,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Zt=new ht(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let et,at=!1,Mt=new re,N=()=>{const c=m.Promise.resolve(void 0);et=()=>{c.then(X)}};var X=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){k(_)}var p=Zt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}at=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ot=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c})();function Rt(c,p){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ut){t:{try{mt(p.nodeName);var U=!0;break t}catch{}U=!1}U||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Et[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Rt.aa.h.call(this)}}K(Rt,J);var Et={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function Ye(c,p,_,S,U){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!S,this.ha=U,this.key=++Kt,this.da=this.fa=!1}function nn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function cn(c){this.src=c,this.g={},this.h=0}cn.prototype.add=function(c,p,_,S,U){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var it=yn(c,p,S,U);return-1<it?(p=c[it],_||(p.fa=!1)):(p=new Ye(p,this.src,F,!!S,U),p.fa=_,c.push(p)),p};function hn(c,p){var _=p.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,p,void 0),F;(F=0<=U)&&Array.prototype.splice.call(S,U,1),F&&(nn(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function yn(c,p,_,S){for(var U=0;U<c.length;++U){var F=c[U];if(!F.da&&F.listener==p&&F.capture==!!_&&F.ha==S)return U}return-1}var fn="closure_lm_"+(1e6*Math.random()|0),Yt={};function Si(c,p,_,S,U){if(Array.isArray(p)){for(var F=0;F<p.length;F++)Si(c,p[F],_,S,U);return null}return _=Zs(_),c&&c[oe]?c.K(p,_,y(S)?!!S.capture:!1,U):Me(c,p,_,!1,S,U)}function Me(c,p,_,S,U,F){if(!p)throw Error("Invalid event type");var it=y(U)?!!U.capture:!!U,Pt=or(c);if(Pt||(c[fn]=Pt=new cn(c)),_=Pt.add(p,_,S,it,F),_.proxy)return _;if(S=Ro(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ot||(U=it),U===void 0&&(U=!1),c.addEventListener(p.toString(),S,U);else if(c.attachEvent)c.attachEvent(Ai(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ro(){function c(_){return p.call(c.src,c.listener,_)}const p=wo;return c}function ss(c,p,_,S,U){if(Array.isArray(p))for(var F=0;F<p.length;F++)ss(c,p[F],_,S,U);else S=y(S)?!!S.capture:!!S,_=Zs(_),c&&c[oe]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],_=yn(F,_,S,U),-1<_&&(nn(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=or(c))&&(p=c.g[p.toString()],c=-1,p&&(c=yn(p,_,S,U)),(_=-1<c?p[c]:null)&&ar(_))}function ar(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[oe])hn(p.i,c);else{var _=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(_,S,c.capture):p.detachEvent?p.detachEvent(Ai(_),S):p.addListener&&p.removeListener&&p.removeListener(S),(_=or(p))?(hn(_,c),_.h==0&&(_.src=null,p[fn]=null)):nn(c)}}}function Ai(c){return c in Yt?Yt[c]:Yt[c]="on"+c}function wo(c,p){if(c.da)c=!0;else{p=new Rt(p,this);var _=c.listener,S=c.ha||c.src;c.fa&&ar(c),c=_.call(S,p)}return c}function or(c){return c=c[fn],c instanceof cn?c:null}var lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zs(c){return typeof c=="function"?c:(c[lr]||(c[lr]=function(p){return c.handleEvent(p)}),c[lr])}function _t(){nt.call(this),this.i=new cn(this),this.M=this,this.F=null}K(_t,nt),_t.prototype[oe]=!0,_t.prototype.removeEventListener=function(c,p,_,S){ss(this,c,p,_,S)};function kt(c,p){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new J(p,c);else if(p instanceof J)p.target=p.target||c;else{var U=p;p=new J(S,c),x(p,U)}if(U=!0,_)for(var F=_.length-1;0<=F;F--){var it=p.g=_[F];U=$e(it,S,!0,p)&&U}if(it=p.g=c,U=$e(it,S,!0,p)&&U,U=$e(it,S,!1,p)&&U,_)for(F=0;F<_.length;F++)it=p.g=_[F],U=$e(it,S,!1,p)&&U}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],S=0;S<_.length;S++)nn(_[S]);delete c.g[p],c.h--}}this.F=null},_t.prototype.K=function(c,p,_,S){return this.i.add(String(c),p,!1,_,S)},_t.prototype.L=function(c,p,_,S){return this.i.add(String(c),p,!0,_,S)};function $e(c,p,_,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,F=0;F<p.length;++F){var it=p[F];if(it&&!it.da&&it.capture==_){var Pt=it.listener,we=it.ha||it.src;it.fa&&hn(c.i,it),U=Pt.call(we,S)!==!1&&U}}return U&&!S.defaultPrevented}function Qe(c,p,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function gu(c){c.g=Qe(()=>{c.g=null,c.i&&(c.i=!1,gu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class $h extends nt{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:gu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){nt.call(this),this.h=c,this.g={}}K(as,nt);var os=[];function ls(c){ct(c.g,function(p,_){this.g.hasOwnProperty(_)&&ar(p)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),ls(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,Ws=m.JSON.parse,us=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Co(){}Co.prototype.h=null;function Io(c){return c.h||(c.h=c.i())}function No(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){J.call(this,"d")}K(Ri,J);function Oo(){J.call(this,"c")}K(Oo,J);var Xn={},Do=null;function ur(){return Do=Do||new _t}Xn.La="serverreachability";function Js(c){J.call(this,Xn.La,c)}K(Js,J);function cr(c){const p=ur();kt(p,new Js(p))}Xn.STAT_EVENT="statevent";function yu(c,p){J.call(this,Xn.STAT_EVENT,c),this.stat=p}K(yu,J);function se(c){const p=ur();kt(p,new yu(p,c))}Xn.Ma="timingevent";function Re(c,p){J.call(this,Xn.Ma,c),this.size=p}K(Re,J);function _e(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function Mo(c,p,_,S,U,F){c.info(function(){if(c.g)if(F)for(var it="",Pt=F.split("&"),we=0;we<Pt.length;we++){var jt=Pt[we].split("=");if(1<jt.length){var Ve=jt[0];jt=jt[1];var Ce=Ve.split("_");it=2<=Ce.length&&Ce[1]=="type"?it+(Ve+"="+jt+"&"):it+(Ve+"=redacted&")}}else it=null;else it=F;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+p+`
`+_+`
`+it})}function Qh(c,p,_,S,U,F,it){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+p+`
`+_+`
`+F+" "+it})}function hr(c,p,_,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+cs(c,_)+(S?" "+S:"")})}function _u(c,p){c.info(function(){return"TIMEOUT: "+p})}Cn.prototype.info=function(){};function cs(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var F=U[0];if(F!="noop"&&F!="stop"&&F!="close")for(var it=1;it<U.length;it++)U[it]=""}}}}return zn(_)}catch{return p}}var fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Wn(){}K(Wn,Co),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},Zn=new Wn;function rn(c,p,_,S){this.j=c,this.i=p,this.l=_,this.R=S||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new de}function de(){this.i=null,this.g="",this.h=!1}var xo={},ta={};function Bn(c,p,_){c.L=1,c.v=ps(_n(p)),c.m=_,c.P=!0,Ci(c,null)}function Ci(c,p){c.F=Date.now(),hs(c),c.A=_n(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),jo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new de,c.g=Vu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new $h(R(c.Y,c,c.g),c.O)),p=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(os[0]=U.toString()),U=os);for(var F=0;F<U.length;F++){var it=Si(_,U[F],S||p.handleEvent,!1,p.h||p);if(!it)break;p.g[it.key]=it}p=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),cr(),Mo(c.i,c.u,c.A,c.l,c.R,c.m)}rn.prototype.ca=function(c){c=c.target;const p=this.M;p&&Dn(c)==3?p.j():this.Y(c)},rn.prototype.Y=function(c){try{if(c==this.g)t:{const Ce=Dn(this.g);var p=this.g.Ba();const ki=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||wu(this.g)))){this.J||Ce!=4||p==7||(p==8||0>=ki?cr(3):cr(2)),dr(this);var _=this.g.Z();this.X=_;e:if(vu(this)){var S=wu(this.g);c="";var U=S.length,F=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),Jn(this);var it="";break e}this.h.i=new m.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(F&&p==U-1)});S.length=0,this.h.g+=c,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=_==200,Qh(this.i,this.u,this.A,this.l,this.R,Ce,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,we=this.g;if((Pt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Pt)){var jt=Pt;break e}}jt=null}if(_=jt)hr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fs(this,_);else{this.o=!1,this.s=3,se(12),je(this),Jn(this);break t}}if(this.P){_=!0;let ze;for(;!this.J&&this.C<it.length;)if(ze=Eu(this,it),ze==ta){Ce==4&&(this.s=4,se(14),_=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==xo){this.s=4,se(15),hr(this.i,this.l,it,"[Invalid Chunk]"),_=!1;break}else hr(this.i,this.l,ze,null),fs(this,ze);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||it.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)hr(this.i,this.l,it,"[Invalid Chunked Response]"),je(this),Jn(this);else if(0<it.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),As(Ve),Ve.M=!0,se(11))}}else hr(this.i,this.l,it,null),fs(this,it);Ce==4&&je(this),this.o&&!this.J&&(Ce==4?Du(this.j,this):(this.o=!1,hs(this)))}else tf(this.g),_==400&&0<it.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),je(this),Jn(this)}}}catch{}finally{}};function vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Eu(c,p){var _=c.C,S=p.indexOf(`
`,_);return S==-1?ta:(_=Number(p.substring(_,S)),isNaN(_)?xo:(S+=1,S+_>p.length?ta:(p=p.slice(S,S+_),c.C=S+_,p)))}rn.prototype.cancel=function(){this.J=!0,je(this)};function hs(c){c.S=Date.now()+c.I,Tu(c,c.I)}function Tu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_e(R(c.ba,c),p)}function dr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}rn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_u(this.i,this.A),this.L!=2&&(cr(),se(17)),je(this),this.s=2,Jn(this)):Tu(this,this.S-c)};function Jn(c){c.j.G==0||c.J||Du(c.j,c)}function je(c){dr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,ls(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function fs(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Vo(_.h,c))){if(!c.K&&Vo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)fa(_),ca(_);else break t;Fo(_),se(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(R(_.Za,_),6e3));if(1>=na(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vi(_,11)}else if((c.K||_.g==c)&&fa(_),!dt(p))for(U=_.Da.g.parse(p),p=0;p<U.length;p++){let jt=U[p];if(_.T=jt[0],jt=jt[1],_.G==2)if(jt[0]=="c"){_.K=jt[1],_.ia=jt[2];const Ve=jt[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const Ce=jt[4];Ce!=null&&(_.Aa=Ce,_.j.info("SVER="+_.Aa));const ki=jt[5];ki!=null&&typeof ki=="number"&&0<ki&&(S=1.5*ki,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const ze=c.g;if(ze){const ai=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var F=S.h;F.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ia(F,F.h),F.h=null))}if(S.D){const Ko=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(S.ya=Ko,Wt(S.I,S.D,Ko))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var it=c;if(S.qa=xu(S,S.J?S.ia:null,S.W),it.K){sn(S.h,it);var Pt=it,we=S.L;we&&(Pt.I=we),Pt.B&&(dr(Pt),hs(Pt)),S.g=it}else Nu(S);0<_.i.length&&ha(_)}else jt[0]!="stop"&&jt[0]!="close"||Vi(_,7);else _.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Vi(_,7):Ho(_):jt[0]!="noop"&&_.l&&_.l.ta(jt),_.v=0)}}cr(4)}catch{}}var Su=class{constructor(c,p){this.g=c,this.map=p}};function Ii(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ea(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function na(c){return c.h?1:c.g?c.g.size:0}function Vo(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ia(c,p){c.g?c.g.add(p):c.h=p}function sn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ii.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return tt(c.i)}function Xh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,S=0;S<_;S++)p.push(c[S]);return p}p=[],_=0;for(S in c)p[_++]=c[S];return p}function ra(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const S in c)p[_++]=S;return p}}}function Lo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=ra(c),S=Xh(c),U=S.length,F=0;F<U;F++)p.call(void 0,S[F],_&&_[F],c)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zh(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var F=c[_].substring(0,S);U=c[_].substring(S+1)}else F=c[_];p(F,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ve(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ve){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.s),this.l=c.l;var p=c.i,_=new Oi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Ni(this,_),this.m=c.m}else c&&(p=String(c).match(ds))?(this.h=!1,ms(this,p[1]||"",!0),this.o=In(p[2]||""),this.g=In(p[3]||"",!0),mr(this,p[4]),this.l=In(p[5]||"",!0),Ni(this,p[6]||"",!0),this.m=In(p[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}ve.prototype.toString=function(){var c=[],p=this.j;p&&c.push(gs(p,Uo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(gs(p,Uo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(gs(_,_.charAt(0)=="/"?Wh:Po,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",gs(_,sa)),c.join("")};function _n(c){return new ve(c)}function ms(c,p,_){c.j=_?In(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Ni(c,p,_){p instanceof Oi?(c.i=p,bu(c.i,c.h)):(_||(p=gs(p,Jh)),c.i=new Oi(p,c.h))}function Wt(c,p,_){c.i.set(p,_)}function ps(c){return Wt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,Au),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Au(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,Po=/[#\?:]/g,Wh=/[#\?]/g,Jh=/[#\?@]/g,sa=/#/g;function Oi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zh(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Oi.prototype,r.add=function(c,p){Nn(this),this.i=null,c=ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Di(c,p){Nn(c),p=ti(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Mi(c,p){return Nn(c),p=ti(c,p),c.g.has(p)}r.forEach=function(c,p){Nn(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(p,U,S,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let S=0;S<p.length;S++){const U=c[S];for(let F=0;F<U.length;F++)_.push(p[S])}return _},r.V=function(c){Nn(this);let p=[];if(typeof c=="string")Mi(this,c)&&(p=p.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return Nn(this),this.i=null,c=ti(this,c),Mi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function jo(c,p,_){Di(c,p),0<_.length&&(c.i=null,c.g.set(ti(c,p),tt(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var S=p[_];const F=encodeURIComponent(String(S)),it=this.V(S);for(S=0;S<it.length;S++){var U=F;it[S]!==""&&(U+="="+encodeURIComponent(String(it[S]))),c.push(U)}}return this.i=c.join("&")};function ti(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function bu(c,p){p&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Di(this,S),jo(this,U,_))},c)),c.j=p}function ys(c,p){const _=new Cn;if(m.Image){const S=new Image;S.onload=q(On,_,"TestLoadImage: loaded",!0,p,S),S.onerror=q(On,_,"TestLoadImage: error",!1,p,S),S.onabort=q(On,_,"TestLoadImage: abort",!1,p,S),S.ontimeout=q(On,_,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Hn(c,p){const _=new Cn,S=new AbortController,U=setTimeout(()=>{S.abort(),On(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(U),F.ok?On(_,"TestPingServer: ok",!0,p):On(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),On(_,"TestPingServer: error",!1,p)})}function On(c,p,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function _s(){this.g=new us}function ei(c,p,_){const S=_||"";try{Lo(c,function(U,F){let it=U;y(U)&&(it=zn(U)),p.push(S+F+"="+encodeURIComponent(it))})}catch(U){throw p.push(S+"type="+encodeURIComponent("_badmap")),U}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}K(pr,Co),pr.prototype.g=function(){return new xi(this.l,this.j)},pr.prototype.i=(function(c){return function(){return c}})({});function xi(c,p){_t.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(xi,_t),r=xi.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,ii(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ni(this):ii(this),this.readyState==3&&zo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},r.Qa=function(c){this.g&&(this.response=c,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let p="";return ct(c,function(_,S){p+=S,p+=":",p+=_,p+=`\r
`}),p}function xe(c,p,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Wt(c,p,_))}function $t(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K($t,_t);var aa=/^https?$/i,vs=["POST","PUT"];r=$t.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Io(this.o):Io(Zn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){Ru(this,F);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())_.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vs,p,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,it]of _)this.g.setRequestHeader(F,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Ru(this,F)}};function Ru(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,oa(c),ri(c)}function oa(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,kt(this,"complete"),kt(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),$t.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?la(this):this.bb())},r.bb=function(){la(this)};function la(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Qe(c.Ea,0,c);else if(kt(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const it=c.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var S;if(S=it===0){var U=String(c.D).match(ds)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),S=!aa.test(U?U.toLowerCase():"")}_=S}if(_)kt(c,"complete"),kt(c,"success");else{c.m=6;try{var F=2<Dn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",oa(c)}}finally{ri(c)}}}}function ri(c,p){if(c.g){Es(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||kt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Es(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Ws(p)}};function wu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tf(c){const p={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(dt(c[S]))continue;var _=V(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=p[U]||[];p[U]=F,F.push(_)}D(p,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ua(c){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(c&&c.concurrentRequestLimit),this.Da=new _s,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ua.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,S){se(0),this.W=c,this.H=p||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=xu(this,null,this.W),ha(this)};function Ho(c){if(Cu(c),c.G==3){var p=c.U++,_=_n(c.I);if(Wt(_,"SID",c.K),Wt(_,"RID",p),Wt(_,"TYPE","terminate"),Ss(c,_),p=new rn(c,c.j,p),p.L=2,p.v=ps(_n(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Vu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),hs(p)}Mu(c)}function ca(c){c.g&&(As(c),c.g.cancel(),c.g=null)}function Cu(c){ca(c),c.u&&(m.clearTimeout(c.u),c.u=null),fa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ha(c){if(!ea(c.h)&&!c.s){c.s=!0;var p=c.Ga;et||N(),at||(et(),at=!0),Mt.add(p,c),c.B=0}}function ef(c,p){return na(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_e(R(c.Ga,c,p),Go(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new rn(this,this.j,c);let F=this.o;if(this.S&&(F?(F=A(F),x(F,this.S)):F=this.S),this.m!==null||this.O||(U.H=F,F=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Iu(this,U,p),_=_n(this.I),Wt(_,"RID",c),Wt(_,"CVER",22),this.D&&Wt(_,"X-HTTP-Session-Id",this.D),Ss(this,_),F&&(this.O?p="headers="+encodeURIComponent(String(Bo(F)))+"&"+p:this.m&&xe(_,this.m,F)),ia(this.h,U),this.Ua&&Wt(_,"TYPE","init"),this.P?(Wt(_,"$req",p),Wt(_,"SID","null"),U.T=!0,Bn(U,_,null)):Bn(U,_,p),this.G=2}}else this.G==3&&(c?qo(this,c):this.i.length==0||ea(this.h)||qo(this))};function qo(c,p){var _;p?_=p.l:_=c.U++;const S=_n(c.I);Wt(S,"SID",c.K),Wt(S,"RID",_),Wt(S,"AID",c.T),Ss(c,S),c.m&&c.o&&xe(S,c.m,c.o),_=new rn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Iu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ia(c.h,_),Bn(_,S,p)}function Ss(c,p){c.H&&ct(c.H,function(_,S){Wt(p,S,_)}),c.l&&Lo({},function(_,S){Wt(p,S,_)})}function Iu(c,p,_){_=Math.min(c.i.length,_);var S=c.l?R(c.l.Na,c.l,c):null;t:{var U=c.i;let F=-1;for(;;){const it=["count="+_];F==-1?0<_?(F=U[0].g,it.push("ofs="+F)):F=0:it.push("ofs="+F);let Pt=!0;for(let we=0;we<_;we++){let jt=U[we].g;const Ve=U[we].map;if(jt-=F,0>jt)F=Math.max(0,U[we].g-100),Pt=!1;else try{ei(Ve,it,"req"+jt+"_")}catch{S&&S(Ve)}}if(Pt){S=it.join("&");break t}}}return c=c.i.splice(0,_),p.D=c,S}function Nu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;et||N(),at||(et(),at=!0),Mt.add(p,c),c.v=0}}function Fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_e(R(c.Fa,c),Go(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_e(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),ca(this),Ou(this))};function As(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new rn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=_n(c.qa);Wt(p,"RID","rpc"),Wt(p,"SID",c.K),Wt(p,"AID",c.T),Wt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Wt(p,"TO",c.ja),Wt(p,"TYPE","xmlhttp"),Ss(c,p),c.m&&c.o&&xe(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ps(_n(p)),_.m=null,_.P=!0,Ci(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ca(this),Fo(this),se(19))};function fa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Du(c,p){var _=null;if(c.g==p){fa(c),As(c),c.g=null;var S=2}else if(Vo(c.h,p))_=p.D,sn(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var U=c.B;S=ur(),kt(S,new Re(S,_)),ha(c)}else Nu(c);else if(U=p.s,U==3||U==0&&0<p.X||!(S==1&&ef(c,p)||S==2&&Fo(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),U){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Go(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Vi(c,p){if(c.j.info("Error code "+p),p==2){var _=R(c.fb,c),S=c.Xa;const U=!S;S=new ve(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ms(S,"https"),ps(S),U?ys(S.toString(),_):Hn(S.toString(),_)}else se(2);c.G=0,c.l&&c.l.sa(p),Mu(c),Cu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Mu(c){if(c.G=0,c.ka=[],c.l){const p=ko(c.h);(p.length!=0||c.i.length!=0)&&(Q(c.ka,p),Q(c.ka,c.i),c.h.i.length=0,tt(c.i),c.i.length=0),c.l.ra()}}function xu(c,p,_){var S=_ instanceof ve?_n(_):new ve(_);if(S.g!="")p&&(S.g=p+"."+S.g),mr(S,S.s);else{var U=m.location;S=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var F=new ve(null);S&&ms(F,S),p&&(F.g=p),U&&mr(F,U),_&&(F.l=_),S=F}return _=c.D,p=c.ya,_&&p&&Wt(S,_,p),Wt(S,"VER",c.la),Ss(c,S),S}function Vu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new $t(new pr({eb:_})):new $t(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}r=ku.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function da(){}da.prototype.g=function(c,p){return new an(c,p)};function an(c,p){_t.call(this),this.g=new ua(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!dt(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!dt(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new si(this)}K(an,_t),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Ho(this.g)},an.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=zn(c),c=_);p.i.push(new Su(p.Ya++,c)),p.G==3&&ha(p)},an.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,an.aa.N.call(this)};function Lu(c){Ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}K(Lu,Ri);function Uu(){Oo.call(this),this.status=1}K(Uu,Oo);function si(c){this.g=c}K(si,ku),si.prototype.ua=function(){kt(this.g,"a")},si.prototype.ta=function(c){kt(this.g,new Lu(c))},si.prototype.sa=function(c){kt(this.g,new Uu)},si.prototype.ra=function(){kt(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,VT=function(){return new da},xT=function(){return ur()},MT=Xn,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Qc=fr,wi.COMPLETE="complete",DT=wi,No.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Ul=No,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,OT=$t}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore",Mv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new rp("@firebase/firestore");function Fa(){return Ks.logLevel}function lt(r,...t){if(Ks.logLevel<=Lt.DEBUG){const n=t.map(op);Ks.debug(`Firestore (${yo}): ${r}`,...n)}}function er(r,...t){if(Ks.logLevel<=Lt.ERROR){const n=t.map(op);Ks.error(`Firestore (${yo}): ${r}`,...n)}}function so(r,...t){if(Ks.logLevel<=Lt.WARN){const n=t.map(op);Ks.warn(`Firestore (${yo}): ${r}`,...n)}}function op(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,kT(r,s,n)}function kT(r,t,n){let s=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw er(s),new Error(s)}function ce(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||kT(t,o,s)}function Ht(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class KR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class YR{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ce(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hs,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hs)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ce(typeof s.accessToken=="string",31837,{l:s}),new LT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class $R{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new $R(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ce(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ZR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ut(r,t){return r<t?-1:r>t?1:0}function Nm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return rm(o)===rm(u)?Ut(o,u):rm(o)?1:-1}return Ut(r.length,t.length)}const WR=55296,JR=57343;function rm(r){const t=r.charCodeAt(0);return t>=WR&&t<=JR}function ao(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="__name__";class fi{constructor(t,n,s){n===void 0?n=0:n>t.length&&It(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&It(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return fi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof fi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ut(t.length,n.length)}static compareSegments(t,n){const s=fi.isNumericId(t),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(t).compare(fi.extractNumericId(n)):Nm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class ue extends fi{construct(t,n,s){return new ue(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ue(n)}static emptyPath(){return new ue([])}}const tw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends fi{construct(t,n,s){return new un(t,n,s)}static isValidIdentifier(t){return tw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new un([Vv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new yt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new yt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new yt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new yt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.path=t}static fromPath(t){return new At(ue.fromString(t))}static fromName(t){return new At(ue.fromString(t).popFirst(5))}static empty(){return new At(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new At(new ue(t.slice()))}}function ew(r,t,n,s){if(t===!0&&s===!0)throw new yt(rt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function kv(r){if(At.isDocumentKey(r))throw new yt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function iw(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":It(12329,{type:typeof r})}function Om(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new yt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iw(r);throw new yt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,t){const n={typeString:r};return t&&(n.value=t),n}function ru(r,t){if(!nw(r))throw new yt(rt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new yt(rt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=-62135596800,Uv=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(t){return Ae.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Uv);return new Ae(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new yt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Lv)throw new yt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ru(t,Ae._jsonSchema))return new Ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Lv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:be("string",Ae._jsonSchemaVersion),seconds:be("number"),nanoseconds:be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new Ae(0,0))}static max(){return new Ct(new Ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function rw(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(s===1e9?new Ae(n+1,0):new Ae(n,s));return new Wr(o,At.empty(),t)}function sw(r){return new Wr(r.readTime,r.key,Ql)}class Wr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(Ct.min(),At.empty(),Ql)}static max(){return new Wr(Ct.max(),At.empty(),Ql)}}function aw(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=At.comparator(r.documentKey,t.documentKey),n!==0?n:Ut(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(r){if(r.code!==rt.FAILED_PRECONDITION||r.message!==ow)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&It(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,s)=>{n(t)}))}static reject(t){return new W(((n,s)=>{s(t)}))}static waitFor(t){return new W(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const s of t)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new W(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new W(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function uw(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}wh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=-1;function Ch(r){return r==null}function Dm(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="";function hw(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Pv(t)),t=fw(r.get(n),t);return Pv(t)}function fw(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case PT:n+="";break;default:n+=u}}return n}function Pv(r){return r+PT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function su(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function dw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ye(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jc(this.root,t,this.comparator,!0)}}class jc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ge(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw It(43730,{key:this.key,value:this.value});if(this.right.isRed())throw It(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw It(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw It(57766)}get value(){throw It(16141)}get color(){throw It(16727)}get left(){throw It(29726)}get right(){throw It(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(t){return new zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t){this.fields=t,t.sort(un.comparator)}static empty(){return new qr([])}unionWith(t){let n=new De(un.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new qr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ao(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jT("Invalid base64 string: "+u):u}})(t);return new Ke(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ke(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const mw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(r){if(ce(!!r,39018),typeof r=="string"){let t=0;const n=mw.exec(r);if(ce(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="server_timestamp",BT="__type__",HT="__previous_value__",qT="__local_write_time__";function lp(r){return(r?.mapValue?.fields||{})[BT]?.stringValue===zT}function Ih(r){const t=r.mapValue.fields[HT];return lp(t)?Ih(t):t}function Xl(r){const t=Jr(r.mapValue.fields[qT].timestampValue);return new Ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const ah="(default)";class Zl{constructor(t,n){this.projectId=t,this.database=n||ah}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(t){return t instanceof Zl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="__type__",yw="__max__",zc={mapValue:{}},_w="__vector__",Mm="value";function es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lp(r)?4:Ew(r)?9007199254740991:vw(r)?10:11:It(28295,{value:r})}function vi(r,t){if(r===t)return!0;const n=es(r);if(n!==es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Xl(r).isEqual(Xl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Jr(o.timestampValue),m=Jr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),m=ge(u.doubleValue);return f===m?Dm(f)===Dm(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return ao(r.arrayValue.values||[],t.arrayValue.values||[],vi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(jv(f)!==jv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!vi(f[g],m[g])))return!1;return!0})(r,t);default:return It(52216,{left:r})}}function Wl(r,t){return(r.values||[]).find((n=>vi(n,t)))!==void 0}function oo(r,t){if(r===t)return 0;const n=es(r),s=es(t);if(n!==s)return Ut(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ge(u.integerValue||u.doubleValue),g=ge(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return Bv(r.timestampValue,t.timestampValue);case 4:return Bv(Xl(r),Xl(t));case 5:return Nm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=ts(u),g=ts(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ut(m[y],g[y]);if(E!==0)return E}return Ut(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Ut(ge(u.latitude),ge(f.latitude));return m!==0?m:Ut(ge(u.longitude),ge(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Hv(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Mm]?.arrayValue,E=g[Mm]?.arrayValue,b=Ut(y?.values?.length||0,E?.values?.length||0);return b!==0?b:Hv(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===zc.mapValue&&f===zc.mapValue)return 0;if(u===zc.mapValue)return 1;if(f===zc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const R=Nm(g[b],E[b]);if(R!==0)return R;const q=oo(m[g[b]],y[E[b]]);if(q!==0)return q}return Ut(g.length,E.length)})(r.mapValue,t.mapValue);default:throw It(23264,{he:n})}}function Bv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const n=Jr(r),s=Jr(t),o=Ut(n.seconds,s.seconds);return o!==0?o:Ut(n.nanos,s.nanos)}function Hv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return Ut(n.length,s.length)}function lo(r){return xm(r)}function xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ts(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return At.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=xm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${xm(n.fields[f])}`;return o+"}"})(r.mapValue):It(61005,{value:r})}function Xc(r){switch(es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ih(r);return t?16+Xc(t):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Xc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return su(s.fields,((u,f)=>{o+=u.length+Xc(f)})),o})(r.mapValue);default:throw It(13486,{value:r})}}function Vm(r){return!!r&&"integerValue"in r}function up(r){return!!r&&"arrayValue"in r}function qv(r){return!!r&&"nullValue"in r}function Fv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sm(r){return!!r&&"mapValue"in r}function vw(r){return(r?.mapValue?.fields||{})[gw]?.stringValue===_w}function Hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return su(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Hl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return t}return{...r}}function Ew(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this.value=t}static empty(){return new mi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!sm(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hl(n)}setAll(t){let n=un.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Hl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());sm(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];sm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){su(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new mi(Hl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new tn(t,0,Ct.min(),Ct.min(),Ct.min(),mi.empty(),0)}static newFoundDocument(t,n,s,o){return new tn(t,1,n,Ct.min(),s,o,0)}static newNoDocument(t,n){return new tn(t,2,n,Ct.min(),Ct.min(),mi.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,Ct.min(),Ct.min(),mi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n){this.position=t,this.inclusive=n}}function Gv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=At.comparator(At.fromName(f.referenceValue),n.key):s=oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Kv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!vi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n="asc"){this.field=t,this.dir=n}}function Tw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class Oe extends FT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new Aw(t,n,s):n==="array-contains"?new ww(t,s):n==="in"?new Cw(t,s):n==="not-in"?new Iw(t,s):n==="array-contains-any"?new Nw(t,s):new Oe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new bw(t,s):new Rw(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return It(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends FT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ei(t,n)}matches(t){return GT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GT(r){return r.op==="and"}function KT(r){return Sw(r)&&GT(r)}function Sw(r){for(const t of r.filters)if(t instanceof Ei)return!1;return!0}function km(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(KT(r))return r.filters.map((t=>km(t))).join(",");{const t=r.filters.map((n=>km(n))).join(",");return`${r.op}(${t})`}}function YT(r,t){return r instanceof Oe?(function(s,o){return o instanceof Oe&&s.op===o.op&&s.field.isEqual(o.field)&&vi(s.value,o.value)})(r,t):r instanceof Ei?(function(s,o){return o instanceof Ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&YT(f,o.filters[m])),!0):!1})(r,t):void It(19439)}function $T(r){return r instanceof Oe?(function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`})(r):r instanceof Ei?(function(n){return n.op.toString()+" {"+n.getFilters().map($T).join(" ,")+"}"})(r):"Filter"}class Aw extends Oe{constructor(t,n,s){super(t,n,s),this.key=At.fromName(s.referenceValue)}matches(t){const n=At.comparator(t.key,this.key);return this.matchesComparison(n)}}class bw extends Oe{constructor(t,n){super(t,"in",n),this.keys=QT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Rw extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=QT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function QT(r,t){return(t.arrayValue?.values||[]).map((n=>At.fromName(n.referenceValue)))}class ww extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return up(n)&&Wl(n.arrayValue,this.value)}}class Cw extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class Iw extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class Nw extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Wl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Yv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new Ow(r,t,n,s,o,u,f)}function cp(r){const t=Ht(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>km(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ch(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>lo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>lo(s))).join(",")),t.Te=n}return t.Te}function hp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Tw(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!YT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Kv(r.startAt,t.startAt)&&Kv(r.endAt,t.endAt)}function Lm(r){return At.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Dw(r,t,n,s,o,u,f,m){return new Nh(r,t,n,s,o,u,f,m)}function XT(r){return new Nh(r)}function $v(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Mw(r){return r.collectionGroup!==null}function ql(r){const t=Ht(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new De(un.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new lh(u,s))})),n.has(un.keyField().canonicalString())||t.Ie.push(new lh(un.keyField(),s))}return t.Ie}function gi(r){const t=Ht(r);return t.Ee||(t.Ee=xw(t,ql(r))),t.Ee}function xw(r,t){if(r.limitType==="F")return Yv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new lh(o.field,u)}));const n=r.endAt?new oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new oh(r.startAt.position,r.startAt.inclusive):null;return Yv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Um(r,t,n){return new Nh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Oh(r,t){return hp(gi(r),gi(t))&&r.limitType===t.limitType}function ZT(r){return`${cp(gi(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>$T(o))).join(", ")}]`),Ch(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>lo(o))).join(",")),`Target(${s})`})(gi(r))}; limitType=${r.limitType})`}function Dh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):At.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=Gv(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,ql(s),o)||s.endAt&&!(function(f,m,g){const y=Gv(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,ql(s),o))})(r,t)}function Vw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function WT(r){return(t,n)=>{let s=!1;for(const o of ql(r)){const u=kw(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function kw(r,t,n){const s=r.field.isKeyField()?At.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?oo(g,y):It(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return It(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){su(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return dw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new ye(At.comparator);function ns(){return Lw}const JT=new ye(At.comparator);function Pl(...r){let t=JT;for(const n of r)t=t.insert(n.key,n);return t}function Uw(r){let t=JT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Bs(){return Fl()}function t0(){return Fl()}function Fl(){return new Qs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Pw=new De(At.comparator);function qt(...r){let t=Pw;for(const n of r)t=t.add(n);return t}const jw=new De(Ut);function zw(){return jw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dm(t)?"-0":t}}function Hw(r){return{integerValue:""+r}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this._=void 0}}function qw(r,t,n){return r instanceof Pm?(function(o,u){const f={fields:{[BT]:{stringValue:zT},[qT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lp(u)&&(u=Ih(u)),u&&(f.fields[HT]=u),{mapValue:f}})(n,t):r instanceof uh?e0(r,t):r instanceof ch?n0(r,t):(function(o,u){const f=Gw(o,u),m=Qv(f)+Qv(o.Ae);return Vm(f)&&Vm(o.Ae)?Hw(m):Bw(o.serializer,m)})(r,t)}function Fw(r,t,n){return r instanceof uh?e0(r,t):r instanceof ch?n0(r,t):n}function Gw(r,t){return r instanceof jm?(function(s){return Vm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Pm extends Mh{}class uh extends Mh{constructor(t){super(),this.elements=t}}function e0(r,t){const n=i0(t);for(const s of r.elements)n.some((o=>vi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ch extends Mh{constructor(t){super(),this.elements=t}}function n0(r,t){let n=i0(t);for(const s of r.elements)n=n.filter((o=>!vi(o,s)));return{arrayValue:{values:n}}}class jm extends Mh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Qv(r){return ge(r.integerValue||r.doubleValue)}function i0(r){return up(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Kw(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof uh&&o instanceof uh||s instanceof ch&&o instanceof ch?ao(s.elements,o.elements,vi):s instanceof jm&&o instanceof jm?vi(s.Ae,o.Ae):s instanceof Pm&&o instanceof Pm})(r.transform,t.transform)}class qs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new qs}static exists(t){return new qs(void 0,t)}static updateTime(t){return new qs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class fp{}function r0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new $w(r.key,qs.none()):new dp(r.key,r.data,qs.none());{const n=r.data,s=mi.empty();let o=new De(un.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new xh(r.key,s,new qr(o.toArray()),qs.none())}}function Yw(r,t,n){r instanceof dp?(function(o,u,f){const m=o.value.clone(),g=Zv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof xh?(function(o,u,f){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Zv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(s0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Gl(r,t,n,s){return r instanceof dp?(function(u,f,m,g){if(!Zc(u.precondition,f))return m;const y=u.value.clone(),E=Wv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof xh?(function(u,f,m,g){if(!Zc(u.precondition,f))return m;const y=Wv(u.fieldTransforms,g,f),E=f.data;return E.setAll(s0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,t,n,s):(function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function Xv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,((u,f)=>Kw(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class dp extends fp{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xh extends fp{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function s0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function Zv(r,t,n){const s=new Map;ce(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,Fw(f,m,n[o]))}return s}function Wv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,qw(u,f,t))}return s}class $w extends fp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Yw(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Gl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Gl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=t0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=r0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ct.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),qt())}isEqual(t){return this.batchId===t.batchId&&ao(this.mutations,t.mutations,((n,s)=>Xv(n,s)))&&ao(this.baseMutations,t.baseMutations,((n,s)=>Xv(n,s)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Bt;function a0(r){if(r===void 0)return er("GRPC error has no .code"),rt.UNKNOWN;switch(r){case Se.OK:return rt.OK;case Se.CANCELLED:return rt.CANCELLED;case Se.UNKNOWN:return rt.UNKNOWN;case Se.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Se.INTERNAL:return rt.INTERNAL;case Se.UNAVAILABLE:return rt.UNAVAILABLE;case Se.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Se.NOT_FOUND:return rt.NOT_FOUND;case Se.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Se.ABORTED:return rt.ABORTED;case Se.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Se.DATA_LOSS:return rt.DATA_LOSS;default:return It(39323,{code:r})}}(Bt=Se||(Se={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new $r([4294967295,4294967295],0);function Jv(r){const t=Ww().encode(r),n=new NT;return n.update(t),new Uint8Array(n.digest())}function tE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new $r([n,s],0),new $r([o,u],0)]}class mp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=$r.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply($r.fromNumber(s)));return o.compare(Jw)===1&&(o=new $r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Jv(t),[s,o]=tE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new mp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=Jv(t),[s,o]=tE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,au.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Vh(Ct.min(),o,new ye(Ut),ns(),qt())}}class au{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new au(s,n,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class o0{constructor(t,n){this.targetId=t,this.Ce=n}}class l0{constructor(t,n,s=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class eE{constructor(){this.ve=0,this.Fe=nE(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),n=qt(),s=qt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:It(38017,{changeType:u})}})),new au(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=nE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ns(),this.Je=Bc(),this.He=Bc(),this.Ye=new ye(Ut)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:It(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Lm(u))if(s===0){const f=new At(u.path);this.et(n,f,tn.newNoDocument(f,Ct.min()))}else ce(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ts(s).toUint8Array()}catch(g){if(g instanceof jT)return so("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new mp(f,o,u)}catch(g){return so(g instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Lm(m.target)){const g=new At(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,tn.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=qt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Vh(t,n,this.Ye,this.je,s);return this.je=ns(),this.Je=Bc(),this.He=Bc(),this.Ye=new ye(Ut),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new eE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new De(Ut),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new De(Ut),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new eE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Bc(){return new ye(At.comparator)}function nE(){return new ye(At.comparator)}const eC={asc:"ASCENDING",desc:"DESCENDING"},nC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iC={and:"AND",or:"OR"};class rC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function zm(r,t){return r.useProto3Json||Ch(t)?t:{value:t}}function sC(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aC(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Xa(r){return ce(!!r,49232),Ct.fromTimestamp((function(n){const s=Jr(n);return new Ae(s.seconds,s.nanos)})(r))}function oC(r,t){return Bm(r,t).canonicalString()}function Bm(r,t){const n=(function(o){return new ue(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function u0(r){const t=ue.fromString(r);return ce(m0(t),10190,{key:t.toString()}),t}function am(r,t){const n=u0(t);if(n.get(1)!==r.databaseId.projectId)throw new yt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new yt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new At(h0(n))}function c0(r,t){return oC(r.databaseId,t)}function lC(r){const t=u0(r);return t.length===4?ue.emptyPath():h0(t)}function iE(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function h0(r){return ce(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function uC(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:It(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(ce(E===void 0||typeof E=="string",58123),Ke.fromBase64String(E||"")):(ce(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ke.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?rt.UNKNOWN:a0(y.code);return new yt(E,y.message||"")})(f);n=new l0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=am(r,s.document.name),u=Xa(s.document.updateTime),f=s.document.createTime?Xa(s.document.createTime):Ct.min(),m=new mi({mapValue:{fields:s.document.fields}}),g=tn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Wc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=am(r,s.document),u=s.readTime?Xa(s.readTime):Ct.min(),f=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Wc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=am(r,s.document),u=s.removedTargetIds||[];n=new Wc([],u,o,null)}else{if(!("filter"in t))return It(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Zw(o,u),m=s.targetId;n=new o0(m,f)}}return n}function cC(r,t){return{documents:[c0(r,t.path)]}}function hC(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=c0(r,o);const u=(function(y){if(y.length!==0)return d0(Ei.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:Ka(R.field),direction:mC(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=zm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function fC(r){let t=lC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ce(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const R=f0(b);return R instanceof Ei&&KT(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((R=>(function(K){return new lh(Ya(K.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let R;return R=typeof b=="object"?b.value:b,Ch(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(b){const R=!!b.before,q=b.values||[];return new oh(q,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const R=!b.before,q=b.values||[];return new oh(q,R)})(n.endAt)),Dw(t,o,f,u,m,"F",g,y)}function dC(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function f0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ya(n.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ya(n.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(n.unaryFilter.field);return Oe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ya(n.unaryFilter.field);return Oe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return It(61313);default:return It(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Oe.create(Ya(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return It(58110);default:return It(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ei.create(n.compositeFilter.filters.map((s=>f0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return It(1026)}})(n.compositeFilter.op))})(r):It(30097,{filter:r})}function mC(r){return eC[r]}function pC(r){return nC[r]}function gC(r){return iC[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Ya(r){return un.fromServerFormat(r.fieldPath)}function d0(r){return r instanceof Oe?(function(n){if(n.op==="=="){if(Fv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(qv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(qv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:pC(n.op),value:n.value}}})(r):r instanceof Ei?(function(n){const s=n.getFilters().map((o=>d0(o)));return s.length===1?s[0]:{compositeFilter:{op:gC(n.op),filters:s}}})(r):It(54877,{filter:r})}function m0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,n,s,o,u=Ct.min(),f=Ct.min(),m=Ke.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Fr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t){this.yt=t}}function _C(r){const t=fC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Um(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.Cn=new EC}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Wr.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Wr.min())}updateCollectionGroup(t,n,s){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class EC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new De(ue.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new De(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p0=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(p0,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="LruGarbageCollector",TC=1048576;function aE([r,t],[n,s]){const o=Ut(r,n);return o===0?Ut(t,s):o}class SC{constructor(t){this.Ir=t,this.buffer=new De(aE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();aE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(sE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?lt(sE,"Ignoring IndexedDB error during garbage collection: ",n):await Rh(n)}await this.Vr(3e5)}))}}class bC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(wh.ce);const s=new SC(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(rE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(t,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(y=Date.now(),Fa()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function RC(r,t){return new bC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.changes=new Qs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Gl(s.mutation,o,qr.empty(),Ae.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,qt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=qt()){const o=Bs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Pl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Bs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,qt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=ns();const f=Fl(),m=(function(){return Fl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof xh)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Gl(E.mutation,y,E.mutation.getFieldMask(),Ae.now())):f.set(y.key,qr.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new CC(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Fl();let o=new ye(((f,m)=>f-m)),u=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||qr.empty();E=m.applyToLocalView(y,E),s.set(g,E);const b=(o.get(m.batchId)||qt()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,b=t0();E.forEach((R=>{if(!u.has(R)){const q=r0(n.get(R),s.get(R));q!==null&&b.set(R,q),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return At.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Mw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):W.resolve(Bs());let m=Ql,g=u;return f.next((y=>W.forEach(y,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,qt()))).next((E=>({batchId:m,changes:Uw(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new At(n)).next((s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(g=>{const y=(function(b,R){return new Nh(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((b,R)=>{f=f.insert(b,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,tn.newInvalidDocument(E)))}));let m=Pl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Gl(E.mutation,y,qr.empty(),Ae.now()),Dh(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Xa(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:_C(o.bundledQuery),readTime:Xa(o.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.overlays=new ye(At.comparator),this.qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Bs();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(t,n,s){const o=Bs(),u=n.length+1,f=new At(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ye(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Bs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Bs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Xw(n,s));let u=this.qr.get(n);u===void 0&&(u=qt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(){this.Qr=new De(Pe.$r),this.Ur=new De(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Pe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new At(new ue([])),s=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new At(new ue([])),s=new Pe(n,t),o=new Pe(n,t+1);let u=qt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Pe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return At.comparator(t.key,n.key)||Ut(t.Yr,n.Yr)}static Kr(t,n){return Ut(t.Yr,n.Yr)||At.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new De(Pe.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Qw(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?cw:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new De(Ut);return n.forEach((o=>{const u=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;At.isDocumentKey(u)||(u=u.child(""));const f=new Pe(new At(u),0);let m=new De(Ut);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),W.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,(o=>{const u=new Pe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Pe(n,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.ri=t,this.docs=(function(){return new ye(At.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let s=ns();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ns();const f=n.path,m=new At(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||aw(sw(E),s)<=0||(o.has(E.key)||Dh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,s,o){It(9500)}ii(t,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new VC(this)}getSize(t){return W.resolve(this.size)}}class VC extends wC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),W.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.persistence=t,this.si=new Qs((n=>cp(n)),hp),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new pp,this.targetCount=0,this.ai=uo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new uo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Pr(n),W.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(t,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,n){this.ui={},this.overlays={},this.ci=new wh(0),this.li=!1,this.li=!0,this.hi=new DC,this.referenceDelegate=t(this),this.Pi=new kC(this),this.indexManager=new vC,this.remoteDocumentCache=(function(o){return new xC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new yC(n),this.Ii=new NC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new OC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new MC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new LC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class LC extends lw{constructor(t){super(),this.currentSequenceNumber=t}}class gp{constructor(t){this.persistence=t,this.Ri=new pp,this.Vi=null}static mi(t){return new gp(t)}get fi(){if(this.Vi)return this.Vi;throw It(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=At.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Ct.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class hh{constructor(t,n){this.persistence=t,this.pi=new Qs((s=>hw(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=RC(this,n)}static mi(t,n){return new hh(t,n)}Ei(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return W.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,Ct.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Xc(t.data.value)),n}br(t,n,s){return W.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=qt(),o=qt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Cb()?8:uw(en())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new UC;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Fa()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Fa()<=Lt.DEBUG&&lt("QueryEngine","Query:",Ga(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Fa()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gi(n))):W.resolve())}ys(t,n){if($v(n))return W.resolve(null);let s=gi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Um(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=qt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,Um(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,o){return $v(n)||o.isEqual(Ct.min())?W.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?W.resolve(null):(Fa()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ga(n)),this.vs(t,f,n,rw(o,Ql)).next((m=>m)))}))}Ds(t,n){let s=new De(WT(t));return n.forEach(((o,u)=>{Dh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Fa()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.ps.getDocumentsMatchingQuery(t,n,Wr.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="LocalStore",jC=3e8;class zC{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ye(Ut),this.xs=new Qs((u=>cp(u)),hp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function BC(r,t,n,s){return new zC(r,t,n,s)}async function y0(r,t){const n=Ht(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=qt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function _0(r){const t=Ht(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function HC(r,t){const n=Ht(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,b)=>{const R=o.get(b);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let q=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?q=q.withResumeToken(Ke.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,s)),o=o.insert(b,q),(function(tt,Q,ht){return tt.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=jC?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(R,q,E)&&m.push(n.Pi.updateTargetData(u,q))}));let g=ns(),y=qt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(qC(u,f,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(Ct.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function qC(r,t,n){let s=qt(),o=qt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=ns();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ct.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):lt(_p,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function FC(r,t){const n=Ht(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Fr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Hm(r,t,n){const s=Ht(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!_o(f))throw f;lt(_p,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function oE(r,t,n){const s=Ht(r);let o=Ct.min(),u=qt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const b=Ht(g),R=b.xs.get(E);return R!==void 0?W.resolve(b.Ms.get(R)):b.Pi.getTargetData(y,E)})(s,f,gi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Ct.min(),n?u:qt()))).next((m=>(GC(s,Vw(t),m),{documents:m,Qs:u})))))}function GC(r,t,n){let s=r.Os.get(t)||Ct.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class lE{constructor(){this.activeTargetIds=zw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KC{constructor(){this.Mo=new lE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new lE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="ConnectivityMonitor";class cE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(uE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(uE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function qm(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="RestConnection",$C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ah?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=qm(),m=this.zo(t,n.toUriEncodedString());lt(om,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=po(y);return this.Jo(t,m,g,s,E).then((b=>(lt(om,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw so(om,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=$C[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class ZC extends QC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=qm();return new Promise(((m,g)=>{const y=new OT;y.setWithCredentials(!0),y.listenOnce(DT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qc.NO_ERROR:const b=y.getResponseJson();lt(We,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case Qc.TIMEOUT:lt(We,`RPC '${t}' ${f} timed out`),g(new yt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const R=y.getStatus();if(lt(We,`RPC '${t}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const K=q?.error;if(K&&K.status&&K.message){const tt=(function(ht){const dt=ht.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(dt)>=0?dt:rt.UNKNOWN})(K.status);g(new yt(tt,K.message))}else g(new yt(rt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new yt(rt.UNAVAILABLE,"Connection failed."));break;default:It(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt(We,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);lt(We,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=qm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=VT(),m=xT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");lt(We,`Creating RPC '${t}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);this.I_(b);let R=!1,q=!1;const K=new XC({Yo:Q=>{q?lt(We,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(R||(lt(We,`Opening RPC '${t}' stream ${o} transport.`),b.open(),R=!0),lt(We,`RPC '${t}' stream ${o} sending:`,Q),b.send(Q))},Zo:()=>b.close()}),tt=(Q,ht,dt)=>{Q.listen(ht,(st=>{try{dt(st)}catch(mt){setTimeout((()=>{throw mt}),0)}}))};return tt(b,Ul.EventType.OPEN,(()=>{q||(lt(We,`RPC '${t}' stream ${o} transport opened.`),K.o_())})),tt(b,Ul.EventType.CLOSE,(()=>{q||(q=!0,lt(We,`RPC '${t}' stream ${o} transport closed`),K.a_(),this.E_(b))})),tt(b,Ul.EventType.ERROR,(Q=>{q||(q=!0,so(We,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),K.a_(new yt(rt.UNAVAILABLE,"The operation could not be completed")))})),tt(b,Ul.EventType.MESSAGE,(Q=>{if(!q){const ht=Q.data[0];ce(!!ht,16349);const dt=ht,st=dt?.error||dt[0]?.error;if(st){lt(We,`RPC '${t}' stream ${o} received error:`,st);const mt=st.status;let ut=(function(A){const I=Se[A];if(I!==void 0)return a0(I)})(mt),ct=st.message;ut===void 0&&(ut=rt.INTERNAL,ct="Unknown error status: "+mt+" with message "+st.message),q=!0,K.a_(new yt(ut,ct)),b.close()}else lt(We,`RPC '${t}' stream ${o} received:`,ht),K.u_(ht)}})),tt(m,MT.STAT_EVENT,(Q=>{Q.stat===Im.PROXY?lt(We,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===Im.NOPROXY&&lt(We,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(r){return new rC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="PersistentStream";class WC{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new E0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new yt(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(hE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(lt(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JC extends WC{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=uC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Ct.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ct.min():f.readTime?Xa(f.readTime):Ct.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=iE(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Lm(g)?{documents:cC(u,g)}:{query:hC(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=aC(u,f.resumeToken);const y=zm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ct.min())>0){m.readTime=sC(u,f.snapshotVersion.toTimestamp());const y=zm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=dC(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=iE(this.serializer),n.removeTarget=t,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{}class eI extends tI{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Bm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(rt.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Bm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(rt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(er(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="RemoteStore";class iI{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{lu(this)&&(lt(co,"Restarting streams for network reachability change."),await(async function(g){const y=Ht(g);y.Ea.add(4),await ou(y),y.Ra.set("Unknown"),y.Ea.delete(4),await kh(y)})(this))}))})),this.Ra=new nI(s,o)}}async function kh(r){if(lu(r))for(const t of r.da)await t(!0)}async function ou(r){for(const t of r.da)await t(!1)}function T0(r,t){const n=Ht(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Sp(n)?Tp(n):vo(n).O_()&&Ep(n,t))}function vp(r,t){const n=Ht(r),s=vo(n);n.Ia.delete(t),s.O_()&&S0(n,t),n.Ia.size===0&&(s.O_()?s.L_():lu(n)&&n.Ra.set("Unknown"))}function Ep(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vo(r).Y_(t)}function S0(r,t){r.Va.Ue(t),vo(r).Z_(t)}function Tp(r){r.Va=new tC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Ra.ua()}function Sp(r){return lu(r)&&!vo(r).x_()&&r.Ia.size>0}function lu(r){return Ht(r).Ea.size===0}function A0(r){r.Va=void 0}async function rI(r){r.Ra.set("Online")}async function sI(r){r.Ia.forEach(((t,n)=>{Ep(r,t)}))}async function aI(r,t){A0(r),Sp(r)?(r.Ra.ha(t),Tp(r)):r.Ra.set("Unknown")}async function oI(r,t,n){if(r.Ra.set("Online"),t instanceof l0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){lt(co,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await fE(r,s)}else if(t instanceof Wc?r.Va.Ze(t):t instanceof o0?r.Va.st(t):r.Va.tt(t),!n.isEqual(Ct.min()))try{const s=await _0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Ke.EMPTY_BYTE_STRING,E.snapshotVersion)),S0(u,g);const b=new Fr(E.target,g,y,E.sequenceNumber);Ep(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){lt(co,"Failed to raise snapshot:",s),await fE(r,s)}}async function fE(r,t,n){if(!_o(t))throw t;r.Ea.add(1),await ou(r),r.Ra.set("Offline"),n||(n=()=>_0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(co,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await kh(r)}))}async function dE(r,t){const n=Ht(r);n.asyncQueue.verifyOperationInProgress(),lt(co,"RemoteStore received new credentials");const s=lu(n);n.Ea.add(3),await ou(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await kh(n)}async function lI(r,t){const n=Ht(r);t?(n.Ea.delete(2),await kh(n)):t||(n.Ea.add(2),await ou(n),n.Ra.set("Unknown"))}function vo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ht(n);return u.sa(),new JC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:rI.bind(null,r),t_:sI.bind(null,r),r_:aI.bind(null,r),H_:oI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Sp(r)?Tp(r):r.Ra.set("Unknown")):(await r.ma.stop(),A0(r))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Ap(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b0(r,t){if(er("AsyncQueue",`${t}: ${r}`),_o(r))return new yt(rt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(t){return new Za(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||At.comparator(n.key,s.key):(n,s)=>At.comparator(n.key,s.key),this.keyedMap=Pl(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Za)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Za;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.ga=new ye(At.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):It(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class ho{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ho(t,n,Za.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class cI{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ht(n),u=o.queries;o.queries=pE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new yt(rt.ABORTED,"Firestore shutting down"))}}function pE(){return new Qs((r=>ZT(r)),Oh)}async function hI(r,t){const n=Ht(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new uI,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=b0(f,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&bp(n)}async function fI(r,t){const n=Ht(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dI(r,t){const n=Ht(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&bp(n)}function mI(r,t,n){const s=Ht(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function bp(r){r.Ca.forEach((t=>{t.next()}))}var Fm,gE;(gE=Fm||(Fm={})).Ma="default",gE.Cache="cache";class pI{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ho(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t){this.key=t}}class w0{constructor(t){this.key=t}}class gI{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=WT(t),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new mE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,b)=>{const R=o.get(E),q=Dh(this.query,b)?b:null,K=!!R&&this.mutatedKeys.has(R.key),tt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Q=!1;R&&q?R.data.isEqual(q.data)?K!==tt&&(s.track({type:3,doc:q}),Q=!0):this.su(R,q)||(s.track({type:2,doc:q}),Q=!0,(g&&this.eu(q,g)>0||y&&this.eu(q,y)<0)&&(m=!0)):!R&&q?(s.track({type:0,doc:q}),Q=!0):R&&!q&&(s.track({type:1,doc:R}),Q=!0,(g||y)&&(m=!0)),Q&&(q?(f=f.add(q),u=tt?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,b)=>(function(q,K){const tt=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It(20277,{Rt:Q})}};return tt(q)-tt(K)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new ho(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new w0(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new R0(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=qt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rp="SyncEngine";class yI{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class _I{constructor(t){this.key=t,this.hu=!1}}class vI{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Qs((m=>ZT(m)),Oh),this.Iu=new Map,this.Eu=new Set,this.du=new ye(At.comparator),this.Au=new Map,this.Ru=new pp,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EI(r,t,n=!0){const s=D0(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await C0(s,t,n,!0),o}async function TI(r,t){const n=D0(r);await C0(n,t,!0,!1)}async function C0(r,t,n,s){const o=await FC(r.localStore,gi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await SI(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&T0(r.remoteStore,o),m}async function SI(r,t,n,s,o){r.pu=(b,R,q)=>(async function(tt,Q,ht,dt){let st=Q.view.ru(ht);st.Cs&&(st=await oE(tt.localStore,Q.query,!1).then((({documents:D})=>Q.view.ru(D,st))));const mt=dt&&dt.targetChanges.get(Q.targetId),ut=dt&&dt.targetMismatches.get(Q.targetId)!=null,ct=Q.view.applyChanges(st,tt.isPrimaryClient,mt,ut);return _E(tt,Q.targetId,ct.au),ct.snapshot})(r,b,R,q);const u=await oE(r.localStore,t,!0),f=new gI(t,u.Qs),m=f.ru(u.documents),g=au.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);_E(r,n,y.au);const E=new yI(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function AI(r,t,n){const s=Ht(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Oh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&vp(s.remoteStore,o.targetId),Gm(s,o.targetId)})).catch(Rh)):(Gm(s,o.targetId),await Hm(s.localStore,o.targetId,!0))}async function bI(r,t){const n=Ht(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vp(n.remoteStore,s.targetId))}async function I0(r,t){const n=Ht(r);try{const s=await HC(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(ce(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ce(f.hu,14607):o.removedDocuments.size>0&&(ce(f.hu,42227),f.hu=!1))})),await O0(n,s,t)}catch(s){await Rh(s)}}function yE(r,t,n){const s=Ht(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ht(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,b)=>{for(const R of b.Sa)R.va(m)&&(y=!0)})),y&&bp(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function RI(r,t,n){const s=Ht(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ye(At.comparator);f=f.insert(u,tn.newNoDocument(u,Ct.min()));const m=qt().add(u),g=new Vh(Ct.min(),new Map,new ye(Ut),f,m);await I0(s,g),s.du=s.du.remove(u),s.Au.delete(t),wp(s)}else await Hm(s.localStore,t,!1).then((()=>Gm(s,t,n))).catch(Rh)}function Gm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||N0(r,s)}))}function N0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(vp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),wp(r))}function _E(r,t,n){for(const s of n)s instanceof R0?(r.Ru.addReference(s.key,t),wI(r,s)):s instanceof w0?(lt(Rp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||N0(r,s.key)):It(19791,{wu:s})}function wI(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(lt(Rp,"New document in limbo: "+n),r.Eu.add(s),wp(r))}function wp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new At(ue.fromString(t)),s=r.fu.next();r.Au.set(s,new _I(n)),r.du=r.du.insert(n,s),T0(r.remoteStore,new Fr(gi(XT(n.path)),s,"TargetPurposeLimboResolution",wh.ce))}}async function O0(r,t,n){const s=Ht(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=yp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=Ht(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>W.forEach(y,(R=>W.forEach(R.Es,(q=>E.persistence.referenceDelegate.addReference(b,R.targetId,q))).next((()=>W.forEach(R.ds,(q=>E.persistence.referenceDelegate.removeReference(b,R.targetId,q)))))))))}catch(b){if(!_o(b))throw b;lt(_p,"Failed to update sequence numbers: "+b)}for(const b of y){const R=b.targetId;if(!b.fromCache){const q=E.Ms.get(R),K=q.snapshotVersion,tt=q.withLastLimboFreeSnapshotVersion(K);E.Ms=E.Ms.insert(R,tt)}}})(s.localStore,u))}async function CI(r,t){const n=Ht(r);if(!n.currentUser.isEqual(t)){lt(Rp,"User change. New user:",t.toKey());const s=await y0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new yt(rt.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await O0(n,s.Ls)}}function II(r,t){const n=Ht(r),s=n.Au.get(t);if(s&&s.hu)return qt().add(s.key);{let o=qt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function D0(r){const t=Ht(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=I0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=II.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RI.bind(null,t),t.Pu.H_=dI.bind(null,t.eventManager),t.Pu.yu=mI.bind(null,t.eventManager),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=v0(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return BC(this.persistence,new PC,t.initialUser,this.serializer)}Cu(t){return new g0(gp.mi,this.serializer)}Du(t){return new KC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class NI extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ce(this.persistence.referenceDelegate instanceof hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new g0((s=>hh.mi(s,n)),this.serializer)}}class Km{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CI.bind(null,this.syncEngine),await lI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cI})()}createDatastore(t){const n=v0(t.databaseInfo.databaseId),s=(function(u){return new ZC(u)})(t.databaseInfo);return(function(u,f,m,g){return new eI(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new iI(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>yE(this.syncEngine,n,0)),(function(){return cE.v()?new cE:new YC})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const b=new vI(o,u,f,m,g,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ht(n);lt(co,"RemoteStore shutting down."),s.Ea.add(5),await ou(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Km.provider={build:()=>new Km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class DI{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=UT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{lt(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(lt(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=b0(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function um(r,t){r.asyncQueue.verifyOperationInProgress(),lt(is,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await y0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function vE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await MI(r);lt(is,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>dE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>dE(t.remoteStore,o))),r._onlineComponents=t}async function MI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(is,"Using user provided OfflineComponentProvider");try{await um(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await um(r,new fh)}}else lt(is,"Using default OfflineComponentProvider"),await um(r,new NI(void 0));return r._offlineComponents}async function xI(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(is,"Using user provided OnlineComponentProvider"),await vE(r,r._uninitializedComponentsProvider._online)):(lt(is,"Using default OnlineComponentProvider"),await vE(r,new Km))),r._onlineComponents}async function VI(r){const t=await xI(r),n=t.eventManager;return n.onListen=EI.bind(null,t.syncEngine),n.onUnlisten=AI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=TI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bI.bind(null,t.syncEngine),n}function kI(r,t,n={}){const s=new Hs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new OI({next:R=>{E.Nu(),f.enqueueAndForget((()=>fI(u,b))),R.fromCache&&g.source==="server"?y.reject(new yt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),b=new pI(m,E,{includeMetadataChanges:!0,qa:!0});return hI(u,b)})(await VI(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="firestore.googleapis.com",TE=!0;class SE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x0,this.ssl=TE}else this.host=t.host,this.ssl=t.ssl??TE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=p0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TC)throw new yt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ew("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cp{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new GR;switch(s.type){case"firstParty":return new QR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=EE.get(n);s&&(lt("ComponentProvider","Removing Datastore"),EE.delete(n),s.terminate())})(this),Promise.resolve()}}function LI(r,t,n,s={}){r=Om(r,Cp);const o=po(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(TT(`https://${m}`),ST("Firestore",!0)),u.host!==x0&&u.host!==m&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Fs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Je.MOCK_USER;else{y=_b(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new yt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Je(b)}r._authCredentials=new KR(new LT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Lh(this.firestore,t,this._query)}}class jn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new jn(this.firestore,t,this._key)}toJSON(){return{type:jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(ru(n,jn._jsonSchema))return new jn(t,s||null,new At(ue.fromString(n.referencePath)))}}jn._jsonSchemaVersion="firestore/documentReference/1.0",jn._jsonSchema={type:be("string",jn._jsonSchemaVersion),referencePath:be("string")};class Wa extends Lh{constructor(t,n,s){super(t,n,XT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new jn(this.firestore,null,new At(t))}withConverter(t){return new Wa(this.firestore,t,this._path)}}function UI(r,t,...n){if(r=Ti(r),r instanceof Cp){const s=ue.fromString(t,...n);return kv(s),new Wa(r,null,s)}{if(!(r instanceof jn||r instanceof Wa))throw new yt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ue.fromString(t,...n));return kv(s),new Wa(r.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class bE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new E0(this,"async_queue_retry"),this._c=()=>{const s=lm();s&&lt(AE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_o(t))throw t;lt(AE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,er("INTERNAL UNHANDLED ERROR: ",RE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Ap.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&It(47125,{Pc:RE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function RE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class V0 extends Cp{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new bE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bE(t),this._firestoreClient=void 0,await t}}}function PI(r,t){const n=typeof r=="object"?r:wT(),s=typeof r=="string"?r:ah,o=ap(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=gb("firestore");u&&LI(o,...u)}return o}function jI(r){if(r._terminated)throw new yt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zI(r),r._firestoreClient}function zI(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new pw(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,M0(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new DI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new pi(Ke.fromBase64String(t))}catch(n){throw new yt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new pi(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ru(t,pi._jsonSchema))return pi.fromBase64String(t.bytes)}}pi._jsonSchemaVersion="firestore/bytes/1.0",pi._jsonSchema={type:be("string",pi._jsonSchemaVersion),bytes:be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new yt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new yt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(t){if(ru(t,Qr._jsonSchema))return new Qr(t.latitude,t.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:be("string",Qr._jsonSchemaVersion),latitude:be("number"),longitude:be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ru(t,Xr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Xr(t.vectorValues);throw new yt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:be("string",Xr._jsonSchemaVersion),vectorValues:be("object")};const BI=new RegExp("[~\\*/\\[\\]]");function HI(r,t,n){if(t.search(BI)>=0)throw wE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new k0(...t.split("."))._internalPath}catch{throw wE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function wE(r,t,n,s,o){let u=`Function ${t}() called with invalid data`;u+=". ";let f="";return new yt(rt.INVALID_ARGUMENT,u+r+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(U0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qI extends L0{data(){return super.data()}}function U0(r,t){return typeof t=="string"?HI(r,t):t instanceof k0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new yt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GI{convertValue(t,n="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw It(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return su(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Mm].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Xr(n)}convertGeoPoint(t){return new Qr(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ih(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xl(t));default:return null}}convertTimestamp(t){const n=Jr(t);return new Ae(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ue.fromString(t);ce(m0(s),9688,{name:t});const o=new Zl(s.get(1),s.get(3)),u=new At(s.popFirst(5));return o.isEqual(n)||er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class qc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ja extends L0{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(U0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ja._jsonSchema={type:be("string",Ja._jsonSchemaVersion),bundleSource:be("string","DocumentSnapshot"),bundleName:be("string"),bundle:be("string")};class Jc extends Ja{data(t={}){return super.data(t)}}class to{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new qc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Jc(this._firestore,this._userDataWriter,s.key,s,new qc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new yt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new qc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new qc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:KI(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=to._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=UT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function KI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It(61501,{type:r})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:be("string",to._jsonSchemaVersion),bundleSource:be("string","QuerySnapshot"),bundleName:be("string"),bundle:be("string")};class YI extends GI{constructor(t){super(),this.firestore=t}convertBytes(t){return new pi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new jn(this.firestore,null,n)}}function $I(r){r=Om(r,Lh);const t=Om(r.firestore,V0),n=jI(t),s=new YI(t);return FI(r._query),kI(n,r._query).then((o=>new to(t,s,r,o)))}(function(t,n=!0){(function(o){yo=o})(go),ro(new Gs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new V0(new YR(s.getProvider("auth-internal")),new XR(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new yt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Yr(Dv,Mv,t),Yr(Dv,Mv,"esm2020")})();function P0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QI=P0,j0=new nu("auth","Firebase",P0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new rp("@firebase/auth");function XI(r,...t){dh.logLevel<=Lt.WARN&&dh.warn(`Auth (${go}): ${r}`,...t)}function th(r,...t){dh.logLevel<=Lt.ERROR&&dh.error(`Auth (${go}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...t){throw Ip(r,...t)}function yi(r,...t){return Ip(r,...t)}function z0(r,t,n){const s={...QI(),[t]:n};return new nu("auth","Firebase",s).create(t,{appName:r.name})}function Zr(r){return z0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ip(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return j0.create(r,...t)}function St(r,t,...n){if(!r)throw Ip(t,...n)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw th(t),new Error(t)}function nr(r,t){r||Zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(){return typeof self<"u"&&self.location?.href||""}function ZI(){return CE()==="http:"||CE()==="https:"}function CE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZI()||bb()||"connection"in navigator)?navigator.onLine:!0}function JI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,n){this.shortDelay=t,this.longDelay=n,nr(n>t,"Short delay should be less than long delay!"),this.isMobile=Tb()||Rb()}get(){return WI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(r,t){nr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],n2=new uu(3e4,6e4);function Xs(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function rs(r,t,n,s,o={}){return H0(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=iu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return Ab()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&po(r.emulatorConfig.host)&&(y.credentials="include"),B0.fetch()(await q0(r,r.config.apiHost,n,m),y)})}async function H0(r,t,n){r._canInitEmulator=!1;const s={...t2,...t};try{const o=new r2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Fc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Fc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Fc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw z0(r,E,y);Qn(r,E)}}catch(o){if(o instanceof rr)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function Uh(r,t,n,s,o={}){const u=await rs(r,t,n,s,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function q0(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Np(r.config,o):`${r.config.apiScheme}://${o}`;return e2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function i2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class r2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(yi(this.auth,"network-request-failed")),n2.get())})}}function Fc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=yi(r,t,s);return o.customData._tokenResponse=n,o}function IE(r){return r!==void 0&&r.enterprise!==void 0}class s2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return i2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function a2(r,t){return rs(r,"GET","/v2/recaptchaConfig",Xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(r,t){return rs(r,"POST","/v1/accounts:delete",t)}async function mh(r,t){return rs(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function l2(r,t=!1){const n=Ti(r),s=await n.getIdToken(t),o=Op(s);St(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Kl(cm(o.auth_time)),issuedAtTime:Kl(cm(o.iat)),expirationTime:Kl(cm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function cm(r){return Number(r)*1e3}function Op(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=yT(n);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o?.toString()),null}}function NE(r){const t=Op(r);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof rr&&u2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function u2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(r){const t=r.auth,n=await r.getIdToken(),s=await Jl(r,mh(t,{idToken:n}));St(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?F0(o.providerUserInfo):[],f=f2(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function h2(r){const t=Ti(r);await ph(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function f2(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function F0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(r,t){const n=await H0(r,{},async()=>{const s=iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await q0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&po(r.emulatorConfig.host)&&(g.credentials="include"),B0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m2(r,t){return rs(r,"POST","/v2/accounts:revokeToken",Xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):NE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=NE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await d2(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new eo;return s&&(St(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(St(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(r,t){St(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new c2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return l2(this,t)}reload(){return h2(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Zr(this.auth));const t=await this.getIdToken();return await Jl(this,o2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:R,isAnonymous:q,providerData:K,stsTokenManager:tt}=n;St(b&&tt,t,"internal-error");const Q=eo.fromJSON(this.name,tt);St(typeof b=="string",t,"internal-error"),Ur(s,t.name),Ur(o,t.name),St(typeof R=="boolean",t,"internal-error"),St(typeof q=="boolean",t,"internal-error"),Ur(u,t.name),Ur(f,t.name),Ur(m,t.name),Ur(g,t.name),Ur(y,t.name),Ur(E,t.name);const ht=new $n({uid:b,auth:t,email:o,emailVerified:R,displayName:s,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Q,createdAt:y,lastLoginAt:E});return K&&Array.isArray(K)&&(ht.providerData=K.map(dt=>({...dt}))),g&&(ht._redirectEventId=g),ht}static async _fromIdTokenResponse(t,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await ph(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?F0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new eo;m.updateFromIdToken(s);const g=new $n({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;function Wi(r){nr(r instanceof Function,"Expected a class definition");let t=OE.get(r);return t?(nr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,OE.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}G0.type="NONE";const DE=G0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(r,t,n){return`firebase:${r}:${t}:${n}`}class no{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await mh(this.auth,{idToken:t}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new no(Wi(DE),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Wi(DE);const f=eh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const R=await mh(t,{idToken:E}).catch(()=>{});if(!R)break;b=await $n._fromGetAccountInfoResponse(t,R,E)}else b=$n._fromJSON(t,E);y!==u&&(m=b),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new no(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new no(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Q0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(K0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Z0(t))return"Blackberry";if(W0(t))return"Webos";if(Y0(t))return"Safari";if((t.includes("chrome/")||$0(t))&&!t.includes("edge/"))return"Chrome";if(X0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function K0(r=en()){return/firefox\//i.test(r)}function Y0(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $0(r=en()){return/crios\//i.test(r)}function Q0(r=en()){return/iemobile/i.test(r)}function X0(r=en()){return/android/i.test(r)}function Z0(r=en()){return/blackberry/i.test(r)}function W0(r=en()){return/webos/i.test(r)}function Dp(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function p2(r=en()){return Dp(r)&&!!window.navigator?.standalone}function g2(){return wb()&&document.documentMode===10}function J0(r=en()){return Dp(r)||X0(r)||W0(r)||Z0(r)||/windows phone/i.test(r)||Q0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(r,t=[]){let n;switch(r){case"Browser":n=ME(en());break;case"Worker":n=`${ME(en())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(r,t={}){return rs(r,"GET","/v2/passwordPolicy",Xs(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=6;class E2{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??v2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await mh(this,{idToken:t}),s=await $n._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ph(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=JI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Zr(this));const n=t?Ti(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _2(this),n=new E2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await m2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Wi(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=tS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&XI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Eo(r){return Ti(r)}class xE{constructor(t){this.auth=t,this.observer=null,this.addObserver=Vb(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S2(r){Ph=r}function eS(r){return Ph.loadJS(r)}function A2(){return Ph.recaptchaEnterpriseScript}function b2(){return Ph.gapiScript}function R2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class w2{constructor(){this.enterprise=new C2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class C2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const I2="recaptcha-enterprise",nS="NO_RECAPTCHA";class N2{constructor(t){this.type=I2,this.auth=Eo(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{a2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new s2(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;IE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(nS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&IE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=A2();g.length!==0&&(g+=m),eS(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function VE(r,t,n,s=!1,o=!1){const u=new N2(r);let f;if(o)f=nS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function kE(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await VE(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await VE(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(r,t){const n=ap(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fs(u,t??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:t})}function D2(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Wi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function M2(r,t,n){const s=Eo(r);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=iS(t),{host:f,port:m}=x2(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(Fs(y,s.config.emulator)&&Fs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,po(f)?(TT(`${u}//${f}${g}`),ST("Auth",!0)):V2()}function iS(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function x2(r){const t=iS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:LE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:LE(f)}}}function LE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function V2(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,n){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function k2(r,t){return rs(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(r,t){return Uh(r,"POST","/v1/accounts:signInWithPassword",Xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(r,t){return Uh(r,"POST","/v1/accounts:signInWithEmailLink",Xs(r,t))}async function P2(r,t){return Uh(r,"POST","/v1/accounts:signInWithEmailLink",Xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Mp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new tu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new tu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kE(t,n,"signInWithPassword",L2);case"emailLink":return U2(t,{email:this._email,oobCode:this._password});default:Qn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kE(t,s,"signUpPassword",k2);case"emailLink":return P2(t,{idToken:n,email:this._email,oobCode:this._password});default:Qn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(r,t){return Uh(r,"POST","/v1/accounts:signInWithIdp",Xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="http://localhost";class Ys extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ys(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return io(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,io(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,io(t,n)}buildRequest(){const t={requestUri:j2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=iu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B2(r){const t=kl(Ll(r)).link,n=t?kl(Ll(t)).deep_link_id:null,s=kl(Ll(r)).deep_link_id;return(s?kl(Ll(s)).link:null)||s||n||t||r}class xp{constructor(t){const n=kl(Ll(t)),s=n.apiKey??null,o=n.oobCode??null,u=z2(n.mode??null);St(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=B2(t);try{return new xp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(t,n){return tu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=xp.parseLink(n);return St(s,"argument-error"),tu._fromEmailAndCode(t,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends rS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends cu{constructor(){super("facebook.com")}static credential(t){return Ys._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ys._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends cu{constructor(){super("github.com")}static credential(t){return Ys._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends cu{constructor(){super("twitter.com")}static credential(t,n){return Ys._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await $n._fromIdTokenResponse(t,s,o),f=UE(s);return new fo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=UE(s);return new fo({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function UE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends rr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new gh(t,n,s,o)}}function sS(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(r,u,t,s):u})}async function H2(r,t,n=!1){const s=await Jl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return fo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(r,t,n=!1){const{auth:s}=r;if(Yn(s.app))return Promise.reject(Zr(s));const o="reauthenticate";try{const u=await Jl(r,sS(s,o,t,r),n);St(u.idToken,s,"internal-error");const f=Op(u.idToken);St(f,s,"internal-error");const{sub:m}=f;return St(r.uid===m,s,"user-mismatch"),fo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(r,t,n=!1){if(Yn(r.app))return Promise.reject(Zr(r));const s="signIn",o=await sS(r,s,t),u=await fo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function F2(r,t){return aS(Eo(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(r){const t=Eo(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function K2(r,t,n){return Yn(r.app)?Promise.reject(Zr(r)):F2(Ti(r),To.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&G2(r),s})}function Y2(r,t,n,s){return Ti(r).onIdTokenChanged(t,n,s)}function $2(r,t,n){return Ti(r).beforeAuthStateChanged(t,n)}function Q2(r,t,n,s){return Ti(r).onAuthStateChanged(t,n,s)}function X2(r){return Ti(r).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=1e3,W2=10;class lS extends oS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);g2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,W2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},Z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}lS.type="LOCAL";const J2=lS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS extends oS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}uS.type="SESSION";const cS=uS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new jh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await tN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Vp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function nN(r){_i().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function iN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rN(){return navigator?.serviceWorker?.controller||null}function sN(){return hS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="firebaseLocalStorageDb",aN=1,_h="firebaseLocalStorage",dS="fbase_key";class hu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(r,t){return r.transaction([_h],t?"readwrite":"readonly").objectStore(_h)}function oN(){const r=indexedDB.deleteDatabase(fS);return new hu(r).toPromise()}function Qm(){const r=indexedDB.open(fS,aN);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(_h,{keyPath:dS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(_h)?t(s):(s.close(),await oN(),t(await Qm()))})})}async function PE(r,t,n){const s=zh(r,!0).put({[dS]:t,value:n});return new hu(s).toPromise()}async function lN(r,t){const n=zh(r,!1).get(t),s=await new hu(n).toPromise();return s===void 0?null:s.value}function jE(r,t){const n=zh(r,!0).delete(t);return new hu(n).toPromise()}const uN=800,cN=3;class mS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>cN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(sN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iN(),!this.activeServiceWorker)return;this.sender=new eN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qm();return await PE(t,yh,"1"),await jE(t,yh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>PE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>lN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>jE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=zh(o,!1).getAll();return new hu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mS.type="LOCAL";const hN=mS;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(r,t){return t?Wi(t):(St(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends Mp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return io(t,this._buildIdpRequest())}_linkToIdToken(t,n){return io(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return io(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function dN(r){return aS(r.auth,new kp(r),r.bypassAuthState)}function mN(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),q2(n,new kp(r),r.bypassAuthState)}async function pN(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),H2(n,new kp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dN;case"linkViaPopup":case"linkViaRedirect":return pN;case"reauthViaPopup":case"reauthViaRedirect":return mN;default:Qn(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new uu(2e3,1e4);class $a extends pS{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gN.get())};t()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="pendingRedirect",nh=new Map;class _N extends pS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=nh.get(this.auth._key());if(!t){try{const s=await vN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}nh.set(this.auth._key(),t)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vN(r,t){const n=SN(t),s=TN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function EN(r,t){nh.set(r._key(),t)}function TN(r){return Wi(r._redirectPersistence)}function SN(r){return eh(yN,r.config.apiKey,r.name)}async function AN(r,t,n=!1){if(Yn(r.app))return Promise.reject(Zr(r));const s=Eo(r),o=fN(s,t),f=await new _N(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=600*1e3;class RN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!gS(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(yi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bN&&this.cachedEventUids.clear(),this.cachedEventUids.has(zE(t))}saveEventToCache(t){this.cachedEventUids.add(zE(t)),this.lastProcessedEventTime=Date.now()}}function zE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function gS({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function wN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(r,t={}){return rs(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NN=/^https?/;async function ON(r){if(r.config.emulator)return;const{authorizedDomains:t}=await CN(r);for(const n of t)try{if(DN(n))return}catch{}Qn(r,"unauthorized-domain")}function DN(r){const t=Ym(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!NN.test(n))return!1;if(IN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new uu(3e4,6e4);function BE(){const r=_i().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function xN(r){return new Promise((t,n)=>{function s(){BE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{BE(),n(yi(r,"network-request-failed"))},timeout:MN.get()})}if(_i().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(_i().gapi?.load)s();else{const o=R2("iframefcb");return _i()[o]=()=>{gapi.load?s():n(yi(r,"network-request-failed"))},eS(`${b2()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw ih=null,t})}let ih=null;function VN(r){return ih=ih||xN(r),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new uu(5e3,15e3),LN="__/auth/iframe",UN="emulator/auth/iframe",PN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zN(r){const t=r.config;St(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Np(t,UN):`https://${r.config.authDomain}/${LN}`,s={apiKey:t.apiKey,appName:r.name,v:go},o=jN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${iu(s).slice(1)}`}async function BN(r){const t=await VN(r),n=_i().gapi;return St(n,r,"internal-error"),t.open({where:document.body,url:zN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=yi(r,"network-request-failed"),m=_i().setTimeout(()=>{u(f)},kN.get());function g(){_i().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qN=500,FN=600,GN="_blank",KN="http://localhost";class HE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YN(r,t,n,s=qN,o=FN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...HN,width:s.toString(),height:o.toString(),top:u,left:f},y=en().toLowerCase();n&&(m=$0(y)?GN:n),K0(y)&&(t=t||KN,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[q,K])=>`${R}${q}=${K},`,"");if(p2(y)&&m!=="_self")return $N(t||"",m),new HE(null);const b=window.open(t||"",m,E);St(b,r,"popup-blocked");try{b.focus()}catch{}return new HE(b)}function $N(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="__/auth/handler",XN="emulator/auth/handler",ZN=encodeURIComponent("fac");async function qE(r,t,n,s,o,u){St(r.config.authDomain,r,"auth-domain-config-required"),St(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:go,eventId:o};if(t instanceof rS){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",xb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof cu){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${ZN}=${encodeURIComponent(g)}`:"";return`${WN(r)}?${iu(m).slice(1)}${y}`}function WN({config:r}){return r.emulator?Np(r,XN):`https://${r.authDomain}/${QN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class JN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cS,this._completeRedirectFn=AN,this._overrideRedirectResult=EN}async _openPopup(t,n,s,o){nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await qE(t,n,s,Ym(),o);return YN(t,u,Vp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await qE(t,n,s,Ym(),o);return nN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await BN(t),s=new RN(t);return n.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(hm,{type:hm},o=>{const u=o?.[0]?.[hm];u!==void 0&&n(!!u),Qn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ON(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return J0()||Y0()||Dp()}}const tO=JN;var FE="@firebase/auth",GE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iO(r){ro(new Gs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;St(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tS(r)},y=new T2(s,o,u,g);return D2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ro(new Gs("auth-internal",t=>{const n=Eo(t.getProvider("auth").getImmediate());return(s=>new eO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(FE,GE,nO(r)),Yr(FE,GE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=300,sO=ET("authIdTokenMaxAge")||rO;let KE=null;const aO=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sO)return;const o=n?.token;KE!==o&&(KE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function oO(r=wT()){const t=ap(r,"auth");if(t.isInitialized())return t.getImmediate();const n=O2(r,{popupRedirectResolver:tO,persistence:[hN,J2,cS]}),s=ET("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=aO(u.toString());$2(n,f,()=>f(n.currentUser)),Y2(n,m=>f(m))}}const o=_T("auth");return o&&M2(n,`http://${o}`),n}function lO(){return document.getElementsByTagName("head")?.[0]??document}S2({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=yi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",lO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iO("Browser");var uO="firebase",cO="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(uO,cO,"app");var fm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var YE;function hO(){return YE||(YE=1,(function(r){(function(){var t={}.hasOwnProperty;function n(){for(var u="",f=0;f<arguments.length;f++){var m=arguments[f];m&&(u=o(u,s(m)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var f="";for(var m in u)t.call(u,m)&&u[m]&&(f=o(f,m));return f}function o(u,f){return f?u?u+" "+f:u+f:u}r.exports?(n.default=n,r.exports=n):window.classNames=n})()})(fm)),fm.exports}var fO=hO();const gt=Ah(fO);function Xm(){return Xm=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Xm.apply(null,arguments)}function yS(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)!==-1)continue;n[s]=r[s]}return n}function $E(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function dO(r){var t=mO(r,"string");return typeof t=="symbol"?t:String(t)}function mO(r,t){if(typeof r!="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function pO(r,t,n){var s=O.useRef(r!==void 0),o=O.useState(t),u=o[0],f=o[1],m=r!==void 0,g=s.current;return s.current=m,!m&&g&&u!==t&&f(t),[m?r:u,O.useCallback(function(y){for(var E=arguments.length,b=new Array(E>1?E-1:0),R=1;R<E;R++)b[R-1]=arguments[R];n&&n.apply(void 0,[y].concat(b)),f(y)},[n])]}function Lp(r,t){return Object.keys(t).reduce(function(n,s){var o,u=n,f=u[$E(s)],m=u[s],g=yS(u,[$E(s),s].map(dO)),y=t[s],E=pO(m,f,r[y]),b=E[0],R=E[1];return Xm({},g,(o={},o[s]=b,o[y]=R,o))},r)}function Zm(r,t){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Zm(r,t)}function gO(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,Zm(r,t)}const yO=["xxl","xl","lg","md","sm","xs"],_O="xs",fu=O.createContext({prefixes:{},breakpoints:yO,minBreakpoint:_O}),{Consumer:CM,Provider:IM}=fu;function bt(r,t){const{prefixes:n}=O.useContext(fu);return r||n[t]||t}function _S(){const{breakpoints:r}=O.useContext(fu);return r}function vS(){const{minBreakpoint:r}=O.useContext(fu);return r}function vO(){const{dir:r}=O.useContext(fu);return r==="rtl"}function Bh(r){return r&&r.ownerDocument||document}function EO(r){var t=Bh(r);return t&&t.defaultView||window}function TO(r,t){return EO(r).getComputedStyle(r,t)}var SO=/([A-Z])/g;function AO(r){return r.replace(SO,"-$1").toLowerCase()}var bO=/^ms-/;function Gc(r){return AO(r).replace(bO,"-ms-")}var RO=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function wO(r){return!!(r&&RO.test(r))}function Ji(r,t){var n="",s="";if(typeof t=="string")return r.style.getPropertyValue(Gc(t))||TO(r).getPropertyValue(Gc(t));Object.keys(t).forEach(function(o){var u=t[o];!u&&u!==0?r.style.removeProperty(Gc(o)):wO(o)?s+=o+"("+u+") ":n+=Gc(o)+": "+u+";"}),s&&(n+="transform: "+s+";"),r.style.cssText+=";"+n}var dm={exports:{}},mm,QE;function CO(){if(QE)return mm;QE=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mm=r,mm}var pm,XE;function IO(){if(XE)return pm;XE=1;var r=CO();function t(){}function n(){}return n.resetWarningCache=t,pm=function(){function s(f,m,g,y,E,b){if(b!==r){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return u.PropTypes=u,u},pm}var ZE;function NO(){return ZE||(ZE=1,dm.exports=IO()()),dm.exports}var OO=NO();const ln=Ah(OO);var DO=mT();const Qa=Ah(DO),WE={disabled:!1},ES=wn.createContext(null);var MO=function(t){return t.scrollTop},zl="unmounted",Pr="exited",Kn="entering",Qi="entered",eu="exiting",sr=(function(r){gO(t,r);function t(s,o){var u;u=r.call(this,s,o)||this;var f=o,m=f&&!f.isMounting?s.enter:s.appear,g;return u.appearStatus=null,s.in?m?(g=Pr,u.appearStatus=Kn):g=Qi:s.unmountOnExit||s.mountOnEnter?g=zl:g=Pr,u.state={status:g},u.nextCallback=null,u}t.getDerivedStateFromProps=function(o,u){var f=o.in;return f&&u.status===zl?{status:Pr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var u=null;if(o!==this.props){var f=this.state.status;this.props.in?f!==Kn&&f!==Qi&&(u=Kn):(f===Kn||f===Qi)&&(u=eu)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,u,f,m;return u=f=m=o,o!=null&&typeof o!="number"&&(u=o.exit,f=o.enter,m=o.appear!==void 0?o.appear:f),{exit:u,enter:f,appear:m}},n.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===Kn){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:Qa.findDOMNode(this);f&&MO(f)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Pr&&this.setState({status:zl})},n.performEnter=function(o){var u=this,f=this.props.enter,m=this.context?this.context.isMounting:o,g=this.props.nodeRef?[m]:[Qa.findDOMNode(this),m],y=g[0],E=g[1],b=this.getTimeouts(),R=m?b.appear:b.enter;if(!o&&!f||WE.disabled){this.safeSetState({status:Qi},function(){u.props.onEntered(y)});return}this.props.onEnter(y,E),this.safeSetState({status:Kn},function(){u.props.onEntering(y,E),u.onTransitionEnd(R,function(){u.safeSetState({status:Qi},function(){u.props.onEntered(y,E)})})})},n.performExit=function(){var o=this,u=this.props.exit,f=this.getTimeouts(),m=this.props.nodeRef?void 0:Qa.findDOMNode(this);if(!u||WE.disabled){this.safeSetState({status:Pr},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:eu},function(){o.props.onExiting(m),o.onTransitionEnd(f.exit,function(){o.safeSetState({status:Pr},function(){o.props.onExited(m)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},n.setNextCallback=function(o){var u=this,f=!0;return this.nextCallback=function(m){f&&(f=!1,u.nextCallback=null,o(m))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},n.onTransitionEnd=function(o,u){this.setNextCallback(u);var f=this.props.nodeRef?this.props.nodeRef.current:Qa.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!f||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],y=g[0],E=g[1];this.props.addEndListener(y,E)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===zl)return null;var u=this.props,f=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=yS(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wn.createElement(ES.Provider,{value:null},typeof f=="function"?f(o,m):wn.cloneElement(wn.Children.only(f),m))},t})(wn.Component);sr.contextType=ES;sr.propTypes={};function Ha(){}sr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ha,onEntering:Ha,onEntered:Ha,onExit:Ha,onExiting:Ha,onExited:Ha};sr.UNMOUNTED=zl;sr.EXITED=Pr;sr.ENTERING=Kn;sr.ENTERED=Qi;sr.EXITING=eu;function xO(r){return r.code==="Escape"||r.keyCode===27}function VO(){const r=O.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function So(r){if(!r||typeof r=="function")return null;const{major:t}=VO();return t>=19?r.props.ref:r.ref}const Ao=!!(typeof window<"u"&&window.document&&window.document.createElement);var Wm=!1,Jm=!1;try{var gm={get passive(){return Wm=!0},get once(){return Jm=Wm=!0}};Ao&&(window.addEventListener("test",gm,gm),window.removeEventListener("test",gm,!0))}catch{}function TS(r,t,n,s){if(s&&typeof s!="boolean"&&!Jm){var o=s.once,u=s.capture,f=n;!Jm&&o&&(f=n.__once||function m(g){this.removeEventListener(t,m,u),n.call(this,g)},n.__once=f),r.addEventListener(t,f,Wm?s:u)}r.addEventListener(t,n,s)}function tp(r,t,n,s){var o=s&&typeof s!="boolean"?s.capture:s;r.removeEventListener(t,n,o),n.__once&&r.removeEventListener(t,n.__once,o)}function vh(r,t,n,s){return TS(r,t,n,s),function(){tp(r,t,n,s)}}function kO(r,t,n,s){if(s===void 0&&(s=!0),r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,s),r.dispatchEvent(o)}}function LO(r){var t=Ji(r,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function UO(r,t,n){n===void 0&&(n=5);var s=!1,o=setTimeout(function(){s||kO(r,"transitionend",!0)},t+n),u=vh(r,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function SS(r,t,n,s){n==null&&(n=LO(r)||0);var o=UO(r,n,s),u=vh(r,"transitionend",t);return function(){o(),u()}}function JE(r,t){const n=Ji(r,t)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function Up(r,t){const n=JE(r,"transitionDuration"),s=JE(r,"transitionDelay"),o=SS(r,u=>{u.target===r&&(o(),t(u))},n+s)}function Vl(...r){return r.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...o){t.apply(this,o),n.apply(this,o)}},null)}function AS(r){r.offsetHeight}const tT=r=>!r||typeof r=="function"?r:t=>{r.current=t};function PO(r,t){const n=tT(r),s=tT(t);return o=>{n&&n(o),s&&s(o)}}function bS(r,t){return O.useMemo(()=>PO(r,t),[r,t])}function jO(r){return r&&"setState"in r?Qa.findDOMNode(r):r??null}const Hh=wn.forwardRef(({onEnter:r,onEntering:t,onEntered:n,onExit:s,onExiting:o,onExited:u,addEndListener:f,children:m,childRef:g,...y},E)=>{const b=O.useRef(null),R=bS(b,g),q=ct=>{R(jO(ct))},K=ct=>D=>{ct&&b.current&&ct(b.current,D)},tt=O.useCallback(K(r),[r]),Q=O.useCallback(K(t),[t]),ht=O.useCallback(K(n),[n]),dt=O.useCallback(K(s),[s]),st=O.useCallback(K(o),[o]),mt=O.useCallback(K(u),[u]),ut=O.useCallback(K(f),[f]);return j.jsx(sr,{ref:E,...y,onEnter:tt,onEntered:ht,onEntering:Q,onExit:dt,onExited:mt,onExiting:st,addEndListener:ut,nodeRef:b,children:typeof m=="function"?(ct,D)=>m(ct,{...D,ref:q}):wn.cloneElement(m,{ref:q})})});Hh.displayName="TransitionWrapper";const zO={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function BO(r,t){const n=`offset${r[0].toUpperCase()}${r.slice(1)}`,s=t[n],o=zO[r];return s+parseInt(Ji(t,o[0]),10)+parseInt(Ji(t,o[1]),10)}const HO={[Pr]:"collapse",[eu]:"collapsing",[Kn]:"collapsing",[Qi]:"collapse show"},RS=wn.forwardRef(({onEnter:r,onEntering:t,onEntered:n,onExit:s,onExiting:o,className:u,children:f,dimension:m="height",in:g=!1,timeout:y=300,mountOnEnter:E=!1,unmountOnExit:b=!1,appear:R=!1,getDimensionValue:q=BO,...K},tt)=>{const Q=typeof m=="function"?m():m,ht=O.useMemo(()=>Vl(ct=>{ct.style[Q]="0"},r),[Q,r]),dt=O.useMemo(()=>Vl(ct=>{const D=`scroll${Q[0].toUpperCase()}${Q.slice(1)}`;ct.style[Q]=`${ct[D]}px`},t),[Q,t]),st=O.useMemo(()=>Vl(ct=>{ct.style[Q]=null},n),[Q,n]),mt=O.useMemo(()=>Vl(ct=>{ct.style[Q]=`${q(Q,ct)}px`,AS(ct)},s),[s,q,Q]),ut=O.useMemo(()=>Vl(ct=>{ct.style[Q]=null},o),[Q,o]);return j.jsx(Hh,{ref:tt,addEndListener:Up,...K,"aria-expanded":K.role?g:null,onEnter:ht,onEntering:dt,onEntered:st,onExit:mt,onExiting:ut,childRef:So(f),in:g,timeout:y,mountOnEnter:E,unmountOnExit:b,appear:R,children:(ct,D)=>wn.cloneElement(f,{...D,className:gt(u,f.props.className,HO[ct],Q==="width"&&"collapse-horizontal")})})});RS.displayName="Collapse";function qO(r){const t=O.useRef(r);return O.useEffect(()=>{t.current=r},[r]),t}function $s(r){const t=qO(r);return O.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const du=(r=>O.forwardRef((t,n)=>j.jsx("div",{...t,ref:n,className:gt(t.className,r)}))),wS=du("h4");wS.displayName="DivStyledAsH4";const CS=O.forwardRef(({className:r,bsPrefix:t,as:n=wS,...s},o)=>(t=bt(t,"alert-heading"),j.jsx(n,{ref:o,className:gt(r,t),...s})));CS.displayName="AlertHeading";function FO(r){const t=O.useRef(r);return O.useEffect(()=>{t.current=r},[r]),t}function Xi(r){const t=FO(r);return O.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function GO(){const r=O.useRef(!0),t=O.useRef(()=>r.current);return O.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),t.current}function KO(r){const t=O.useRef(null);return O.useEffect(()=>{t.current=r}),t.current}const YO=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",$O=typeof document<"u",eT=$O||YO?O.useLayoutEffect:O.useEffect,QO=["as","disabled"];function XO(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function ZO(r){return!r||r.trim()==="#"}function Pp({tagName:r,disabled:t,href:n,target:s,rel:o,role:u,onClick:f,tabIndex:m=0,type:g}){r||(n!=null||s!=null||o!=null?r="a":r="button");const y={tagName:r};if(r==="button")return[{type:g||"button",disabled:t},y];const E=R=>{if((t||r==="a"&&ZO(n))&&R.preventDefault(),t){R.stopPropagation();return}f?.(R)},b=R=>{R.key===" "&&(R.preventDefault(),E(R))};return r==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:u??"button",disabled:void 0,tabIndex:t?void 0:m,href:n,target:r==="a"?s:void 0,"aria-disabled":t||void 0,rel:r==="a"?o:void 0,onClick:E,onKeyDown:b},y]}const IS=O.forwardRef((r,t)=>{let{as:n,disabled:s}=r,o=XO(r,QO);const[u,{tagName:f}]=Pp(Object.assign({tagName:n,disabled:s},o));return j.jsx(f,Object.assign({},o,u,{ref:t}))});IS.displayName="Button";const WO=["onKeyDown"];function JO(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function tD(r){return!r||r.trim()==="#"}const jp=O.forwardRef((r,t)=>{let{onKeyDown:n}=r,s=JO(r,WO);const[o]=Pp(Object.assign({tagName:"a"},s)),u=Xi(f=>{o.onKeyDown(f),n?.(f)});return tD(s.href)||s.role==="button"?j.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:u})):j.jsx("a",Object.assign({ref:t},s,{onKeyDown:n}))});jp.displayName="Anchor";const NS=O.forwardRef(({className:r,bsPrefix:t,as:n=jp,...s},o)=>(t=bt(t,"alert-link"),j.jsx(n,{ref:o,className:gt(r,t),...s})));NS.displayName="AlertLink";const eD={[Kn]:"show",[Qi]:"show"},mo=O.forwardRef(({className:r,children:t,transitionClasses:n={},onEnter:s,...o},u)=>{const f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=O.useCallback((g,y)=>{AS(g),s?.(g,y)},[s]);return j.jsx(Hh,{ref:u,addEndListener:Up,...f,onEnter:m,childRef:So(t),children:(g,y)=>O.cloneElement(t,{...y,className:gt("fade",r,t.props.className,eD[g],n[g])})})});mo.displayName="Fade";const nD={"aria-label":ln.string,onClick:ln.func,variant:ln.oneOf(["white"])},qh=O.forwardRef(({className:r,variant:t,"aria-label":n="Close",...s},o)=>j.jsx("button",{ref:o,type:"button",className:gt("btn-close",t&&`btn-close-${t}`,r),"aria-label":n,...s}));qh.displayName="CloseButton";qh.propTypes=nD;const OS=O.forwardRef((r,t)=>{const{bsPrefix:n,show:s=!0,closeLabel:o="Close alert",closeVariant:u,className:f,children:m,variant:g="primary",onClose:y,dismissible:E,transition:b=mo,...R}=Lp(r,{show:"onClose"}),q=bt(n,"alert"),K=$s(ht=>{y&&y(!1,ht)}),tt=b===!0?mo:b,Q=j.jsxs("div",{role:"alert",...tt?void 0:R,ref:t,className:gt(f,q,g&&`${q}-${g}`,E&&`${q}-dismissible`),children:[E&&j.jsx(qh,{onClick:K,"aria-label":o,variant:u}),m]});return tt?j.jsx(tt,{unmountOnExit:!0,...R,ref:void 0,in:s,children:Q}):s?Q:null});OS.displayName="Alert";const iD=Object.assign(OS,{Link:NS,Heading:CS}),mu=O.forwardRef(({as:r,bsPrefix:t,variant:n="primary",size:s,active:o=!1,disabled:u=!1,className:f,...m},g)=>{const y=bt(t,"btn"),[E,{tagName:b}]=Pp({tagName:r,disabled:u,...m}),R=b;return j.jsx(R,{...E,...m,ref:g,disabled:u,className:gt(f,y,o&&"active",n&&`${y}-${n}`,s&&`${y}-${s}`,m.href&&u&&"disabled")})});mu.displayName="Button";const zp=O.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=bt(t,"card-body"),j.jsx(n,{ref:o,className:gt(r,t),...s})));zp.displayName="CardBody";const DS=O.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=bt(t,"card-footer"),j.jsx(n,{ref:o,className:gt(r,t),...s})));DS.displayName="CardFooter";const Bp=O.createContext(null);Bp.displayName="CardHeaderContext";const MS=O.forwardRef(({bsPrefix:r,className:t,as:n="div",...s},o)=>{const u=bt(r,"card-header"),f=O.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return j.jsx(Bp.Provider,{value:f,children:j.jsx(n,{ref:o,...s,className:gt(t,u)})})});MS.displayName="CardHeader";const xS=O.forwardRef(({bsPrefix:r,className:t,variant:n,as:s="img",...o},u)=>{const f=bt(r,"card-img");return j.jsx(s,{ref:u,className:gt(n?`${f}-${n}`:f,t),...o})});xS.displayName="CardImg";const VS=O.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=bt(t,"card-img-overlay"),j.jsx(n,{ref:o,className:gt(r,t),...s})));VS.displayName="CardImgOverlay";const kS=O.forwardRef(({className:r,bsPrefix:t,as:n="a",...s},o)=>(t=bt(t,"card-link"),j.jsx(n,{ref:o,className:gt(r,t),...s})));kS.displayName="CardLink";const rD=du("h6"),LS=O.forwardRef(({className:r,bsPrefix:t,as:n=rD,...s},o)=>(t=bt(t,"card-subtitle"),j.jsx(n,{ref:o,className:gt(r,t),...s})));LS.displayName="CardSubtitle";const US=O.forwardRef(({className:r,bsPrefix:t,as:n="p",...s},o)=>(t=bt(t,"card-text"),j.jsx(n,{ref:o,className:gt(r,t),...s})));US.displayName="CardText";const sD=du("h5"),PS=O.forwardRef(({className:r,bsPrefix:t,as:n=sD,...s},o)=>(t=bt(t,"card-title"),j.jsx(n,{ref:o,className:gt(r,t),...s})));PS.displayName="CardTitle";const jS=O.forwardRef(({bsPrefix:r,className:t,bg:n,text:s,border:o,body:u=!1,children:f,as:m="div",...g},y)=>{const E=bt(r,"card");return j.jsx(m,{ref:y,...g,className:gt(t,E,n&&`bg-${n}`,s&&`text-${s}`,o&&`border-${o}`),children:u?j.jsx(zp,{children:f}):f})});jS.displayName="Card";const ym=Object.assign(jS,{Img:xS,Title:PS,Subtitle:LS,Body:zp,Link:kS,Text:US,Header:MS,Footer:DS,ImgOverlay:VS});function aD(r){const t=O.useRef(r);return t.current=r,t}function oD(r){const t=aD(r);O.useEffect(()=>()=>t.current(),[])}function lD(r,t){return O.Children.toArray(r).some(n=>O.isValidElement(n)&&n.type===t)}function uD({as:r,bsPrefix:t,className:n,...s}){t=bt(t,"col");const o=_S(),u=vS(),f=[],m=[];return o.forEach(g=>{const y=s[g];delete s[g];let E,b,R;typeof y=="object"&&y!=null?{span:E,offset:b,order:R}=y:E=y;const q=g!==u?`-${g}`:"";E&&f.push(E===!0?`${t}${q}`:`${t}${q}-${E}`),R!=null&&m.push(`order${q}-${R}`),b!=null&&m.push(`offset${q}-${b}`)}),[{...s,className:gt(n,...f,...m)},{as:r,bsPrefix:t,spans:f}]}const Hp=O.forwardRef((r,t)=>{const[{className:n,...s},{as:o="div",bsPrefix:u,spans:f}]=uD(r);return j.jsx(o,{...s,ref:t,className:gt(n,!f.length&&u)})});Hp.displayName="Col";const qp=O.forwardRef(({bsPrefix:r,fluid:t=!1,as:n="div",className:s,...o},u)=>{const f=bt(r,"container"),m=typeof t=="string"?`-${t}`:"-fluid";return j.jsx(n,{ref:u,...o,className:gt(s,t?`${f}${m}`:f)})});qp.displayName="Container";var cD=Function.prototype.bind.call(Function.prototype.call,[].slice);function zs(r,t){return cD(r.querySelectorAll(t))}function hD(){const[,r]=O.useReducer(t=>t+1,0);return r}function nT(r,t){if(r.contains)return r.contains(t);if(r.compareDocumentPosition)return r===t||!!(r.compareDocumentPosition(t)&16)}const Eh=O.createContext(null),Fp=(r,t=null)=>r!=null?String(r):t||null,Gp=O.createContext(null);Gp.displayName="NavContext";const fD="data-rr-ui-",dD="rrUi";function Fh(r){return`${fD}${r}`}function mD(r){return`${dD}${r}`}const zS=O.createContext(Ao?window:void 0);zS.Provider;function Kp(){return O.useContext(zS)}const pD=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",gD=typeof document<"u",yD=gD||pD?O.useLayoutEffect:O.useEffect,BS=O.createContext(null);BS.displayName="InputGroupContext";const bo=O.createContext(null);bo.displayName="NavbarContext";const _D={type:ln.string,tooltip:ln.bool,as:ln.elementType},Gh=O.forwardRef(({as:r="div",className:t,type:n="valid",tooltip:s=!1,...o},u)=>j.jsx(r,{...o,ref:u,className:gt(t,`${n}-${s?"tooltip":"feedback"}`)}));Gh.displayName="Feedback";Gh.propTypes=_D;const ir=O.createContext({}),pu=O.forwardRef(({id:r,bsPrefix:t,className:n,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:f="input",...m},g)=>{const{controlId:y}=O.useContext(ir);return t=bt(t,"form-check-input"),j.jsx(f,{...m,ref:g,type:s,id:r||y,className:gt(n,t,o&&"is-valid",u&&"is-invalid")})});pu.displayName="FormCheckInput";const Th=O.forwardRef(({bsPrefix:r,className:t,htmlFor:n,...s},o)=>{const{controlId:u}=O.useContext(ir);return r=bt(r,"form-check-label"),j.jsx("label",{...s,ref:o,htmlFor:n||u,className:gt(t,r)})});Th.displayName="FormCheckLabel";const HS=O.forwardRef(({id:r,bsPrefix:t,bsSwitchPrefix:n,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:f=!1,isInvalid:m=!1,feedbackTooltip:g=!1,feedback:y,feedbackType:E,className:b,style:R,title:q="",type:K="checkbox",label:tt,children:Q,as:ht="input",...dt},st)=>{t=bt(t,"form-check"),n=bt(n,"form-switch");const{controlId:mt}=O.useContext(ir),ut=O.useMemo(()=>({controlId:r||mt}),[mt,r]),ct=!Q&&tt!=null&&tt!==!1||lD(Q,Th),D=j.jsx(pu,{...dt,type:K==="switch"?"checkbox":K,ref:st,isValid:f,isInvalid:m,disabled:u,as:ht});return j.jsx(ir.Provider,{value:ut,children:j.jsx("div",{style:R,className:gt(b,ct&&t,s&&`${t}-inline`,o&&`${t}-reverse`,K==="switch"&&n),children:Q||j.jsxs(j.Fragment,{children:[D,ct&&j.jsx(Th,{title:q,children:tt}),y&&j.jsx(Gh,{type:E,tooltip:g,children:y})]})})})});HS.displayName="FormCheck";const Sh=Object.assign(HS,{Input:pu,Label:Th}),qS=O.forwardRef(({bsPrefix:r,type:t,size:n,htmlSize:s,id:o,className:u,isValid:f=!1,isInvalid:m=!1,plaintext:g,readOnly:y,as:E="input",...b},R)=>{const{controlId:q}=O.useContext(ir);return r=bt(r,"form-control"),j.jsx(E,{...b,type:t,size:s,ref:R,readOnly:y,id:o||q,className:gt(u,g?`${r}-plaintext`:r,n&&`${r}-${n}`,t==="color"&&`${r}-color`,f&&"is-valid",m&&"is-invalid")})});qS.displayName="FormControl";const vD=Object.assign(qS,{Feedback:Gh}),FS=O.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=bt(t,"form-floating"),j.jsx(n,{ref:o,className:gt(r,t),...s})));FS.displayName="FormFloating";const Yp=O.forwardRef(({controlId:r,as:t="div",...n},s)=>{const o=O.useMemo(()=>({controlId:r}),[r]);return j.jsx(ir.Provider,{value:o,children:j.jsx(t,{...n,ref:s})})});Yp.displayName="FormGroup";const GS=O.forwardRef(({as:r="label",bsPrefix:t,column:n=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...f},m)=>{const{controlId:g}=O.useContext(ir);t=bt(t,"form-label");let y="col-form-label";typeof n=="string"&&(y=`${y} ${y}-${n}`);const E=gt(o,t,s&&"visually-hidden",n&&y);return u=u||g,n?j.jsx(Hp,{ref:m,as:"label",className:E,htmlFor:u,...f}):j.jsx(r,{ref:m,className:E,htmlFor:u,...f})});GS.displayName="FormLabel";const KS=O.forwardRef(({bsPrefix:r,className:t,id:n,...s},o)=>{const{controlId:u}=O.useContext(ir);return r=bt(r,"form-range"),j.jsx("input",{...s,type:"range",ref:o,className:gt(t,r),id:n||u})});KS.displayName="FormRange";const YS=O.forwardRef(({bsPrefix:r,size:t,htmlSize:n,className:s,isValid:o=!1,isInvalid:u=!1,id:f,...m},g)=>{const{controlId:y}=O.useContext(ir);return r=bt(r,"form-select"),j.jsx("select",{...m,size:n,ref:g,className:gt(s,r,t&&`${r}-${t}`,o&&"is-valid",u&&"is-invalid"),id:f||y})});YS.displayName="FormSelect";const $S=O.forwardRef(({bsPrefix:r,className:t,as:n="small",muted:s,...o},u)=>(r=bt(r,"form-text"),j.jsx(n,{...o,ref:u,className:gt(t,r,s&&"text-muted")})));$S.displayName="FormText";const QS=O.forwardRef((r,t)=>j.jsx(Sh,{...r,ref:t,type:"switch"}));QS.displayName="Switch";const ED=Object.assign(QS,{Input:Sh.Input,Label:Sh.Label}),XS=O.forwardRef(({bsPrefix:r,className:t,children:n,controlId:s,label:o,...u},f)=>(r=bt(r,"form-floating"),j.jsxs(Yp,{ref:f,className:gt(t,r),controlId:s,...u,children:[n,j.jsx("label",{htmlFor:s,children:o})]})));XS.displayName="FloatingLabel";const TD={_ref:ln.any,validated:ln.bool,as:ln.elementType},$p=O.forwardRef(({className:r,validated:t,as:n="form",...s},o)=>j.jsx(n,{...s,ref:o,className:gt(r,t&&"was-validated")}));$p.displayName="Form";$p.propTypes=TD;const di=Object.assign($p,{Group:Yp,Control:vD,Floating:FS,Check:Sh,Switch:ED,Label:GS,Text:$S,Range:KS,Select:YS,FloatingLabel:XS}),Kh=O.forwardRef(({className:r,bsPrefix:t,as:n="span",...s},o)=>(t=bt(t,"input-group-text"),j.jsx(n,{ref:o,className:gt(r,t),...s})));Kh.displayName="InputGroupText";const SD=r=>j.jsx(Kh,{children:j.jsx(pu,{type:"checkbox",...r})}),AD=r=>j.jsx(Kh,{children:j.jsx(pu,{type:"radio",...r})}),ZS=O.forwardRef(({bsPrefix:r,size:t,hasValidation:n,className:s,as:o="div",...u},f)=>{r=bt(r,"input-group");const m=O.useMemo(()=>({}),[]);return j.jsx(BS.Provider,{value:m,children:j.jsx(o,{ref:f,...u,className:gt(s,r,t&&`${r}-${t}`,n&&"has-validation")})})});ZS.displayName="InputGroup";const bD=Object.assign(ZS,{Text:Kh,Radio:AD,Checkbox:SD}),iT=r=>!r||typeof r=="function"?r:t=>{r.current=t};function RD(r,t){const n=iT(r),s=iT(t);return o=>{n&&n(o),s&&s(o)}}function Yh(r,t){return O.useMemo(()=>RD(r,t),[r,t])}const WS=O.createContext(null),wD=["as","active","eventKey"];function CD(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function JS({key:r,onClick:t,active:n,id:s,role:o,disabled:u}){const f=O.useContext(Eh),m=O.useContext(Gp),g=O.useContext(WS);let y=n;const E={role:o};if(m){!o&&m.role==="tablist"&&(E.role="tab");const b=m.getControllerId(r??null),R=m.getControlledId(r??null);E[Fh("event-key")]=r,E.id=b||s,y=n==null&&r!=null?m.activeKey===r:n,(y||!(g!=null&&g.unmountOnExit)&&!(g!=null&&g.mountOnEnter))&&(E["aria-controls"]=R)}return E.role==="tab"&&(E["aria-selected"]=y,y||(E.tabIndex=-1),u&&(E.tabIndex=-1,E["aria-disabled"]=!0)),E.onClick=Xi(b=>{u||(t?.(b),r!=null&&f&&!b.isPropagationStopped()&&f(r,b))}),[E,{isActive:y}]}const t1=O.forwardRef((r,t)=>{let{as:n=IS,active:s,eventKey:o}=r,u=CD(r,wD);const[f,m]=JS(Object.assign({key:Fp(o,u.href),active:s},u));return f[Fh("active")]=m.isActive,j.jsx(n,Object.assign({},u,f,{ref:t}))});t1.displayName="NavItem";const ID=["as","onSelect","activeKey","role","onKeyDown"];function ND(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}const rT=()=>{},sT=Fh("event-key"),e1=O.forwardRef((r,t)=>{let{as:n="div",onSelect:s,activeKey:o,role:u,onKeyDown:f}=r,m=ND(r,ID);const g=hD(),y=O.useRef(!1),E=O.useContext(Eh),b=O.useContext(WS);let R,q;b&&(u=u||"tablist",o=b.activeKey,R=b.getControlledId,q=b.getControllerId);const K=O.useRef(null),tt=st=>{const mt=K.current;if(!mt)return null;const ut=zs(mt,`[${sT}]:not([aria-disabled=true])`),ct=mt.querySelector("[aria-selected=true]");if(!ct||ct!==document.activeElement)return null;const D=ut.indexOf(ct);if(D===-1)return null;let A=D+st;return A>=ut.length&&(A=0),A<0&&(A=ut.length-1),ut[A]},Q=(st,mt)=>{st!=null&&(s?.(st,mt),E?.(st,mt))},ht=st=>{if(f?.(st),!b)return;let mt;switch(st.key){case"ArrowLeft":case"ArrowUp":mt=tt(-1);break;case"ArrowRight":case"ArrowDown":mt=tt(1);break;default:return}mt&&(st.preventDefault(),Q(mt.dataset[mD("EventKey")]||null,st),y.current=!0,g())};O.useEffect(()=>{if(K.current&&y.current){const st=K.current.querySelector(`[${sT}][aria-selected=true]`);st?.focus()}y.current=!1});const dt=Yh(t,K);return j.jsx(Eh.Provider,{value:Q,children:j.jsx(Gp.Provider,{value:{role:u,activeKey:Fp(o),getControlledId:R||rT,getControllerId:q||rT},children:j.jsx(n,Object.assign({},m,{onKeyDown:ht,ref:dt,role:u}))})})});e1.displayName="Nav";const OD=Object.assign(e1,{Item:t1});var Kc;function aT(r){if((!Kc&&Kc!==0||r)&&Ao){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Kc=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Kc}function DD(){return O.useState(null)}function _m(r){r===void 0&&(r=Bh());try{var t=r.activeElement;return!t||!t.nodeName?null:t}catch{return r.body}}function MD(r){const t=O.useRef(r);return t.current=r,t}function xD(r){const t=MD(r);O.useEffect(()=>()=>t.current(),[])}function VD(r=document){const t=r.defaultView;return Math.abs(t.innerWidth-r.documentElement.clientWidth)}const oT=Fh("modal-open");class Qp{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return VD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(n[s]=`${parseInt(Ji(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(oT,""),Ji(o,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(oT),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const vm=(r,t)=>Ao?r==null?(t||Bh()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function kD(r,t){const n=Kp(),[s,o]=O.useState(()=>vm(r,n?.document));if(!s){const u=vm(r);u&&o(u)}return O.useEffect(()=>{},[t,s]),O.useEffect(()=>{const u=vm(r);u!==s&&o(u)},[r,s]),s}function LD({children:r,in:t,onExited:n,mountOnEnter:s,unmountOnExit:o}){const u=O.useRef(null),f=O.useRef(t),m=Xi(n);O.useEffect(()=>{t?f.current=!0:m(u.current)},[t,m]);const g=Yh(u,So(r)),y=O.cloneElement(r,{ref:g});return t?y:o||!f.current&&s?null:y}const UD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function PD(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function jD(r){let{onEnter:t,onEntering:n,onEntered:s,onExit:o,onExiting:u,onExited:f,addEndListener:m,children:g}=r,y=PD(r,UD);const E=O.useRef(null),b=Yh(E,So(g)),R=mt=>ut=>{mt&&E.current&&mt(E.current,ut)},q=O.useCallback(R(t),[t]),K=O.useCallback(R(n),[n]),tt=O.useCallback(R(s),[s]),Q=O.useCallback(R(o),[o]),ht=O.useCallback(R(u),[u]),dt=O.useCallback(R(f),[f]),st=O.useCallback(R(m),[m]);return Object.assign({},y,{nodeRef:E},t&&{onEnter:q},n&&{onEntering:K},s&&{onEntered:tt},o&&{onExit:Q},u&&{onExiting:ht},f&&{onExited:dt},m&&{addEndListener:st},{children:typeof g=="function"?(mt,ut)=>g(mt,Object.assign({},ut,{ref:b})):O.cloneElement(g,{ref:b})})}const zD=["component"];function BD(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}const HD=O.forwardRef((r,t)=>{let{component:n}=r,s=BD(r,zD);const o=jD(s);return j.jsx(n,Object.assign({ref:t},o))});function qD({in:r,onTransition:t}){const n=O.useRef(null),s=O.useRef(!0),o=Xi(t);return eT(()=>{if(!n.current)return;let u=!1;return o({in:r,element:n.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[r,o]),eT(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function FD({children:r,in:t,onExited:n,onEntered:s,transition:o}){const[u,f]=O.useState(!t);t&&u&&f(!1);const m=qD({in:!!t,onTransition:y=>{const E=()=>{y.isStale()||(y.in?s?.(y.element,y.initial):(f(!0),n?.(y.element)))};Promise.resolve(o(y)).then(E,b=>{throw y.in||f(!0),b})}}),g=Yh(m,So(r));return u&&!t?null:O.cloneElement(r,{ref:g})}function lT(r,t,n){return r?j.jsx(HD,Object.assign({},n,{component:r})):t?j.jsx(FD,Object.assign({},n,{transition:t})):j.jsx(LD,Object.assign({},n))}const GD=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function KD(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}let Em;function YD(r){return Em||(Em=new Qp({ownerDocument:r?.document})),Em}function $D(r){const t=Kp(),n=r||YD(t),s=O.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:O.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:O.useCallback(o=>{s.current.backdrop=o},[])})}const n1=O.forwardRef((r,t)=>{let{show:n=!1,role:s="dialog",className:o,style:u,children:f,backdrop:m=!0,keyboard:g=!0,onBackdropClick:y,onEscapeKeyDown:E,transition:b,runTransition:R,backdropTransition:q,runBackdropTransition:K,autoFocus:tt=!0,enforceFocus:Q=!0,restoreFocus:ht=!0,restoreFocusOptions:dt,renderDialog:st,renderBackdrop:mt=Yt=>j.jsx("div",Object.assign({},Yt)),manager:ut,container:ct,onShow:D,onHide:A=()=>{},onExit:I,onExited:x,onExiting:V,onEnter:k,onEntering:C,onEntered:re}=r,Zt=KD(r,GD);const G=Kp(),et=kD(ct),at=$D(ut),Mt=GO(),N=KO(n),[X,nt]=O.useState(!n),J=O.useRef(null);O.useImperativeHandle(t,()=>at,[at]),Ao&&!N&&n&&(J.current=_m(G?.document)),n&&X&&nt(!1);const ot=Xi(()=>{if(at.add(),nn.current=vh(document,"keydown",Kt),Ye.current=vh(document,"focus",()=>setTimeout(Et),!0),D&&D(),tt){var Yt,Si;const Me=_m((Yt=(Si=at.dialog)==null?void 0:Si.ownerDocument)!=null?Yt:G?.document);at.dialog&&Me&&!nT(at.dialog,Me)&&(J.current=Me,at.dialog.focus())}}),Rt=Xi(()=>{if(at.remove(),nn.current==null||nn.current(),Ye.current==null||Ye.current(),ht){var Yt;(Yt=J.current)==null||Yt.focus==null||Yt.focus(dt),J.current=null}});O.useEffect(()=>{!n||!et||ot()},[n,et,ot]),O.useEffect(()=>{X&&Rt()},[X,Rt]),xD(()=>{Rt()});const Et=Xi(()=>{if(!Q||!Mt()||!at.isTopModal())return;const Yt=_m(G?.document);at.dialog&&Yt&&!nT(at.dialog,Yt)&&at.dialog.focus()}),oe=Xi(Yt=>{Yt.target===Yt.currentTarget&&(y?.(Yt),m===!0&&A())}),Kt=Xi(Yt=>{g&&xO(Yt)&&at.isTopModal()&&(E?.(Yt),Yt.defaultPrevented||A())}),Ye=O.useRef(),nn=O.useRef(),cn=(...Yt)=>{nt(!0),x?.(...Yt)};if(!et)return null;const hn=Object.assign({role:s,ref:at.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Zt,{style:u,className:o,tabIndex:-1});let yn=st?st(hn):j.jsx("div",Object.assign({},hn,{children:O.cloneElement(f,{role:"document"})}));yn=lT(b,R,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:I,onExiting:V,onExited:cn,onEnter:k,onEntering:C,onEntered:re,children:yn});let fn=null;return m&&(fn=mt({ref:at.setBackdropRef,onClick:oe}),fn=lT(q,K,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:fn})),j.jsx(j.Fragment,{children:Qa.createPortal(j.jsxs(j.Fragment,{children:[fn,yn]}),et)})});n1.displayName="Modal";const i1=Object.assign(n1,{Manager:Qp});function QD(r,t){return r.classList?r.classList.contains(t):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+t+" ")!==-1}function XD(r,t){r.classList?r.classList.add(t):QD(r,t)||(typeof r.className=="string"?r.className=r.className+" "+t:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+t))}function uT(r,t){return r.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ZD(r,t){r.classList?r.classList.remove(t):typeof r.className=="string"?r.className=uT(r.className,t):r.setAttribute("class",uT(r.className&&r.className.baseVal||"",t))}const qa={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class r1 extends Qp{adjustAndStore(t,n,s){const o=n.style[t];n.dataset[t]=o,Ji(n,{[t]:`${parseFloat(Ji(n,t))+s}px`})}restore(t,n){const s=n.dataset[t];s!==void 0&&(delete n.dataset[t],Ji(n,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(XD(n,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";zs(n,qa.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,t.scrollBarWidth)),zs(n,qa.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-t.scrollBarWidth)),zs(n,qa.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();ZD(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";zs(n,qa.FIXED_CONTENT).forEach(u=>this.restore(s,u)),zs(n,qa.STICKY_CONTENT).forEach(u=>this.restore(o,u)),zs(n,qa.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let Tm;function s1(r){return Tm||(Tm=new r1(r)),Tm}const a1=O.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=bt(t,"modal-body"),j.jsx(n,{ref:o,className:gt(r,t),...s})));a1.displayName="ModalBody";const Xp=O.createContext({onHide(){}}),Zp=O.forwardRef(({bsPrefix:r,className:t,contentClassName:n,centered:s,size:o,fullscreen:u,children:f,scrollable:m,...g},y)=>{r=bt(r,"modal");const E=`${r}-dialog`,b=typeof u=="string"?`${r}-fullscreen-${u}`:`${r}-fullscreen`;return j.jsx("div",{...g,ref:y,className:gt(E,t,o&&`${r}-${o}`,s&&`${E}-centered`,m&&`${E}-scrollable`,u&&b),children:j.jsx("div",{className:gt(`${r}-content`,n),children:f})})});Zp.displayName="ModalDialog";const o1=O.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=bt(t,"modal-footer"),j.jsx(n,{ref:o,className:gt(r,t),...s})));o1.displayName="ModalFooter";const Wp=O.forwardRef(({closeLabel:r="Close",closeVariant:t,closeButton:n=!1,onHide:s,children:o,...u},f)=>{const m=O.useContext(Xp),g=$s(()=>{m?.onHide(),s?.()});return j.jsxs("div",{ref:f,...u,children:[o,n&&j.jsx(qh,{"aria-label":r,variant:t,onClick:g})]})});Wp.displayName="AbstractModalHeader";const l1=O.forwardRef(({bsPrefix:r,className:t,closeLabel:n="Close",closeButton:s=!1,...o},u)=>(r=bt(r,"modal-header"),j.jsx(Wp,{ref:u,...o,className:gt(t,r),closeLabel:n,closeButton:s})));l1.displayName="ModalHeader";const WD=du("h4"),u1=O.forwardRef(({className:r,bsPrefix:t,as:n=WD,...s},o)=>(t=bt(t,"modal-title"),j.jsx(n,{ref:o,className:gt(r,t),...s})));u1.displayName="ModalTitle";function JD(r){return j.jsx(mo,{...r,timeout:null})}function tM(r){return j.jsx(mo,{...r,timeout:null})}const c1=O.forwardRef(({bsPrefix:r,className:t,style:n,dialogClassName:s,contentClassName:o,children:u,dialogAs:f=Zp,"data-bs-theme":m,"aria-labelledby":g,"aria-describedby":y,"aria-label":E,show:b=!1,animation:R=!0,backdrop:q=!0,keyboard:K=!0,onEscapeKeyDown:tt,onShow:Q,onHide:ht,container:dt,autoFocus:st=!0,enforceFocus:mt=!0,restoreFocus:ut=!0,restoreFocusOptions:ct,onEntered:D,onExit:A,onExiting:I,onEnter:x,onEntering:V,onExited:k,backdropClassName:C,manager:re,...Zt},G)=>{const[et,at]=O.useState({}),[Mt,N]=O.useState(!1),X=O.useRef(!1),nt=O.useRef(!1),J=O.useRef(null),[ot,Rt]=DD(),Et=bS(G,Rt),oe=$s(ht),Kt=vO();r=bt(r,"modal");const Ye=O.useMemo(()=>({onHide:oe}),[oe]);function nn(){return re||s1({isRTL:Kt})}function cn(_t){if(!Ao)return;const kt=nn().getScrollbarWidth()>0,$e=_t.scrollHeight>Bh(_t).documentElement.clientHeight;at({paddingRight:kt&&!$e?aT():void 0,paddingLeft:!kt&&$e?aT():void 0})}const hn=$s(()=>{ot&&cn(ot.dialog)});oD(()=>{tp(window,"resize",hn),J.current==null||J.current()});const yn=()=>{X.current=!0},fn=_t=>{X.current&&ot&&_t.target===ot.dialog&&(nt.current=!0),X.current=!1},Yt=()=>{N(!0),J.current=SS(ot.dialog,()=>{N(!1)})},Si=_t=>{_t.target===_t.currentTarget&&Yt()},Me=_t=>{if(q==="static"){Si(_t);return}if(nt.current||_t.target!==_t.currentTarget){nt.current=!1;return}ht?.()},Ro=_t=>{K?tt?.(_t):(_t.preventDefault(),q==="static"&&Yt())},ss=(_t,kt)=>{_t&&cn(_t),x?.(_t,kt)},ar=_t=>{J.current==null||J.current(),A?.(_t)},Ai=(_t,kt)=>{V?.(_t,kt),TS(window,"resize",hn)},wo=_t=>{_t&&(_t.style.display=""),k?.(_t),tp(window,"resize",hn)},or=O.useCallback(_t=>j.jsx("div",{..._t,className:gt(`${r}-backdrop`,C,!R&&"show")}),[R,C,r]),lr={...n,...et};lr.display="block";const Zs=_t=>j.jsx("div",{role:"dialog",..._t,style:lr,className:gt(t,r,Mt&&`${r}-static`,!R&&"show"),onClick:q?Me:void 0,onMouseUp:fn,"data-bs-theme":m,"aria-label":E,"aria-labelledby":g,"aria-describedby":y,children:j.jsx(f,{...Zt,onMouseDown:yn,className:s,contentClassName:o,children:u})});return j.jsx(Xp.Provider,{value:Ye,children:j.jsx(i1,{show:b,ref:Et,backdrop:q,container:dt,keyboard:!0,autoFocus:st,enforceFocus:mt,restoreFocus:ut,restoreFocusOptions:ct,onEscapeKeyDown:Ro,onShow:Q,onHide:ht,onEnter:ss,onEntering:Ai,onEntered:D,onExit:ar,onExiting:I,onExited:wo,manager:nn(),transition:R?JD:void 0,backdropTransition:R?tM:void 0,renderBackdrop:or,renderDialog:Zs})})});c1.displayName="Modal";const Yc=Object.assign(c1,{Body:a1,Header:l1,Title:u1,Footer:o1,Dialog:Zp,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),h1=O.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=bt(t,"nav-item"),j.jsx(n,{ref:o,className:gt(r,t),...s})));h1.displayName="NavItem";const f1=O.forwardRef(({bsPrefix:r,className:t,as:n=jp,active:s,eventKey:o,disabled:u=!1,...f},m)=>{r=bt(r,"nav-link");const[g,y]=JS({key:Fp(o,f.href),active:s,disabled:u,...f});return j.jsx(n,{...f,...g,ref:m,disabled:u,className:gt(t,r,u&&"disabled",y.isActive&&"active")})});f1.displayName="NavLink";const d1=O.forwardRef((r,t)=>{const{as:n="div",bsPrefix:s,variant:o,fill:u=!1,justify:f=!1,navbar:m,navbarScroll:g,className:y,activeKey:E,...b}=Lp(r,{activeKey:"onSelect"}),R=bt(s,"nav");let q,K,tt=!1;const Q=O.useContext(bo),ht=O.useContext(Bp);return Q?(q=Q.bsPrefix,tt=m??!0):ht&&({cardHeaderBsPrefix:K}=ht),j.jsx(OD,{as:n,ref:t,activeKey:E,className:gt(y,{[R]:!tt,[`${q}-nav`]:tt,[`${q}-nav-scroll`]:tt&&g,[`${K}-${o}`]:!!K,[`${R}-${o}`]:!!o,[`${R}-fill`]:u,[`${R}-justified`]:f}),...b})});d1.displayName="Nav";const cT=Object.assign(d1,{Item:h1,Link:f1}),m1=O.forwardRef(({bsPrefix:r,className:t,as:n,...s},o)=>{r=bt(r,"navbar-brand");const u=n||(s.href?"a":"span");return j.jsx(u,{...s,ref:o,className:gt(t,r)})});m1.displayName="NavbarBrand";const p1=O.forwardRef(({children:r,bsPrefix:t,...n},s)=>{t=bt(t,"navbar-collapse");const o=O.useContext(bo);return j.jsx(RS,{in:!!(o&&o.expanded),...n,children:j.jsx("div",{ref:s,className:t,children:r})})});p1.displayName="NavbarCollapse";const g1=O.forwardRef(({bsPrefix:r,className:t,children:n,label:s="Toggle navigation",as:o="button",onClick:u,...f},m)=>{r=bt(r,"navbar-toggler");const{onToggle:g,expanded:y}=O.useContext(bo)||{},E=$s(b=>{u&&u(b),g&&g()});return o==="button"&&(f.type="button"),j.jsx(o,{...f,ref:m,onClick:E,"aria-label":s,className:gt(t,r,!y&&"collapsed"),children:n||j.jsx("span",{className:`${r}-icon`})})});g1.displayName="NavbarToggle";const ep=new WeakMap,hT=(r,t)=>{if(!r||!t)return;const n=ep.get(t)||new Map;ep.set(t,n);let s=n.get(r);return s||(s=t.matchMedia(r),s.refCount=0,n.set(s.media,s)),s};function eM(r,t=typeof window>"u"?void 0:window){const n=hT(r,t),[s,o]=O.useState(()=>n?n.matches:!1);return yD(()=>{let u=hT(r,t);if(!u)return o(!1);let f=ep.get(t);const m=()=>{o(u.matches)};return u.refCount++,u.addListener(m),m(),()=>{u.removeListener(m),u.refCount--,u.refCount<=0&&f?.delete(u.media),u=void 0}},[r]),s}function nM(r){const t=Object.keys(r);function n(m,g){return m===g?g:m?`${m} and ${g}`:g}function s(m){return t[Math.min(t.indexOf(m)+1,t.length-1)]}function o(m){const g=s(m);let y=r[g];return typeof y=="number"?y=`${y-.2}px`:y=`calc(${y} - 0.2px)`,`(max-width: ${y})`}function u(m){let g=r[m];return typeof g=="number"&&(g=`${g}px`),`(min-width: ${g})`}function f(m,g,y){let E;typeof m=="object"?(E=m,y=g,g=!0):(g=g||!0,E={[m]:g});let b=O.useMemo(()=>Object.entries(E).reduce((R,[q,K])=>((K==="up"||K===!0)&&(R=n(R,u(q))),(K==="down"||K===!0)&&(R=n(R,o(q))),R),""),[JSON.stringify(E)]);return eM(b,y)}return f}const iM=nM({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),y1=O.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=bt(t,"offcanvas-body"),j.jsx(n,{ref:o,className:gt(r,t),...s})));y1.displayName="OffcanvasBody";const rM={[Kn]:"show",[Qi]:"show"},_1=O.forwardRef(({bsPrefix:r,className:t,children:n,in:s=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:f=!1,...m},g)=>(r=bt(r,"offcanvas"),j.jsx(Hh,{ref:g,addEndListener:Up,in:s,mountOnEnter:o,unmountOnExit:u,appear:f,...m,childRef:So(n),children:(y,E)=>O.cloneElement(n,{...E,className:gt(t,n.props.className,(y===Kn||y===eu)&&`${r}-toggling`,rM[y])})})));_1.displayName="OffcanvasToggling";const v1=O.forwardRef(({bsPrefix:r,className:t,closeLabel:n="Close",closeButton:s=!1,...o},u)=>(r=bt(r,"offcanvas-header"),j.jsx(Wp,{ref:u,...o,className:gt(t,r),closeLabel:n,closeButton:s})));v1.displayName="OffcanvasHeader";const sM=du("h5"),E1=O.forwardRef(({className:r,bsPrefix:t,as:n=sM,...s},o)=>(t=bt(t,"offcanvas-title"),j.jsx(n,{ref:o,className:gt(r,t),...s})));E1.displayName="OffcanvasTitle";function aM(r){return j.jsx(_1,{...r})}function oM(r){return j.jsx(mo,{...r})}const T1=O.forwardRef(({bsPrefix:r,className:t,children:n,"aria-labelledby":s,placement:o="start",responsive:u,show:f=!1,backdrop:m=!0,keyboard:g=!0,scroll:y=!1,onEscapeKeyDown:E,onShow:b,onHide:R,container:q,autoFocus:K=!0,enforceFocus:tt=!0,restoreFocus:Q=!0,restoreFocusOptions:ht,onEntered:dt,onExit:st,onExiting:mt,onEnter:ut,onEntering:ct,onExited:D,backdropClassName:A,manager:I,renderStaticNode:x=!1,...V},k)=>{const C=O.useRef();r=bt(r,"offcanvas");const[re,Zt]=O.useState(!1),G=$s(R),et=iM(u||"xs","up");O.useEffect(()=>{Zt(u?f&&!et:f)},[f,u,et]);const at=O.useMemo(()=>({onHide:G}),[G]);function Mt(){return I||(y?(C.current||(C.current=new r1({handleContainerOverflow:!1})),C.current):s1())}const N=(ot,...Rt)=>{ot&&(ot.style.visibility="visible"),ut?.(ot,...Rt)},X=(ot,...Rt)=>{ot&&(ot.style.visibility=""),D?.(...Rt)},nt=O.useCallback(ot=>j.jsx("div",{...ot,className:gt(`${r}-backdrop`,A)}),[A,r]),J=ot=>j.jsx("div",{...ot,...V,className:gt(t,u?`${r}-${u}`:r,`${r}-${o}`),"aria-labelledby":s,children:n});return j.jsxs(j.Fragment,{children:[!re&&(u||x)&&J({}),j.jsx(Xp.Provider,{value:at,children:j.jsx(i1,{show:re,ref:k,backdrop:m,container:q,keyboard:g,autoFocus:K,enforceFocus:tt&&!y,restoreFocus:Q,restoreFocusOptions:ht,onEscapeKeyDown:E,onShow:b,onHide:G,onEnter:N,onEntering:ct,onEntered:dt,onExit:st,onExiting:mt,onExited:X,manager:Mt(),transition:aM,backdropTransition:oM,renderBackdrop:nt,renderDialog:J})})]})});T1.displayName="Offcanvas";const lM=Object.assign(T1,{Body:y1,Header:v1,Title:E1}),S1=O.forwardRef(({onHide:r,...t},n)=>{const s=O.useContext(bo),o=$s(()=>{s==null||s.onToggle==null||s.onToggle(),r?.()});return j.jsx(lM,{ref:n,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});S1.displayName="NavbarOffcanvas";const A1=O.forwardRef(({className:r,bsPrefix:t,as:n="span",...s},o)=>(t=bt(t,"navbar-text"),j.jsx(n,{ref:o,className:gt(r,t),...s})));A1.displayName="NavbarText";const b1=O.forwardRef((r,t)=>{const{bsPrefix:n,expand:s=!0,variant:o="light",bg:u,fixed:f,sticky:m,className:g,as:y="nav",expanded:E,onToggle:b,onSelect:R,collapseOnSelect:q=!1,...K}=Lp(r,{expanded:"onToggle"}),tt=bt(n,"navbar"),Q=O.useCallback((...st)=>{R?.(...st),q&&E&&b?.(!1)},[R,q,E,b]);K.role===void 0&&y!=="nav"&&(K.role="navigation");let ht=`${tt}-expand`;typeof s=="string"&&(ht=`${ht}-${s}`);const dt=O.useMemo(()=>({onToggle:()=>b?.(!E),bsPrefix:tt,expanded:!!E,expand:s}),[tt,E,s,b]);return j.jsx(bo.Provider,{value:dt,children:j.jsx(Eh.Provider,{value:Q,children:j.jsx(y,{ref:t,...K,className:gt(g,tt,s&&ht,o&&`${tt}-${o}`,u&&`bg-${u}`,m&&`sticky-${m}`,f&&`fixed-${f}`)})})})});b1.displayName="Navbar";const $c=Object.assign(b1,{Brand:m1,Collapse:p1,Offcanvas:S1,Text:A1,Toggle:g1}),R1=O.forwardRef(({bsPrefix:r,className:t,as:n="div",...s},o)=>{const u=bt(r,"row"),f=_S(),m=vS(),g=`${u}-cols`,y=[];return f.forEach(E=>{const b=s[E];delete s[E];let R;b!=null&&typeof b=="object"?{cols:R}=b:R=b;const q=E!==m?`-${E}`:"";R!=null&&y.push(`${g}${q}-${R}`)}),j.jsx(n,{ref:o,...s,className:gt(t,u,...y)})});R1.displayName="Row";const Fe=[];for(let r=0;r<256;++r)Fe.push((r+256).toString(16).slice(1));function uM(r,t=0){return(Fe[r[t+0]]+Fe[r[t+1]]+Fe[r[t+2]]+Fe[r[t+3]]+"-"+Fe[r[t+4]]+Fe[r[t+5]]+"-"+Fe[r[t+6]]+Fe[r[t+7]]+"-"+Fe[r[t+8]]+Fe[r[t+9]]+"-"+Fe[r[t+10]]+Fe[r[t+11]]+Fe[r[t+12]]+Fe[r[t+13]]+Fe[r[t+14]]+Fe[r[t+15]]).toLowerCase()}let Sm;const cM=new Uint8Array(16);function hM(){if(!Sm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Sm=crypto.getRandomValues.bind(crypto)}return Sm(cM)}const fM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fT={randomUUID:fM};function dM(r,t,n){if(fT.randomUUID&&!r)return fT.randomUUID();r=r||{};const s=r.random??r.rng?.()??hM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,uM(s)}class w1{constructor(t,n="",s=0){this.med=t,this.id=dM(),this.date=n,this.amount=s}getDate(){return new Date(this.date)}}class mM{constructor(t,n,s){this.entries=[],this.id=t,this.name=n;for(const o of s){const u=o.date.toDate().toISOString().slice(0,10);this.entries.push(new w1(this,u,o.amount))}}getName(){return this.name}getId(){return this.id}getEntries(){return[...this.entries]}newEntry(t){this.entries.push(t)}setEntries(t){this.entries=t}}var pM=["color","size","title","className"];function np(){return np=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},np.apply(null,arguments)}function gM(r,t){if(r==null)return{};var n,s,o=yM(r,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(s=0;s<u.length;s++)n=u[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(o[n]=r[n])}return o}function yM(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)!==-1)continue;n[s]=r[s]}return n}var C1=O.forwardRef(function(r,t){var n=r.color,s=n===void 0?"currentColor":n,o=r.size,u=o===void 0?"1em":o,f=r.title,m=f===void 0?null:f,g=r.className,y=g===void 0?"":g,E=gM(r,pM);return wn.createElement("svg",np({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:u,height:u,fill:s,className:["bi","bi-trash",y].filter(Boolean).join(" ")},E),m?wn.createElement("title",null,m):null,wn.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),wn.createElement("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"}))});C1.propTypes={color:ln.string,size:ln.oneOfType([ln.string,ln.number]),title:ln.string,className:ln.string};function _M({children:r,onDelete:t}){const[n,s]=O.useState(r.amount),[o,u]=O.useState(r.date),f=g=>{const y=Number(g.target.value);y<0?(r.amount=0,s(0)):(r.amount=y,s(y))},m=g=>{r.date=g.target.value,u(g.target.value)};return j.jsx(j.Fragment,{children:j.jsx(di.Group,{className:"mb-3",controlId:"fromDate",children:j.jsxs(bD,{children:[j.jsx(di.Control,{className:"w-50",type:"date",value:o,onChange:m}),j.jsx(di.Control,{className:"w-25",type:"number",value:n,onChange:f}),j.jsx(mu,{variant:"outline-secondary",onClick:t,children:j.jsx(C1,{})})]})})})}function vM({children:r}){const[t,n]=O.useState(r.getEntries()),s=()=>{const u=new w1(r);r.newEntry(u),n([...t,u])},o=u=>{r.setEntries(t.filter(f=>f.id!==u)),n(t.filter(f=>f.id!==u))};if(t.length===0)s();else return j.jsx(ym,{className:"h-100",children:j.jsxs(ym.Body,{className:"d-flex flex-column",children:[j.jsx(ym.Title,{children:r.getName()}),t.map(u=>j.jsx(_M,{onDelete:()=>{o(u.id)},children:u},u.id)),j.jsx(mu,{className:"w-100 mt-auto",color:"blue",onClick:s,children:"+"})]})})}function dT({setPage:r,setCurrentUser:t}){const n=["Home"];return j.jsx($c,{expand:"lg",className:"bg-body-tertiary mb-5",children:j.jsxs(qp,{children:[j.jsx($c.Brand,{onClick:()=>{r("home")},children:"BLLK"}),j.jsx($c.Toggle,{"aria-controls":"basic-navbar-nav"}),j.jsxs($c.Collapse,{id:"basic-navbar-nav",children:[j.jsx(cT,{className:"me-auto",children:n.map(s=>j.jsx(cT.Link,{onClick:()=>{r(s.toLocaleLowerCase())},children:s},s))}),j.jsx(mu,{onClick:()=>{t(null),X2(Yl)},type:"button",children:"Log Out"})]})]})})}function EM({setCurrentUser:r}){const[t,n]=O.useState(!0),[s,o]=O.useState(!1),u=f=>{f.preventDefault();const m=new FormData(f.target),g=Object.fromEntries(m);console.log(g.username+"@bllk.inv",g.password),K2(Yl,g.username+"@bllk.inv",g.password).then(y=>{y&&(r(y.user),n(!1),console.log("User signed in successfully."))}).catch(y=>{o(!0),console.error("Error signing in:",y)})};return j.jsxs(Yc,{show:t,children:[j.jsx(Yc.Header,{children:j.jsx(Yc.Title,{children:"Log in"})}),j.jsxs(Yc.Body,{children:[s&&j.jsx(iD,{variant:"danger",onClose:()=>o(!1),dismissible:!0,children:j.jsx("p",{children:"Oh snap! You entered invalid credentials!"})}),j.jsxs(di,{onSubmit:u,children:[j.jsxs(di.Group,{className:"mb-3",controlId:"formUsername",children:[j.jsx(di.Label,{children:"Email address"}),j.jsx(di.Control,{name:"username",autoFocus:!0,type:"text",placeholder:"Enter username"})]}),j.jsxs(di.Group,{className:"mb-3",controlId:"formPassword",children:[j.jsx(di.Label,{children:"Password"}),j.jsx(di.Control,{name:"password",type:"password",placeholder:"Password"})]}),j.jsx(mu,{variant:"primary",type:"submit",children:"Log In"})]})]})]})}const TM={apiKey:"AIzaSyD9-6prflaJhhuFut_6-ze9H5JI2ROG0b8",authDomain:"bllkinventory-bd8eb.firebaseapp.com",projectId:"bllkinventory-bd8eb",storageBucket:"bllkinventory-bd8eb.firebasestorage.app",messagingSenderId:"803086724359",appId:"1:803086724359:web:dcb95778290927a225e9a2"};async function SM(){const r={},t=await $I(UI(AM,"meds"));for(const n of t.docs){const s=n.data();r[n.id]=new mM(n.id,s.name,s.entries)}return r}const I1=RT(TM),AM=PI(I1),Yl=oO(I1);function bM(){const[r,t]=O.useState({}),[n,s]=O.useState(null),[o,u]=O.useState(!0),[f,m]=O.useState("home");return O.useEffect(()=>{const g=Q2(Yl,y=>{s(y),u(!1)});return()=>g()},[]),O.useEffect(()=>{o||(console.log(Yl.currentUser),Yl.currentUser,SM().then(g=>t(g)))},[o]),o?j.jsx("div",{children:"Loading authentication status..."}):n?j.jsxs(j.Fragment,{children:[j.jsx(dT,{setCurrentUser:s,setPage:m}),j.jsx(qp,{children:j.jsx(R1,{children:Object.values(r).map(g=>j.jsx(Hp,{className:"mb-3",xs:12,sm:12,md:6,lg:6,xl:4,xxl:3,children:j.jsx(vM,{children:g})},g.getId()))})})]}):j.jsxs(j.Fragment,{children:[j.jsx(EM,{setCurrentUser:s}),j.jsx(dT,{setCurrentUser:s,setPage:m})]})}ob.createRoot(document.getElementById("root")).render(j.jsx(O.StrictMode,{children:j.jsx(bM,{})}));

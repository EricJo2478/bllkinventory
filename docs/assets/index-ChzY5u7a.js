(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function hh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pd={exports:{}},Rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function xA(){if(tv)return Rl;tv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=t,Rl.jsx=n,Rl.jsxs=n,Rl}var ev;function VA(){return ev||(ev=1,Pd.exports=xA()),Pd.exports}var G=VA(),zd={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function kA(){if(nv)return Ct;nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,tt={};function X(N,Z,it){this.props=N,this.context=Z,this.refs=tt,this.updater=it||q}X.prototype.isReactComponent={},X.prototype.setState=function(N,Z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Z,"setState")},X.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ft(){}ft.prototype=X.prototype;function dt(N,Z,it){this.props=N,this.context=Z,this.refs=tt,this.updater=it||q}var st=dt.prototype=new ft;st.constructor=dt,Q(st,X.prototype),st.isPureReactComponent=!0;var mt=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},ht=Object.prototype.hasOwnProperty;function O(N,Z,it,W,ot,At){return it=At.ref,{$$typeof:r,type:N,key:Z,ref:it!==void 0?it:null,props:At}}function A(N,Z){return O(N.type,Z,void 0,void 0,void 0,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function M(N){var Z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(it){return Z[it]})}var x=/\/+/g;function L(N,Z){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):Z.toString(36)}function C(){}function le(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(Z){N.status==="pending"&&(N.status="fulfilled",N.value=Z)},function(Z){N.status==="pending"&&(N.status="rejected",N.reason=Z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ee(N,Z,it,W,ot){var At=typeof N;(At==="undefined"||At==="boolean")&&(N=null);var Tt=!1;if(N===null)Tt=!0;else switch(At){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(N.$$typeof){case r:case t:Tt=!0;break;case E:return Tt=N._init,ee(Tt(N._payload),Z,it,W,ot)}}if(Tt)return ot=ot(N),Tt=W===""?"."+L(N,0):W,mt(ot)?(it="",Tt!=null&&(it=Tt.replace(x,"$&/")+"/"),ee(ot,Z,it,"",function(on){return on})):ot!=null&&(I(ot)&&(ot=A(ot,it+(ot.key==null||N&&N.key===ot.key?"":(""+ot.key).replace(x,"$&/")+"/")+Tt)),Z.push(ot)),1;Tt=0;var ye=W===""?".":W+":";if(mt(N))for(var Yt=0;Yt<N.length;Yt++)W=N[Yt],At=ye+L(W,Yt),Tt+=ee(W,Z,it,At,ot);else if(Yt=R(N),typeof Yt=="function")for(N=Yt.call(N),Yt=0;!(W=N.next()).done;)W=W.value,At=ye+L(W,Yt++),Tt+=ee(W,Z,it,At,ot);else if(At==="object"){if(typeof N.then=="function")return ee(le(N),Z,it,W,ot);throw Z=String(N),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function F(N,Z,it){if(N==null)return N;var W=[],ot=0;return ee(N,W,"","",function(At){return Z.call(it,At,ot++)}),W}function et(N){if(N._status===-1){var Z=N._result;Z=Z(),Z.then(function(it){(N._status===0||N._status===-1)&&(N._status=1,N._result=it)},function(it){(N._status===0||N._status===-1)&&(N._status=2,N._result=it)}),N._status===-1&&(N._status=0,N._result=Z)}if(N._status===1)return N._result.default;throw N._result}var at=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Vt(){}return Ct.Children={map:F,forEach:function(N,Z,it){F(N,function(){Z.apply(this,arguments)},it)},count:function(N){var Z=0;return F(N,function(){Z++}),Z},toArray:function(N){return F(N,function(Z){return Z})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ct.Component=X,Ct.Fragment=n,Ct.Profiler=o,Ct.PureComponent=dt,Ct.StrictMode=s,Ct.Suspense=g,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ct.H.useMemoCache(N)}},Ct.cache=function(N){return function(){return N.apply(null,arguments)}},Ct.cloneElement=function(N,Z,it){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=Q({},N.props),ot=N.key,At=void 0;if(Z!=null)for(Tt in Z.ref!==void 0&&(At=void 0),Z.key!==void 0&&(ot=""+Z.key),Z)!ht.call(Z,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Z.ref===void 0||(W[Tt]=Z[Tt]);var Tt=arguments.length-2;if(Tt===1)W.children=it;else if(1<Tt){for(var ye=Array(Tt),Yt=0;Yt<Tt;Yt++)ye[Yt]=arguments[Yt+2];W.children=ye}return O(N.type,ot,void 0,void 0,At,W)},Ct.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ct.createElement=function(N,Z,it){var W,ot={},At=null;if(Z!=null)for(W in Z.key!==void 0&&(At=""+Z.key),Z)ht.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ot[W]=Z[W]);var Tt=arguments.length-2;if(Tt===1)ot.children=it;else if(1<Tt){for(var ye=Array(Tt),Yt=0;Yt<Tt;Yt++)ye[Yt]=arguments[Yt+2];ot.children=ye}if(N&&N.defaultProps)for(W in Tt=N.defaultProps,Tt)ot[W]===void 0&&(ot[W]=Tt[W]);return O(N,At,void 0,void 0,null,ot)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(N){return{$$typeof:m,render:N}},Ct.isValidElement=I,Ct.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:et}},Ct.memo=function(N,Z){return{$$typeof:y,type:N,compare:Z===void 0?null:Z}},Ct.startTransition=function(N){var Z=ct.T,it={};ct.T=it;try{var W=N(),ot=ct.S;ot!==null&&ot(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Vt,at)}catch(At){at(At)}finally{ct.T=Z}},Ct.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},Ct.use=function(N){return ct.H.use(N)},Ct.useActionState=function(N,Z,it){return ct.H.useActionState(N,Z,it)},Ct.useCallback=function(N,Z){return ct.H.useCallback(N,Z)},Ct.useContext=function(N){return ct.H.useContext(N)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(N,Z){return ct.H.useDeferredValue(N,Z)},Ct.useEffect=function(N,Z,it){var W=ct.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(N,Z)},Ct.useId=function(){return ct.H.useId()},Ct.useImperativeHandle=function(N,Z,it){return ct.H.useImperativeHandle(N,Z,it)},Ct.useInsertionEffect=function(N,Z){return ct.H.useInsertionEffect(N,Z)},Ct.useLayoutEffect=function(N,Z){return ct.H.useLayoutEffect(N,Z)},Ct.useMemo=function(N,Z){return ct.H.useMemo(N,Z)},Ct.useOptimistic=function(N,Z){return ct.H.useOptimistic(N,Z)},Ct.useReducer=function(N,Z,it){return ct.H.useReducer(N,Z,it)},Ct.useRef=function(N){return ct.H.useRef(N)},Ct.useState=function(N){return ct.H.useState(N)},Ct.useSyncExternalStore=function(N,Z,it){return ct.H.useSyncExternalStore(N,Z,it)},Ct.useTransition=function(){return ct.H.useTransition()},Ct.version="19.1.1",Ct}var iv;function $m(){return iv||(iv=1,zd.exports=kA()),zd.exports}var V=$m();const Tn=hh(V);var jd={exports:{}},wl={},Bd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function LA(){return rv||(rv=1,(function(r){function t(F,et){var at=F.length;F.push(et);t:for(;0<at;){var Vt=at-1>>>1,N=F[Vt];if(0<o(N,et))F[Vt]=et,F[at]=N,at=Vt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var et=F[0],at=F.pop();if(at!==et){F[0]=at;t:for(var Vt=0,N=F.length,Z=N>>>1;Vt<Z;){var it=2*(Vt+1)-1,W=F[it],ot=it+1,At=F[ot];if(0>o(W,at))ot<N&&0>o(At,W)?(F[Vt]=At,F[ot]=at,Vt=ot):(F[Vt]=W,F[it]=at,Vt=it);else if(ot<N&&0>o(At,at))F[Vt]=At,F[ot]=at,Vt=ot;else break t}}return et}function o(F,et){var at=F.sortIndex-et.sortIndex;return at!==0?at:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,b=null,R=3,q=!1,Q=!1,tt=!1,X=!1,ft=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function mt(F){for(var et=n(y);et!==null;){if(et.callback===null)s(y);else if(et.startTime<=F)s(y),et.sortIndex=et.expirationTime,t(g,et);else break;et=n(y)}}function ct(F){if(tt=!1,mt(F),!Q)if(n(g)!==null)Q=!0,ht||(ht=!0,L());else{var et=n(y);et!==null&&ee(ct,et.startTime-F)}}var ht=!1,O=-1,A=5,I=-1;function M(){return X?!0:!(r.unstable_now()-I<A)}function x(){if(X=!1,ht){var F=r.unstable_now();I=F;var et=!0;try{t:{Q=!1,tt&&(tt=!1,dt(O),O=-1),q=!0;var at=R;try{e:{for(mt(F),b=n(g);b!==null&&!(b.expirationTime>F&&M());){var Vt=b.callback;if(typeof Vt=="function"){b.callback=null,R=b.priorityLevel;var N=Vt(b.expirationTime<=F);if(F=r.unstable_now(),typeof N=="function"){b.callback=N,mt(F),et=!0;break e}b===n(g)&&s(g),mt(F)}else s(g);b=n(g)}if(b!==null)et=!0;else{var Z=n(y);Z!==null&&ee(ct,Z.startTime-F),et=!1}}break t}finally{b=null,R=at,q=!1}et=void 0}}finally{et?L():ht=!1}}}var L;if(typeof st=="function")L=function(){st(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,le=C.port2;C.port1.onmessage=x,L=function(){le.postMessage(null)}}else L=function(){ft(x,0)};function ee(F,et){O=ft(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(F){switch(R){case 1:case 2:case 3:var et=3;break;default:et=R}var at=R;R=et;try{return F()}finally{R=at}},r.unstable_requestPaint=function(){X=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var at=R;R=F;try{return et()}finally{R=at}},r.unstable_scheduleCallback=function(F,et,at){var Vt=r.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Vt+at:Vt):at=Vt,F){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=at+N,F={id:E++,callback:et,priorityLevel:F,startTime:at,expirationTime:N,sortIndex:-1},at>Vt?(F.sortIndex=at,t(y,F),n(g)===null&&F===n(y)&&(tt?(dt(O),O=-1):tt=!0,ee(ct,at-Vt))):(F.sortIndex=N,t(g,F),Q||q||(Q=!0,ht||(ht=!0,L()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var et=R;return function(){var at=R;R=et;try{return F.apply(this,arguments)}finally{R=at}}}})(Hd)),Hd}var sv;function UA(){return sv||(sv=1,Bd.exports=LA()),Bd.exports}var qd={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function PA(){if(av)return $e;av=1;var r=$m();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$e.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},$e.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},$e.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},$e.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$e.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:q}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:R,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},$e.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},$e.requestFormReset=function(g){s.d.r(g)},$e.unstable_batchedUpdates=function(g,y){return g(y)},$e.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},$e.useFormStatus=function(){return f.H.useHostTransitionStatus()},$e.version="19.1.1",$e}var ov;function iT(){if(ov)return qd.exports;ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),qd.exports=PA(),qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function zA(){if(lv)return wl;lv=1;var r=UA(),t=$m(),n=iT();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ft=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case X:return"Profiler";case tt:return"StrictMode";case ct:return"Suspense";case ht:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case st:return(e.displayName||"Context")+".Provider";case dt:return(e._context.displayName||"Context")+".Consumer";case mt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return i=e.displayName||null,i!==null?i:le(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return le(e(i))}catch{}}return null}var ee=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Vt=[],N=-1;function Z(e){return{current:e}}function it(e){0>N||(e.current=Vt[N],Vt[N]=null,N--)}function W(e,i){N++,Vt[N]=e.current,e.current=i}var ot=Z(null),At=Z(null),Tt=Z(null),ye=Z(null);function Yt(e,i){switch(W(Tt,i),W(At,e),W(ot,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?I_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=I_(i),e=N_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}it(ot),W(ot,e)}function on(){it(ot),it(At),it(Tt)}function Sn(e){e.memoizedState!==null&&W(ye,e);var i=ot.current,a=N_(i,e.type);i!==a&&(W(At,e),W(ot,a))}function Un(e){At.current===e&&(it(ot),it(At)),ye.current===e&&(it(ye),El._currentValue=at)}var $n=Object.prototype.hasOwnProperty,Pn=r.unstable_scheduleCallback,An=r.unstable_cancelCallback,Wt=r.unstable_shouldYield,Wr=r.unstable_requestPaint,Ke=r.unstable_now,Uh=r.unstable_getCurrentPriorityLevel,_o=r.unstable_ImmediatePriority,Gs=r.unstable_UserBlockingPriority,ts=r.unstable_NormalPriority,Ph=r.unstable_LowPriority,Ks=r.unstable_IdlePriority,vo=r.log,su=r.unstable_setDisableYieldValue,ue=null,Gt=null;function fn(e){if(typeof vo=="function"&&su(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ue,e)}catch{}}var Qe=Math.clz32?Math.clz32:es,au=Math.log,zh=Math.LN2;function es(e){return e>>>=0,e===0?32:31-(au(e)/zh|0)|0}var ns=256,is=4194304;function zn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qs(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=zn(l):(v&=T,v!==0?h=zn(v):a||(a=T&~e,a!==0&&(h=zn(a))))):(T=l&~d,T!==0?h=zn(T):v!==0?h=zn(v):a||(a=l&~e,a!==0&&(h=zn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function rs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Eo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function To(){var e=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),e}function So(){var e=is;return is<<=1,(is&62914560)===0&&(is=4194304),e}function Ei(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ti(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ao(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Qe(a),$=1<<K;T[K]=0,w[K]=-1;var j=z[K];if(j!==null)for(z[K]=null,K=0;K<j.length;K++){var B=j[K];B!==null&&(B.lane&=-536870913)}a&=~$}l!==0&&Xn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Xn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Qe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function bo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Qe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function ir(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ys(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rr(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:Y_(e.type))}function ou(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var ie=Math.random().toString(36).slice(2),Re="__reactFiber$"+ie,_e="__reactProps$"+ie,bn="__reactContainer$"+ie,Ro="__reactEvents$"+ie,jh="__reactListeners$"+ie,sr="__reactHandles$"+ie,lu="__reactResources$"+ie,ss="__reactMarker$"+ie;function ar(e){delete e[Re],delete e[_e],delete e[Ro],delete e[jh],delete e[sr]}function Si(e){var i=e[Re];if(i)return i;for(var a=e.parentNode;a;){if(i=a[bn]||a[Re]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=x_(e);e!==null;){if(a=e[Re])return a;e=x_(e)}return i}e=a,a=e.parentNode}return null}function Zn(e){if(e=e[Re]||e[bn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Jn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function tn(e){var i=e[lu];return i||(i=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fe(e){e[ss]=!0}var wo=new Set,$s={};function jn(e,i){Ai(e,i),Ai(e+"Capture",i)}function Ai(e,i){for($s[e]=i,e=0;e<i.length;e++)wo.add(i[e])}var uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cu={},as={};function hu(e){return $n.call(as,e)?!0:$n.call(cu,e)?!1:uu.test(e)?as[e]=!0:(cu[e]=!0,!1)}function or(e,i,a){if(hu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Wn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Pe(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var os,fu;function bi(e){if(os===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);os=i&&i[1]||"",fu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+e+fu}var Xs=!1;function Zs(e,i){if(!e||Xs)return"";Xs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var j=B}Reflect.construct(e,[],$)}else{try{$.call()}catch(B){j=B}e.call($.prototype)}}else{try{throw Error()}catch(B){j=B}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var w=v.split(`
`),z=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===z.length)for(l=w.length-1,h=z.length-1;1<=l&&0<=h&&w[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==z[h]){var K=`
`+w[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{Xs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?bi(a):""}function Co(e){switch(e.tag){case 26:case 27:case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Zs(e.type,!1);case 11:return Zs(e.type.render,!1);case 1:return Zs(e.type,!0);case 31:return bi("Activity");default:return""}}function Js(e){try{var i="";do i+=Co(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Io(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bh(e){var i=Io(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ws(e){e._valueTracker||(e._valueTracker=Bh(e))}function No(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Io(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hh=/[\n"\\]/g;function ve(e){return e.replace(Hh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function dn(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+en(i)):e.value!==""+en(i)&&(e.value=""+en(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?lr(e,v,en(i)):a!=null?lr(e,v,en(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+en(T):e.removeAttribute("name")}function us(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function lr(e,i,a){i==="number"&&ls(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ri(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function $t(e,i,a){if(i!=null&&(i=""+en(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+en(a):""}function cs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Rn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function du(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||hs.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Oo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&du(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&du(e,d,i[d])}function Do(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return Fh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wi=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,Ii=null;function Mo(e){var i=Zn(e);if(i&&(e=i.stateNode)){var a=e[_e]||null;t:switch(e=i.stateNode,i.type){case"input":if(dn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ve(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[_e]||null;if(!h)throw Error(s(90));dn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&No(l)}break t;case"textarea":$t(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ri(e,!!a.multiple,i,!1)}}}var ti=!1;function mu(e,i,a){if(ti)return e(i,a);ti=!0;try{var l=e(i);return l}finally{if(ti=!1,(Ci!==null||Ii!==null)&&(oc(),Ci&&(i=Ci,e=Ii,Ii=Ci=null,Mo(i),e)))for(i=0;i<e.length;i++)Mo(e[i])}}function fs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[_e]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Bn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Cn=!1}var ei=null,ur=null,Ni=null;function xo(){if(Ni)return Ni;var e,i=ur,a=i.length,l,h="value"in ei?ei.value:ei.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ni=h.slice(e,1<l?1-l:void 0)}function ni(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function Vo(){return!1}function Me(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:Vo,this.isPropagationStopped=Vo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),i}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Me(Ft),ms=E({},Ft,{view:0,detail:0}),pu=Me(ms),na,ia,ri,ps=E({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(na=e.screenX-ri.screenX,ia=e.screenY-ri.screenY):ia=na=0,ri=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),In=Me(ps),gu=E({},ps,{dataTransfer:0}),Gh=Me(gu),gs=E({},ms,{relatedTarget:0}),ra=Me(gs),ko=E({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),sa=Me(ko),yu=E({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aa=Me(yu),Kh=E({},Ft,{data:0}),Lo=Me(Kh),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=vu[e])?!!i[e]:!1}function _s(){return Uo}var Eu=E({},ms,{key:function(e){if(e.key){var i=ys[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oa=Me(Eu),Tu=E({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=Me(Tu),Oi=E({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Su=Me(Oi),Au=E({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=Me(Au),Ru=E({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),la=Me(Ru),nn=E({},Ft,{newState:0,oldState:0}),wu=Me(nn),Cu=[9,13,27,32],si=Bn&&"CompositionEvent"in window,c=null;Bn&&"documentMode"in document&&(c=document.documentMode);var p=Bn&&"TextEvent"in window&&!c,_=Bn&&(!si||c&&8<c&&11>=c),S=" ",U=!1;function H(e,i){switch(e){case"keyup":return Cu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lt=!1;function we(e,i){switch(e){case"compositionend":return nt(i);case"keypress":return i.which!==32?null:(U=!0,S);case"textInput":return e=i.data,e===S&&U?null:e;default:return null}}function Ut(e,i){if(Lt)return e==="compositionend"||!si&&H(e,i)?(e=xo(),Ni=ur=ei=null,Lt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ce(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!xe[e.type]:i==="textarea"}function Di(e,i,a,l){Ci?Ii?Ii.push(l):Ii=[l]:Ci=l,i=dc(i,"onChange"),0<i.length&&(a=new ea("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var ze=null,ai=null;function zo(e){A_(e,0)}function Iu(e){var i=Jn(e);if(No(i))return e}function Fp(e,i){if(e==="change")return i}var Gp=!1;if(Bn){var Qh;if(Bn){var Yh="oninput"in document;if(!Yh){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),Yh=typeof Kp.oninput=="function"}Qh=Yh}else Qh=!1;Gp=Qh&&(!document.documentMode||9<document.documentMode)}function Qp(){ze&&(ze.detachEvent("onpropertychange",Yp),ai=ze=null)}function Yp(e){if(e.propertyName==="value"&&Iu(ai)){var i=[];Di(i,ai,e,wn(e)),mu(zo,i)}}function u1(e,i,a){e==="focusin"?(Qp(),ze=i,ai=a,ze.attachEvent("onpropertychange",Yp)):e==="focusout"&&Qp()}function c1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(ai)}function h1(e,i){if(e==="click")return Iu(i)}function f1(e,i){if(e==="input"||e==="change")return Iu(i)}function d1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var mn=typeof Object.is=="function"?Object.is:d1;function jo(e,i){if(mn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!$n.call(i,h)||!mn(e[h],i[h]))return!1}return!0}function $p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xp(e,i){var a=$p(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=$p(a)}}function Zp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Zp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Jp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ls(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ls(e.document)}return i}function $h(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var m1=Bn&&"documentMode"in document&&11>=document.documentMode,ua=null,Xh=null,Bo=null,Zh=!1;function Wp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||ua==null||ua!==ls(l)||(l=ua,"selectionStart"in l&&$h(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&jo(Bo,l)||(Bo=l,l=dc(Xh,"onSelect"),0<l.length&&(i=new ea("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ua)))}function vs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ca={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},Jh={},tg={};Bn&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Es(e){if(Jh[e])return Jh[e];if(!ca[e])return e;var i=ca[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in tg)return Jh[e]=i[a];return e}var eg=Es("animationend"),ng=Es("animationiteration"),ig=Es("animationstart"),p1=Es("transitionrun"),g1=Es("transitionstart"),y1=Es("transitioncancel"),rg=Es("transitionend"),sg=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function Hn(e,i){sg.set(e,i),jn(i,[e])}var ag=new WeakMap;function Nn(e,i){if(typeof e=="object"&&e!==null){var a=ag.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Js(i)},ag.set(e,i),i)}return{value:e,source:i,stack:Js(i)}}var On=[],ha=0,tf=0;function Nu(){for(var e=ha,i=tf=ha=0;i<e;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&og(a,h,d)}}function Ou(e,i,a,l){On[ha++]=e,On[ha++]=i,On[ha++]=a,On[ha++]=l,tf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ef(e,i,a,l){return Ou(e,i,a,l),Du(e)}function fa(e,i){return Ou(e,null,null,i),Du(e)}function og(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Qe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Du(e){if(50<fl)throw fl=0,ld=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var da={};function _1(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,i,a,l){return new _1(e,i,a,l)}function nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,i){var a=e.alternate;return a===null?(a=pn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function lg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Mu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")nf(e)&&(v=1);else if(typeof e=="string")v=EA(e,a,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=pn(31,a,i,h),e.elementType=I,e.lanes=d,e;case Q:return Ts(a.children,h,d,i);case tt:v=8,h|=24;break;case X:return e=pn(12,a,i,h|2),e.elementType=X,e.lanes=d,e;case ct:return e=pn(13,a,i,h),e.elementType=ct,e.lanes=d,e;case ht:return e=pn(19,a,i,h),e.elementType=ht,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:case st:v=10;break t;case dt:v=9;break t;case mt:v=11;break t;case O:v=14;break t;case A:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=pn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ts(e,i,a,l){return e=pn(7,e,l,i),e.lanes=a,e}function rf(e,i,a){return e=pn(6,e,null,i),e.lanes=a,e}function sf(e,i,a){return i=pn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ma=[],pa=0,xu=null,Vu=0,Dn=[],Mn=0,Ss=null,xi=1,Vi="";function As(e,i){ma[pa++]=Vu,ma[pa++]=xu,xu=e,Vu=i}function ug(e,i,a){Dn[Mn++]=xi,Dn[Mn++]=Vi,Dn[Mn++]=Ss,Ss=e;var l=xi;e=Vi;var h=32-Qe(l)-1;l&=~(1<<h),a+=1;var d=32-Qe(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,xi=1<<32-Qe(i)+h|a<<h|l,Vi=d+e}else xi=1<<d|a<<h|l,Vi=e}function af(e){e.return!==null&&(As(e,1),ug(e,1,0))}function of(e){for(;e===xu;)xu=ma[--pa],ma[pa]=null,Vu=ma[--pa],ma[pa]=null;for(;e===Ss;)Ss=Dn[--Mn],Dn[Mn]=null,Vi=Dn[--Mn],Dn[Mn]=null,xi=Dn[--Mn],Dn[Mn]=null}var rn=null,ce=null,qt=!1,bs=null,oi=!1,lf=Error(s(519));function Rs(e){var i=Error(s(418,""));throw Fo(Nn(i,e)),lf}function cg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Re]=e,i[_e]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)Mt(ml[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),us(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ws(i);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),cs(i,l.value,l.defaultValue,l.children),Ws(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||C_(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=mc),i=!0):i=!1,i||Rs(e)}function hg(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:rn=rn.return}}function Ho(e){if(e!==rn)return!1;if(!qt)return hg(e),qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bd(e.type,e.memoizedProps)),a=!a),a&&ce&&Rs(e),hg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ce=Fn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ce=null}}else i===27?(i=ce,Rr(e.type)?(e=Id,Id=null,ce=e):ce=i):ce=rn?Fn(e.stateNode.nextSibling):null;return!0}function qo(){ce=rn=null,qt=!1}function fg(){var e=bs;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),bs=null),e}function Fo(e){bs===null?bs=[e]:bs.push(e)}var uf=Z(null),ws=null,ki=null;function cr(e,i,a){W(uf,i._currentValue),i._currentValue=a}function Li(e){e._currentValue=uf.current,it(uf)}function cf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function hf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var w=0;w<i.length;w++)if(T.context===i[w]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),cf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),cf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Go(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;mn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===ye.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&hf(i,e,a,l),i.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){ws=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return dg(ws,e)}function Lu(e,i){return ws===null&&Cs(e),dg(e,i)}function dg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ki===null){if(e===null)throw Error(s(308));ki=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ki=ki.next=i;return a}var v1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},E1=r.unstable_scheduleCallback,T1=r.unstable_NormalPriority,Ie={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new v1,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&E1(T1,function(){e.controller.abort()})}var Qo=null,df=0,ga=0,ya=null;function S1(e,i){if(Qo===null){var a=Qo=[];df=0,ga=pd(),ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return df++,i.then(mg,mg),i}function mg(){if(--df===0&&Qo!==null){ya!==null&&(ya.status="fulfilled");var e=Qo;Qo=null,ga=0,ya=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function A1(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var pg=F.S;F.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&S1(e,i),pg!==null&&pg(e,i)};var Is=Z(null);function mf(){var e=Is.current;return e!==null?e:ne.pooledCache}function Uu(e,i){i===null?W(Is,Is.current):W(Is,i.pool)}function gg(){var e=mf();return e===null?null:{parent:Ie._currentValue,pool:e}}var Yo=Error(s(460)),yg=Error(s(474)),Pu=Error(s(542)),pf={then:function(){}};function _g(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zu(){}function vg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(zu,zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Tg(e),e;default:if(typeof i.status=="string")i.then(zu,zu);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Tg(e),e}throw $o=i,Yo}}var $o=null;function Eg(){if($o===null)throw Error(s(459));var e=$o;return $o=null,e}function Tg(e){if(e===Yo||e===Pu)throw Error(s(483))}var hr=!1;function gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function dr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Du(e),og(e,null,a),i}return Ou(e,l,i,a),Du(e)}function Xo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,bo(e,a)}}function _f(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var vf=!1;function Zo(){if(vf){var e=ya;if(e!==null)throw e}}function Jo(e,i,a,l){vf=!1;var h=e.updateQueue;hr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,z=w.next;w.next=null,v===null?d=z:v.next=z,v=w;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=w))}if(d!==null){var $=h.baseState;v=0,K=z=w=null,T=d;do{var j=T.lane&-536870913,B=j!==T.lane;if(B?(Pt&j)===j:(l&j)===j){j!==0&&j===ga&&(vf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var St=e,yt=T;j=i;var Jt=a;switch(yt.tag){case 1:if(St=yt.payload,typeof St=="function"){$=St.call(Jt,$,j);break t}$=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=yt.payload,j=typeof St=="function"?St.call(Jt,$,j):St,j==null)break t;$=E({},$,j);break t;case 2:hr=!0}}j=T.callback,j!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[j]:B.push(j))}else B={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=B,w=$):K=K.next=B,v|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;B=T,T=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);K===null&&(w=$),h.baseState=w,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Tr|=v,e.lanes=v,e.memoizedState=$}}function Sg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Ag(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Sg(a[e],i)}var _a=Z(null),ju=Z(0);function bg(e,i){e=qi,W(ju,e),W(_a,i),qi=e|i.baseLanes}function Ef(){W(ju,qi),W(_a,_a.current)}function Tf(){qi=ju.current,it(_a),it(ju)}var mr=0,Nt=null,Xt=null,Ee=null,Bu=!1,va=!1,Ns=!1,Hu=0,Wo=0,Ea=null,b1=0;function de(){throw Error(s(321))}function Sf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!mn(e[a],i[a]))return!1;return!0}function Af(e,i,a,l,h,d){return mr=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?oy:ly,Ns=!1,d=a(l,h),Ns=!1,va&&(d=wg(i,a,l,h)),Rg(e),d}function Rg(e){F.H=Yu;var i=Xt!==null&&Xt.next!==null;if(mr=0,Ee=Xt=Nt=null,Bu=!1,Wo=0,Ea=null,i)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&ku(e)&&(Ve=!0))}function wg(e,i,a,l){Nt=e;var h=0;do{if(va&&(Ea=null),Wo=0,va=!1,25<=h)throw Error(s(301));if(h+=1,Ee=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=D1,d=i(a,l)}while(va);return d}function R1(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?tl(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Nt.flags|=1024),i}function bf(){var e=Hu!==0;return Hu=0,e}function Rf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function wf(e){if(Bu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Bu=!1}mr=0,Ee=Xt=Nt=null,va=!1,Wo=Hu=0,Ea=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Nt.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function Te(){if(Xt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=Ee===null?Nt.memoizedState:Ee.next;if(i!==null)Ee=i,Xt=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ee===null?Nt.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var i=Wo;return Wo+=1,Ea===null&&(Ea=[]),e=vg(Ea,e,i),i=Nt,(Ee===null?i.memoizedState:Ee.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?oy:ly),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===st)return Ye(e)}throw Error(s(438,String(e)))}function If(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Cf(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=M;return i.index++,a}function Ui(e,i){return typeof i=="function"?i(e):i}function Fu(e){var i=Te();return Nf(i,Xt,e)}function Nf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,w=null,z=i,K=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Pt&$)===$:(mr&$)===$){var j=z.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===ga&&(K=!0);else if((mr&j)===j){z=z.next,j===ga&&(K=!0);continue}else $={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=$,v=d):w=w.next=$,Nt.lanes|=j,Tr|=j;$=z.action,Ns&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else j={lane:$,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=j,v=d):w=w.next=j,Nt.lanes|=$,Tr|=$;z=z.next}while(z!==null&&z!==i);if(w===null?v=d:w.next=T,!mn(d,e.memoizedState)&&(Ve=!0,K&&(a=ya,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Of(e){var i=Te(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);mn(d,i.memoizedState)||(Ve=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Cg(e,i,a){var l=Nt,h=Te(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!mn((Xt||h).memoizedState,a);v&&(h.memoizedState=a,Ve=!0),h=h.queue;var T=Og.bind(null,l,h,e);if(el(2048,8,T,[e]),h.getSnapshot!==i||v||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,Ta(9,Gu(),Ng.bind(null,l,h,a,i),null),ne===null)throw Error(s(349));d||(mr&124)!==0||Ig(l,i,a)}return a}function Ig(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=Cf(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ng(e,i,a,l){i.value=a,i.getSnapshot=l,Dg(i)&&Mg(e)}function Og(e,i,a){return a(function(){Dg(i)&&Mg(e)})}function Dg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!mn(e,a)}catch{return!0}}function Mg(e){var i=fa(e,2);i!==null&&En(i,e,2)}function Df(e){var i=ln();if(typeof e=="function"){var a=e;if(e=a(),Ns){fn(!0);try{a()}finally{fn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},i}function xg(e,i,a,l){return e.baseState=a,Nf(e,Xt,typeof l=="function"?l:Ui)}function w1(e,i,a,l,h){if(Qu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Vg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Vg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=F.T,v={};F.T=v;try{var T=a(h,l),w=F.S;w!==null&&w(v,T),kg(e,i,T)}catch(z){Mf(e,i,z)}finally{F.T=d}}else try{d=a(h,l),kg(e,i,d)}catch(z){Mf(e,i,z)}}function kg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Lg(e,i,l)},function(l){return Mf(e,i,l)}):Lg(e,i,a)}function Lg(e,i,a){i.status="fulfilled",i.value=a,Ug(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Vg(e,a)))}function Mf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ug(i),i=i.next;while(i!==l)}e.action=null}function Ug(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Pg(e,i){return i}function zg(e,i){if(qt){var a=ne.formState;if(a!==null){t:{var l=Nt;if(qt){if(ce){e:{for(var h=ce,d=oi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ce=Fn(h.nextSibling),l=h.data==="F!";break t}}Rs(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:i},a.queue=l,a=ry.bind(null,Nt,l),l.dispatch=a,l=Df(!1),d=Uf.bind(null,Nt,!1,l.queue),l=ln(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=w1.bind(null,Nt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function jg(e){var i=Te();return Bg(i,Xt,e)}function Bg(e,i,a){if(i=Nf(e,i,Pg)[0],e=Fu(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=tl(i)}catch(v){throw v===Yo?Pu:v}else l=i;i=Te();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,Ta(9,Gu(),C1.bind(null,h,a),null)),[l,d,e]}function C1(e,i){e.action=i}function Hg(e){var i=Te(),a=Xt;if(a!==null)return Bg(i,a,e);Te(),i=i.memoizedState,a=Te();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ta(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=Cf(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Gu(){return{destroy:void 0,resource:void 0}}function qg(){return Te().memoizedState}function Ku(e,i,a,l){var h=ln();l=l===void 0?null:l,Nt.flags|=e,h.memoizedState=Ta(1|i,Gu(),a,l)}function el(e,i,a,l){var h=Te();l=l===void 0?null:l;var d=h.memoizedState.inst;Xt!==null&&l!==null&&Sf(l,Xt.memoizedState.deps)?h.memoizedState=Ta(i,d,a,l):(Nt.flags|=e,h.memoizedState=Ta(1|i,d,a,l))}function Fg(e,i){Ku(8390656,8,e,i)}function Gg(e,i){el(2048,8,e,i)}function Kg(e,i){return el(4,2,e,i)}function Qg(e,i){return el(4,4,e,i)}function Yg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function $g(e,i,a){a=a!=null?a.concat([e]):null,el(4,4,Yg.bind(null,i,e),a)}function xf(){}function Xg(e,i){var a=Te();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Sf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Zg(e,i){var a=Te();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Sf(i,l[1]))return l[0];if(l=e(),Ns){fn(!0);try{e()}finally{fn(!1)}}return a.memoizedState=[l,i],l}function Vf(e,i,a){return a===void 0||(mr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=t_(),Nt.lanes|=e,Tr|=e,a)}function Jg(e,i,a,l){return mn(a,i)?a:_a.current!==null?(e=Vf(e,a,l),mn(e,i)||(Ve=!0),e):(mr&42)===0?(Ve=!0,e.memoizedState=a):(e=t_(),Nt.lanes|=e,Tr|=e,i)}function Wg(e,i,a,l,h){var d=et.p;et.p=d!==0&&8>d?d:8;var v=F.T,T={};F.T=T,Uf(e,!1,i,a);try{var w=h(),z=F.S;if(z!==null&&z(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var K=A1(w,l);nl(e,i,K,vn(e))}else nl(e,i,l,vn(e))}catch($){nl(e,i,{then:function(){},status:"rejected",reason:$},vn())}finally{et.p=d,F.T=v}}function I1(){}function kf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=ty(e).queue;Wg(e,h,i,at,a===null?I1:function(){return ey(e),a(l)})}function ty(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:at},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ey(e){var i=ty(e).next.queue;nl(e,i,{},vn())}function Lf(){return Ye(El)}function ny(){return Te().memoizedState}function iy(){return Te().memoizedState}function N1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();e=fr(a);var l=dr(i,e,a);l!==null&&(En(l,i,a),Xo(l,i,a)),i={cache:ff()},e.payload=i;return}i=i.return}}function O1(e,i,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(e)?sy(i,a):(a=ef(e,i,a,l),a!==null&&(En(a,e,l),ay(a,i,l)))}function ry(e,i,a){var l=vn();nl(e,i,a,l)}function nl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))sy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,mn(T,v))return Ou(e,i,h,0),ne===null&&Nu(),!1}catch{}finally{}if(a=ef(e,i,h,l),a!==null)return En(a,e,l),ay(a,i,l),!0}return!1}function Uf(e,i,a,l){if(l={lane:2,revertLane:pd(),action:l,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(i)throw Error(s(479))}else i=ef(e,a,l,2),i!==null&&En(i,e,2)}function Qu(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function sy(e,i){va=Bu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ay(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,bo(e,a)}}var Yu={readContext:Ye,use:qu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},oy={readContext:Ye,use:qu,useCallback:function(e,i){return ln().memoizedState=[e,i===void 0?null:i],e},useContext:Ye,useEffect:Fg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,Yg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Ku(4194308,4,e,i)},useInsertionEffect:function(e,i){Ku(4,2,e,i)},useMemo:function(e,i){var a=ln();i=i===void 0?null:i;var l=e();if(Ns){fn(!0);try{e()}finally{fn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=ln();if(a!==void 0){var h=a(i);if(Ns){fn(!0);try{a(i)}finally{fn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=O1.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var i=ln();return e={current:e},i.memoizedState=e},useState:function(e){e=Df(e);var i=e.queue,a=ry.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(e,i){var a=ln();return Vf(a,e,i)},useTransition:function(){var e=Df(!1);return e=Wg.bind(null,Nt,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Nt,h=ln();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ne===null)throw Error(s(349));(Pt&124)!==0||Ig(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Fg(Og.bind(null,l,d,e),[e]),l.flags|=2048,Ta(9,Gu(),Ng.bind(null,l,d,a,i),null),a},useId:function(){var e=ln(),i=ne.identifierPrefix;if(qt){var a=Vi,l=xi;a=(l&~(1<<32-Qe(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Hu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=b1++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Lf,useFormState:zg,useActionState:zg,useOptimistic:function(e){var i=ln();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Uf.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:If,useCacheRefresh:function(){return ln().memoizedState=N1.bind(null,Nt)}},ly={readContext:Ye,use:qu,useCallback:Xg,useContext:Ye,useEffect:Gg,useImperativeHandle:$g,useInsertionEffect:Kg,useLayoutEffect:Qg,useMemo:Zg,useReducer:Fu,useRef:qg,useState:function(){return Fu(Ui)},useDebugValue:xf,useDeferredValue:function(e,i){var a=Te();return Jg(a,Xt.memoizedState,e,i)},useTransition:function(){var e=Fu(Ui)[0],i=Te().memoizedState;return[typeof e=="boolean"?e:tl(e),i]},useSyncExternalStore:Cg,useId:ny,useHostTransitionStatus:Lf,useFormState:jg,useActionState:jg,useOptimistic:function(e,i){var a=Te();return xg(a,Xt,e,i)},useMemoCache:If,useCacheRefresh:iy},D1={readContext:Ye,use:qu,useCallback:Xg,useContext:Ye,useEffect:Gg,useImperativeHandle:$g,useInsertionEffect:Kg,useLayoutEffect:Qg,useMemo:Zg,useReducer:Of,useRef:qg,useState:function(){return Of(Ui)},useDebugValue:xf,useDeferredValue:function(e,i){var a=Te();return Xt===null?Vf(a,e,i):Jg(a,Xt.memoizedState,e,i)},useTransition:function(){var e=Of(Ui)[0],i=Te().memoizedState;return[typeof e=="boolean"?e:tl(e),i]},useSyncExternalStore:Cg,useId:ny,useHostTransitionStatus:Lf,useFormState:Hg,useActionState:Hg,useOptimistic:function(e,i){var a=Te();return Xt!==null?xg(a,Xt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:iy},Sa=null,il=0;function $u(e){var i=il;return il+=1,Sa===null&&(Sa=[]),vg(Sa,e,i)}function rl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Xu(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function uy(e){var i=e._init;return i(e._payload)}function cy(e){function i(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!e)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Mi(k,D),k.index=0,k.sibling=null,k}function d(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function v(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,Y){return D===null||D.tag!==6?(D=rf(P,k.mode,Y),D.return=k,D):(D=h(D,P),D.return=k,D)}function w(k,D,P,Y){var ut=P.type;return ut===Q?K(k,D,P.props.children,Y,P.key):D!==null&&(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&uy(ut)===D.type)?(D=h(D,P.props),rl(D,P),D.return=k,D):(D=Mu(P.type,P.key,P.props,null,k.mode,Y),rl(D,P),D.return=k,D)}function z(k,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=sf(P,k.mode,Y),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function K(k,D,P,Y,ut){return D===null||D.tag!==7?(D=Ts(P,k.mode,Y,ut),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=rf(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case R:return P=Mu(D.type,D.key,D.props,null,k.mode,P),rl(P,D),P.return=k,P;case q:return D=sf(D,k.mode,P),D.return=k,D;case A:var Y=D._init;return D=Y(D._payload),$(k,D,P)}if(ee(D)||L(D))return D=Ts(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,$u(D),P);if(D.$$typeof===st)return $(k,Lu(k,D),P);Xu(k,D)}return null}function j(k,D,P,Y){var ut=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:T(k,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return P.key===ut?w(k,D,P,Y):null;case q:return P.key===ut?z(k,D,P,Y):null;case A:return ut=P._init,P=ut(P._payload),j(k,D,P,Y)}if(ee(P)||L(P))return ut!==null?null:K(k,D,P,Y,null);if(typeof P.then=="function")return j(k,D,$u(P),Y);if(P.$$typeof===st)return j(k,D,Lu(k,P),Y);Xu(k,P)}return null}function B(k,D,P,Y,ut){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,T(D,k,""+Y,ut);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case R:return k=k.get(Y.key===null?P:Y.key)||null,w(D,k,Y,ut);case q:return k=k.get(Y.key===null?P:Y.key)||null,z(D,k,Y,ut);case A:var Ot=Y._init;return Y=Ot(Y._payload),B(k,D,P,Y,ut)}if(ee(Y)||L(Y))return k=k.get(P)||null,K(D,k,Y,ut,null);if(typeof Y.then=="function")return B(k,D,P,$u(Y),ut);if(Y.$$typeof===st)return B(k,D,P,Lu(D,Y),ut);Xu(D,Y)}return null}function St(k,D,P,Y){for(var ut=null,Ot=null,pt=D,_t=D=0,Le=null;pt!==null&&_t<P.length;_t++){pt.index>_t?(Le=pt,pt=null):Le=pt.sibling;var Ht=j(k,pt,P[_t],Y);if(Ht===null){pt===null&&(pt=Le);break}e&&pt&&Ht.alternate===null&&i(k,pt),D=d(Ht,D,_t),Ot===null?ut=Ht:Ot.sibling=Ht,Ot=Ht,pt=Le}if(_t===P.length)return a(k,pt),qt&&As(k,_t),ut;if(pt===null){for(;_t<P.length;_t++)pt=$(k,P[_t],Y),pt!==null&&(D=d(pt,D,_t),Ot===null?ut=pt:Ot.sibling=pt,Ot=pt);return qt&&As(k,_t),ut}for(pt=l(pt);_t<P.length;_t++)Le=B(pt,k,_t,P[_t],Y),Le!==null&&(e&&Le.alternate!==null&&pt.delete(Le.key===null?_t:Le.key),D=d(Le,D,_t),Ot===null?ut=Le:Ot.sibling=Le,Ot=Le);return e&&pt.forEach(function(Or){return i(k,Or)}),qt&&As(k,_t),ut}function yt(k,D,P,Y){if(P==null)throw Error(s(151));for(var ut=null,Ot=null,pt=D,_t=D=0,Le=null,Ht=P.next();pt!==null&&!Ht.done;_t++,Ht=P.next()){pt.index>_t?(Le=pt,pt=null):Le=pt.sibling;var Or=j(k,pt,Ht.value,Y);if(Or===null){pt===null&&(pt=Le);break}e&&pt&&Or.alternate===null&&i(k,pt),D=d(Or,D,_t),Ot===null?ut=Or:Ot.sibling=Or,Ot=Or,pt=Le}if(Ht.done)return a(k,pt),qt&&As(k,_t),ut;if(pt===null){for(;!Ht.done;_t++,Ht=P.next())Ht=$(k,Ht.value,Y),Ht!==null&&(D=d(Ht,D,_t),Ot===null?ut=Ht:Ot.sibling=Ht,Ot=Ht);return qt&&As(k,_t),ut}for(pt=l(pt);!Ht.done;_t++,Ht=P.next())Ht=B(pt,k,_t,Ht.value,Y),Ht!==null&&(e&&Ht.alternate!==null&&pt.delete(Ht.key===null?_t:Ht.key),D=d(Ht,D,_t),Ot===null?ut=Ht:Ot.sibling=Ht,Ot=Ht);return e&&pt.forEach(function(MA){return i(k,MA)}),qt&&As(k,_t),ut}function Jt(k,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===Q&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case R:t:{for(var ut=P.key;D!==null;){if(D.key===ut){if(ut=P.type,ut===Q){if(D.tag===7){a(k,D.sibling),Y=h(D,P.props.children),Y.return=k,k=Y;break t}}else if(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&uy(ut)===D.type){a(k,D.sibling),Y=h(D,P.props),rl(Y,P),Y.return=k,k=Y;break t}a(k,D);break}else i(k,D);D=D.sibling}P.type===Q?(Y=Ts(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Mu(P.type,P.key,P.props,null,k.mode,Y),rl(Y,P),Y.return=k,k=Y)}return v(k);case q:t:{for(ut=P.key;D!==null;){if(D.key===ut)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),Y=h(D,P.children||[]),Y.return=k,k=Y;break t}else{a(k,D);break}else i(k,D);D=D.sibling}Y=sf(P,k.mode,Y),Y.return=k,k=Y}return v(k);case A:return ut=P._init,P=ut(P._payload),Jt(k,D,P,Y)}if(ee(P))return St(k,D,P,Y);if(L(P)){if(ut=L(P),typeof ut!="function")throw Error(s(150));return P=ut.call(P),yt(k,D,P,Y)}if(typeof P.then=="function")return Jt(k,D,$u(P),Y);if(P.$$typeof===st)return Jt(k,D,Lu(k,P),Y);Xu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),Y=h(D,P),Y.return=k,k=Y):(a(k,D),Y=rf(P,k.mode,Y),Y.return=k,k=Y),v(k)):a(k,D)}return function(k,D,P,Y){try{il=0;var ut=Jt(k,D,P,Y);return Sa=null,ut}catch(pt){if(pt===Yo||pt===Pu)throw pt;var Ot=pn(29,pt,null,k.mode);return Ot.lanes=Y,Ot.return=k,Ot}finally{}}}var Aa=cy(!0),hy=cy(!1),xn=Z(null),li=null;function pr(e){var i=e.alternate;W(Ne,Ne.current&1),W(xn,e),li===null&&(i===null||_a.current!==null||i.memoizedState!==null)&&(li=e)}function fy(e){if(e.tag===22){if(W(Ne,Ne.current),W(xn,e),li===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(li=e)}}else gr()}function gr(){W(Ne,Ne.current),W(xn,xn.current)}function Pi(e){it(xn),li===e&&(li=null),it(Ne)}var Ne=Z(0);function Zu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Cd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Pf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=vn(),h=fr(l);h.payload=i,a!=null&&(h.callback=a),i=dr(e,h,l),i!==null&&(En(i,e,l),Xo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=vn(),h=fr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=dr(e,h,l),i!==null&&(En(i,e,l),Xo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=vn(),l=fr(a);l.tag=2,i!=null&&(l.callback=i),i=dr(e,l,a),i!==null&&(En(i,e,a),Xo(i,e,a))}};function dy(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!jo(a,l)||!jo(h,d):!0}function my(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&zf.enqueueReplaceState(i,i.state,null)}function Os(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function py(e){Ju(e)}function gy(e){console.error(e)}function yy(e){Ju(e)}function Wu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _y(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(e,i,a){return a=fr(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,i)},a}function vy(e){return e=fr(e),e.tag=3,e}function Ey(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){_y(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){_y(i,a,l),typeof h!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function M1(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Go(i,a,h,!0),a=xn.current,a!==null){switch(a.tag){case 13:return li===null?cd():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===pf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),fd(e,l,h)),!1;case 22:return a.flags|=65536,l===pf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),fd(e,l,h)),!1}throw Error(s(435,a.tag))}return fd(e,l,h),cd(),!1}if(qt)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==lf&&(e=Error(s(422),{cause:l}),Fo(Nn(e,a)))):(l!==lf&&(i=Error(s(423),{cause:l}),Fo(Nn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=jf(e.stateNode,l,h),_f(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),hl===null?hl=[d]:hl.push(d),he!==4&&(he=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=jf(a.stateNode,l,e),_f(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Sr===null||!Sr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vy(h),Ey(h,e,a,l),_f(a,h),!1}a=a.return}while(a!==null);return!1}var Ty=Error(s(461)),Ve=!1;function je(e,i,a,l){i.child=e===null?hy(i,null,a,l):Aa(i,e.child,a,l)}function Sy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Cs(i),l=Af(e,i,a,v,d,h),T=bf(),e!==null&&!Ve?(Rf(e,i,h),zi(e,i,h)):(qt&&T&&af(i),i.flags|=1,je(e,i,l,h),i.child)}function Ay(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!nf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,by(e,i,d,l,h)):(e=Mu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Yf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(v,l)&&e.ref===i.ref)return zi(e,i,h)}return i.flags|=1,e=Mi(d,l),e.ref=i.ref,e.return=i,i.child=e}function by(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(jo(d,l)&&e.ref===i.ref)if(Ve=!1,i.pendingProps=l=d,Yf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return i.lanes=e.lanes,zi(e,i,h)}return Bf(e,i,a,l,h)}function Ry(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return wy(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(i,d!==null?d.cachePool:null),d!==null?bg(i,d):Ef(),fy(i);else return i.lanes=i.childLanes=536870912,wy(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Uu(i,d.cachePool),bg(i,d),gr(),i.memoizedState=null):(e!==null&&Uu(i,null),Ef(),gr());return je(e,i,h,a),i.child}function wy(e,i,a,l){var h=mf();return h=h===null?null:{parent:Ie._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Uu(i,null),Ef(),fy(i),e!==null&&Go(e,i,l,!0),null}function tc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Bf(e,i,a,l,h){return Cs(i),a=Af(e,i,a,l,void 0,h),l=bf(),e!==null&&!Ve?(Rf(e,i,h),zi(e,i,h)):(qt&&l&&af(i),i.flags|=1,je(e,i,a,h),i.child)}function Cy(e,i,a,l,h,d){return Cs(i),i.updateQueue=null,a=wg(i,l,a,h),Rg(e),l=bf(),e!==null&&!Ve?(Rf(e,i,d),zi(e,i,d)):(qt&&l&&af(i),i.flags|=1,je(e,i,a,d),i.child)}function Iy(e,i,a,l,h){if(Cs(i),i.stateNode===null){var d=da,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ye(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},gf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ye(v):da,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Pf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&zf.enqueueReplaceState(d,d.state,null),Jo(i,l,d,h),Zo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,w=Os(a,T);d.props=w;var z=d.context,K=a.contextType;v=da,typeof K=="object"&&K!==null&&(v=Ye(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&my(i,d,l,v),hr=!1;var j=i.memoizedState;d.state=j,Jo(i,l,d,h),Zo(),z=i.memoizedState,T||j!==z||hr?(typeof $=="function"&&(Pf(i,a,$,l),z=i.memoizedState),(w=hr||dy(i,a,w,l,j,z,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,yf(e,i),v=i.memoizedProps,K=Os(a,v),d.props=K,$=i.pendingProps,j=d.context,z=a.contextType,w=da,typeof z=="object"&&z!==null&&(w=Ye(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||j!==w)&&my(i,d,l,w),hr=!1,j=i.memoizedState,d.state=j,Jo(i,l,d,h),Zo();var B=i.memoizedState;v!==$||j!==B||hr||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof T=="function"&&(Pf(i,a,T,l),B=i.memoizedState),(K=hr||dy(i,a,K,l,j,B,w)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=w,l=K):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,tc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Aa(i,e.child,null,h),i.child=Aa(i,null,a,h)):je(e,i,a,h),i.memoizedState=d.state,e=i.child):e=zi(e,i,h),e}function Ny(e,i,a,l){return qo(),i.flags|=256,je(e,i,a,l),i.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(e){return{baseLanes:e,cachePool:gg()}}function Ff(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Vn),e}function Oy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?pr(i):gr(),qt){var T=ce,w;if(w=T){t:{for(w=T,T=oi;w.nodeType!==8;){if(!T){T=null;break t}if(w=Fn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ss!==null?{id:xi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},w=pn(18,null,null,0),w.stateNode=T,w.return=i,i.child=w,rn=i,ce=null,w=!0):w=!1}w||Rs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Cd(T)?i.lanes=32:i.lanes=536870912,null;Pi(i)}return T=l.children,l=l.fallback,h?(gr(),h=i.mode,T=ec({mode:"hidden",children:T},h),l=Ts(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=qf(a),h.childLanes=Ff(e,v,a),i.memoizedState=Hf,l):(pr(i),Gf(i,T))}if(w=e.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(d)i.flags&256?(pr(i),i.flags&=-257,i=Kf(e,i,a)):i.memoizedState!==null?(gr(),i.child=e.child,i.flags|=128,i=null):(gr(),h=l.fallback,T=i.mode,l=ec({mode:"visible",children:l.children},T),h=Ts(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Aa(i,e.child,null,a),l=i.child,l.memoizedState=qf(a),l.childLanes=Ff(e,v,a),i.memoizedState=Hf,i=h);else if(pr(i),Cd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,Fo({value:l,source:null,stack:null}),i=Kf(e,i,a)}else if(Ve||Go(e,i,a,!1),v=(a&e.childLanes)!==0,Ve||v){if(v=ne,v!==null&&(l=a&-a,l=(l&42)!==0?1:ir(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,fa(e,l),En(v,e,l),Ty;T.data==="$?"||cd(),i=Kf(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,ce=Fn(T.nextSibling),rn=i,qt=!0,bs=null,oi=!1,e!==null&&(Dn[Mn++]=xi,Dn[Mn++]=Vi,Dn[Mn++]=Ss,xi=e.id,Vi=e.overflow,Ss=i),i=Gf(i,l.children),i.flags|=4096);return i}return h?(gr(),h=l.fallback,T=i.mode,w=e.child,z=w.sibling,l=Mi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?h=Mi(z,h):(h=Ts(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=qf(a):(w=T.cachePool,w!==null?(z=Ie._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=gg(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=Ff(e,v,a),i.memoizedState=Hf,l):(pr(i),a=e.child,e=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Gf(e,i){return i=ec({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ec(e,i){return e=pn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Kf(e,i,a){return Aa(i,e.child,null,a),e=Gf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Dy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),cf(e.return,i,a)}function Qf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function My(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(je(e,i,l.children,a),l=Ne.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dy(e,a,i);else if(e.tag===19)Dy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(W(Ne,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Qf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Zu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Qf(i,!0,a,null,d);break;case"together":Qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Tr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Go(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Mi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Mi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Yf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function x1(e,i,a){switch(i.tag){case 3:Yt(i,i.stateNode.containerInfo),cr(i,Ie,e.memoizedState.cache),qo();break;case 27:case 5:Sn(i);break;case 4:Yt(i,i.stateNode.containerInfo);break;case 10:cr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Oy(e,i,a):(pr(i),e=zi(e,i,a),e!==null?e.sibling:null);pr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Go(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return My(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Ne,Ne.current),l)break;return null;case 22:case 23:return i.lanes=0,Ry(e,i,a);case 24:cr(i,Ie,e.memoizedState.cache)}return zi(e,i,a)}function xy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ve=!0;else{if(!Yf(e,a)&&(i.flags&128)===0)return Ve=!1,x1(e,i,a);Ve=(e.flags&131072)!==0}else Ve=!1,qt&&(i.flags&1048576)!==0&&ug(i,Vu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")nf(l)?(e=Os(l,e),i.tag=1,i=Iy(null,i,l,e,a)):(i.tag=0,i=Bf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===mt){i.tag=11,i=Sy(null,i,l,e,a);break t}else if(h===O){i.tag=14,i=Ay(null,i,l,e,a);break t}}throw i=le(l)||l,Error(s(306,i,""))}}return i;case 0:return Bf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Os(l,i.pendingProps),Iy(e,i,l,h,a);case 3:t:{if(Yt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,yf(e,i),Jo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,cr(i,Ie,l),l!==d.cache&&hf(i,[Ie],a,!0),Zo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ny(e,i,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),i),Fo(h),i=Ny(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=Fn(e.firstChild),rn=i,qt=!0,bs=null,oi=!0,a=hy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qo(),l===h){i=zi(e,i,a);break t}je(e,i,l,a)}i=i.child}return i;case 26:return tc(e,i),e===null?(a=U_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,l=pc(Tt.current).createElement(a),l[Re]=i,l[_e]=e,He(l,a,e),fe(l),i.stateNode=l):i.memoizedState=U_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Sn(i),e===null&&qt&&(l=i.stateNode=V_(i.type,i.pendingProps,Tt.current),rn=i,oi=!0,h=ce,Rr(i.type)?(Id=h,ce=Fn(l.firstChild)):ce=h),je(e,i,i.pendingProps.children,a),tc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=l=ce)&&(l=oA(l,i.type,i.pendingProps,oi),l!==null?(i.stateNode=l,rn=i,ce=Fn(l.firstChild),oi=!1,h=!0):h=!1),h||Rs(i)),Sn(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,bd(h,d)?l=null:v!==null&&bd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Af(e,i,R1,null,null,a),El._currentValue=h),tc(e,i),je(e,i,l,a),i.child;case 6:return e===null&&qt&&((e=a=ce)&&(a=lA(a,i.pendingProps,oi),a!==null?(i.stateNode=a,rn=i,ce=null,e=!0):e=!1),e||Rs(i)),null;case 13:return Oy(e,i,a);case 4:return Yt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Aa(i,null,l,a):je(e,i,l,a),i.child;case 11:return Sy(e,i,i.type,i.pendingProps,a);case 7:return je(e,i,i.pendingProps,a),i.child;case 8:return je(e,i,i.pendingProps.children,a),i.child;case 12:return je(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,cr(i,i.type,l.value),je(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Cs(i),h=Ye(h),l=l(h),i.flags|=1,je(e,i,l,a),i.child;case 14:return Ay(e,i,i.type,i.pendingProps,a);case 15:return by(e,i,i.type,i.pendingProps,a);case 19:return My(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=ec(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Mi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ry(e,i,a);case 24:return Cs(i),l=Ye(Ie),e===null?(h=mf(),h===null&&(h=ne,d=ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},gf(i),cr(i,Ie,h)):((e.lanes&a)!==0&&(yf(e,i),Jo(i,null,null,a),Zo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),cr(i,Ie,l)):(l=d.cache,cr(i,Ie,l),l!==h.cache&&hf(i,[Ie],a,!0))),je(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ji(e){e.flags|=4}function Vy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!H_(i)){if(i=xn.current,i!==null&&((Pt&4194048)===Pt?li!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||i!==li))throw $o=pf,yg;e.flags|=8192}}function nc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?So():536870912,e.lanes|=i,Ca|=i)}function sl(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function V1(e,i,a){var l=i.pendingProps;switch(of(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Li(Ie),on(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ho(i)?ji(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,fg())),se(i),null;case 26:return a=i.memoizedState,e===null?(ji(i),a!==null?(se(i),Vy(i,a)):(se(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ji(i),se(i),Vy(i,a)):(se(i),i.flags&=-16777217):(e.memoizedProps!==l&&ji(i),se(i),i.flags&=-16777217),null;case 27:Un(i),a=Tt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return se(i),null}e=ot.current,Ho(i)?cg(i):(e=V_(h,l,a),i.stateNode=e,ji(i))}return se(i),null;case 5:if(Un(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return se(i),null}if(e=ot.current,Ho(i))cg(i);else{switch(h=pc(Tt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Re]=i,e[_e]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(He(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ji(i)}}return se(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Tt.current,Ho(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Re]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||C_(e.nodeValue,a)),e||Rs(i)}else e=pc(e).createTextNode(l),e[Re]=i,i.stateNode=e}return se(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ho(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Re]=i}else qo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),h=!1}else h=fg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),nc(i,i.updateQueue),se(i),null;case 4:return on(),e===null&&vd(i.stateNode.containerInfo),se(i),null;case 10:return Li(i.type),se(i),null;case 19:if(it(Ne),h=i.memoizedState,h===null)return se(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)sl(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Zu(e),d!==null){for(i.flags|=128,sl(h,!1),e=d.updateQueue,i.updateQueue=e,nc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)lg(a,e),a=a.sibling;return W(Ne,Ne.current&1|2),i.child}e=e.sibling}h.tail!==null&&Ke()>sc&&(i.flags|=128,l=!0,sl(h,!1),i.lanes=4194304)}else{if(!l)if(e=Zu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,nc(i,e),sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return se(i),null}else 2*Ke()-h.renderingStartTime>sc&&a!==536870912&&(i.flags|=128,l=!0,sl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ke(),i.sibling=null,e=Ne.current,W(Ne,l?e&1|2:e&1),i):(se(i),null);case 22:case 23:return Pi(i),Tf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),a=i.updateQueue,a!==null&&nc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&it(Is),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Li(Ie),se(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function k1(e,i){switch(of(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Li(Ie),on(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Un(i),null;case 13:if(Pi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return it(Ne),null;case 4:return on(),null;case 10:return Li(i.type),null;case 22:case 23:return Pi(i),Tf(),e!==null&&it(Is),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Li(Ie),null;case 25:return null;default:return null}}function ky(e,i){switch(of(i),i.tag){case 3:Li(Ie),on();break;case 26:case 27:case 5:Un(i);break;case 4:on();break;case 13:Pi(i);break;case 19:it(Ne);break;case 10:Li(i.type);break;case 22:case 23:Pi(i),Tf(),e!==null&&it(Is);break;case 24:Li(Ie)}}function al(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){te(i,i.return,T)}}function yr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var w=a,z=T;try{z()}catch(K){te(h,w,K)}}}l=l.next}while(l!==d)}}catch(K){te(i,i.return,K)}}function Ly(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ag(i,a)}catch(l){te(e,e.return,l)}}}function Uy(e,i,a){a.props=Os(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){te(e,i,l)}}function ol(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){te(e,i,h)}}function ui(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){te(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){te(e,i,h)}else a.current=null}function Py(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){te(e,e.return,h)}}function $f(e,i,a){try{var l=e.stateNode;nA(l,e.type,a,i),l[_e]=i}catch(h){te(e,e.return,h)}}function zy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rr(e.type)||e.tag===4}function Xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=mc));else if(l!==4&&(l===27&&Rr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Zf(e,i,a),e=e.sibling;e!==null;)Zf(e,i,a),e=e.sibling}function ic(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Rr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ic(e,i,a),e=e.sibling;e!==null;)ic(e,i,a),e=e.sibling}function jy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);He(i,l,a),i[Re]=e,i[_e]=a}catch(d){te(e,e.return,d)}}var Bi=!1,me=!1,Jf=!1,By=typeof WeakSet=="function"?WeakSet:Set,ke=null;function L1(e,i){if(e=e.containerInfo,Sd=Tc,e=Jp(e),$h(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,z=0,K=0,$=e,j=null;e:for(;;){for(var B;$!==a||h!==0&&$.nodeType!==3||(T=v+h),$!==d||l!==0&&$.nodeType!==3||(w=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(B=$.firstChild)!==null;)j=$,$=B;for(;;){if($===e)break e;if(j===a&&++z===h&&(T=v),j===d&&++K===l&&(w=v),(B=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=B}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:e,selectionRange:a},Tc=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var St=Os(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(St,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){te(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}}function Hy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_r(e,a),l&4&&al(5,a);break;case 1:if(_r(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){te(a,a.return,v)}else{var h=Os(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){te(a,a.return,v)}}l&64&&Ly(a),l&512&&ol(a,a.return);break;case 3:if(_r(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ag(e,i)}catch(v){te(a,a.return,v)}}break;case 27:i===null&&l&4&&jy(a);case 26:case 5:_r(e,a),i===null&&l&4&&Py(a),l&512&&ol(a,a.return);break;case 12:_r(e,a);break;case 13:_r(e,a),l&4&&Gy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=G1.bind(null,a),uA(e,a))));break;case 22:if(l=a.memoizedState!==null||Bi,!l){i=i!==null&&i.memoizedState!==null||me,h=Bi;var d=me;Bi=l,(me=i)&&!d?vr(e,a,(a.subtreeFlags&8772)!==0):_r(e,a),Bi=h,me=d}break;case 30:break;default:_r(e,a)}}function qy(e){var i=e.alternate;i!==null&&(e.alternate=null,qy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ar(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,un=!1;function Hi(e,i,a){for(a=a.child;a!==null;)Fy(e,i,a),a=a.sibling}function Fy(e,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ue,a)}catch{}switch(a.tag){case 26:me||ui(a,i),Hi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||ui(a,i);var l=re,h=un;Rr(a.type)&&(re=a.stateNode,un=!1),Hi(e,i,a),gl(a.stateNode),re=l,un=h;break;case 5:me||ui(a,i);case 6:if(l=re,h=un,re=null,Hi(e,i,a),re=l,un=h,re!==null)if(un)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(d){te(a,i,d)}else try{re.removeChild(a.stateNode)}catch(d){te(a,i,d)}break;case 18:re!==null&&(un?(e=re,M_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),bl(e)):M_(re,a.stateNode));break;case 4:l=re,h=un,re=a.stateNode.containerInfo,un=!0,Hi(e,i,a),re=l,un=h;break;case 0:case 11:case 14:case 15:me||yr(2,a,i),me||yr(4,a,i),Hi(e,i,a);break;case 1:me||(ui(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Uy(a,i,l)),Hi(e,i,a);break;case 21:Hi(e,i,a);break;case 22:me=(l=me)||a.memoizedState!==null,Hi(e,i,a),me=l;break;default:Hi(e,i,a)}}function Gy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bl(e)}catch(a){te(i,i.return,a)}}function U1(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new By),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new By),i;default:throw Error(s(435,e.tag))}}function Wf(e,i){var a=U1(e);i.forEach(function(l){var h=K1.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function gn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Rr(T.type)){re=T.stateNode,un=!1;break t}break;case 5:re=T.stateNode,un=!1;break t;case 3:case 4:re=T.stateNode.containerInfo,un=!0;break t}T=T.return}if(re===null)throw Error(s(160));Fy(d,v,h),re=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ky(i,e),i=i.sibling}var qn=null;function Ky(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(i,e),yn(e),l&4&&(yr(3,e,e.return),al(3,e),yr(5,e,e.return));break;case 1:gn(i,e),yn(e),l&512&&(me||a===null||ui(a,a.return)),l&64&&Bi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(gn(i,e),yn(e),l&512&&(me||a===null||ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ss]||d[Re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),He(d,l,a),d[Re]=e,fe(d),l=d;break t;case"link":var v=j_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),He(d,l,a),h.head.appendChild(d);break;case"meta":if(v=j_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),He(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Re]=e,fe(d),l=d}e.stateNode=l}else B_(h,e.type,e.stateNode);else e.stateNode=z_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?B_(h,e.type,e.stateNode):z_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&$f(e,e.memoizedProps,a.memoizedProps)}break;case 27:gn(i,e),yn(e),l&512&&(me||a===null||ui(a,a.return)),a!==null&&l&4&&$f(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,e),yn(e),l&512&&(me||a===null||ui(a,a.return)),e.flags&32){h=e.stateNode;try{Rn(h,"")}catch(B){te(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,$f(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Jf=!0);break;case 6:if(gn(i,e),yn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){te(e,e.return,B)}}break;case 3:if(_c=null,h=qn,qn=gc(i.containerInfo),gn(i,e),qn=h,yn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bl(i.containerInfo)}catch(B){te(e,e.return,B)}Jf&&(Jf=!1,Qy(e));break;case 4:l=qn,qn=gc(e.stateNode.containerInfo),gn(i,e),yn(e),qn=l;break;case 12:gn(i,e),yn(e);break;case 13:gn(i,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sd=Ke()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wf(e,l)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=Bi,K=me;if(Bi=z||h,me=K||w,gn(i,e),me=K,Bi=z,yn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||Bi||me||Ds(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(d=w.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var $=w.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(B){te(w,w.return,B)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(B){te(w,w.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wf(e,a))));break;case 19:gn(i,e),yn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wf(e,l)));break;case 30:break;case 21:break;default:gn(i,e),yn(e)}}function yn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(zy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Xf(e);ic(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Rn(v,""),a.flags&=-33);var T=Xf(e);ic(e,T,v);break;case 3:case 4:var w=a.stateNode.containerInfo,z=Xf(e);Zf(e,z,w);break;default:throw Error(s(161))}}catch(K){te(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function _r(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hy(e,i.alternate,i),i=i.sibling}function Ds(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:yr(4,i,i.return),Ds(i);break;case 1:ui(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Uy(i,i.return,a),Ds(i);break;case 27:gl(i.stateNode);case 26:case 5:ui(i,i.return),Ds(i);break;case 22:i.memoizedState===null&&Ds(i);break;case 30:Ds(i);break;default:Ds(i)}e=e.sibling}}function vr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:vr(h,d,a),al(4,d);break;case 1:if(vr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Sg(w[h],T)}catch(z){te(l,l.return,z)}}a&&v&64&&Ly(d),ol(d,d.return);break;case 27:jy(d);case 26:case 5:vr(h,d,a),a&&l===null&&v&4&&Py(d),ol(d,d.return);break;case 12:vr(h,d,a);break;case 13:vr(h,d,a),a&&v&4&&Gy(h,d);break;case 22:d.memoizedState===null&&vr(h,d,a),ol(d,d.return);break;case 30:break;default:vr(h,d,a)}i=i.sibling}}function td(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ko(a))}function ed(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e))}function ci(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yy(e,i,a,l),i=i.sibling}function Yy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ci(e,i,a,l),h&2048&&al(9,i);break;case 1:ci(e,i,a,l);break;case 3:ci(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e)));break;case 12:if(h&2048){ci(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){te(i,i.return,w)}}else ci(e,i,a,l);break;case 13:ci(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ci(e,i,a,l):ll(e,i):d._visibility&2?ci(e,i,a,l):(d._visibility|=2,ba(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&td(v,i);break;case 24:ci(e,i,a,l),h&2048&&ed(i.alternate,i);break;default:ci(e,i,a,l)}}function ba(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,w=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:ba(d,v,T,w,h),al(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?ba(d,v,T,w,h):ll(d,v):(K._visibility|=2,ba(d,v,T,w,h)),h&&z&2048&&td(v.alternate,v);break;case 24:ba(d,v,T,w,h),h&&z&2048&&ed(v.alternate,v);break;default:ba(d,v,T,w,h)}i=i.sibling}}function ll(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ll(a,l),h&2048&&td(l.alternate,l);break;case 24:ll(a,l),h&2048&&ed(l.alternate,l);break;default:ll(a,l)}i=i.sibling}}var ul=8192;function Ra(e){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)$y(e),e=e.sibling}function $y(e){switch(e.tag){case 26:Ra(e),e.flags&ul&&e.memoizedState!==null&&SA(qn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e);break;case 3:case 4:var i=qn;qn=gc(e.stateNode.containerInfo),Ra(e),qn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ul,ul=16777216,Ra(e),ul=i):Ra(e));break;default:Ra(e)}}function Xy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function cl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,Jy(l,e)}Xy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zy(e),e=e.sibling}function Zy(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&yr(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,rc(e)):cl(e);break;default:cl(e)}}function rc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,Jy(l,e)}Xy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:yr(8,i,i.return),rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,rc(i));break;default:rc(i)}e=e.sibling}}function Jy(e,i){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:yr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=e;ke!==null;){l=ke;var h=l.sibling,d=l.return;if(qy(l),l===a){ke=null;break t}if(h!==null){h.return=d,ke=h;break t}ke=d}}}var P1={getCacheForType:function(e){var i=Ye(Ie),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},z1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Dt=null,Pt=0,Qt=0,_n=null,Er=!1,wa=!1,nd=!1,qi=0,he=0,Tr=0,Ms=0,id=0,Vn=0,Ca=0,hl=null,cn=null,rd=!1,sd=0,sc=1/0,ac=null,Sr=null,Be=0,Ar=null,Ia=null,Na=0,ad=0,od=null,Wy=null,fl=0,ld=null;function vn(){if((Kt&2)!==0&&Pt!==0)return Pt&-Pt;if(F.T!==null){var e=ga;return e!==0?e:pd()}return rr()}function t_(){Vn===0&&(Vn=(Pt&536870912)===0||qt?To():536870912);var e=xn.current;return e!==null&&(e.flags|=32),Vn}function En(e,i,a){(e===ne&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),br(e,Pt,Vn,!1)),Ti(e,a),((Kt&2)===0||e!==ne)&&(e===ne&&((Kt&2)===0&&(Ms|=a),he===4&&br(e,Pt,Vn,!1)),hi(e))}function e_(e,i,a){if((Kt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||rs(e,i),h=l?H1(e,i):hd(e,i,!0),d=l;do{if(h===0){wa&&!l&&br(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!j1(a)){h=hd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=hl;var w=T.current.memoizedState.isDehydrated;if(w&&(Oa(T,v).flags|=256),v=hd(T,v,!1),v!==2){if(nd&&!w){T.errorRecoveryDisabledLanes|=d,Ms|=d,h=4;break t}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Oa(e,0),br(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:br(l,i,Vn,!Er);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=sd+300-Ke(),10<h)){if(br(l,i,Vn,!Er),Qs(l,0,!0)!==0)break t;l.timeoutHandle=O_(n_.bind(null,l,a,cn,ac,rd,i,Vn,Ms,Ca,Er,d,2,-0,0),h);break t}n_(l,a,cn,ac,rd,i,Vn,Ms,Ca,Er,d,0,-0,0)}}break}while(!0);hi(e)}function n_(e,i,a,l,h,d,v,T,w,z,K,$,j,B){if(e.timeoutHandle=-1,$=i.subtreeFlags,($&8192||($&16785408)===16785408)&&(vl={stylesheets:null,count:0,unsuspend:TA},$y(i),$=AA(),$!==null)){e.cancelPendingCommit=$(u_.bind(null,e,i,d,a,l,h,v,T,w,K,1,j,B)),br(e,d,v,!z);return}u_(e,i,d,a,l,h,v,T,w)}function j1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function br(e,i,a,l){i&=~id,i&=~Ms,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Qe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Xn(e,a,i)}function oc(){return(Kt&6)===0?(dl(0),!1):!0}function ud(){if(Dt!==null){if(Qt===0)var e=Dt.return;else e=Dt,ki=ws=null,wf(e),Sa=null,il=0,e=Dt;for(;e!==null;)ky(e.alternate,e),e=e.return;Dt=null}}function Oa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,rA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ud(),ne=e,Dt=a=Mi(e.current,null),Pt=i,Qt=0,_n=null,Er=!1,wa=rs(e,i),nd=!1,Ca=Vn=id=Ms=Tr=he=0,cn=hl=null,rd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Qe(l),d=1<<h;i|=e[h],l&=~d}return qi=i,Nu(),a}function i_(e,i){Nt=null,F.H=Yu,i===Yo||i===Pu?(i=Eg(),Qt=3):i===yg?(i=Eg(),Qt=4):Qt=i===Ty?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Dt===null&&(he=1,Wu(e,Nn(i,e.current)))}function r_(){var e=F.H;return F.H=Yu,e===null?Yu:e}function s_(){var e=F.A;return F.A=P1,e}function cd(){he=4,Er||(Pt&4194048)!==Pt&&xn.current!==null||(wa=!0),(Tr&134217727)===0&&(Ms&134217727)===0||ne===null||br(ne,Pt,Vn,!1)}function hd(e,i,a){var l=Kt;Kt|=2;var h=r_(),d=s_();(ne!==e||Pt!==i)&&(ac=null,Oa(e,i)),i=!1;var v=he;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,w=_n;switch(Qt){case 8:ud(),v=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(i=!0);var z=Qt;if(Qt=0,_n=null,Da(e,T,w,z),a&&wa){v=0;break t}break;default:z=Qt,Qt=0,_n=null,Da(e,T,w,z)}}B1(),v=he;break}catch(K){i_(e,K)}while(!0);return i&&e.shellSuspendCounter++,ki=ws=null,Kt=l,F.H=h,F.A=d,Dt===null&&(ne=null,Pt=0,Nu()),v}function B1(){for(;Dt!==null;)a_(Dt)}function H1(e,i){var a=Kt;Kt|=2;var l=r_(),h=s_();ne!==e||Pt!==i?(ac=null,sc=Ke()+500,Oa(e,i)):wa=rs(e,i);t:do try{if(Qt!==0&&Dt!==null){i=Dt;var d=_n;e:switch(Qt){case 1:Qt=0,_n=null,Da(e,i,d,1);break;case 2:case 9:if(_g(d)){Qt=0,_n=null,o_(i);break}i=function(){Qt!==2&&Qt!==9||ne!==e||(Qt=7),hi(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:_g(d)?(Qt=0,_n=null,o_(i)):(Qt=0,_n=null,Da(e,i,d,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var T=Dt;if(!v||H_(v)){Qt=0,_n=null;var w=T.sibling;if(w!==null)Dt=w;else{var z=T.return;z!==null?(Dt=z,lc(z)):Dt=null}break e}}Qt=0,_n=null,Da(e,i,d,5);break;case 6:Qt=0,_n=null,Da(e,i,d,6);break;case 8:ud(),he=6;break t;default:throw Error(s(462))}}q1();break}catch(K){i_(e,K)}while(!0);return ki=ws=null,F.H=l,F.A=h,Kt=a,Dt!==null?0:(ne=null,Pt=0,Nu(),he)}function q1(){for(;Dt!==null&&!Wt();)a_(Dt)}function a_(e){var i=xy(e.alternate,e,qi);e.memoizedProps=e.pendingProps,i===null?lc(e):Dt=i}function o_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Cy(a,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=Cy(a,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:wf(i);default:ky(a,i),i=Dt=lg(i,qi),i=xy(a,i,qi)}e.memoizedProps=e.pendingProps,i===null?lc(e):Dt=i}function Da(e,i,a,l){ki=ws=null,wf(i),Sa=null,il=0;var h=i.return;try{if(M1(e,h,i,a,Pt)){he=1,Wu(e,Nn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;he=1,Wu(e,Nn(a,e.current)),Dt=null;return}i.flags&32768?(qt||l===1?e=!0:wa||(Pt&536870912)!==0?e=!1:(Er=e=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),l_(i,e)):lc(i)}function lc(e){var i=e;do{if((i.flags&32768)!==0){l_(i,Er);return}e=i.return;var a=V1(i.alternate,i,qi);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);he===0&&(he=5)}function l_(e,i){do{var a=k1(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);he=6,Dt=null}function u_(e,i,a,l,h,d,v,T,w){e.cancelPendingCommit=null;do uc();while(Be!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=tf,Ao(e,a,d,v,T,w),e===ne&&(Dt=ne=null,Pt=0),Ia=i,Ar=e,Na=a,ad=d,od=h,Wy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Q1(ts,function(){return m_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=et.p,et.p=2,v=Kt,Kt|=4;try{L1(e,i,a)}finally{Kt=v,et.p=h,F.T=l}}Be=1,c_(),h_(),f_()}}function c_(){if(Be===1){Be=0;var e=Ar,i=Ia,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=et.p;et.p=2;var h=Kt;Kt|=4;try{Ky(i,e);var d=Ad,v=Jp(e.containerInfo),T=d.focusedElem,w=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Zp(T.ownerDocument.documentElement,T)){if(w!==null&&$h(T)){var z=w.start,K=w.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var $=T.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var B=j.getSelection(),St=T.textContent.length,yt=Math.min(w.start,St),Jt=w.end===void 0?yt:Math.min(w.end,St);!B.extend&&yt>Jt&&(v=Jt,Jt=yt,yt=v);var k=Xp(T,yt),D=Xp(T,Jt);if(k&&D&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),B.removeAllRanges(),yt>Jt?(B.addRange(P),B.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),B.addRange(P))}}}}for($=[],B=T;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Y=$[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Tc=!!Sd,Ad=Sd=null}finally{Kt=h,et.p=l,F.T=a}}e.current=i,Be=2}}function h_(){if(Be===2){Be=0;var e=Ar,i=Ia,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=et.p;et.p=2;var h=Kt;Kt|=4;try{Hy(e,i.alternate,i)}finally{Kt=h,et.p=l,F.T=a}}Be=3}}function f_(){if(Be===4||Be===3){Be=0,Wr();var e=Ar,i=Ia,a=Na,l=Wy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Be=5:(Be=0,Ia=Ar=null,d_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Sr=null),Ys(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ue,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=et.p,et.p=2,F.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{F.T=i,et.p=h}}(Na&3)!==0&&uc(),hi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===ld?fl++:(fl=0,ld=e):fl=0,dl(0)}}function d_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ko(i)))}function uc(e){return c_(),h_(),f_(),m_()}function m_(){if(Be!==5)return!1;var e=Ar,i=ad;ad=0;var a=Ys(Na),l=F.T,h=et.p;try{et.p=32>a?32:a,F.T=null,a=od,od=null;var d=Ar,v=Na;if(Be=0,Ia=Ar=null,Na=0,(Kt&6)!==0)throw Error(s(331));var T=Kt;if(Kt|=4,Zy(d.current),Yy(d,d.current,v,a),Kt=T,dl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ue,d)}catch{}return!0}finally{et.p=h,F.T=l,d_(e,i)}}function p_(e,i,a){i=Nn(a,i),i=jf(e.stateNode,i,2),e=dr(e,i,2),e!==null&&(Ti(e,2),hi(e))}function te(e,i,a){if(e.tag===3)p_(e,e,a);else for(;i!==null;){if(i.tag===3){p_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sr===null||!Sr.has(l))){e=Nn(a,e),a=vy(2),l=dr(i,a,2),l!==null&&(Ey(a,l,i,e),Ti(l,2),hi(l));break}}i=i.return}}function fd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new z1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(nd=!0,h.add(a),e=F1.bind(null,e,i,a),i.then(e,e))}function F1(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Pt&a)===a&&(he===4||he===3&&(Pt&62914560)===Pt&&300>Ke()-sd?(Kt&2)===0&&Oa(e,0):id|=a,Ca===Pt&&(Ca=0)),hi(e)}function g_(e,i){i===0&&(i=So()),e=fa(e,i),e!==null&&(Ti(e,i),hi(e))}function G1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),g_(e,a)}function K1(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),g_(e,a)}function Q1(e,i){return Pn(e,i)}var cc=null,Ma=null,dd=!1,hc=!1,md=!1,xs=0;function hi(e){e!==Ma&&e.next===null&&(Ma===null?cc=Ma=e:Ma=Ma.next=e),hc=!0,dd||(dd=!0,$1())}function dl(e,i){if(!md&&hc){md=!0;do for(var a=!1,l=cc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Qe(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,E_(l,d))}else d=Pt,d=Qs(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rs(l,d)||(a=!0,E_(l,d));l=l.next}while(a);md=!1}}function Y1(){y_()}function y_(){hc=dd=!1;var e=0;xs!==0&&(iA()&&(e=xs),xs=0);for(var i=Ke(),a=null,l=cc;l!==null;){var h=l.next,d=__(l,i);d===0?(l.next=null,a===null?cc=h:a.next=h,h===null&&(Ma=a)):(a=l,(e!==0||(d&3)!==0)&&(hc=!0)),l=h}dl(e)}function __(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Qe(d),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Eo(T,i)):w<=i&&(e.expiredLanes|=T),d&=~T}if(i=ne,a=Pt,a=Qs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&An(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||rs(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&An(l),Ys(a)){case 2:case 8:a=Gs;break;case 32:a=ts;break;case 268435456:a=Ks;break;default:a=ts}return l=v_.bind(null,e),a=Pn(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&An(l),e.callbackPriority=2,e.callbackNode=null,2}function v_(e,i){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(uc()&&e.callbackNode!==a)return null;var l=Pt;return l=Qs(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(e_(e,l,i),__(e,Ke()),e.callbackNode!=null&&e.callbackNode===a?v_.bind(null,e):null)}function E_(e,i){if(uc())return null;e_(e,i,!0)}function $1(){sA(function(){(Kt&6)!==0?Pn(_o,Y1):y_()})}function pd(){return xs===0&&(xs=To()),xs}function T_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function S_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function X1(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=T_((h[_e]||null).action),v=l.submitter;v&&(i=(i=v[_e]||null)?T_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ea("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xs!==0){var w=v?S_(h,v):new FormData(h);kf(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(T.preventDefault(),w=v?S_(h,v):new FormData(h),kf(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var gd=0;gd<Wh.length;gd++){var yd=Wh[gd],Z1=yd.toLowerCase(),J1=yd[0].toUpperCase()+yd.slice(1);Hn(Z1,"on"+J1)}Hn(eg,"onAnimationEnd"),Hn(ng,"onAnimationIteration"),Hn(ig,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(p1,"onTransitionRun"),Hn(g1,"onTransitionStart"),Hn(y1,"onTransitionCancel"),Hn(rg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function A_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,z=T.currentTarget;if(T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){Ju(K)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,z=T.currentTarget,T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){Ju(K)}h.currentTarget=null,d=w}}}}function Mt(e,i){var a=i[Ro];a===void 0&&(a=i[Ro]=new Set);var l=e+"__bubble";a.has(l)||(b_(i,e,2,!1),a.add(l))}function _d(e,i,a){var l=0;i&&(l|=4),b_(a,e,l,i)}var fc="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[fc]){e[fc]=!0,wo.forEach(function(a){a!=="selectionchange"&&(W1.has(a)||_d(a,!1,e),_d(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[fc]||(i[fc]=!0,_d("selectionchange",!1,i))}}function b_(e,i,a,l){switch(Y_(i)){case 2:var h=wA;break;case 8:h=CA;break;default:h=xd}a=h.bind(null,i,a,e),h=void 0,!Cn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ed(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Si(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}T=T.parentNode}}l=l.return}mu(function(){var z=d,K=wn(a),$=[];t:{var j=sg.get(e);if(j!==void 0){var B=ea,St=e;switch(e){case"keypress":if(ni(a)===0)break t;case"keydown":case"keyup":B=oa;break;case"focusin":St="focus",B=ra;break;case"focusout":St="blur",B=ra;break;case"beforeblur":case"afterblur":B=ra;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Su;break;case eg:case ng:case ig:B=sa;break;case rg:B=bu;break;case"scroll":case"scrollend":B=pu;break;case"wheel":B=la;break;case"copy":case"cut":case"paste":B=aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Po;break;case"toggle":case"beforetoggle":B=wu}var yt=(i&4)!==0,Jt=!yt&&(e==="scroll"||e==="scrollend"),k=yt?j!==null?j+"Capture":null:j;yt=[];for(var D=z,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=fs(D,k),Y!=null&&yt.push(pl(D,Y,P))),Jt)break;D=D.return}0<yt.length&&(j=new B(j,St,null,a,K),$.push({event:j,listeners:yt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",j&&a!==wi&&(St=a.relatedTarget||a.fromElement)&&(Si(St)||St[bn]))break t;if((B||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,B?(St=a.relatedTarget||a.toElement,B=z,St=St?Si(St):null,St!==null&&(Jt=u(St),yt=St.tag,St!==Jt||yt!==5&&yt!==27&&yt!==6)&&(St=null)):(B=null,St=z),B!==St)){if(yt=In,Y="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Po,Y="onPointerLeave",k="onPointerEnter",D="pointer"),Jt=B==null?j:Jn(B),P=St==null?j:Jn(St),j=new yt(Y,D+"leave",B,a,K),j.target=Jt,j.relatedTarget=P,Y=null,Si(K)===z&&(yt=new yt(k,D+"enter",St,a,K),yt.target=P,yt.relatedTarget=Jt,Y=yt),Jt=Y,B&&St)e:{for(yt=B,k=St,D=0,P=yt;P;P=xa(P))D++;for(P=0,Y=k;Y;Y=xa(Y))P++;for(;0<D-P;)yt=xa(yt),D--;for(;0<P-D;)k=xa(k),P--;for(;D--;){if(yt===k||k!==null&&yt===k.alternate)break e;yt=xa(yt),k=xa(k)}yt=null}else yt=null;B!==null&&R_($,j,B,yt,!1),St!==null&&Jt!==null&&R_($,Jt,St,yt,!0)}}t:{if(j=z?Jn(z):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var ut=Fp;else if(Ce(j))if(Gp)ut=f1;else{ut=c1;var Ot=u1}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Do(z.elementType)&&(ut=Fp):ut=h1;if(ut&&(ut=ut(e,z))){Di($,ut,a,K);break t}Ot&&Ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&lr(j,"number",j.value)}switch(Ot=z?Jn(z):window,e){case"focusin":(Ce(Ot)||Ot.contentEditable==="true")&&(ua=Ot,Xh=z,Bo=null);break;case"focusout":Bo=Xh=ua=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Wp($,a,K);break;case"selectionchange":if(m1)break;case"keydown":case"keyup":Wp($,a,K)}var pt;if(si)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?H(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(pt=xo()):(ei=K,ur="value"in ei?ei.value:ei.textContent,Lt=!0)),Ot=dc(z,_t),0<Ot.length&&(_t=new Lo(_t,e,null,a,K),$.push({event:_t,listeners:Ot}),pt?_t.data=pt:(pt=nt(a),pt!==null&&(_t.data=pt)))),(pt=p?we(e,a):Ut(e,a))&&(_t=dc(z,"onBeforeInput"),0<_t.length&&(Ot=new Lo("onBeforeInput","beforeinput",null,a,K),$.push({event:Ot,listeners:_t}),Ot.data=pt)),X1($,e,z,a,K)}A_($,i)})}function pl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function dc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fs(e,a),h!=null&&l.unshift(pl(e,h,d)),h=fs(e,i),h!=null&&l.push(pl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function R_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,w=T.alternate,z=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||z===null||(w=z,h?(z=fs(a,d),z!=null&&v.unshift(pl(a,z,w))):h||(z=fs(a,d),z!=null&&v.push(pl(a,z,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var tA=/\r\n?/g,eA=/\u0000|\uFFFD/g;function w_(e){return(typeof e=="string"?e:""+e).replace(tA,`
`).replace(eA,"")}function C_(e,i){return i=w_(i),w_(e)===i}function mc(){}function Zt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Rn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Rn(e,""+l);break;case"className":Wn(e,"class",l);break;case"tabIndex":Wn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(e,a,l);break;case"style":Oo(e,l,d);break;case"data":if(i!=="object"){Wn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ta(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ta(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=mc);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ta(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),or(e,"popover",l);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qh.get(a)||a,or(e,a,l))}}function Td(e,i,a,l,h,d){switch(a){case"style":Oo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Rn(e,l):(typeof l=="number"||typeof l=="bigint")&&Rn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$s.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[_e]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):or(e,a,l)}}}function He(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,d,v,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),l&&Zt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=d=v=h=null,w=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":w=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Zt(e,i,l,K,a,null)}}us(e,d,T,w,z,v,h,!1),Ws(e);return;case"select":Mt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Zt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ri(e,!!l,i,!1):a!=null&&Ri(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Zt(e,i,v,T,a,null)}cs(e,l,h,d),Ws(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(e,i,w,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<ml.length;l++)Mt(ml[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,z,l,a,null)}return;default:if(Do(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Td(e,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Zt(e,i,T,l,a,null))}function nA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,w=null,z=null,K=null;for(B in a){var $=a[B];if(a.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=$;default:l.hasOwnProperty(B)||Zt(e,i,B,null,l,$)}}for(var j in l){var B=l[j];if($=a[j],l.hasOwnProperty(j)&&(B!=null||$!=null))switch(j){case"type":d=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":K=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==$&&Zt(e,i,j,B,l,$)}}dn(e,v,T,w,z,K,d,h);return;case"select":B=v=T=j=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":B=w;default:l.hasOwnProperty(d)||Zt(e,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==w&&Zt(e,i,h,d,l,w)}i=T,a=v,l=B,j!=null?Ri(e,!!a,j,!1):!!l!=!!a&&(i!=null?Ri(e,!!a,i,!0):Ri(e,!!a,a?[]:"",!1));return;case"textarea":B=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":j=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Zt(e,i,v,h,l,d)}$t(e,j,B);return;case"option":for(var St in a)if(j=a[St],a.hasOwnProperty(St)&&j!=null&&!l.hasOwnProperty(St))switch(St){case"selected":e.selected=!1;break;default:Zt(e,i,St,null,l,j)}for(w in l)if(j=l[w],B=a[w],l.hasOwnProperty(w)&&j!==B&&(j!=null||B!=null))switch(w){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Zt(e,i,w,j,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&Zt(e,i,yt,null,l,j);for(z in l)if(j=l[z],B=a[z],l.hasOwnProperty(z)&&j!==B&&(j!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Zt(e,i,z,j,l,B)}return;default:if(Do(i)){for(var Jt in a)j=a[Jt],a.hasOwnProperty(Jt)&&j!==void 0&&!l.hasOwnProperty(Jt)&&Td(e,i,Jt,void 0,l,j);for(K in l)j=l[K],B=a[K],!l.hasOwnProperty(K)||j===B||j===void 0&&B===void 0||Td(e,i,K,j,l,B);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&Zt(e,i,k,null,l,j);for($ in l)j=l[$],B=a[$],!l.hasOwnProperty($)||j===B||j==null&&B==null||Zt(e,i,$,j,l,B)}var Sd=null,Ad=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function I_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function bd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function iA(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,rA=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(e){return D_.resolve(null).then(e).catch(aA)}:O_;function aA(e){setTimeout(function(){throw e})}function Rr(e){return e==="head"}function M_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&gl(v.documentElement),a&2&&gl(v.body),a&4)for(a=v.head,gl(a),v=a.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[ss]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),bl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);bl(i)}function wd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function oA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ss])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function lA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function uA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Id=null;function x_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function V_(e,i,a){switch(i=pc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function gl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ar(e)}var kn=new Map,k_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=et.d;et.d={f:cA,r:hA,D:fA,C:dA,L:mA,m:pA,X:yA,S:gA,M:_A};function cA(){var e=Fi.f(),i=oc();return e||i}function hA(e){var i=Zn(e);i!==null&&i.tag===5&&i.type==="form"?ey(i):Fi.r(e)}var Va=typeof document>"u"?null:document;function L_(e,i,a){var l=Va;if(l&&typeof i=="string"&&i){var h=ve(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),k_.has(h)||(k_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),He(i,"link",e),fe(i),l.head.appendChild(i)))}}function fA(e){Fi.D(e),L_("dns-prefetch",e,null)}function dA(e,i){Fi.C(e,i),L_("preconnect",e,i)}function mA(e,i,a){Fi.L(e,i,a);var l=Va;if(l&&e&&i){var h='link[rel="preload"][as="'+ve(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ve(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ve(a.imageSizes)+'"]')):h+='[href="'+ve(e)+'"]';var d=h;switch(i){case"style":d=ka(e);break;case"script":d=La(e)}kn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),kn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(yl(d))||i==="script"&&l.querySelector(_l(d))||(i=l.createElement("link"),He(i,"link",e),fe(i),l.head.appendChild(i)))}}function pA(e,i){Fi.m(e,i);var a=Va;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ve(l)+'"][href="'+ve(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=La(e)}if(!kn.has(d)&&(e=E({rel:"modulepreload",href:e},i),kn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(d)))return}l=a.createElement("link"),He(l,"link",e),fe(l),a.head.appendChild(l)}}}function gA(e,i,a){Fi.S(e,i,a);var l=Va;if(l&&e){var h=tn(l).hoistableStyles,d=ka(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(yl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=kn.get(d))&&Nd(e,a);var w=v=l.createElement("link");fe(w),He(w,"link",e),w._p=new Promise(function(z,K){w.onload=z,w.onerror=K}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function yA(e,i){Fi.X(e,i);var a=Va;if(a&&e){var l=tn(a).hoistableScripts,h=La(e),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(e=E({src:e,async:!0},i),(i=kn.get(h))&&Od(e,i),d=a.createElement("script"),fe(d),He(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function _A(e,i){Fi.M(e,i);var a=Va;if(a&&e){var l=tn(a).hoistableScripts,h=La(e),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=kn.get(h))&&Od(e,i),d=a.createElement("script"),fe(d),He(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function U_(e,i,a,l){var h=(h=Tt.current)?gc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=tn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ka(a.href);var d=tn(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(yl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),d||vA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=La(a),a=tn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ka(e){return'href="'+ve(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function P_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function vA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),He(i,"link",a),fe(i),e.head.appendChild(i))}function La(e){return'[src="'+ve(e)+'"]'}function _l(e){return"script[async]"+e}function z_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ve(a.href)+'"]');if(l)return i.instance=l,fe(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),fe(l),He(l,"style",h),yc(l,a.precedence,e),i.instance=l;case"stylesheet":h=ka(a.href);var d=e.querySelector(yl(h));if(d)return i.state.loading|=4,i.instance=d,fe(d),d;l=P_(a),(h=kn.get(h))&&Nd(l,h),d=(e.ownerDocument||e).createElement("link"),fe(d);var v=d;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),He(d,"link",l),i.state.loading|=4,yc(d,a.precedence,e),i.instance=d;case"script":return d=La(a.src),(h=e.querySelector(_l(d)))?(i.instance=h,fe(h),h):(l=a,(h=kn.get(d))&&(l=E({},a),Od(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),He(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,yc(l,a.precedence,e));return i.instance}function yc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var _c=null;function j_(e,i,a){if(_c===null){var l=new Map,h=_c=new Map;h.set(a,l)}else h=_c,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ss]||d[Re]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function B_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function EA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function H_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var vl=null;function TA(){}function SA(e,i,a){if(vl===null)throw Error(s(475));var l=vl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ka(a.href),d=e.querySelector(yl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=vc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,fe(d);return}d=e.ownerDocument||e,a=P_(a),(h=kn.get(h))&&Nd(a,h),d=d.createElement("link"),fe(d);var v=d;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),He(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=vc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function AA(){if(vl===null)throw Error(s(475));var e=vl;return e.stylesheets&&e.count===0&&Dd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Dd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function vc(){if(this.count--,this.count===0){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Dd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,i.forEach(bA,e),Ec=null,vc.call(e))}function bA(e,i){if(!(i.state.loading&4)){var a=Ec.get(e);if(a)var l=a.get(null);else{a=new Map,Ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var El={$$typeof:st,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function RA(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function q_(e,i,a,l,h,d,v,T,w,z,K,$){return e=new RA(e,i,a,v,T,w,z,$),i=1,d===!0&&(i|=24),d=pn(3,null,null,i),e.current=d,d.stateNode=e,i=ff(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},gf(d),e}function F_(e){return e?(e=da,e):da}function G_(e,i,a,l,h,d){h=F_(h),l.context===null?l.context=h:l.pendingContext=h,l=fr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=dr(e,l,i),a!==null&&(En(a,e,i),Xo(a,e,i))}function K_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Md(e,i){K_(e,i),(e=e.alternate)&&K_(e,i)}function Q_(e){if(e.tag===13){var i=fa(e,67108864);i!==null&&En(i,e,67108864),Md(e,67108864)}}var Tc=!0;function wA(e,i,a,l){var h=F.T;F.T=null;var d=et.p;try{et.p=2,xd(e,i,a,l)}finally{et.p=d,F.T=h}}function CA(e,i,a,l){var h=F.T;F.T=null;var d=et.p;try{et.p=8,xd(e,i,a,l)}finally{et.p=d,F.T=h}}function xd(e,i,a,l){if(Tc){var h=Vd(l);if(h===null)Ed(e,i,l,Sc,a),$_(e,l);else if(NA(h,e,i,a,l))l.stopPropagation();else if($_(e,l),i&4&&-1<IA.indexOf(e)){for(;h!==null;){var d=Zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=zn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-Qe(v);T.entanglements[1]|=w,v&=~w}hi(d),(Kt&6)===0&&(sc=Ke()+500,dl(0))}}break;case 13:T=fa(d,2),T!==null&&En(T,d,2),oc(),Md(d,2)}if(d=Vd(l),d===null&&Ed(e,i,l,Sc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ed(e,i,l,null,a)}}function Vd(e){return e=wn(e),kd(e)}var Sc=null;function kd(e){if(Sc=null,e=Si(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Sc=e,null}function Y_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uh()){case _o:return 2;case Gs:return 8;case ts:case Ph:return 32;case Ks:return 268435456;default:return 32}default:return 32}}var Ld=!1,wr=null,Cr=null,Ir=null,Tl=new Map,Sl=new Map,Nr=[],IA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(e,i){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(i.pointerId)}}function Al(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Zn(i),i!==null&&Q_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function NA(e,i,a,l,h){switch(i){case"focusin":return wr=Al(wr,e,i,a,l,h),!0;case"dragenter":return Cr=Al(Cr,e,i,a,l,h),!0;case"mouseover":return Ir=Al(Ir,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Tl.set(d,Al(Tl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Sl.set(d,Al(Sl.get(d)||null,e,i,a,l,h)),!0}return!1}function X_(e){var i=Si(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,ou(e.priority,function(){if(a.tag===13){var l=vn();l=ir(l);var h=fa(a,l);h!==null&&En(h,a,l),Md(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);wi=l,a.target.dispatchEvent(l),wi=null}else return i=Zn(a),i!==null&&Q_(i),e.blockedOn=a,!1;i.shift()}return!0}function Z_(e,i,a){Ac(e)&&a.delete(i)}function OA(){Ld=!1,wr!==null&&Ac(wr)&&(wr=null),Cr!==null&&Ac(Cr)&&(Cr=null),Ir!==null&&Ac(Ir)&&(Ir=null),Tl.forEach(Z_),Sl.forEach(Z_)}function bc(e,i){e.blockedOn===i&&(e.blockedOn=null,Ld||(Ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,OA)))}var Rc=null;function J_(e){Rc!==e&&(Rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(kd(l||a)===null)continue;break}var d=Zn(a);d!==null&&(e.splice(i,3),i-=3,kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function bl(e){function i(w){return bc(w,e)}wr!==null&&bc(wr,e),Cr!==null&&bc(Cr,e),Ir!==null&&bc(Ir,e),Tl.forEach(i),Sl.forEach(i);for(var a=0;a<Nr.length;a++){var l=Nr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Nr.length&&(a=Nr[0],a.blockedOn===null);)X_(a),a.blockedOn===null&&Nr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[_e]||null;if(typeof d=="function")v||J_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[_e]||null)T=v.formAction;else if(kd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),J_(a)}}}function Ud(e){this._internalRoot=e}wc.prototype.render=Ud.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=vn();G_(a,l,e,i,null,null)},wc.prototype.unmount=Ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;G_(e.current,2,null,e,null,null),oc(),i[bn]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var i=rr();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Nr.length&&i!==0&&i<Nr[a].priority;a++);Nr.splice(a,0,e),a===0&&X_(e)}};var W_=t.version;if(W_!=="19.1.1")throw Error(s(527,W_,"19.1.1"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var DA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{ue=Cc.inject(DA),Gt=Cc}catch{}}return wl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=py,d=gy,v=yy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=q_(e,1,!1,null,null,a,l,h,d,v,T,null),e[bn]=i.current,vd(e),new Ud(i)},wl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=py,v=gy,T=yy,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=q_(e,1,!0,i,a??null,l,h,d,v,T,w,z),i.context=F_(null),a=i.current,l=vn(),l=ir(l),h=fr(l),h.callback=null,dr(a,h,l),a=l,i.current.lanes=a,Ti(i,a),hi(i),e[bn]=i.current,vd(e),new wc(i)},wl.version="19.1.1",wl}var uv;function jA(){if(uv)return jd.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=zA(),jd.exports}var BA=jA();const HA=()=>{};var cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},qA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},sT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,q=y&63;g||(q=64,f||(R=64)),s.push(n[E],n[b],n[R],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(rT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):qA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new FA;const R=u<<2|m>>4;if(s.push(R),y!==64){const q=m<<4&240|y>>2;if(s.push(q),b!==64){const Q=y<<6&192|b;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GA=function(r){const t=rT(r);return sT.encodeByteArray(t,!0)},Kc=function(r){return GA(r).replace(/\./g,"")},aT=function(r){try{return sT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=()=>KA().__FIREBASE_DEFAULTS__,YA=()=>{if(typeof process>"u"||typeof cv>"u")return;const r=cv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$A=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&aT(r[1]);return t&&JSON.parse(t)},fh=()=>{try{return HA()||QA()||YA()||$A()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},oT=r=>fh()?.emulatorHosts?.[r],XA=r=>{const t=oT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},lT=()=>fh()?.config,uT=r=>fh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kc(JSON.stringify(n)),Kc(JSON.stringify(f)),""].join(".")}const Vl={};function WA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Vl))Vl[t]?r.emulator.push(t):r.prod.push(t);return r}function tb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let hv=!1;function hT(r,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Vl[r]===t||Vl[r]||hv)return;Vl[r]=t;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=WA().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,q){R.setAttribute("width","24"),R.setAttribute("id",q),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{hv=!0,f()},R}function E(R,q){R.setAttribute("id",q),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=tb(s),q=n("text"),Q=document.getElementById(q)||document.createElement("span"),tt=n("learnmore"),X=document.getElementById(tt)||document.createElement("a"),ft=n("preprendIcon"),dt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const st=R.element;m(st),E(X,tt);const mt=y();g(dt,ft),st.append(dt,Q,X,mt),document.body.appendChild(st)}u?(Q.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function nb(){const r=fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ib(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ab(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ob(){return!nb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lb(){try{return typeof indexedDB=="object"}catch{return!1}}function ub(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="FirebaseError";class tr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=cb,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?hb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new tr(o,m,s)}}function hb(r,t){return r.replace(fb,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const fb=/\{\$([^}]+)}/g;function db(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(fv(u)&&fv(f)){if(!zs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function fv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Il(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Nl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function mb(r,t){const n=new pb(r,t);return n.subscribe.bind(n)}class pb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gb(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Fd),o.error===void 0&&(o.error=Fd),o.complete===void 0&&(o.complete=Fd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(r){return r&&r._delegate?r._delegate:r}class js{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yb=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new ZA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vb(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_b(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _b(r){return r===Vs?void 0:r}function vb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new yb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const Tb={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},Sb=xt.INFO,Ab={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},bb=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=Ab[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xm{constructor(t){this.name=t,this._logLevel=Sb,this._logHandler=bb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Tb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const Rb=(r,t)=>t.some(n=>r instanceof n);let dv,mv;function wb(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cb(){return mv||(mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fT=new WeakMap,gm=new WeakMap,dT=new WeakMap,Gd=new WeakMap,Zm=new WeakMap;function Ib(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&fT.set(n,r)}).catch(()=>{}),Zm.set(t,r),t}function Nb(r){if(gm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});gm.set(r,t)}let ym={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return gm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||dT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Ob(r){ym=r(ym)}function Db(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Kd(this),t,...n);return dT.set(s,t.sort?t.sort():[t]),zr(s)}:Cb().includes(r)?function(...t){return r.apply(Kd(this),t),zr(fT.get(this))}:function(...t){return zr(r.apply(Kd(this),t))}}function Mb(r){return typeof r=="function"?Db(r):(r instanceof IDBTransaction&&Nb(r),Rb(r,wb())?new Proxy(r,ym):r)}function zr(r){if(r instanceof IDBRequest)return Ib(r);if(Gd.has(r))return Gd.get(r);const t=Mb(r);return t!==r&&(Gd.set(r,t),Zm.set(t,r)),t}const Kd=r=>Zm.get(r);function xb(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=zr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(zr(f.result),g.oldVersion,g.newVersion,zr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Vb=["get","getKey","getAll","getAllKeys","count"],kb=["put","add","delete","clear"],Qd=new Map;function pv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=kb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Vb.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Qd.set(t,u),u}Ob(r=>({...r,get:(t,n,s)=>pv(t,n)||r.get(t,n,s),has:(t,n)=>!!pv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ub(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Ub(r){return r.getComponent()?.type==="VERSION"}const _m="@firebase/app",gv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Xm("@firebase/app"),Pb="@firebase/app-compat",zb="@firebase/analytics-compat",jb="@firebase/analytics",Bb="@firebase/app-check-compat",Hb="@firebase/app-check",qb="@firebase/auth",Fb="@firebase/auth-compat",Gb="@firebase/database",Kb="@firebase/data-connect",Qb="@firebase/database-compat",Yb="@firebase/functions",$b="@firebase/functions-compat",Xb="@firebase/installations",Zb="@firebase/installations-compat",Jb="@firebase/messaging",Wb="@firebase/messaging-compat",tR="@firebase/performance",eR="@firebase/performance-compat",nR="@firebase/remote-config",iR="@firebase/remote-config-compat",rR="@firebase/storage",sR="@firebase/storage-compat",aR="@firebase/firestore",oR="@firebase/ai",lR="@firebase/firestore-compat",uR="firebase",cR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="[DEFAULT]",hR={[_m]:"fire-core",[Pb]:"fire-core-compat",[jb]:"fire-analytics",[zb]:"fire-analytics-compat",[Hb]:"fire-app-check",[Bb]:"fire-app-check-compat",[qb]:"fire-auth",[Fb]:"fire-auth-compat",[Gb]:"fire-rtdb",[Kb]:"fire-data-connect",[Qb]:"fire-rtdb-compat",[Yb]:"fire-fn",[$b]:"fire-fn-compat",[Xb]:"fire-iid",[Zb]:"fire-iid-compat",[Jb]:"fire-fcm",[Wb]:"fire-fcm-compat",[tR]:"fire-perf",[eR]:"fire-perf-compat",[nR]:"fire-rc",[iR]:"fire-rc-compat",[rR]:"fire-gcs",[sR]:"fire-gcs-compat",[aR]:"fire-fst",[lR]:"fire-fst-compat",[oR]:"fire-vertex","fire-js":"fire-js",[uR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,fR=new Map,Em=new Map;function yv(r,t){try{r.container.addComponent(t)}catch(n){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Wa(r){const t=r.name;if(Em.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;Em.set(t,r);for(const n of Qc.values())yv(n,r);for(const n of fR.values())yv(n,r);return!0}function Jm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Yl("app","Firebase",dR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=cR;function mT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:vm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw jr.create("bad-app-name",{appName:String(o)});if(n||(n=lT()),!n)throw jr.create("no-options");const u=Qc.get(o);if(u){if(zs(n,u.options)&&zs(s,u.config))return u;throw jr.create("duplicate-app",{appName:o})}const f=new Eb(o);for(const g of Em.values())f.addComponent(g);const m=new mR(n,s,f);return Qc.set(o,m),m}function pT(r=vm){const t=Qc.get(r);if(!t&&r===vm&&lT())return mT();if(!t)throw jr.create("no-app",{appName:r});return t}function Br(r,t,n){let s=hR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(f.join(" "));return}Wa(new js(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="firebase-heartbeat-database",gR=1,jl="firebase-heartbeat-store";let Yd=null;function gT(){return Yd||(Yd=xb(pR,gR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw jr.create("idb-open",{originalErrorMessage:r.message})})),Yd}async function yR(r){try{const n=(await gT()).transaction(jl),s=await n.objectStore(jl).get(yT(r));return await n.done,s}catch(t){if(t instanceof tr)Xi.warn(t.message);else{const n=jr.create("idb-get",{originalErrorMessage:t?.message});Xi.warn(n.message)}}}async function _v(r,t){try{const s=(await gT()).transaction(jl,"readwrite");await s.objectStore(jl).put(t,yT(r)),await s.done}catch(n){if(n instanceof tr)Xi.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n?.message});Xi.warn(s.message)}}}function yT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=1024,vR=30;class ER{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>vR){const o=AR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Xi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vv(),{heartbeatsToSend:n,unsentEntries:s}=TR(this._heartbeatsCache.heartbeats),o=Kc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Xi.warn(t),""}}}function vv(){return new Date().toISOString().substring(0,10)}function TR(r,t=_R){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ev(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ev(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class SR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lb()?ub().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return _v(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return _v(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Ev(r){return Kc(JSON.stringify({version:2,heartbeats:r})).length}function AR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(r){Wa(new js("platform-logger",t=>new Lb(t),"PRIVATE")),Wa(new js("heartbeat",t=>new ER(t),"PRIVATE")),Br(_m,gv,r),Br(_m,gv,"esm2020"),Br("fire-js","")}bR("");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,_T;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,A){function I(){}I.prototype=A.prototype,O.D=A.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(M,x,L){for(var C=Array(arguments.length-2),le=2;le<arguments.length;le++)C[le-2]=arguments[le];return A.prototype[x].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,I){I||(I=0);var M=Array(16);if(typeof A=="string")for(var x=0;16>x;++x)M[x]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(x=0;16>x;++x)M[x]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=O.g[0],I=O.g[1],x=O.g[2];var L=O.g[3],C=A+(L^I&(x^L))+M[0]+3614090360&4294967295;A=I+(C<<7&4294967295|C>>>25),C=L+(x^A&(I^x))+M[1]+3905402710&4294967295,L=A+(C<<12&4294967295|C>>>20),C=x+(I^L&(A^I))+M[2]+606105819&4294967295,x=L+(C<<17&4294967295|C>>>15),C=I+(A^x&(L^A))+M[3]+3250441966&4294967295,I=x+(C<<22&4294967295|C>>>10),C=A+(L^I&(x^L))+M[4]+4118548399&4294967295,A=I+(C<<7&4294967295|C>>>25),C=L+(x^A&(I^x))+M[5]+1200080426&4294967295,L=A+(C<<12&4294967295|C>>>20),C=x+(I^L&(A^I))+M[6]+2821735955&4294967295,x=L+(C<<17&4294967295|C>>>15),C=I+(A^x&(L^A))+M[7]+4249261313&4294967295,I=x+(C<<22&4294967295|C>>>10),C=A+(L^I&(x^L))+M[8]+1770035416&4294967295,A=I+(C<<7&4294967295|C>>>25),C=L+(x^A&(I^x))+M[9]+2336552879&4294967295,L=A+(C<<12&4294967295|C>>>20),C=x+(I^L&(A^I))+M[10]+4294925233&4294967295,x=L+(C<<17&4294967295|C>>>15),C=I+(A^x&(L^A))+M[11]+2304563134&4294967295,I=x+(C<<22&4294967295|C>>>10),C=A+(L^I&(x^L))+M[12]+1804603682&4294967295,A=I+(C<<7&4294967295|C>>>25),C=L+(x^A&(I^x))+M[13]+4254626195&4294967295,L=A+(C<<12&4294967295|C>>>20),C=x+(I^L&(A^I))+M[14]+2792965006&4294967295,x=L+(C<<17&4294967295|C>>>15),C=I+(A^x&(L^A))+M[15]+1236535329&4294967295,I=x+(C<<22&4294967295|C>>>10),C=A+(x^L&(I^x))+M[1]+4129170786&4294967295,A=I+(C<<5&4294967295|C>>>27),C=L+(I^x&(A^I))+M[6]+3225465664&4294967295,L=A+(C<<9&4294967295|C>>>23),C=x+(A^I&(L^A))+M[11]+643717713&4294967295,x=L+(C<<14&4294967295|C>>>18),C=I+(L^A&(x^L))+M[0]+3921069994&4294967295,I=x+(C<<20&4294967295|C>>>12),C=A+(x^L&(I^x))+M[5]+3593408605&4294967295,A=I+(C<<5&4294967295|C>>>27),C=L+(I^x&(A^I))+M[10]+38016083&4294967295,L=A+(C<<9&4294967295|C>>>23),C=x+(A^I&(L^A))+M[15]+3634488961&4294967295,x=L+(C<<14&4294967295|C>>>18),C=I+(L^A&(x^L))+M[4]+3889429448&4294967295,I=x+(C<<20&4294967295|C>>>12),C=A+(x^L&(I^x))+M[9]+568446438&4294967295,A=I+(C<<5&4294967295|C>>>27),C=L+(I^x&(A^I))+M[14]+3275163606&4294967295,L=A+(C<<9&4294967295|C>>>23),C=x+(A^I&(L^A))+M[3]+4107603335&4294967295,x=L+(C<<14&4294967295|C>>>18),C=I+(L^A&(x^L))+M[8]+1163531501&4294967295,I=x+(C<<20&4294967295|C>>>12),C=A+(x^L&(I^x))+M[13]+2850285829&4294967295,A=I+(C<<5&4294967295|C>>>27),C=L+(I^x&(A^I))+M[2]+4243563512&4294967295,L=A+(C<<9&4294967295|C>>>23),C=x+(A^I&(L^A))+M[7]+1735328473&4294967295,x=L+(C<<14&4294967295|C>>>18),C=I+(L^A&(x^L))+M[12]+2368359562&4294967295,I=x+(C<<20&4294967295|C>>>12),C=A+(I^x^L)+M[5]+4294588738&4294967295,A=I+(C<<4&4294967295|C>>>28),C=L+(A^I^x)+M[8]+2272392833&4294967295,L=A+(C<<11&4294967295|C>>>21),C=x+(L^A^I)+M[11]+1839030562&4294967295,x=L+(C<<16&4294967295|C>>>16),C=I+(x^L^A)+M[14]+4259657740&4294967295,I=x+(C<<23&4294967295|C>>>9),C=A+(I^x^L)+M[1]+2763975236&4294967295,A=I+(C<<4&4294967295|C>>>28),C=L+(A^I^x)+M[4]+1272893353&4294967295,L=A+(C<<11&4294967295|C>>>21),C=x+(L^A^I)+M[7]+4139469664&4294967295,x=L+(C<<16&4294967295|C>>>16),C=I+(x^L^A)+M[10]+3200236656&4294967295,I=x+(C<<23&4294967295|C>>>9),C=A+(I^x^L)+M[13]+681279174&4294967295,A=I+(C<<4&4294967295|C>>>28),C=L+(A^I^x)+M[0]+3936430074&4294967295,L=A+(C<<11&4294967295|C>>>21),C=x+(L^A^I)+M[3]+3572445317&4294967295,x=L+(C<<16&4294967295|C>>>16),C=I+(x^L^A)+M[6]+76029189&4294967295,I=x+(C<<23&4294967295|C>>>9),C=A+(I^x^L)+M[9]+3654602809&4294967295,A=I+(C<<4&4294967295|C>>>28),C=L+(A^I^x)+M[12]+3873151461&4294967295,L=A+(C<<11&4294967295|C>>>21),C=x+(L^A^I)+M[15]+530742520&4294967295,x=L+(C<<16&4294967295|C>>>16),C=I+(x^L^A)+M[2]+3299628645&4294967295,I=x+(C<<23&4294967295|C>>>9),C=A+(x^(I|~L))+M[0]+4096336452&4294967295,A=I+(C<<6&4294967295|C>>>26),C=L+(I^(A|~x))+M[7]+1126891415&4294967295,L=A+(C<<10&4294967295|C>>>22),C=x+(A^(L|~I))+M[14]+2878612391&4294967295,x=L+(C<<15&4294967295|C>>>17),C=I+(L^(x|~A))+M[5]+4237533241&4294967295,I=x+(C<<21&4294967295|C>>>11),C=A+(x^(I|~L))+M[12]+1700485571&4294967295,A=I+(C<<6&4294967295|C>>>26),C=L+(I^(A|~x))+M[3]+2399980690&4294967295,L=A+(C<<10&4294967295|C>>>22),C=x+(A^(L|~I))+M[10]+4293915773&4294967295,x=L+(C<<15&4294967295|C>>>17),C=I+(L^(x|~A))+M[1]+2240044497&4294967295,I=x+(C<<21&4294967295|C>>>11),C=A+(x^(I|~L))+M[8]+1873313359&4294967295,A=I+(C<<6&4294967295|C>>>26),C=L+(I^(A|~x))+M[15]+4264355552&4294967295,L=A+(C<<10&4294967295|C>>>22),C=x+(A^(L|~I))+M[6]+2734768916&4294967295,x=L+(C<<15&4294967295|C>>>17),C=I+(L^(x|~A))+M[13]+1309151649&4294967295,I=x+(C<<21&4294967295|C>>>11),C=A+(x^(I|~L))+M[4]+4149444226&4294967295,A=I+(C<<6&4294967295|C>>>26),C=L+(I^(A|~x))+M[11]+3174756917&4294967295,L=A+(C<<10&4294967295|C>>>22),C=x+(A^(L|~I))+M[2]+718787259&4294967295,x=L+(C<<15&4294967295|C>>>17),C=I+(L^(x|~A))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var I=A-this.blockSize,M=this.B,x=this.h,L=0;L<A;){if(x==0)for(;L<=I;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<A;)if(M[x++]=O.charCodeAt(L++),x==this.blockSize){o(this,M),x=0;break}}else for(;L<A;)if(M[x++]=O[L++],x==this.blockSize){o(this,M),x=0;break}}this.h=x,this.o+=A},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var I=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=I&255,I/=256;for(this.u(O),O=Array(16),A=I=0;4>A;++A)for(var M=0;32>M;M+=8)O[I++]=this.g[A]>>>M&255;return O};function u(O,A){var I=m;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=A(O)}function f(O,A){this.h=A;for(var I=[],M=!0,x=O.length-1;0<=x;x--){var L=O[x]|0;M&&L==A||(I[x]=L,M=!1)}this.g=I}var m={};function g(O){return-128<=O&&128>O?u(O,function(A){return new f([A|0],0>A?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return X(y(-O));for(var A=[],I=1,M=0;O>=I;M++)A[M]=O/I|0,I*=4294967296;return new f(A,0)}function E(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return X(E(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(A,8)),M=b,x=0;x<O.length;x+=8){var L=Math.min(8,O.length-x),C=parseInt(O.substring(x,x+L),A);8>L?(L=y(Math.pow(A,L)),M=M.j(L).add(y(C))):(M=M.j(I),M=M.add(y(C)))}return M}var b=g(0),R=g(1),q=g(16777216);r=f.prototype,r.m=function(){if(tt(this))return-X(this).m();for(var O=0,A=1,I=0;I<this.g.length;I++){var M=this.i(I);O+=(0<=M?M:4294967296+M)*A,A*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Q(this))return"0";if(tt(this))return"-"+X(this).toString(O);for(var A=y(Math.pow(O,6)),I=this,M="";;){var x=mt(I,A).g;I=ft(I,x.j(A));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=x,Q(I))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Q(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function tt(O){return O.h==-1}r.l=function(O){return O=ft(this,O),tt(O)?-1:Q(O)?0:1};function X(O){for(var A=O.g.length,I=[],M=0;M<A;M++)I[M]=~O.g[M];return new f(I,~O.h).add(R)}r.abs=function(){return tt(this)?X(this):this},r.add=function(O){for(var A=Math.max(this.g.length,O.g.length),I=[],M=0,x=0;x<=A;x++){var L=M+(this.i(x)&65535)+(O.i(x)&65535),C=(L>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);M=C>>>16,L&=65535,C&=65535,I[x]=C<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ft(O,A){return O.add(X(A))}r.j=function(O){if(Q(this)||Q(O))return b;if(tt(this))return tt(O)?X(this).j(X(O)):X(X(this).j(O));if(tt(O))return X(this.j(X(O)));if(0>this.l(q)&&0>O.l(q))return y(this.m()*O.m());for(var A=this.g.length+O.g.length,I=[],M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var x=0;x<O.g.length;x++){var L=this.i(M)>>>16,C=this.i(M)&65535,le=O.i(x)>>>16,ee=O.i(x)&65535;I[2*M+2*x]+=C*ee,dt(I,2*M+2*x),I[2*M+2*x+1]+=L*ee,dt(I,2*M+2*x+1),I[2*M+2*x+1]+=C*le,dt(I,2*M+2*x+1),I[2*M+2*x+2]+=L*le,dt(I,2*M+2*x+2)}for(M=0;M<A;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=A;M<2*A;M++)I[M]=0;return new f(I,0)};function dt(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function st(O,A){this.g=O,this.h=A}function mt(O,A){if(Q(A))throw Error("division by zero");if(Q(O))return new st(b,b);if(tt(O))return A=mt(X(O),A),new st(X(A.g),X(A.h));if(tt(A))return A=mt(O,X(A)),new st(X(A.g),A.h);if(30<O.g.length){if(tt(O)||tt(A))throw Error("slowDivide_ only works with positive integers.");for(var I=R,M=A;0>=M.l(O);)I=ct(I),M=ct(M);var x=ht(I,1),L=ht(M,1);for(M=ht(M,2),I=ht(I,2);!Q(M);){var C=L.add(M);0>=C.l(O)&&(x=x.add(I),L=C),M=ht(M,1),I=ht(I,1)}return A=ft(O,x.j(A)),new st(x,A)}for(x=b;0<=O.l(A);){for(I=Math.max(1,Math.floor(O.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=y(I),C=L.j(A);tt(C)||0<C.l(O);)I-=M,L=y(I),C=L.j(A);Q(L)&&(L=R),x=x.add(L),O=ft(O,C)}return new st(x,O)}r.A=function(O){return mt(this,O).h},r.and=function(O){for(var A=Math.max(this.g.length,O.g.length),I=[],M=0;M<A;M++)I[M]=this.i(M)&O.i(M);return new f(I,this.h&O.h)},r.or=function(O){for(var A=Math.max(this.g.length,O.g.length),I=[],M=0;M<A;M++)I[M]=this.i(M)|O.i(M);return new f(I,this.h|O.h)},r.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),I=[],M=0;M<A;M++)I[M]=this.i(M)^O.i(M);return new f(I,this.h^O.h)};function ct(O){for(var A=O.g.length+1,I=[],M=0;M<A;M++)I[M]=O.i(M)<<1|O.i(M-1)>>>31;return new f(I,O.h)}function ht(O,A){var I=A>>5;A%=32;for(var M=O.g.length-I,x=[],L=0;L<M;L++)x[L]=0<A?O.i(L+I)>>>A|O.i(L+I+1)<<32-A:O.i(L+I);return new f(x,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_T=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Hr=f}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vT,Ol,ET,Uc,Tm,TT,ST,AT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break t;_=_[U]}c=c[c.length-1],S=_[c],p=p(S),p!=S&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var H=_++;return{value:p(H,c[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function b(c,p,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(p,U)}}return function(){return c.apply(p,arguments)}}function R(c,p,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,R.apply(null,arguments)}function q(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function Q(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,H){for(var nt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)nt[Lt-2]=arguments[Lt];return p.prototype[U].apply(S,nt)}}function tt(c){const p=c.length;if(0<p){const _=Array(p);for(let S=0;S<p;S++)_[S]=c[S];return _}return[]}function X(c,p){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const U=c.length||0,H=S.length||0;c.length=U+H;for(let nt=0;nt<H;nt++)c[U+nt]=S[nt]}else c.push(S)}}class ft{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function dt(c){return/^[\s\xa0]*$/.test(c)}function st(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function mt(c){return mt[" "](c),c}mt[" "]=function(){};var ct=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function ht(c,p,_){for(const S in c)p.call(_,c[S],S,c)}function O(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function A(c){const p={};for(const _ in c)p[_]=c[_];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,p){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let H=0;H<I.length;H++)_=I[H],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function x(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Vt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class le{constructor(){this.h=this.g=null}add(p,_){const S=ee.get();S.set(p,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ee=new ft(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let et,at=!1,Vt=new le,N=()=>{const c=m.Promise.resolve(void 0);et=()=>{c.then(Z)}};var Z=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){L(_)}var p=ee;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}at=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ot=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c})();function At(c,p){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ct){t:{try{mt(p.nodeName);var U=!0;break t}catch{}U=!1}U||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&At.aa.h.call(this)}}Q(At,W);var Tt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Yt=0;function on(c,p,_,S,U){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!S,this.ha=U,this.key=++Yt,this.da=this.fa=!1}function Sn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Un(c){this.src=c,this.g={},this.h=0}Un.prototype.add=function(c,p,_,S,U){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var nt=Pn(c,p,S,U);return-1<nt?(p=c[nt],_||(p.fa=!1)):(p=new on(p,this.src,H,!!S,U),p.fa=_,c.push(p)),p};function $n(c,p){var _=p.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,p,void 0),H;(H=0<=U)&&Array.prototype.splice.call(S,U,1),H&&(Sn(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Pn(c,p,_,S){for(var U=0;U<c.length;++U){var H=c[U];if(!H.da&&H.listener==p&&H.capture==!!_&&H.ha==S)return U}return-1}var An="closure_lm_"+(1e6*Math.random()|0),Wt={};function Wr(c,p,_,S,U){if(Array.isArray(p)){for(var H=0;H<p.length;H++)Wr(c,p[H],_,S,U);return null}return _=su(_),c&&c[ye]?c.K(p,_,y(S)?!!S.capture:!1,U):Ke(c,p,_,!1,S,U)}function Ke(c,p,_,S,U,H){if(!p)throw Error("Invalid event type");var nt=y(U)?!!U.capture:!!U,Lt=Ks(c);if(Lt||(c[An]=Lt=new Un(c)),_=Lt.add(p,_,S,nt,H),_.proxy)return _;if(S=Uh(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ot||(U=nt),U===void 0&&(U=!1),c.addEventListener(p.toString(),S,U);else if(c.attachEvent)c.attachEvent(ts(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Uh(){function c(_){return p.call(c.src,c.listener,_)}const p=Ph;return c}function _o(c,p,_,S,U){if(Array.isArray(p))for(var H=0;H<p.length;H++)_o(c,p[H],_,S,U);else S=y(S)?!!S.capture:!!S,_=su(_),c&&c[ye]?(c=c.i,p=String(p).toString(),p in c.g&&(H=c.g[p],_=Pn(H,_,S,U),-1<_&&(Sn(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[p],c.h--)))):c&&(c=Ks(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Pn(p,_,S,U)),(_=-1<c?p[c]:null)&&Gs(_))}function Gs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ye])$n(p.i,c);else{var _=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(_,S,c.capture):p.detachEvent?p.detachEvent(ts(_),S):p.addListener&&p.removeListener&&p.removeListener(S),(_=Ks(p))?($n(_,c),_.h==0&&(_.src=null,p[An]=null)):Sn(c)}}}function ts(c){return c in Wt?Wt[c]:Wt[c]="on"+c}function Ph(c,p){if(c.da)c=!0;else{p=new At(p,this);var _=c.listener,S=c.ha||c.src;c.fa&&Gs(c),c=_.call(S,p)}return c}function Ks(c){return c=c[An],c instanceof Un?c:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function su(c){return typeof c=="function"?c:(c[vo]||(c[vo]=function(p){return c.handleEvent(p)}),c[vo])}function ue(){it.call(this),this.i=new Un(this),this.M=this,this.F=null}Q(ue,it),ue.prototype[ye]=!0,ue.prototype.removeEventListener=function(c,p,_,S){_o(this,c,p,_,S)};function Gt(c,p){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new W(p,c);else if(p instanceof W)p.target=p.target||c;else{var U=p;p=new W(S,c),M(p,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var nt=p.g=_[H];U=fn(nt,S,!0,p)&&U}if(nt=p.g=c,U=fn(nt,S,!0,p)&&U,U=fn(nt,S,!1,p)&&U,_)for(H=0;H<_.length;H++)nt=p.g=_[H],U=fn(nt,S,!1,p)&&U}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],S=0;S<_.length;S++)Sn(_[S]);delete c.g[p],c.h--}}this.F=null},ue.prototype.K=function(c,p,_,S){return this.i.add(String(c),p,!1,_,S)},ue.prototype.L=function(c,p,_,S){return this.i.add(String(c),p,!0,_,S)};function fn(c,p,_,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,H=0;H<p.length;++H){var nt=p[H];if(nt&&!nt.da&&nt.capture==_){var Lt=nt.listener,we=nt.ha||nt.src;nt.fa&&$n(c.i,nt),U=Lt.call(we,S)!==!1&&U}}return U&&!S.defaultPrevented}function Qe(c,p,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function au(c){c.g=Qe(()=>{c.g=null,c.i&&(c.i=!1,au(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class zh extends it{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(c){it.call(this),this.h=c,this.g={}}Q(es,it);var ns=[];function is(c){ht(c.g,function(p,_){this.g.hasOwnProperty(_)&&Gs(p)},c),c.g={}}es.prototype.N=function(){es.aa.N.call(this),is(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,Qs=m.JSON.parse,rs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Eo(){}Eo.prototype.h=null;function To(c){return c.h||(c.h=c.i())}function So(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ti(){W.call(this,"d")}Q(Ti,W);function Ao(){W.call(this,"c")}Q(Ao,W);var Xn={},bo=null;function ir(){return bo=bo||new ue}Xn.La="serverreachability";function Ys(c){W.call(this,Xn.La,c)}Q(Ys,W);function rr(c){const p=ir();Gt(p,new Ys(p))}Xn.STAT_EVENT="statevent";function ou(c,p){W.call(this,Xn.STAT_EVENT,c),this.stat=p}Q(ou,W);function ie(c){const p=ir();Gt(p,new ou(p,c))}Xn.Ma="timingevent";function Re(c,p){W.call(this,Xn.Ma,c),this.size=p}Q(Re,W);function _e(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function Ro(c,p,_,S,U,H){c.info(function(){if(c.g)if(H)for(var nt="",Lt=H.split("&"),we=0;we<Lt.length;we++){var Ut=Lt[we].split("=");if(1<Ut.length){var xe=Ut[0];Ut=Ut[1];var Ce=xe.split("_");nt=2<=Ce.length&&Ce[1]=="type"?nt+(xe+"="+Ut+"&"):nt+(xe+"=redacted&")}}else nt=null;else nt=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+p+`
`+_+`
`+nt})}function jh(c,p,_,S,U,H,nt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+p+`
`+_+`
`+H+" "+nt})}function sr(c,p,_,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ss(c,_)+(S?" "+S:"")})}function lu(c,p){c.info(function(){return"TIMEOUT: "+p})}bn.prototype.info=function(){};function ss(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var nt=1;nt<U.length;nt++)U[nt]=""}}}}return zn(_)}catch{return p}}var ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}Q(Jn,Eo),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function tn(c,p,_,S){this.j=c,this.i=p,this.l=_,this.R=S||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var wo={},$s={};function jn(c,p,_){c.L=1,c.v=cs(dn(p)),c.m=_,c.P=!0,Ai(c,null)}function Ai(c,p){c.F=Date.now(),as(c),c.A=dn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Mo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new fe,c.g=bu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new zh(R(c.Y,c,c.g),c.O)),p=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(ns[0]=U.toString()),U=ns);for(var H=0;H<U.length;H++){var nt=Wr(_,U[H],S||p.handleEvent,!1,p.h||p);if(!nt)break;p.g[nt.key]=nt}p=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),rr(),Ro(c.i,c.u,c.A,c.l,c.R,c.m)}tn.prototype.ca=function(c){c=c.target;const p=this.M;p&&In(c)==3?p.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)t:{const Ce=In(this.g);var p=this.g.Ba();const Di=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||Ce!=4||p==7||(p==8||0>=Di?rr(3):rr(2)),or(this);var _=this.g.Z();this.X=_;e:if(uu(this)){var S=gu(this.g);c="";var U=S.length,H=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Wn(this);var nt="";break e}this.h.i=new m.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(H&&p==U-1)});S.length=0,this.h.g+=c,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,jh(this.i,this.u,this.A,this.l,this.R,Ce,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,we=this.g;if((Lt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Lt)){var Ut=Lt;break e}}Ut=null}if(_=Ut)sr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,_);else{this.o=!1,this.s=3,ie(12),Pe(this),Wn(this);break t}}if(this.P){_=!0;let ze;for(;!this.J&&this.C<nt.length;)if(ze=cu(this,nt),ze==$s){Ce==4&&(this.s=4,ie(14),_=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==wo){this.s=4,ie(15),sr(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else sr(this.i,this.l,ze,null),os(this,ze);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||nt.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)sr(this.i,this.l,nt,"[Invalid Chunked Response]"),Pe(this),Wn(this);else if(0<nt.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),_s(xe),xe.M=!0,ie(11))}}else sr(this.i,this.l,nt,null),os(this,nt);Ce==4&&Pe(this),this.o&&!this.J&&(Ce==4?Tu(this.j,this):(this.o=!1,as(this)))}else Gh(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Pe(this),Wn(this)}}}catch{}finally{}};function uu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cu(c,p){var _=c.C,S=p.indexOf(`
`,_);return S==-1?$s:(_=Number(p.substring(_,S)),isNaN(_)?wo:(S+=1,S+_>p.length?$s:(p=p.slice(S,S+_),c.C=S+_,p)))}tn.prototype.cancel=function(){this.J=!0,Pe(this)};function as(c){c.S=Date.now()+c.I,hu(c,c.I)}function hu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_e(R(c.ba,c),p)}function or(c){c.B&&(m.clearTimeout(c.B),c.B=null)}tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(lu(this.i,this.A),this.L!=2&&(rr(),ie(17)),Pe(this),this.s=2,Wn(this)):hu(this,this.S-c)};function Wn(c){c.j.G==0||c.J||Tu(c.j,c)}function Pe(c){or(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,is(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function os(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Co(_.h,c))){if(!c.K&&Co(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)oa(_),sa(_);else break t;Uo(_),ie(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(R(_.Za,_),6e3));if(1>=Zs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Oi(_,11)}else if((c.K||_.g==c)&&oa(_),!dt(p))for(U=_.Da.g.parse(p),p=0;p<U.length;p++){let Ut=U[p];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const xe=Ut[3];xe!=null&&(_.la=xe,_.j.info("VER="+_.la));const Ce=Ut[4];Ce!=null&&(_.Aa=Ce,_.j.info("SVER="+_.Aa));const Di=Ut[5];Di!=null&&typeof Di=="number"&&0<Di&&(S=1.5*Di,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const ze=c.g;if(ze){const ai=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var H=S.h;H.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Js(H,H.h),H.h=null))}if(S.D){const zo=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(S.ya=zo,$t(S.I,S.D,zo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var nt=c;if(S.qa=Au(S,S.J?S.ia:null,S.W),nt.K){en(S.h,nt);var Lt=nt,we=S.L;we&&(Lt.I=we),Lt.B&&(or(Lt),as(Lt)),S.g=nt}else vu(S);0<_.i.length&&aa(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Oi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Oi(_,7):ko(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}rr(4)}catch{}}var fu=class{constructor(c,p){this.g=c,this.map=p}};function bi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Zs(c){return c.h?1:c.g?c.g.size:0}function Co(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Js(c,p){c.g?c.g.add(p):c.h=p}function en(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}bi.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Io(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return tt(c.i)}function Bh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,S=0;S<_;S++)p.push(c[S]);return p}p=[],_=0;for(S in c)p[_++]=c[S];return p}function Ws(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const S in c)p[_++]=S;return p}}}function No(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=Ws(c),S=Bh(c),U=S.length,H=0;H<U;H++)p.call(void 0,S[H],_&&_[H],c)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hh(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var H=c[_].substring(0,S);U=c[_].substring(S+1)}else H=c[_];p(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ve(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ve){this.h=c.h,us(this,c.j),this.o=c.o,this.g=c.g,lr(this,c.s),this.l=c.l;var p=c.i,_=new wi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Ri(this,_),this.m=c.m}else c&&(p=String(c).match(ls))?(this.h=!1,us(this,p[1]||"",!0),this.o=Rn(p[2]||""),this.g=Rn(p[3]||"",!0),lr(this,p[4]),this.l=Rn(p[5]||"",!0),Ri(this,p[6]||"",!0),this.m=Rn(p[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}ve.prototype.toString=function(){var c=[],p=this.j;p&&c.push(hs(p,Oo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(hs(p,Oo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(hs(_,_.charAt(0)=="/"?qh:Do,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",hs(_,ta)),c.join("")};function dn(c){return new ve(c)}function us(c,p,_){c.j=_?Rn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function lr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Ri(c,p,_){p instanceof wi?(c.i=p,mu(c.i,c.h)):(_||(p=hs(p,Fh)),c.i=new wi(p,c.h))}function $t(c,p,_){c.i.set(p,_)}function cs(c){return $t(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,du),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,Do=/[#\?:]/g,qh=/[#\?]/g,Fh=/[#\?@]/g,ta=/#/g;function wi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hh(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=wi.prototype,r.add=function(c,p){wn(this),this.i=null,c=ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Ci(c,p){wn(c),p=ti(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Ii(c,p){return wn(c),p=ti(c,p),c.g.has(p)}r.forEach=function(c,p){wn(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(p,U,S,this)},this)},this)},r.na=function(){wn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let S=0;S<p.length;S++){const U=c[S];for(let H=0;H<U.length;H++)_.push(p[S])}return _},r.V=function(c){wn(this);let p=[];if(typeof c=="string")Ii(this,c)&&(p=p.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return wn(this),this.i=null,c=ti(this,c),Ii(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Mo(c,p,_){Ci(c,p),0<_.length&&(c.i=null,c.g.set(ti(c,p),tt(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var S=p[_];const H=encodeURIComponent(String(S)),nt=this.V(S);for(S=0;S<nt.length;S++){var U=H;nt[S]!==""&&(U+="="+encodeURIComponent(String(nt[S]))),c.push(U)}}return this.i=c.join("&")};function ti(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function mu(c,p){p&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Ci(this,S),Mo(this,U,_))},c)),c.j=p}function fs(c,p){const _=new bn;if(m.Image){const S=new Image;S.onload=q(Cn,_,"TestLoadImage: loaded",!0,p,S),S.onerror=q(Cn,_,"TestLoadImage: error",!1,p,S),S.onabort=q(Cn,_,"TestLoadImage: abort",!1,p,S),S.ontimeout=q(Cn,_,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Bn(c,p){const _=new bn,S=new AbortController,U=setTimeout(()=>{S.abort(),Cn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?Cn(_,"TestPingServer: ok",!0,p):Cn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Cn(_,"TestPingServer: error",!1,p)})}function Cn(c,p,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function ds(){this.g=new rs}function ei(c,p,_){const S=_||"";try{No(c,function(U,H){let nt=U;y(U)&&(nt=zn(U)),p.push(S+H+"="+encodeURIComponent(nt))})}catch(U){throw p.push(S+"type="+encodeURIComponent("_badmap")),U}}function ur(c){this.l=c.Ub||null,this.j=c.eb||!1}Q(ur,Eo),ur.prototype.g=function(){return new Ni(this.l,this.j)},ur.prototype.i=(function(c){return function(){return c}})({});function Ni(c,p){ue.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(Ni,ue),r=Ni.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,ii(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ni(this):ii(this),this.readyState==3&&xo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},r.Qa=function(c){this.g&&(this.response=c,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vo(c){let p="";return ht(c,function(_,S){p+=S,p+=":",p+=_,p+=`\r
`}),p}function Me(c,p,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Vo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$t(c,p,_))}function Ft(c){ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(Ft,ue);var ea=/^https?$/i,ms=["POST","PUT"];r=Ft.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?To(this.o):To(Zn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){pu(this,H);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ms,p,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of _)this.g.setRequestHeader(H,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){pu(this,H)}};function pu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,na(c),ri(c)}function na(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},r.bb=function(){ia(this)};function ia(c){if(c.h&&typeof f<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Qe(c.Ea,0,c);else if(Gt(c,"readystatechange"),In(c)==4){c.h=!1;try{const nt=c.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var S;if(S=nt===0){var U=String(c.D).match(ls)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),S=!ea.test(U?U.toLowerCase():"")}_=S}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var H=2<In(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",na(c)}}finally{ri(c)}}}}function ri(c,p){if(c.g){ps(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Gt(c,"ready");try{_.onreadystatechange=S}catch{}}}function ps(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Qs(p)}};function gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gh(c){const p={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(dt(c[S]))continue;var _=x(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=p[U]||[];p[U]=H,H.push(_)}O(p,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ra(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,c),this.cb=gs("retryDelaySeedMs",1e4,c),this.Wa=gs("forwardChannelMaxRetries",2,c),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(c&&c.concurrentRequestLimit),this.Da=new ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ra.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,S){ie(0),this.W=c,this.H=p||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Au(this,null,this.W),aa(this)};function ko(c){if(yu(c),c.G==3){var p=c.U++,_=dn(c.I);if($t(_,"SID",c.K),$t(_,"RID",p),$t(_,"TYPE","terminate"),ys(c,_),p=new tn(c,c.j,p),p.L=2,p.v=cs(dn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=bu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),as(p)}Su(c)}function sa(c){c.g&&(_s(c),c.g.cancel(),c.g=null)}function yu(c){sa(c),c.u&&(m.clearTimeout(c.u),c.u=null),oa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function aa(c){if(!Xs(c.h)&&!c.s){c.s=!0;var p=c.Ga;et||N(),at||(et(),at=!0),Vt.add(p,c),c.B=0}}function Kh(c,p){return Zs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_e(R(c.Ga,c,p),Po(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new tn(this,this.j,c);let H=this.o;if(this.S&&(H?(H=A(H),M(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=_u(this,U,p),_=dn(this.I),$t(_,"RID",c),$t(_,"CVER",22),this.D&&$t(_,"X-HTTP-Session-Id",this.D),ys(this,_),H&&(this.O?p="headers="+encodeURIComponent(String(Vo(H)))+"&"+p:this.m&&Me(_,this.m,H)),Js(this.h,U),this.Ua&&$t(_,"TYPE","init"),this.P?($t(_,"$req",p),$t(_,"SID","null"),U.T=!0,jn(U,_,null)):jn(U,_,p),this.G=2}}else this.G==3&&(c?Lo(this,c):this.i.length==0||Xs(this.h)||Lo(this))};function Lo(c,p){var _;p?_=p.l:_=c.U++;const S=dn(c.I);$t(S,"SID",c.K),$t(S,"RID",_),$t(S,"AID",c.T),ys(c,S),c.m&&c.o&&Me(S,c.m,c.o),_=new tn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=_u(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Js(c.h,_),jn(_,S,p)}function ys(c,p){c.H&&ht(c.H,function(_,S){$t(p,S,_)}),c.l&&No({},function(_,S){$t(p,S,_)})}function _u(c,p,_){_=Math.min(c.i.length,_);var S=c.l?R(c.l.Na,c.l,c):null;t:{var U=c.i;let H=-1;for(;;){const nt=["count="+_];H==-1?0<_?(H=U[0].g,nt.push("ofs="+H)):H=0:nt.push("ofs="+H);let Lt=!0;for(let we=0;we<_;we++){let Ut=U[we].g;const xe=U[we].map;if(Ut-=H,0>Ut)H=Math.max(0,U[we].g-100),Lt=!1;else try{ei(xe,nt,"req"+Ut+"_")}catch{S&&S(xe)}}if(Lt){S=nt.join("&");break t}}}return c=c.i.splice(0,_),p.D=c,S}function vu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;et||N(),at||(et(),at=!0),Vt.add(p,c),c.v=0}}function Uo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_e(R(c.Fa,c),Po(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_e(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),sa(this),Eu(this))};function _s(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Eu(c){c.g=new tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=dn(c.qa);$t(p,"RID","rpc"),$t(p,"SID",c.K),$t(p,"AID",c.T),$t(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&$t(p,"TO",c.ja),$t(p,"TYPE","xmlhttp"),ys(c,p),c.m&&c.o&&Me(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=cs(dn(p)),_.m=null,_.P=!0,Ai(_,c)}r.Za=function(){this.C!=null&&(this.C=null,sa(this),Uo(this),ie(19))};function oa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Tu(c,p){var _=null;if(c.g==p){oa(c),_s(c),c.g=null;var S=2}else if(Co(c.h,p))_=p.D,en(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var U=c.B;S=ir(),Gt(S,new Re(S,_)),aa(c)}else vu(c);else if(U=p.s,U==3||U==0&&0<p.X||!(S==1&&Kh(c,p)||S==2&&Uo(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),U){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function Po(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Oi(c,p){if(c.j.info("Error code "+p),p==2){var _=R(c.fb,c),S=c.Xa;const U=!S;S=new ve(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||us(S,"https"),cs(S),U?fs(S.toString(),_):Bn(S.toString(),_)}else ie(2);c.G=0,c.l&&c.l.sa(p),Su(c),yu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Su(c){if(c.G=0,c.ka=[],c.l){const p=Io(c.h);(p.length!=0||c.i.length!=0)&&(X(c.ka,p),X(c.ka,c.i),c.h.i.length=0,tt(c.i),c.i.length=0),c.l.ra()}}function Au(c,p,_){var S=_ instanceof ve?dn(_):new ve(_);if(S.g!="")p&&(S.g=p+"."+S.g),lr(S,S.s);else{var U=m.location;S=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var H=new ve(null);S&&us(H,S),p&&(H.g=p),U&&lr(H,U),_&&(H.l=_),S=H}return _=c.D,p=c.ya,_&&p&&$t(S,_,p),$t(S,"VER",c.la),ys(c,S),S}function bu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ft(new ur({eb:_})):new Ft(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function la(){}la.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){ue.call(this),this.g=new ra(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!dt(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!dt(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new si(this)}Q(nn,ue),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){ko(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=zn(c),c=_);p.i.push(new fu(p.Ya++,c)),p.G==3&&aa(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,nn.aa.N.call(this)};function wu(c){Ti.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}Q(wu,Ti);function Cu(){Ao.call(this),this.status=1}Q(Cu,Ao);function si(c){this.g=c}Q(si,Ru),si.prototype.ua=function(){Gt(this.g,"a")},si.prototype.ta=function(c){Gt(this.g,new wu(c))},si.prototype.sa=function(c){Gt(this.g,new Cu)},si.prototype.ra=function(){Gt(this.g,"b")},la.prototype.createWebChannel=la.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,AT=function(){return new la},ST=function(){return ir()},TT=Xn,Tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,Uc=ar,Si.COMPLETE="complete",ET=Si,So.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",ue.prototype.listen=ue.prototype.K,Ol=So,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,vT=Ft}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const Sv="@firebase/firestore",Av="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Xm("@firebase/firestore");function za(){return Bs.logLevel}function lt(r,...t){if(Bs.logLevel<=xt.DEBUG){const n=t.map(Wm);Bs.debug(`Firestore (${co}): ${r}`,...n)}}function Zi(r,...t){if(Bs.logLevel<=xt.ERROR){const n=t.map(Wm);Bs.error(`Firestore (${co}): ${r}`,...n)}}function to(r,...t){if(Bs.logLevel<=xt.WARN){const n=t.map(Wm);Bs.warn(`Firestore (${co}): ${r}`,...n)}}function Wm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,bT(r,s,n)}function bT(r,t,n){let s=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Zi(s),new Error(s)}function oe(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||bT(t,o,s)}function jt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends tr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ze.UNAUTHENTICATED)))}shutdown(){}}class wR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class CR{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){oe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Us,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Us)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(oe(typeof s.accessToken=="string",31837,{l:s}),new RT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return oe(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class IR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new IR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){oe(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function kt(r,t){return r<t?-1:r>t?1:0}function Sm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return $d(o)===$d(u)?kt(o,u):$d(o)?1:-1}return kt(r.length,t.length)}const MR=55296,xR=57343;function $d(r){const t=r.charCodeAt(0);return t>=MR&&t<=xR}function eo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="__name__";class fi{constructor(t,n,s){n===void 0?n=0:n>t.length&&wt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&wt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return fi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof fi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const s=fi.isNumericId(t),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(t).compare(fi.extractNumericId(n)):Sm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class ae extends fi{construct(t,n,s){return new ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new gt(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const VR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends fi{construct(t,n,s){return new an(t,n,s)}static isValidIdentifier(t){return VR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rv}static keyField(){return new an([Rv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new gt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new gt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new gt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new gt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(ae.fromString(t))}static fromName(t){return new Et(ae.fromString(t).popFirst(5))}static empty(){return new Et(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new ae(t.slice()))}}function kR(r,t,n,s){if(t===!0&&s===!0)throw new gt(rt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function wv(r){if(Et.isDocumentKey(r))throw new gt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function LR(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function UR(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":wt(12329,{type:typeof r})}function Am(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new gt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=UR(r);throw new gt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,t){const n={typeString:r};return t&&(n.value=t),n}function Xl(r,t){if(!LR(r))throw new gt(rt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new gt(rt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-62135596800,Iv=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(t){return Ae.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Iv);return new Ae(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new gt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Cv)throw new gt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xl(t,Ae._jsonSchema))return new Ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:be("string",Ae._jsonSchemaVersion),seconds:be("number"),nanoseconds:be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Ae(0,0))}static max(){return new Rt(new Ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=-1;function PR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(s===1e9?new Ae(n+1,0):new Ae(n,s));return new Kr(o,Et.empty(),t)}function zR(r){return new Kr(r.readTime,r.key,Bl)}class Kr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(Rt.min(),Et.empty(),Bl)}static max(){return new Kr(Rt.max(),Et.empty(),Bl)}}function jR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Et.comparator(r.documentKey,t.documentKey),n!==0?n:kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(r){if(r.code!==rt.FAILED_PRECONDITION||r.message!==BR)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,s)=>{n(t)}))}static reject(t){return new J(((n,s)=>{s(t)}))}static waitFor(t){return new J(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=J.resolve(!1);for(const s of t)n=n.next((o=>o?J.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new J(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new J(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function qR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=-1;function ph(r){return r==null}function bm(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="";function GR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Nv(t)),t=KR(r.get(n),t);return Nv(t)}function KR(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case CT:n+="";break;default:n+=u}}return n}function Nv(r){return r+CT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Zl(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function QR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,n){this.comparator=t,this.root=n||Fe.EMPTY}insert(t,n){return new ge(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Fe.RED,this.left=o??Fe.EMPTY,this.right=u??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Fe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Fe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(t){return new Dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class Dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this.fields=t,t.sort(an.comparator)}static empty(){return new Ur([])}unionWith(t){let n=new De(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Ur(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IT("Invalid base64 string: "+u):u}})(t);return new Ge(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ge(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const YR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(r){if(oe(!!r,39018),typeof r=="string"){let t=0;const n=YR.exec(r);if(oe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yr(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="server_timestamp",OT="__type__",DT="__previous_value__",MT="__local_write_time__";function tp(r){return(r?.mapValue?.fields||{})[OT]?.stringValue===NT}function gh(r){const t=r.mapValue.fields[DT];return tp(t)?gh(t):t}function Hl(r){const t=Qr(r.mapValue.fields[MT].timestampValue);return new Ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Yc="(default)";class ql{constructor(t,n){this.projectId=t,this.database=n||Yc}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof ql&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="__type__",ZR="__max__",Oc={mapValue:{}},JR="__vector__",Rm="value";function $r(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tp(r)?4:tw(r)?9007199254740991:WR(r)?10:11:wt(28295,{value:r})}function _i(r,t){if(r===t)return!0;const n=$r(r);if(n!==$r(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Hl(r).isEqual(Hl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Qr(o.timestampValue),m=Qr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Yr(o.bytesValue).isEqual(Yr(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),m=pe(u.doubleValue);return f===m?bm(f)===bm(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],_i);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Ov(f)!==Ov(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!_i(f[g],m[g])))return!1;return!0})(r,t);default:return wt(52216,{left:r})}}function Fl(r,t){return(r.values||[]).find((n=>_i(n,t)))!==void 0}function no(r,t){if(r===t)return 0;const n=$r(r),s=$r(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=pe(u.integerValue||u.doubleValue),g=pe(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return Mv(r.timestampValue,t.timestampValue);case 4:return Mv(Hl(r),Hl(t));case 5:return Sm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Yr(u),g=Yr(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=kt(m[y],g[y]);if(E!==0)return E}return kt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=kt(pe(u.latitude),pe(f.latitude));return m!==0?m:kt(pe(u.longitude),pe(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return xv(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Rm]?.arrayValue,E=g[Rm]?.arrayValue,b=kt(y?.values?.length||0,E?.values?.length||0);return b!==0?b:xv(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Oc.mapValue&&f===Oc.mapValue)return 0;if(u===Oc.mapValue)return 1;if(f===Oc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const R=Sm(g[b],E[b]);if(R!==0)return R;const q=no(m[g[b]],y[E[b]]);if(q!==0)return q}return kt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw wt(23264,{he:n})}}function Mv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const n=Qr(r),s=Qr(t),o=kt(n.seconds,s.seconds);return o!==0?o:kt(n.nanos,s.nanos)}function xv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=no(n[o],s[o]);if(u)return u}return kt(n.length,s.length)}function io(r){return wm(r)}function wm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Yr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Et.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=wm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${wm(n.fields[f])}`;return o+"}"})(r.mapValue):wt(61005,{value:r})}function Pc(r){switch($r(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(r);return t?16+Pc(t):16;case 5:return 2*r.stringValue.length;case 6:return Yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Pc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Zl(s.fields,((u,f)=>{o+=u.length+Pc(f)})),o})(r.mapValue);default:throw wt(13486,{value:r})}}function Cm(r){return!!r&&"integerValue"in r}function ep(r){return!!r&&"arrayValue"in r}function Vv(r){return!!r&&"nullValue"in r}function kv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xd(r){return!!r&&"mapValue"in r}function WR(r){return(r?.mapValue?.fields||{})[XR]?.stringValue===JR}function kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Zl(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=kl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kl(r.arrayValue.values[n]);return t}return{...r}}function tw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ZR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.value=t}static empty(){return new di({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Xd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=kl(n)}setAll(t){let n=an.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=kl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return _i(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Xd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Zl(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new di(kl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,Rt.min(),Rt.min(),Rt.min(),di.empty(),0)}static newFoundDocument(t,n,s,o){return new Je(t,1,n,Rt.min(),s,o,0)}static newNoDocument(t,n){return new Je(t,2,n,Rt.min(),Rt.min(),di.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,Rt.min(),Rt.min(),di.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n){this.position=t,this.inclusive=n}}function Lv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=Et.comparator(Et.fromName(f.referenceValue),n.key):s=no(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Uv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_i(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n="asc"){this.field=t,this.dir=n}}function ew(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{}class Oe extends xT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new iw(t,n,s):n==="array-contains"?new aw(t,s):n==="in"?new ow(t,s):n==="not-in"?new lw(t,s):n==="array-contains-any"?new uw(t,s):new Oe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new rw(t,s):new sw(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends xT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new vi(t,n)}matches(t){return VT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VT(r){return r.op==="and"}function kT(r){return nw(r)&&VT(r)}function nw(r){for(const t of r.filters)if(t instanceof vi)return!1;return!0}function Im(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+io(r.value);if(kT(r))return r.filters.map((t=>Im(t))).join(",");{const t=r.filters.map((n=>Im(n))).join(",");return`${r.op}(${t})`}}function LT(r,t){return r instanceof Oe?(function(s,o){return o instanceof Oe&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)})(r,t):r instanceof vi?(function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&LT(f,o.filters[m])),!0):!1})(r,t):void wt(19439)}function UT(r){return r instanceof Oe?(function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`})(r):r instanceof vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(UT).join(" ,")+"}"})(r):"Filter"}class iw extends Oe{constructor(t,n,s){super(t,n,s),this.key=Et.fromName(s.referenceValue)}matches(t){const n=Et.comparator(t.key,this.key);return this.matchesComparison(n)}}class rw extends Oe{constructor(t,n){super(t,"in",n),this.keys=PT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class sw extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=PT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function PT(r,t){return(t.arrayValue?.values||[]).map((n=>Et.fromName(n.referenceValue)))}class aw extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ep(n)&&Fl(n.arrayValue,this.value)}}class ow extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class lw extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fl(this.value.arrayValue,n)}}class uw extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Fl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Pv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new cw(r,t,n,s,o,u,f)}function np(r){const t=jt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Im(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ph(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>io(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>io(s))).join(",")),t.Te=n}return t.Te}function ip(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ew(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!LT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Uv(r.startAt,t.startAt)&&Uv(r.endAt,t.endAt)}function Nm(r){return Et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hw(r,t,n,s,o,u,f,m){return new yh(r,t,n,s,o,u,f,m)}function zT(r){return new yh(r)}function zv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fw(r){return r.collectionGroup!==null}function Ll(r){const t=jt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new De(an.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Xc(u,s))})),n.has(an.keyField().canonicalString())||t.Ie.push(new Xc(an.keyField(),s))}return t.Ie}function pi(r){const t=jt(r);return t.Ee||(t.Ee=dw(t,Ll(r))),t.Ee}function dw(r,t){if(r.limitType==="F")return Pv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Xc(o.field,u)}));const n=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return Pv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Om(r,t,n){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function _h(r,t){return ip(pi(r),pi(t))&&r.limitType===t.limitType}function jT(r){return`${np(pi(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>UT(o))).join(", ")}]`),ph(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>io(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>io(o))).join(",")),`Target(${s})`})(pi(r))}; limitType=${r.limitType})`}function vh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Et.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Ll(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=Lv(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Ll(s),o)||s.endAt&&!(function(f,m,g){const y=Lv(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Ll(s),o))})(r,t)}function mw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BT(r){return(t,n)=>{let s=!1;for(const o of Ll(r)){const u=pw(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function pw(r,t,n){const s=r.field.isKeyField()?Et.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?no(g,y):wt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Zl(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return QR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new ge(Et.comparator);function Xr(){return gw}const HT=new ge(Et.comparator);function Dl(...r){let t=HT;for(const n of r)t=t.insert(n.key,n);return t}function yw(r){let t=HT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ls(){return Ul()}function qT(){return Ul()}function Ul(){return new qs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const _w=new De(Et.comparator);function Bt(...r){let t=_w;for(const n of r)t=t.add(n);return t}const vw=new De(kt);function Ew(){return vw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bm(t)?"-0":t}}function Sw(r){return{integerValue:""+r}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this._=void 0}}function Aw(r,t,n){return r instanceof Dm?(function(o,u){const f={fields:{[OT]:{stringValue:NT},[MT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tp(u)&&(u=gh(u)),u&&(f.fields[DT]=u),{mapValue:f}})(n,t):r instanceof Zc?FT(r,t):r instanceof Jc?GT(r,t):(function(o,u){const f=Rw(o,u),m=jv(f)+jv(o.Ae);return Cm(f)&&Cm(o.Ae)?Sw(m):Tw(o.serializer,m)})(r,t)}function bw(r,t,n){return r instanceof Zc?FT(r,t):r instanceof Jc?GT(r,t):n}function Rw(r,t){return r instanceof Mm?(function(s){return Cm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Dm extends Eh{}class Zc extends Eh{constructor(t){super(),this.elements=t}}function FT(r,t){const n=KT(t);for(const s of r.elements)n.some((o=>_i(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Jc extends Eh{constructor(t){super(),this.elements=t}}function GT(r,t){let n=KT(t);for(const s of r.elements)n=n.filter((o=>!_i(o,s)));return{arrayValue:{values:n}}}class Mm extends Eh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function jv(r){return pe(r.integerValue||r.doubleValue)}function KT(r){return ep(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ww(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Zc&&o instanceof Zc||s instanceof Jc&&o instanceof Jc?eo(s.elements,o.elements,_i):s instanceof Mm&&o instanceof Mm?_i(s.Ae,o.Ae):s instanceof Dm&&o instanceof Dm})(r.transform,t.transform)}class Ps{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ps}static exists(t){return new Ps(void 0,t)}static updateTime(t){return new Ps(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class rp{}function QT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Iw(r.key,Ps.none()):new sp(r.key,r.data,Ps.none());{const n=r.data,s=di.empty();let o=new De(an.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Th(r.key,s,new Ur(o.toArray()),Ps.none())}}function Cw(r,t,n){r instanceof sp?(function(o,u,f){const m=o.value.clone(),g=Hv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Th?(function(o,u,f){if(!zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Hv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(YT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Pl(r,t,n,s){return r instanceof sp?(function(u,f,m,g){if(!zc(u.precondition,f))return m;const y=u.value.clone(),E=qv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof Th?(function(u,f,m,g){if(!zc(u.precondition,f))return m;const y=qv(u.fieldTransforms,g,f),E=f.data;return E.setAll(YT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,t,n,s):(function(u,f,m){return zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function Bv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&eo(s,o,((u,f)=>ww(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class sp extends rp{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Th extends rp{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function YT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function Hv(r,t,n){const s=new Map;oe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,bw(f,m,n[o]))}return s}function qv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Aw(u,f,t))}return s}class Iw extends rp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Cw(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Pl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Pl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=qT();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=QT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((n,s)=>Bv(n,s)))&&eo(this.baseMutations,t.baseMutations,((n,s)=>Bv(n,s)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,zt;function $T(r){if(r===void 0)return Zi("GRPC error has no .code"),rt.UNKNOWN;switch(r){case Se.OK:return rt.OK;case Se.CANCELLED:return rt.CANCELLED;case Se.UNKNOWN:return rt.UNKNOWN;case Se.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Se.INTERNAL:return rt.INTERNAL;case Se.UNAVAILABLE:return rt.UNAVAILABLE;case Se.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Se.NOT_FOUND:return rt.NOT_FOUND;case Se.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Se.ABORTED:return rt.ABORTED;case Se.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Se.DATA_LOSS:return rt.DATA_LOSS;default:return wt(39323,{code:r})}}(zt=Se||(Se={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Hr([4294967295,4294967295],0);function Fv(r){const t=Mw().encode(r),n=new _T;return n.update(t),new Uint8Array(n.digest())}function Gv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Hr([n,s],0),new Hr([o,u],0)]}class ap{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(s<0)throw new Ml(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Hr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Hr.fromNumber(s)));return o.compare(xw)===1&&(o=new Hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Fv(t),[s,o]=Gv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new ap(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=Fv(t),[s,o]=Gv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Sh(Rt.min(),o,new ge(kt),Xr(),Bt())}}class Jl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Jl(s,n,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class XT{constructor(t,n){this.targetId=t,this.Ce=n}}class ZT{constructor(t,n,s=Ge.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Kv{constructor(){this.ve=0,this.Fe=Qv(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),n=Bt(),s=Bt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:wt(38017,{changeType:u})}})),new Jl(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Qv()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Vw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Xr(),this.Je=Dc(),this.He=Dc(),this.Ye=new ge(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:wt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Nm(u))if(s===0){const f=new Et(u.path);this.et(n,f,Je.newNoDocument(f,Rt.min()))}else oe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Yr(s).toUint8Array()}catch(g){if(g instanceof IT)return to("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new ap(f,o,u)}catch(g){return to(g instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Nm(m.target)){const g=new Et(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Je.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Bt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Sh(t,n,this.Ye,this.je,s);return this.je=Xr(),this.Je=Dc(),this.He=Dc(),this.Ye=new ge(kt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Kv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new De(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new De(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Kv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Dc(){return new ge(Et.comparator)}function Qv(){return new ge(Et.comparator)}const kw={asc:"ASCENDING",desc:"DESCENDING"},Lw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uw={and:"AND",or:"OR"};class Pw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function xm(r,t){return r.useProto3Json||ph(t)?t:{value:t}}function zw(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jw(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Ga(r){return oe(!!r,49232),Rt.fromTimestamp((function(n){const s=Qr(n);return new Ae(s.seconds,s.nanos)})(r))}function Bw(r,t){return Vm(r,t).canonicalString()}function Vm(r,t){const n=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function JT(r){const t=ae.fromString(r);return oe(i0(t),10190,{key:t.toString()}),t}function Zd(r,t){const n=JT(t);if(n.get(1)!==r.databaseId.projectId)throw new gt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new gt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Et(t0(n))}function WT(r,t){return Bw(r.databaseId,t)}function Hw(r){const t=JT(r);return t.length===4?ae.emptyPath():t0(t)}function Yv(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function t0(r){return oe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function qw(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:wt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(oe(E===void 0||typeof E=="string",58123),Ge.fromBase64String(E||"")):(oe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ge.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?rt.UNKNOWN:$T(y.code);return new gt(E,y.message||"")})(f);n=new ZT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zd(r,s.document.name),u=Ga(s.document.updateTime),f=s.document.createTime?Ga(s.document.createTime):Rt.min(),m=new di({mapValue:{fields:s.document.fields}}),g=Je.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new jc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Zd(r,s.document),u=s.readTime?Ga(s.readTime):Rt.min(),f=Je.newNoDocument(o,u),m=s.removedTargetIds||[];n=new jc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Zd(r,s.document),u=s.removedTargetIds||[];n=new jc([],u,o,null)}else{if(!("filter"in t))return wt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Dw(o,u),m=s.targetId;n=new XT(m,f)}}return n}function Fw(r,t){return{documents:[WT(r,t.path)]}}function Gw(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=WT(r,o);const u=(function(y){if(y.length!==0)return n0(vi.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:Ba(R.field),direction:Yw(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=xm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function Kw(r){let t=Hw(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){oe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const R=e0(b);return R instanceof vi&&kT(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((R=>(function(Q){return new Xc(Ha(Q.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let R;return R=typeof b=="object"?b.value:b,ph(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(b){const R=!!b.before,q=b.values||[];return new $c(q,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const R=!b.before,q=b.values||[];return new $c(q,R)})(n.endAt)),hw(t,o,f,u,m,"F",g,y)}function Qw(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function e0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ha(n.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(n.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ha(n.unaryFilter.field);return Oe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ha(n.unaryFilter.field);return Oe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Oe.create(Ha(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return vi.create(n.compositeFilter.filters.map((s=>e0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(n.compositeFilter.op))})(r):wt(30097,{filter:r})}function Yw(r){return kw[r]}function $w(r){return Lw[r]}function Xw(r){return Uw[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function Ha(r){return an.fromServerFormat(r.fieldPath)}function n0(r){return r instanceof Oe?(function(n){if(n.op==="=="){if(kv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(Vv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(Vv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:$w(n.op),value:n.value}}})(r):r instanceof vi?(function(n){const s=n.getFilters().map((o=>n0(o)));return s.length===1?s[0]:{compositeFilter:{op:Xw(n.op),filters:s}}})(r):wt(54877,{filter:r})}function i0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,n,s,o,u=Rt.min(),f=Rt.min(),m=Ge.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t){this.yt=t}}function Jw(r){const t=Kw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Om(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.Cn=new tC}addToCollectionParentIndex(t,n){return this.Cn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(Kr.min())}updateCollectionGroup(t,n,s){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class tC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new De(ae.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new De(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r0=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(r0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LruGarbageCollector",eC=1048576;function Zv([r,t],[n,s]){const o=kt(r,n);return o===0?kt(t,s):o}class nC{constructor(t){this.Ir=t,this.buffer=new De(Zv),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Zv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(Xv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ho(n)?lt(Xv,"Ignoring IndexedDB error during garbage collection: ",n):await dh(n)}await this.Vr(3e5)}))}}class rC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(mh.ce);const s=new nC(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve($v)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(t,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(y=Date.now(),za()<=xt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function sC(r,t){return new rC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.changes=new qs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Pl(s.mutation,o,Ur.empty(),Ae.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Bt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Bt()){const o=Ls();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Dl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ls();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Bt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=Xr();const f=Ul(),m=(function(){return Ul()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Th)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Pl(E.mutation,y,E.mutation.getFieldMask(),Ae.now())):f.set(y.key,Ur.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new oC(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Ul();let o=new ge(((f,m)=>f-m)),u=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Ur.empty();E=m.applyToLocalView(y,E),s.set(g,E);const b=(o.get(m.batchId)||Bt()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,b=qT();E.forEach((R=>{if(!u.has(R)){const q=QT(n.get(R),s.get(R));q!==null&&b.set(R,q),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return J.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return Et.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):fw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):J.resolve(Ls());let m=Bl,g=u;return f.next((y=>J.forEach(y,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Bt()))).next((E=>({batchId:m,changes:yw(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Et(n)).next((s=>{let o=Dl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(t,u).next((m=>J.forEach(m,(g=>{const y=(function(b,R){return new yh(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((b,R)=>{f=f.insert(b,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))}));let m=Dl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Pl(E.mutation,y,Ur.empty(),Ae.now()),vh(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ga(o.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Jw(o.bundledQuery),readTime:Ga(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.overlays=new ge(Et.comparator),this.qr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ls();return J.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),J.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(t,n,s){const o=Ls(),u=n.length+1,f=new Et(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ge(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ls(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ls(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return J.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Ow(n,s));let u=this.qr.get(n);u===void 0&&(u=Bt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.Qr=new De(Ue.$r),this.Ur=new De(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Ue(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Ue(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new Et(new ae([])),s=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Et(new ae([])),s=new Ue(n,t),o=new Ue(n,t+1);let u=Bt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ue(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Et.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||Et.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new De(Ue.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Nw(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?FR:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new De(kt);return n.forEach((o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Et.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new Et(u),0);let m=new De(kt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),J.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,(o=>{const u=new Ue(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Ue(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t){this.ri=t,this.docs=(function(){return new ge(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=Xr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Xr();const f=n.path,m=new Et(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||jR(zR(E),s)<=0||(o.has(E.key)||vh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,s,o){wt(9500)}ii(t,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new mC(this)}getSize(t){return J.resolve(this.size)}}class mC extends aC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),J.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t){this.persistence=t,this.si=new qs((n=>np(n)),ip),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new op,this.targetCount=0,this.ai=ro.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ro(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.Pr(n),J.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(t,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t,n){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new hC,this.referenceDelegate=t(this),this.Pi=new pC(this),this.indexManager=new Ww,this.remoteDocumentCache=(function(o){return new dC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Zw(n),this.Ii=new uC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new cC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new fC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new gC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class gC extends HR{constructor(t){super(),this.currentSequenceNumber=t}}class lp{constructor(t){this.persistence=t,this.Ri=new op,this.Vi=null}static mi(t){return new lp(t)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=Et.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Rt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Wc{constructor(t,n){this.persistence=t,this.pi=new qs((s=>GR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=sC(this,n)}static mi(t,n){return new Wc(t,n)}Ei(){}di(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return J.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?J.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,Rt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Pc(t.data.value)),n}br(t,n,s){return J.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Bt(),o=Bt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new up(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ob()?8:qR(We())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new yC;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(za()<=xt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(za()<=xt.DEBUG&&lt("QueryEngine","Query:",ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(za()<=xt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pi(n))):J.resolve())}ys(t,n){if(zv(n))return J.resolve(null);let s=pi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Om(n,null,"F"),s=pi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Bt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,Om(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,o){return zv(n)||o.isEqual(Rt.min())?J.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(za()<=xt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ja(n)),this.vs(t,f,n,PR(o,Bl)).next((m=>m)))}))}Ds(t,n){let s=new De(BT(t));return n.forEach(((o,u)=>{vh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return za()<=xt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",ja(n)),this.ps.getDocumentsMatchingQuery(t,n,Kr.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="LocalStore",vC=3e8;class EC{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ge(kt),this.xs=new qs((u=>np(u)),ip),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function TC(r,t,n,s){return new EC(r,t,n,s)}async function a0(r,t){const n=jt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Bt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function o0(r){const t=jt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function SC(r,t){const n=jt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,b)=>{const R=o.get(b);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let q=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?q=q.withResumeToken(Ge.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,s)),o=o.insert(b,q),(function(tt,X,ft){return tt.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=vC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(R,q,E)&&m.push(n.Pi.updateTargetData(u,q))}));let g=Xr(),y=Bt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(AC(u,f,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(Rt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return J.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function AC(r,t,n){let s=Bt(),o=Bt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=Xr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Rt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):lt(cp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function bC(r,t){const n=jt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Pr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function km(r,t,n){const s=jt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!ho(f))throw f;lt(cp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function Jv(r,t,n){const s=jt(r);let o=Rt.min(),u=Bt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const b=jt(g),R=b.xs.get(E);return R!==void 0?J.resolve(b.Ms.get(R)):b.Pi.getTargetData(y,E)})(s,f,pi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Rt.min(),n?u:Bt()))).next((m=>(RC(s,mw(t),m),{documents:m,Qs:u})))))}function RC(r,t,n){let s=r.Os.get(t)||Rt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class Wv{constructor(){this.activeTargetIds=Ew()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wC{constructor(){this.Mo=new Wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Wv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="ConnectivityMonitor";class eE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(tE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(tE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function Lm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="RestConnection",IC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Yc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Lm(),m=this.zo(t,n.toUriEncodedString());lt(Jd,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=lo(y);return this.Jo(t,m,g,s,E).then((b=>(lt(Jd,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw to(Jd,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=IC[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class DC extends NC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Lm();return new Promise(((m,g)=>{const y=new vT;y.setWithCredentials(!0),y.listenOnce(ET.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const b=y.getResponseJson();lt(Xe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case Uc.TIMEOUT:lt(Xe,`RPC '${t}' ${f} timed out`),g(new gt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const R=y.getStatus();if(lt(Xe,`RPC '${t}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const Q=q?.error;if(Q&&Q.status&&Q.message){const tt=(function(ft){const dt=ft.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(dt)>=0?dt:rt.UNKNOWN})(Q.status);g(new gt(tt,Q.message))}else g(new gt(rt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new gt(rt.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt(Xe,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);lt(Xe,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Lm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=AT(),m=ST(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");lt(Xe,`Creating RPC '${t}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);this.I_(b);let R=!1,q=!1;const Q=new OC({Yo:X=>{q?lt(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,X):(R||(lt(Xe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),R=!0),lt(Xe,`RPC '${t}' stream ${o} sending:`,X),b.send(X))},Zo:()=>b.close()}),tt=(X,ft,dt)=>{X.listen(ft,(st=>{try{dt(st)}catch(mt){setTimeout((()=>{throw mt}),0)}}))};return tt(b,Ol.EventType.OPEN,(()=>{q||(lt(Xe,`RPC '${t}' stream ${o} transport opened.`),Q.o_())})),tt(b,Ol.EventType.CLOSE,(()=>{q||(q=!0,lt(Xe,`RPC '${t}' stream ${o} transport closed`),Q.a_(),this.E_(b))})),tt(b,Ol.EventType.ERROR,(X=>{q||(q=!0,to(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),Q.a_(new gt(rt.UNAVAILABLE,"The operation could not be completed")))})),tt(b,Ol.EventType.MESSAGE,(X=>{if(!q){const ft=X.data[0];oe(!!ft,16349);const dt=ft,st=dt?.error||dt[0]?.error;if(st){lt(Xe,`RPC '${t}' stream ${o} received error:`,st);const mt=st.status;let ct=(function(A){const I=Se[A];if(I!==void 0)return $T(I)})(mt),ht=st.message;ct===void 0&&(ct=rt.INTERNAL,ht="Unknown error status: "+mt+" with message "+st.message),q=!0,Q.a_(new gt(ct,ht)),b.close()}else lt(Xe,`RPC '${t}' stream ${o} received:`,ft),Q.u_(ft)}})),tt(m,TT.STAT_EVENT,(X=>{X.stat===Tm.PROXY?lt(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):X.stat===Tm.NOPROXY&&lt(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(r){return new Pw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="PersistentStream";class MC{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new u0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new gt(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(nE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(lt(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xC extends MC{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=qw(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Rt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Rt.min():f.readTime?Ga(f.readTime):Rt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Yv(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Nm(g)?{documents:Fw(u,g)}:{query:Gw(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=jw(u,f.resumeToken);const y=xm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Rt.min())>0){m.readTime=zw(u,f.snapshotVersion.toTimestamp());const y=xm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=Qw(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Yv(this.serializer),n.removeTarget=t,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{}class kC extends VC{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new gt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Vm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(rt.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Vm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new gt(rt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="RemoteStore";class UC{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{tu(this)&&(lt(so,"Restarting streams for network reachability change."),await(async function(g){const y=jt(g);y.Ea.add(4),await Wl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ah(y)})(this))}))})),this.Ra=new LC(s,o)}}async function Ah(r){if(tu(r))for(const t of r.da)await t(!0)}async function Wl(r){for(const t of r.da)await t(!1)}function c0(r,t){const n=jt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),mp(n)?dp(n):fo(n).O_()&&fp(n,t))}function hp(r,t){const n=jt(r),s=fo(n);n.Ia.delete(t),s.O_()&&h0(n,t),n.Ia.size===0&&(s.O_()?s.L_():tu(n)&&n.Ra.set("Unknown"))}function fp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fo(r).Y_(t)}function h0(r,t){r.Va.Ue(t),fo(r).Z_(t)}function dp(r){r.Va=new Vw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Ra.ua()}function mp(r){return tu(r)&&!fo(r).x_()&&r.Ia.size>0}function tu(r){return jt(r).Ea.size===0}function f0(r){r.Va=void 0}async function PC(r){r.Ra.set("Online")}async function zC(r){r.Ia.forEach(((t,n)=>{fp(r,t)}))}async function jC(r,t){f0(r),mp(r)?(r.Ra.ha(t),dp(r)):r.Ra.set("Unknown")}async function BC(r,t,n){if(r.Ra.set("Online"),t instanceof ZT&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){lt(so,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await iE(r,s)}else if(t instanceof jc?r.Va.Ze(t):t instanceof XT?r.Va.st(t):r.Va.tt(t),!n.isEqual(Rt.min()))try{const s=await o0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Ge.EMPTY_BYTE_STRING,E.snapshotVersion)),h0(u,g);const b=new Pr(E.target,g,y,E.sequenceNumber);fp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){lt(so,"Failed to raise snapshot:",s),await iE(r,s)}}async function iE(r,t,n){if(!ho(t))throw t;r.Ea.add(1),await Wl(r),r.Ra.set("Offline"),n||(n=()=>o0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(so,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ah(r)}))}async function rE(r,t){const n=jt(r);n.asyncQueue.verifyOperationInProgress(),lt(so,"RemoteStore received new credentials");const s=tu(n);n.Ea.add(3),await Wl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ah(n)}async function HC(r,t){const n=jt(r);t?(n.Ea.delete(2),await Ah(n)):t||(n.Ea.add(2),await Wl(n),n.Ra.set("Unknown"))}function fo(r){return r.ma||(r.ma=(function(n,s,o){const u=jt(n);return u.sa(),new xC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:PC.bind(null,r),t_:zC.bind(null,r),r_:jC.bind(null,r),H_:BC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),mp(r)?dp(r):r.Ra.set("Unknown")):(await r.ma.stop(),f0(r))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new pp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d0(r,t){if(Zi("AsyncQueue",`${t}: ${r}`),ho(r))return new gt(rt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Et.comparator(n.key,s.key):(n,s)=>Et.comparator(n.key,s.key),this.keyedMap=Dl(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.ga=new ge(Et.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):wt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class ao{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ao(t,n,Ka.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class FC{constructor(){this.queries=aE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=jt(n),u=o.queries;o.queries=aE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new gt(rt.ABORTED,"Firestore shutting down"))}}function aE(){return new qs((r=>jT(r)),_h)}async function GC(r,t){const n=jt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new qC,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=d0(f,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&gp(n)}async function KC(r,t){const n=jt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function QC(r,t){const n=jt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&gp(n)}function YC(r,t,n){const s=jt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function gp(r){r.Ca.forEach((t=>{t.next()}))}var Um,oE;(oE=Um||(Um={})).Ma="default",oE.Cache="cache";class $C{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ao(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t){this.key=t}}class p0{constructor(t){this.key=t}}class XC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=BT(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new sE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,b)=>{const R=o.get(E),q=vh(this.query,b)?b:null,Q=!!R&&this.mutatedKeys.has(R.key),tt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let X=!1;R&&q?R.data.isEqual(q.data)?Q!==tt&&(s.track({type:3,doc:q}),X=!0):this.su(R,q)||(s.track({type:2,doc:q}),X=!0,(g&&this.eu(q,g)>0||y&&this.eu(q,y)<0)&&(m=!0)):!R&&q?(s.track({type:0,doc:q}),X=!0):R&&!q&&(s.track({type:1,doc:R}),X=!0,(g||y)&&(m=!0)),X&&(q?(f=f.add(q),u=tt?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,b)=>(function(q,Q){const tt=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:X})}};return tt(q)-tt(Q)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new ao(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new p0(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new m0(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Bt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yp="SyncEngine";class ZC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class JC{constructor(t){this.key=t,this.hu=!1}}class WC{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new qs((m=>jT(m)),_h),this.Iu=new Map,this.Eu=new Set,this.du=new ge(Et.comparator),this.Au=new Map,this.Ru=new op,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tI(r,t,n=!0){const s=E0(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await g0(s,t,n,!0),o}async function eI(r,t){const n=E0(r);await g0(n,t,!0,!1)}async function g0(r,t,n,s){const o=await bC(r.localStore,pi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await nI(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&c0(r.remoteStore,o),m}async function nI(r,t,n,s,o){r.pu=(b,R,q)=>(async function(tt,X,ft,dt){let st=X.view.ru(ft);st.Cs&&(st=await Jv(tt.localStore,X.query,!1).then((({documents:O})=>X.view.ru(O,st))));const mt=dt&&dt.targetChanges.get(X.targetId),ct=dt&&dt.targetMismatches.get(X.targetId)!=null,ht=X.view.applyChanges(st,tt.isPrimaryClient,mt,ct);return uE(tt,X.targetId,ht.au),ht.snapshot})(r,b,R,q);const u=await Jv(r.localStore,t,!0),f=new XC(t,u.Qs),m=f.ru(u.documents),g=Jl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);uE(r,n,y.au);const E=new ZC(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function iI(r,t,n){const s=jt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!_h(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await km(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hp(s.remoteStore,o.targetId),Pm(s,o.targetId)})).catch(dh)):(Pm(s,o.targetId),await km(s.localStore,o.targetId,!0))}async function rI(r,t){const n=jt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hp(n.remoteStore,s.targetId))}async function y0(r,t){const n=jt(r);try{const s=await SC(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(oe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?oe(f.hu,14607):o.removedDocuments.size>0&&(oe(f.hu,42227),f.hu=!1))})),await v0(n,s,t)}catch(s){await dh(s)}}function lE(r,t,n){const s=jt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=jt(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,b)=>{for(const R of b.Sa)R.va(m)&&(y=!0)})),y&&gp(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function sI(r,t,n){const s=jt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ge(Et.comparator);f=f.insert(u,Je.newNoDocument(u,Rt.min()));const m=Bt().add(u),g=new Sh(Rt.min(),new Map,new ge(kt),f,m);await y0(s,g),s.du=s.du.remove(u),s.Au.delete(t),_p(s)}else await km(s.localStore,t,!1).then((()=>Pm(s,t,n))).catch(dh)}function Pm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||_0(r,s)}))}function _0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(hp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),_p(r))}function uE(r,t,n){for(const s of n)s instanceof m0?(r.Ru.addReference(s.key,t),aI(r,s)):s instanceof p0?(lt(yp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||_0(r,s.key)):wt(19791,{wu:s})}function aI(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(lt(yp,"New document in limbo: "+n),r.Eu.add(s),_p(r))}function _p(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new Et(ae.fromString(t)),s=r.fu.next();r.Au.set(s,new JC(n)),r.du=r.du.insert(n,s),c0(r.remoteStore,new Pr(pi(zT(n.path)),s,"TargetPurposeLimboResolution",mh.ce))}}async function v0(r,t,n){const s=jt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=up.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=jt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>J.forEach(y,(R=>J.forEach(R.Es,(q=>E.persistence.referenceDelegate.addReference(b,R.targetId,q))).next((()=>J.forEach(R.ds,(q=>E.persistence.referenceDelegate.removeReference(b,R.targetId,q)))))))))}catch(b){if(!ho(b))throw b;lt(cp,"Failed to update sequence numbers: "+b)}for(const b of y){const R=b.targetId;if(!b.fromCache){const q=E.Ms.get(R),Q=q.snapshotVersion,tt=q.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(R,tt)}}})(s.localStore,u))}async function oI(r,t){const n=jt(r);if(!n.currentUser.isEqual(t)){lt(yp,"User change. New user:",t.toKey());const s=await a0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new gt(rt.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await v0(n,s.Ls)}}function lI(r,t){const n=jt(r),s=n.Au.get(t);if(s&&s.hu)return Bt().add(s.key);{let o=Bt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function E0(r){const t=jt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=y0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sI.bind(null,t),t.Pu.H_=QC.bind(null,t.eventManager),t.Pu.yu=YC.bind(null,t.eventManager),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=l0(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return TC(this.persistence,new _C,t.initialUser,this.serializer)}Cu(t){return new s0(lp.mi,this.serializer)}Du(t){return new wC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class uI extends th{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){oe(this.persistence.referenceDelegate instanceof Wc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new s0((s=>Wc.mi(s,n)),this.serializer)}}class zm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oI.bind(null,this.syncEngine),await HC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new FC})()}createDatastore(t){const n=l0(t.databaseInfo.databaseId),s=(function(u){return new DC(u)})(t.databaseInfo);return(function(u,f,m,g){return new kC(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new UC(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>lE(this.syncEngine,n,0)),(function(){return eE.v()?new eE:new CC})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const b=new WC(o,u,f,m,g,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=jt(n);lt(so,"RemoteStore shutting down."),s.Ea.add(5),await Wl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class hI{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=wT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{lt(Zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(lt(Zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=d0(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function tm(r,t){r.asyncQueue.verifyOperationInProgress(),lt(Zr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await a0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function cE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await fI(r);lt(Zr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>rE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>rE(t.remoteStore,o))),r._onlineComponents=t}async function fI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Zr,"Using user provided OfflineComponentProvider");try{await tm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await tm(r,new th)}}else lt(Zr,"Using default OfflineComponentProvider"),await tm(r,new uI(void 0));return r._offlineComponents}async function dI(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Zr,"Using user provided OnlineComponentProvider"),await cE(r,r._uninitializedComponentsProvider._online)):(lt(Zr,"Using default OnlineComponentProvider"),await cE(r,new zm))),r._onlineComponents}async function mI(r){const t=await dI(r),n=t.eventManager;return n.onListen=tI.bind(null,t.syncEngine),n.onUnlisten=iI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=eI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rI.bind(null,t.syncEngine),n}function pI(r,t,n={}){const s=new Us;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new cI({next:R=>{E.Nu(),f.enqueueAndForget((()=>KC(u,b))),R.fromCache&&g.source==="server"?y.reject(new gt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),b=new $C(m,E,{includeMetadataChanges:!0,qa:!0});return GC(u,b)})(await mI(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="firestore.googleapis.com",fE=!0;class dE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S0,this.ssl=fE}else this.host=t.host,this.ssl=t.ssl??fE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=r0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eC)throw new gt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vp{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new RR;switch(s.type){case"firstParty":return new NR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new gt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=hE.get(n);s&&(lt("ComponentProvider","Removing Datastore"),hE.delete(n),s.terminate())})(this),Promise.resolve()}}function gI(r,t,n,s={}){r=Am(r,vp);const o=lo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(cT(`https://${m}`),hT("Firestore",!0)),u.host!==S0&&u.host!==m&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!zs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Ze.MOCK_USER;else{y=JA(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new gt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ze(b)}r._authCredentials=new wR(new RT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new bh(this.firestore,t,this._query)}}class Ln{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ln(this.firestore,t,this._key)}toJSON(){return{type:Ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Xl(n,Ln._jsonSchema))return new Ln(t,s||null,new Et(ae.fromString(n.referencePath)))}}Ln._jsonSchemaVersion="firestore/documentReference/1.0",Ln._jsonSchema={type:be("string",Ln._jsonSchemaVersion),referencePath:be("string")};class Qa extends bh{constructor(t,n,s){super(t,n,zT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ln(this.firestore,null,new Et(t))}withConverter(t){return new Qa(this.firestore,t,this._path)}}function yI(r,t,...n){if(r=er(r),r instanceof vp){const s=ae.fromString(t,...n);return wv(s),new Qa(r,null,s)}{if(!(r instanceof Ln||r instanceof Qa))throw new gt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return wv(s),new Qa(r.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="AsyncQueue";class pE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new u0(this,"async_queue_retry"),this._c=()=>{const s=Wd();s&&lt(mE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;lt(mE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",gE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=pp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&wt(47125,{Pc:gE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function gE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class A0 extends vp{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new pE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new pE(t),this._firestoreClient=void 0,await t}}}function _I(r,t){const n=typeof r=="object"?r:pT(),s=typeof r=="string"?r:Yc,o=Jm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XA("firestore");u&&gI(o,...u)}return o}function vI(r){if(r._terminated)throw new gt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||EI(r),r._firestoreClient}function EI(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new $R(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,T0(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new hI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mi(Ge.fromBase64String(t))}catch(n){throw new gt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new mi(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xl(t,mi._jsonSchema))return mi.fromBase64String(t.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:be("string",mi._jsonSchemaVersion),bytes:be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new gt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new gt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qr._jsonSchemaVersion}}static fromJSON(t){if(Xl(t,qr._jsonSchema))return new qr(t.latitude,t.longitude)}}qr._jsonSchemaVersion="firestore/geoPoint/1.0",qr._jsonSchema={type:be("string",qr._jsonSchemaVersion),latitude:be("number"),longitude:be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xl(t,Fr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Fr(t.vectorValues);throw new gt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fr._jsonSchemaVersion="firestore/vectorValue/1.0",Fr._jsonSchema={type:be("string",Fr._jsonSchemaVersion),vectorValues:be("object")};const TI=new RegExp("[~\\*/\\[\\]]");function SI(r,t,n){if(t.search(TI)>=0)throw yE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new b0(...t.split("."))._internalPath}catch{throw yE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function yE(r,t,n,s,o){let u=`Function ${t}() called with invalid data`;u+=". ";let f="";return new gt(rt.INVALID_ARGUMENT,u+r+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(w0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AI extends R0{data(){return super.data()}}function w0(r,t){return typeof t=="string"?SI(r,t):t instanceof b0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new gt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RI{convertValue(t,n="none"){switch($r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Zl(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Rm].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new Fr(n)}convertGeoPoint(t){return new qr(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=gh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Hl(t));default:return null}}convertTimestamp(t){const n=Qr(t);return new Ae(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ae.fromString(t);oe(i0(s),9688,{name:t});const o=new ql(s.get(1),s.get(3)),u=new Et(s.popFirst(5));return o.isEqual(n)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class xc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ya extends R0{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(w0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ya._jsonSchema={type:be("string",Ya._jsonSchemaVersion),bundleSource:be("string","DocumentSnapshot"),bundleName:be("string"),bundle:be("string")};class Bc extends Ya{data(t={}){return super.data(t)}}class $a{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new xc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Bc(this._firestore,this._userDataWriter,s.key,s,new xc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new gt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:wI(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=wT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function wI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:r})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:be("string",$a._jsonSchemaVersion),bundleSource:be("string","QuerySnapshot"),bundleName:be("string"),bundle:be("string")};class CI extends RI{constructor(t){super(),this.firestore=t}convertBytes(t){return new mi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function II(r){r=Am(r,bh);const t=Am(r.firestore,A0),n=vI(t),s=new CI(t);return bI(r._query),pI(n,r._query).then((o=>new $a(t,s,r,o)))}(function(t,n=!0){(function(o){co=o})(uo),Wa(new js("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new A0(new CR(s.getProvider("auth-internal")),new OR(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new gt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Br(Sv,Av,t),Br(Sv,Av,"esm2020")})();function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NI=C0,I0=new Yl("auth","Firebase",C0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Xm("@firebase/auth");function OI(r,...t){eh.logLevel<=xt.WARN&&eh.warn(`Auth (${uo}): ${r}`,...t)}function Hc(r,...t){eh.logLevel<=xt.ERROR&&eh.error(`Auth (${uo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(r,...t){throw Ep(r,...t)}function gi(r,...t){return Ep(r,...t)}function N0(r,t,n){const s={...NI(),[t]:n};return new Yl("auth","Firebase",s).create(t,{appName:r.name})}function Gr(r){return N0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return I0.create(r,...t)}function vt(r,t,...n){if(!r)throw Ep(t,...n)}function Qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Hc(t),new Error(t)}function Ji(r,t){r||Qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(){return typeof self<"u"&&self.location?.href||""}function DI(){return _E()==="http:"||_E()==="https:"}function _E(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DI()||rb()||"connection"in navigator)?navigator.onLine:!0}function xI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ji(n>t,"Short delay should be less than long delay!"),this.isMobile=eb()||sb()}get(){return MI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(r,t){Ji(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LI=new eu(3e4,6e4);function Fs(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Jr(r,t,n,s,o={}){return D0(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=$l({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return ib()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(y.credentials="include"),O0.fetch()(await M0(r,r.config.apiHost,n,m),y)})}async function D0(r,t,n){r._canInitEmulator=!1;const s={...VI,...t};try{const o=new PI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Vc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Vc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Vc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw N0(r,E,y);Yn(r,E)}}catch(o){if(o instanceof tr)throw o;Yn(r,"network-request-failed",{message:String(o)})}}async function Rh(r,t,n,s,o={}){const u=await Jr(r,t,n,s,o);return"mfaPendingCredential"in u&&Yn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function M0(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Tp(r.config,o):`${r.config.apiScheme}://${o}`;return kI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function UI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),LI.get())})}}function Vc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gi(r,t,s);return o.customData._tokenResponse=n,o}function vE(r){return r!==void 0&&r.enterprise!==void 0}class zI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return UI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jI(r,t){return Jr(r,"GET","/v2/recaptchaConfig",Fs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(r,t){return Jr(r,"POST","/v1/accounts:delete",t)}async function nh(r,t){return Jr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function HI(r,t=!1){const n=er(r),s=await n.getIdToken(t),o=Sp(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:zl(em(o.auth_time)),issuedAtTime:zl(em(o.iat)),expirationTime:zl(em(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function em(r){return Number(r)*1e3}function Sp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=aT(n);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function EE(r){const t=Sp(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof tr&&qI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function qI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(r){const t=r.auth,n=await r.getIdToken(),s=await Gl(r,nh(t,{idToken:n}));vt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?x0(o.providerUserInfo):[],f=KI(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function GI(r){const t=er(r);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function KI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function x0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,t){const n=await D0(r,{},async()=>{const s=$l({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await M0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(g.credentials="include"),O0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YI(r,t){return Jr(r,"POST","/v2/accounts:revokeToken",Fs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):EE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=EE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await QI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Xa;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Qn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new FI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return HI(this,t)}reload(){return GI(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Qn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Gr(this.auth));const t=await this.getIdToken();return await Gl(this,BI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:R,isAnonymous:q,providerData:Q,stsTokenManager:tt}=n;vt(b&&tt,t,"internal-error");const X=Xa.fromJSON(this.name,tt);vt(typeof b=="string",t,"internal-error"),Dr(s,t.name),Dr(o,t.name),vt(typeof R=="boolean",t,"internal-error"),vt(typeof q=="boolean",t,"internal-error"),Dr(u,t.name),Dr(f,t.name),Dr(m,t.name),Dr(g,t.name),Dr(y,t.name),Dr(E,t.name);const ft=new Qn({uid:b,auth:t,email:o,emailVerified:R,displayName:s,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:X,createdAt:y,lastLoginAt:E});return Q&&Array.isArray(Q)&&(ft.providerData=Q.map(dt=>({...dt}))),g&&(ft._redirectEventId=g),ft}static async _fromIdTokenResponse(t,n,s=!1){const o=new Xa;o.updateFromServerResponse(n);const u=new Qn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await ih(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?x0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Xa;m.updateFromIdToken(s);const g=new Qn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;function Yi(r){Ji(r instanceof Function,"Expected a class definition");let t=TE.get(r);return t?(Ji(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,TE.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}V0.type="NONE";const SE=V0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(r,t,n){return`firebase:${r}:${t}:${n}`}class Za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,u),this.fullPersistenceKey=qc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await nh(this.auth,{idToken:t}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,t):null}return Qn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Za(Yi(SE),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Yi(SE);const f=qc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const R=await nh(t,{idToken:E}).catch(()=>{});if(!R)break;b=await Qn._fromGetAccountInfoResponse(t,R,E)}else b=Qn._fromJSON(t,E);y!==u&&(m=b),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Za(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Za(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(P0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(k0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(j0(t))return"Blackberry";if(B0(t))return"Webos";if(L0(t))return"Safari";if((t.includes("chrome/")||U0(t))&&!t.includes("edge/"))return"Chrome";if(z0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function k0(r=We()){return/firefox\//i.test(r)}function L0(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function U0(r=We()){return/crios\//i.test(r)}function P0(r=We()){return/iemobile/i.test(r)}function z0(r=We()){return/android/i.test(r)}function j0(r=We()){return/blackberry/i.test(r)}function B0(r=We()){return/webos/i.test(r)}function Ap(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function $I(r=We()){return Ap(r)&&!!window.navigator?.standalone}function XI(){return ab()&&document.documentMode===10}function H0(r=We()){return Ap(r)||z0(r)||B0(r)||j0(r)||/windows phone/i.test(r)||P0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r,t=[]){let n;switch(r){case"Browser":n=AE(We());break;case"Worker":n=`${AE(We())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,t={}){return Jr(r,"GET","/v2/passwordPolicy",Fs(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=6;class t2{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bE(this),this.idTokenSubscription=new bE(this),this.beforeStateQueue=new ZI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await nh(this,{idToken:t}),s=await Qn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Gr(this));const n=t?er(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await JI(this),n=new t2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await YI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Yi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&OI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function mo(r){return er(r)}class bE{constructor(t){this.auth=t,this.observer=null,this.addObserver=mb(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n2(r){wh=r}function F0(r){return wh.loadJS(r)}function i2(){return wh.recaptchaEnterpriseScript}function r2(){return wh.gapiScript}function s2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class a2{constructor(){this.enterprise=new o2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class o2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const l2="recaptcha-enterprise",G0="NO_RECAPTCHA";class u2{constructor(t){this.type=l2,this.auth=mo(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{jI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new zI(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;vE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(G0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new a2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&vE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=i2();g.length!==0&&(g+=m),F0(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function RE(r,t,n,s=!1,o=!1){const u=new u2(r);let f;if(o)f=G0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function wE(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await RE(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await RE(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(r,t){const n=Jm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(zs(u,t??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:t})}function h2(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Yi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function f2(r,t,n){const s=mo(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=K0(t),{host:f,port:m}=d2(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(zs(y,s.config.emulator)&&zs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,lo(f)?(cT(`${u}//${f}${g}`),hT("Auth",!0)):m2()}function K0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function d2(r){const t=K0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:CE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:CE(f)}}}function CE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function m2(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,n){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function p2(r,t){return Jr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(r,t){return Rh(r,"POST","/v1/accounts:signInWithPassword",Fs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(r,t){return Rh(r,"POST","/v1/accounts:signInWithEmailLink",Fs(r,t))}async function _2(r,t){return Rh(r,"POST","/v1/accounts:signInWithEmailLink",Fs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends bp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Kl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Kl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wE(t,n,"signInWithPassword",g2);case"emailLink":return y2(t,{email:this._email,oobCode:this._password});default:Yn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wE(t,s,"signUpPassword",p2);case"emailLink":return _2(t,{idToken:n,email:this._email,oobCode:this._password});default:Yn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,t){return Rh(r,"POST","/v1/accounts:signInWithIdp",Fs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="http://localhost";class Hs extends bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Hs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Hs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ja(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ja(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ja(t,n)}buildRequest(){const t={requestUri:v2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=$l(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T2(r){const t=Il(Nl(r)).link,n=t?Il(Nl(t)).deep_link_id:null,s=Il(Nl(r)).deep_link_id;return(s?Il(Nl(s)).link:null)||s||n||t||r}class Rp{constructor(t){const n=Il(Nl(t)),s=n.apiKey??null,o=n.oobCode??null,u=E2(n.mode??null);vt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=T2(t);try{return new Rp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(t,n){return Kl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Rp.parseLink(n);return vt(s,"argument-error"),Kl._fromEmailAndCode(t,s.code,s.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Q0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends nu{constructor(){super("facebook.com")}static credential(t){return Hs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Hs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends nu{constructor(){super("github.com")}static credential(t){return Hs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends nu{constructor(){super("twitter.com")}static credential(t,n){return Hs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Qn._fromIdTokenResponse(t,s,o),f=IE(s);return new oo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=IE(s);return new oo({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function IE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends tr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new rh(t,n,s,o)}}function Y0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(r,u,t,s):u})}async function S2(r,t,n=!1){const s=await Gl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return oo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(r,t,n=!1){const{auth:s}=r;if(Kn(s.app))return Promise.reject(Gr(s));const o="reauthenticate";try{const u=await Gl(r,Y0(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=Sp(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),oo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(r,t,n=!1){if(Kn(r.app))return Promise.reject(Gr(r));const s="signIn",o=await Y0(r,s,t),u=await oo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function b2(r,t){return $0(mo(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(r){const t=mo(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function w2(r,t,n){return Kn(r.app)?Promise.reject(Gr(r)):b2(er(r),po.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&R2(r),s})}function C2(r,t,n,s){return er(r).onIdTokenChanged(t,n,s)}function I2(r,t,n){return er(r).beforeAuthStateChanged(t,n)}function N2(r,t,n,s){return er(r).onAuthStateChanged(t,n,s)}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=1e3,D2=10;class Z0 extends X0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);XI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,D2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},O2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Z0.type="LOCAL";const M2=Z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends X0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}J0.type="SESSION";const W0=J0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Ch(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await x2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=wp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function k2(r){yi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function L2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U2(){return navigator?.serviceWorker?.controller||null}function P2(){return tS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebaseLocalStorageDb",z2=1,ah="firebaseLocalStorage",nS="fbase_key";class iu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ih(r,t){return r.transaction([ah],t?"readwrite":"readonly").objectStore(ah)}function j2(){const r=indexedDB.deleteDatabase(eS);return new iu(r).toPromise()}function Hm(){const r=indexedDB.open(eS,z2);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ah,{keyPath:nS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ah)?t(s):(s.close(),await j2(),t(await Hm()))})})}async function NE(r,t,n){const s=Ih(r,!0).put({[nS]:t,value:n});return new iu(s).toPromise()}async function B2(r,t){const n=Ih(r,!1).get(t),s=await new iu(n).toPromise();return s===void 0?null:s.value}function OE(r,t){const n=Ih(r,!0).delete(t);return new iu(n).toPromise()}const H2=800,q2=3;class iS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>q2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(P2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await L2(),!this.activeServiceWorker)return;this.sender=new V2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||U2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hm();return await NE(t,sh,"1"),await OE(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>NE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>B2(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>OE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Ih(o,!1).getAll();return new iu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iS.type="LOCAL";const F2=iS;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(r,t){return t?Yi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends bp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ja(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function K2(r){return $0(r.auth,new Cp(r),r.bypassAuthState)}function Q2(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),A2(n,new Cp(r),r.bypassAuthState)}async function Y2(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),S2(n,new Cp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return K2;case"linkViaPopup":case"linkViaRedirect":return Y2;case"reauthViaPopup":case"reauthViaRedirect":return Q2;default:Yn(this.auth,"internal-error")}}resolve(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new eu(2e3,1e4);class qa extends rS{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const t=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$2.get())};t()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="pendingRedirect",Fc=new Map;class Z2 extends rS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Fc.get(this.auth._key());if(!t){try{const s=await J2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Fc.set(this.auth._key(),t)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J2(r,t){const n=eN(t),s=tN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function W2(r,t){Fc.set(r._key(),t)}function tN(r){return Yi(r._redirectPersistence)}function eN(r){return qc(X2,r.config.apiKey,r.name)}async function nN(r,t,n=!1){if(Kn(r.app))return Promise.reject(Gr(r));const s=mo(r),o=G2(s,t),f=await new Z2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=600*1e3;class rN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!sS(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(gi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iN&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(t))}saveEventToCache(t){this.cachedEventUids.add(DE(t)),this.lastProcessedEventTime=Date.now()}}function DE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function sS({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function sN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(r,t={}){return Jr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lN=/^https?/;async function uN(r){if(r.config.emulator)return;const{authorizedDomains:t}=await aN(r);for(const n of t)try{if(cN(n))return}catch{}Yn(r,"unauthorized-domain")}function cN(r){const t=jm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!lN.test(n))return!1;if(oN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new eu(3e4,6e4);function ME(){const r=yi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function fN(r){return new Promise((t,n)=>{function s(){ME(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ME(),n(gi(r,"network-request-failed"))},timeout:hN.get()})}if(yi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(yi().gapi?.load)s();else{const o=s2("iframefcb");return yi()[o]=()=>{gapi.load?s():n(gi(r,"network-request-failed"))},F0(`${r2()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Gc=null,t})}let Gc=null;function dN(r){return Gc=Gc||fN(r),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new eu(5e3,15e3),pN="__/auth/iframe",gN="emulator/auth/iframe",yN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vN(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Tp(t,gN):`https://${r.config.authDomain}/${pN}`,s={apiKey:t.apiKey,appName:r.name,v:uo},o=_N.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${$l(s).slice(1)}`}async function EN(r){const t=await dN(r),n=yi().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:vN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=gi(r,"network-request-failed"),m=yi().setTimeout(()=>{u(f)},mN.get());function g(){yi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SN=500,AN=600,bN="_blank",RN="http://localhost";class xE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wN(r,t,n,s=SN,o=AN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...TN,width:s.toString(),height:o.toString(),top:u,left:f},y=We().toLowerCase();n&&(m=U0(y)?bN:n),k0(y)&&(t=t||RN,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[q,Q])=>`${R}${q}=${Q},`,"");if($I(y)&&m!=="_self")return CN(t||"",m),new xE(null);const b=window.open(t||"",m,E);vt(b,r,"popup-blocked");try{b.focus()}catch{}return new xE(b)}function CN(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="__/auth/handler",NN="emulator/auth/handler",ON=encodeURIComponent("fac");async function VE(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:uo,eventId:o};if(t instanceof Q0){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",db(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof nu){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${ON}=${encodeURIComponent(g)}`:"";return`${DN(r)}?${$l(m).slice(1)}${y}`}function DN({config:r}){return r.emulator?Tp(r,NN):`https://${r.authDomain}/${IN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="webStorageSupport";class MN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=nN,this._overrideRedirectResult=W2}async _openPopup(t,n,s,o){Ji(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await VE(t,n,s,jm(),o);return wN(t,u,wp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await VE(t,n,s,jm(),o);return k2(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ji(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await EN(t),s=new rN(t);return n.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(nm,{type:nm},o=>{const u=o?.[0]?.[nm];u!==void 0&&n(!!u),Yn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return H0()||L0()||Ap()}}const xN=MN;var kE="@firebase/auth",LE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LN(r){Wa(new js("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q0(r)},y=new e2(s,o,u,g);return h2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Wa(new js("auth-internal",t=>{const n=mo(t.getProvider("auth").getImmediate());return(s=>new VN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(kE,LE,kN(r)),Br(kE,LE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=300,PN=uT("authIdTokenMaxAge")||UN;let UE=null;const zN=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>PN)return;const o=n?.token;UE!==o&&(UE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jN(r=pT()){const t=Jm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=c2(r,{popupRedirectResolver:xN,persistence:[F2,M2,W0]}),s=uT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=zN(u.toString());I2(n,f,()=>f(n.currentUser)),C2(n,m=>f(m))}}const o=oT("auth");return o&&f2(n,`http://${o}`),n}function BN(){return document.getElementsByTagName("head")?.[0]??document}n2({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=gi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",BN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LN("Browser");var HN="firebase",qN="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(HN,qN,"app");var im={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var PE;function FN(){return PE||(PE=1,(function(r){(function(){var t={}.hasOwnProperty;function n(){for(var u="",f=0;f<arguments.length;f++){var m=arguments[f];m&&(u=o(u,s(m)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var f="";for(var m in u)t.call(u,m)&&u[m]&&(f=o(f,m));return f}function o(u,f){return f?u?u+" "+f:u+f:u}r.exports?(n.default=n,r.exports=n):window.classNames=n})()})(im)),im.exports}var GN=FN();const bt=hh(GN);function qm(){return qm=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},qm.apply(null,arguments)}function aS(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)!==-1)continue;n[s]=r[s]}return n}function zE(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function KN(r){var t=QN(r,"string");return typeof t=="symbol"?t:String(t)}function QN(r,t){if(typeof r!="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function YN(r,t,n){var s=V.useRef(r!==void 0),o=V.useState(t),u=o[0],f=o[1],m=r!==void 0,g=s.current;return s.current=m,!m&&g&&u!==t&&f(t),[m?r:u,V.useCallback(function(y){for(var E=arguments.length,b=new Array(E>1?E-1:0),R=1;R<E;R++)b[R-1]=arguments[R];n&&n.apply(void 0,[y].concat(b)),f(y)},[n])]}function oS(r,t){return Object.keys(t).reduce(function(n,s){var o,u=n,f=u[zE(s)],m=u[s],g=aS(u,[zE(s),s].map(KN)),y=t[s],E=YN(m,f,r[y]),b=E[0],R=E[1];return qm({},g,(o={},o[s]=b,o[y]=R,o))},r)}function Fm(r,t){return Fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Fm(r,t)}function $N(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,Fm(r,t)}const XN=["xxl","xl","lg","md","sm","xs"],ZN="xs",Nh=V.createContext({prefixes:{},breakpoints:XN,minBreakpoint:ZN}),{Consumer:sM,Provider:aM}=Nh;function It(r,t){const{prefixes:n}=V.useContext(Nh);return r||n[t]||t}function lS(){const{breakpoints:r}=V.useContext(Nh);return r}function uS(){const{minBreakpoint:r}=V.useContext(Nh);return r}function Ip(r){return r&&r.ownerDocument||document}function JN(r){var t=Ip(r);return t&&t.defaultView||window}function WN(r,t){return JN(r).getComputedStyle(r,t)}var tO=/([A-Z])/g;function eO(r){return r.replace(tO,"-$1").toLowerCase()}var nO=/^ms-/;function kc(r){return eO(r).replace(nO,"-ms-")}var iO=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function rO(r){return!!(r&&iO.test(r))}function $i(r,t){var n="",s="";if(typeof t=="string")return r.style.getPropertyValue(kc(t))||WN(r).getPropertyValue(kc(t));Object.keys(t).forEach(function(o){var u=t[o];!u&&u!==0?r.style.removeProperty(kc(o)):rO(o)?s+=o+"("+u+") ":n+=kc(o)+": "+u+";"}),s&&(n+="transform: "+s+";"),r.style.cssText+=";"+n}var rm={exports:{}},sm,jE;function sO(){if(jE)return sm;jE=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sm=r,sm}var am,BE;function aO(){if(BE)return am;BE=1;var r=sO();function t(){}function n(){}return n.resetWarningCache=t,am=function(){function s(f,m,g,y,E,b){if(b!==r){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return u.PropTypes=u,u},am}var HE;function oO(){return HE||(HE=1,rm.exports=aO()()),rm.exports}var lO=oO();const sn=hh(lO);var uO=iT();const Fa=hh(uO),qE={disabled:!1},cS=Tn.createContext(null);var cO=function(t){return t.scrollTop},xl="unmounted",Mr="exited",Gn="entering",Gi="entered",Ql="exiting",nr=(function(r){$N(t,r);function t(s,o){var u;u=r.call(this,s,o)||this;var f=o,m=f&&!f.isMounting?s.enter:s.appear,g;return u.appearStatus=null,s.in?m?(g=Mr,u.appearStatus=Gn):g=Gi:s.unmountOnExit||s.mountOnEnter?g=xl:g=Mr,u.state={status:g},u.nextCallback=null,u}t.getDerivedStateFromProps=function(o,u){var f=o.in;return f&&u.status===xl?{status:Mr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var u=null;if(o!==this.props){var f=this.state.status;this.props.in?f!==Gn&&f!==Gi&&(u=Gn):(f===Gn||f===Gi)&&(u=Ql)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,u,f,m;return u=f=m=o,o!=null&&typeof o!="number"&&(u=o.exit,f=o.enter,m=o.appear!==void 0?o.appear:f),{exit:u,enter:f,appear:m}},n.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===Gn){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:Fa.findDOMNode(this);f&&cO(f)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mr&&this.setState({status:xl})},n.performEnter=function(o){var u=this,f=this.props.enter,m=this.context?this.context.isMounting:o,g=this.props.nodeRef?[m]:[Fa.findDOMNode(this),m],y=g[0],E=g[1],b=this.getTimeouts(),R=m?b.appear:b.enter;if(!o&&!f||qE.disabled){this.safeSetState({status:Gi},function(){u.props.onEntered(y)});return}this.props.onEnter(y,E),this.safeSetState({status:Gn},function(){u.props.onEntering(y,E),u.onTransitionEnd(R,function(){u.safeSetState({status:Gi},function(){u.props.onEntered(y,E)})})})},n.performExit=function(){var o=this,u=this.props.exit,f=this.getTimeouts(),m=this.props.nodeRef?void 0:Fa.findDOMNode(this);if(!u||qE.disabled){this.safeSetState({status:Mr},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:Ql},function(){o.props.onExiting(m),o.onTransitionEnd(f.exit,function(){o.safeSetState({status:Mr},function(){o.props.onExited(m)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},n.setNextCallback=function(o){var u=this,f=!0;return this.nextCallback=function(m){f&&(f=!1,u.nextCallback=null,o(m))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},n.onTransitionEnd=function(o,u){this.setNextCallback(u);var f=this.props.nodeRef?this.props.nodeRef.current:Fa.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!f||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],y=g[0],E=g[1];this.props.addEndListener(y,E)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===xl)return null;var u=this.props,f=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=aS(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Tn.createElement(cS.Provider,{value:null},typeof f=="function"?f(o,m):Tn.cloneElement(Tn.Children.only(f),m))},t})(Tn.Component);nr.contextType=cS;nr.propTypes={};function Ua(){}nr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ua,onEntering:Ua,onEntered:Ua,onExit:Ua,onExiting:Ua,onExited:Ua};nr.UNMOUNTED=xl;nr.EXITED=Mr;nr.ENTERING=Gn;nr.ENTERED=Gi;nr.EXITING=Ql;function hO(r){return r.code==="Escape"||r.keyCode===27}function fO(){const r=V.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function go(r){if(!r||typeof r=="function")return null;const{major:t}=fO();return t>=19?r.props.ref:r.ref}const Oh=!!(typeof window<"u"&&window.document&&window.document.createElement);var Gm=!1,Km=!1;try{var om={get passive(){return Gm=!0},get once(){return Km=Gm=!0}};Oh&&(window.addEventListener("test",om,om),window.removeEventListener("test",om,!0))}catch{}function dO(r,t,n,s){if(s&&typeof s!="boolean"&&!Km){var o=s.once,u=s.capture,f=n;!Km&&o&&(f=n.__once||function m(g){this.removeEventListener(t,m,u),n.call(this,g)},n.__once=f),r.addEventListener(t,f,Gm?s:u)}r.addEventListener(t,n,s)}function mO(r,t,n,s){var o=s&&typeof s!="boolean"?s.capture:s;r.removeEventListener(t,n,o),n.__once&&r.removeEventListener(t,n.__once,o)}function oh(r,t,n,s){return dO(r,t,n,s),function(){mO(r,t,n,s)}}function pO(r,t,n,s){if(s===void 0&&(s=!0),r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,s),r.dispatchEvent(o)}}function gO(r){var t=$i(r,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function yO(r,t,n){n===void 0&&(n=5);var s=!1,o=setTimeout(function(){s||pO(r,"transitionend",!0)},t+n),u=oh(r,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function _O(r,t,n,s){n==null&&(n=gO(r)||0);var o=yO(r,n,s),u=oh(r,"transitionend",t);return function(){o(),u()}}function FE(r,t){const n=$i(r,t)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function Np(r,t){const n=FE(r,"transitionDuration"),s=FE(r,"transitionDelay"),o=_O(r,u=>{u.target===r&&(o(),t(u))},n+s)}function Cl(...r){return r.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...o){t.apply(this,o),n.apply(this,o)}},null)}function hS(r){r.offsetHeight}const GE=r=>!r||typeof r=="function"?r:t=>{r.current=t};function vO(r,t){const n=GE(r),s=GE(t);return o=>{n&&n(o),s&&s(o)}}function EO(r,t){return V.useMemo(()=>vO(r,t),[r,t])}function TO(r){return r&&"setState"in r?Fa.findDOMNode(r):r??null}const Dh=Tn.forwardRef(({onEnter:r,onEntering:t,onEntered:n,onExit:s,onExiting:o,onExited:u,addEndListener:f,children:m,childRef:g,...y},E)=>{const b=V.useRef(null),R=EO(b,g),q=ht=>{R(TO(ht))},Q=ht=>O=>{ht&&b.current&&ht(b.current,O)},tt=V.useCallback(Q(r),[r]),X=V.useCallback(Q(t),[t]),ft=V.useCallback(Q(n),[n]),dt=V.useCallback(Q(s),[s]),st=V.useCallback(Q(o),[o]),mt=V.useCallback(Q(u),[u]),ct=V.useCallback(Q(f),[f]);return G.jsx(nr,{ref:E,...y,onEnter:tt,onEntered:ft,onEntering:X,onExit:dt,onExited:mt,onExiting:st,addEndListener:ct,nodeRef:b,children:typeof m=="function"?(ht,O)=>m(ht,{...O,ref:q}):Tn.cloneElement(m,{ref:q})})});Dh.displayName="TransitionWrapper";const SO={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function AO(r,t){const n=`offset${r[0].toUpperCase()}${r.slice(1)}`,s=t[n],o=SO[r];return s+parseInt($i(t,o[0]),10)+parseInt($i(t,o[1]),10)}const bO={[Mr]:"collapse",[Ql]:"collapsing",[Gn]:"collapsing",[Gi]:"collapse show"},fS=Tn.forwardRef(({onEnter:r,onEntering:t,onEntered:n,onExit:s,onExiting:o,className:u,children:f,dimension:m="height",in:g=!1,timeout:y=300,mountOnEnter:E=!1,unmountOnExit:b=!1,appear:R=!1,getDimensionValue:q=AO,...Q},tt)=>{const X=typeof m=="function"?m():m,ft=V.useMemo(()=>Cl(ht=>{ht.style[X]="0"},r),[X,r]),dt=V.useMemo(()=>Cl(ht=>{const O=`scroll${X[0].toUpperCase()}${X.slice(1)}`;ht.style[X]=`${ht[O]}px`},t),[X,t]),st=V.useMemo(()=>Cl(ht=>{ht.style[X]=null},n),[X,n]),mt=V.useMemo(()=>Cl(ht=>{ht.style[X]=`${q(X,ht)}px`,hS(ht)},s),[s,q,X]),ct=V.useMemo(()=>Cl(ht=>{ht.style[X]=null},o),[X,o]);return G.jsx(Dh,{ref:tt,addEndListener:Np,...Q,"aria-expanded":Q.role?g:null,onEnter:ft,onEntering:dt,onEntered:st,onExit:mt,onExiting:ct,childRef:go(f),in:g,timeout:y,mountOnEnter:E,unmountOnExit:b,appear:R,children:(ht,O)=>Tn.cloneElement(f,{...O,className:bt(u,f.props.className,bO[ht],X==="width"&&"collapse-horizontal")})})});fS.displayName="Collapse";function RO(r){const t=V.useRef(r);return V.useEffect(()=>{t.current=r},[r]),t}function Mh(r){const t=RO(r);return V.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Op=(r=>V.forwardRef((t,n)=>G.jsx("div",{...t,ref:n,className:bt(t.className,r)})));function wO(r){const t=V.useRef(r);return V.useEffect(()=>{t.current=r},[r]),t}function Ki(r){const t=wO(r);return V.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function CO(){const r=V.useRef(!0),t=V.useRef(()=>r.current);return V.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),t.current}function IO(r){const t=V.useRef(null);return V.useEffect(()=>{t.current=r}),t.current}const NO=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",OO=typeof document<"u",KE=OO||NO?V.useLayoutEffect:V.useEffect,DO=["as","disabled"];function MO(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function xO(r){return!r||r.trim()==="#"}function Dp({tagName:r,disabled:t,href:n,target:s,rel:o,role:u,onClick:f,tabIndex:m=0,type:g}){r||(n!=null||s!=null||o!=null?r="a":r="button");const y={tagName:r};if(r==="button")return[{type:g||"button",disabled:t},y];const E=R=>{if((t||r==="a"&&xO(n))&&R.preventDefault(),t){R.stopPropagation();return}f?.(R)},b=R=>{R.key===" "&&(R.preventDefault(),E(R))};return r==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:u??"button",disabled:void 0,tabIndex:t?void 0:m,href:n,target:r==="a"?s:void 0,"aria-disabled":t||void 0,rel:r==="a"?o:void 0,onClick:E,onKeyDown:b},y]}const dS=V.forwardRef((r,t)=>{let{as:n,disabled:s}=r,o=MO(r,DO);const[u,{tagName:f}]=Dp(Object.assign({tagName:n,disabled:s},o));return G.jsx(f,Object.assign({},o,u,{ref:t}))});dS.displayName="Button";const VO=["onKeyDown"];function kO(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function LO(r){return!r||r.trim()==="#"}const mS=V.forwardRef((r,t)=>{let{onKeyDown:n}=r,s=kO(r,VO);const[o]=Dp(Object.assign({tagName:"a"},s)),u=Ki(f=>{o.onKeyDown(f),n?.(f)});return LO(s.href)||s.role==="button"?G.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:u})):G.jsx("a",Object.assign({ref:t},s,{onKeyDown:n}))});mS.displayName="Anchor";const UO={[Gn]:"show",[Gi]:"show"},pS=V.forwardRef(({className:r,children:t,transitionClasses:n={},onEnter:s,...o},u)=>{const f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=V.useCallback((g,y)=>{hS(g),s?.(g,y)},[s]);return G.jsx(Dh,{ref:u,addEndListener:Np,...f,onEnter:m,childRef:go(t),children:(g,y)=>V.cloneElement(t,{...y,className:bt("fade",r,t.props.className,UO[g],n[g])})})});pS.displayName="Fade";const PO={"aria-label":sn.string,onClick:sn.func,variant:sn.oneOf(["white"])},Mp=V.forwardRef(({className:r,variant:t,"aria-label":n="Close",...s},o)=>G.jsx("button",{ref:o,type:"button",className:bt("btn-close",t&&`btn-close-${t}`,r),"aria-label":n,...s}));Mp.displayName="CloseButton";Mp.propTypes=PO;const xp=V.forwardRef(({as:r,bsPrefix:t,variant:n="primary",size:s,active:o=!1,disabled:u=!1,className:f,...m},g)=>{const y=It(t,"btn"),[E,{tagName:b}]=Dp({tagName:r,disabled:u,...m}),R=b;return G.jsx(R,{...E,...m,ref:g,disabled:u,className:bt(f,y,o&&"active",n&&`${y}-${n}`,s&&`${y}-${s}`,m.href&&u&&"disabled")})});xp.displayName="Button";const Vp=V.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=It(t,"card-body"),G.jsx(n,{ref:o,className:bt(r,t),...s})));Vp.displayName="CardBody";const gS=V.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=It(t,"card-footer"),G.jsx(n,{ref:o,className:bt(r,t),...s})));gS.displayName="CardFooter";const kp=V.createContext(null);kp.displayName="CardHeaderContext";const yS=V.forwardRef(({bsPrefix:r,className:t,as:n="div",...s},o)=>{const u=It(r,"card-header"),f=V.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return G.jsx(kp.Provider,{value:f,children:G.jsx(n,{ref:o,...s,className:bt(t,u)})})});yS.displayName="CardHeader";const _S=V.forwardRef(({bsPrefix:r,className:t,variant:n,as:s="img",...o},u)=>{const f=It(r,"card-img");return G.jsx(s,{ref:u,className:bt(n?`${f}-${n}`:f,t),...o})});_S.displayName="CardImg";const vS=V.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=It(t,"card-img-overlay"),G.jsx(n,{ref:o,className:bt(r,t),...s})));vS.displayName="CardImgOverlay";const ES=V.forwardRef(({className:r,bsPrefix:t,as:n="a",...s},o)=>(t=It(t,"card-link"),G.jsx(n,{ref:o,className:bt(r,t),...s})));ES.displayName="CardLink";const zO=Op("h6"),TS=V.forwardRef(({className:r,bsPrefix:t,as:n=zO,...s},o)=>(t=It(t,"card-subtitle"),G.jsx(n,{ref:o,className:bt(r,t),...s})));TS.displayName="CardSubtitle";const SS=V.forwardRef(({className:r,bsPrefix:t,as:n="p",...s},o)=>(t=It(t,"card-text"),G.jsx(n,{ref:o,className:bt(r,t),...s})));SS.displayName="CardText";const jO=Op("h5"),AS=V.forwardRef(({className:r,bsPrefix:t,as:n=jO,...s},o)=>(t=It(t,"card-title"),G.jsx(n,{ref:o,className:bt(r,t),...s})));AS.displayName="CardTitle";const bS=V.forwardRef(({bsPrefix:r,className:t,bg:n,text:s,border:o,body:u=!1,children:f,as:m="div",...g},y)=>{const E=It(r,"card");return G.jsx(m,{ref:y,...g,className:bt(t,E,n&&`bg-${n}`,s&&`text-${s}`,o&&`border-${o}`),children:u?G.jsx(Vp,{children:f}):f})});bS.displayName="Card";const lm=Object.assign(bS,{Img:_S,Title:AS,Subtitle:TS,Body:Vp,Link:ES,Text:SS,Header:yS,Footer:gS,ImgOverlay:vS});function BO(r,t){return V.Children.toArray(r).some(n=>V.isValidElement(n)&&n.type===t)}function HO({as:r,bsPrefix:t,className:n,...s}){t=It(t,"col");const o=lS(),u=uS(),f=[],m=[];return o.forEach(g=>{const y=s[g];delete s[g];let E,b,R;typeof y=="object"&&y!=null?{span:E,offset:b,order:R}=y:E=y;const q=g!==u?`-${g}`:"";E&&f.push(E===!0?`${t}${q}`:`${t}${q}-${E}`),R!=null&&m.push(`order${q}-${R}`),b!=null&&m.push(`offset${q}-${b}`)}),[{...s,className:bt(n,...f,...m)},{as:r,bsPrefix:t,spans:f}]}const Lp=V.forwardRef((r,t)=>{const[{className:n,...s},{as:o="div",bsPrefix:u,spans:f}]=HO(r);return G.jsx(o,{...s,ref:t,className:bt(n,!f.length&&u)})});Lp.displayName="Col";const Up=V.forwardRef(({bsPrefix:r,fluid:t=!1,as:n="div",className:s,...o},u)=>{const f=It(r,"container"),m=typeof t=="string"?`-${t}`:"-fluid";return G.jsx(n,{ref:u,...o,className:bt(s,t?`${f}${m}`:f)})});Up.displayName="Container";var qO=Function.prototype.bind.call(Function.prototype.call,[].slice);function ks(r,t){return qO(r.querySelectorAll(t))}function FO(){const[,r]=V.useReducer(t=>t+1,0);return r}function QE(r,t){if(r.contains)return r.contains(t);if(r.compareDocumentPosition)return r===t||!!(r.compareDocumentPosition(t)&16)}const lh=V.createContext(null),Pp=(r,t=null)=>r!=null?String(r):t||null,zp=V.createContext(null);zp.displayName="NavContext";const GO="data-rr-ui-",KO="rrUi";function xh(r){return`${GO}${r}`}function QO(r){return`${KO}${r}`}const RS=V.createContext(Oh?window:void 0);RS.Provider;function jp(){return V.useContext(RS)}const YO=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",$O=typeof document<"u",XO=$O||YO?V.useLayoutEffect:V.useEffect,wS=V.createContext(null);wS.displayName="InputGroupContext";const yo=V.createContext(null);yo.displayName="NavbarContext";const ZO={type:sn.string,tooltip:sn.bool,as:sn.elementType},Vh=V.forwardRef(({as:r="div",className:t,type:n="valid",tooltip:s=!1,...o},u)=>G.jsx(r,{...o,ref:u,className:bt(t,`${n}-${s?"tooltip":"feedback"}`)}));Vh.displayName="Feedback";Vh.propTypes=ZO;const Wi=V.createContext({}),ru=V.forwardRef(({id:r,bsPrefix:t,className:n,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:f="input",...m},g)=>{const{controlId:y}=V.useContext(Wi);return t=It(t,"form-check-input"),G.jsx(f,{...m,ref:g,type:s,id:r||y,className:bt(n,t,o&&"is-valid",u&&"is-invalid")})});ru.displayName="FormCheckInput";const uh=V.forwardRef(({bsPrefix:r,className:t,htmlFor:n,...s},o)=>{const{controlId:u}=V.useContext(Wi);return r=It(r,"form-check-label"),G.jsx("label",{...s,ref:o,htmlFor:n||u,className:bt(t,r)})});uh.displayName="FormCheckLabel";const CS=V.forwardRef(({id:r,bsPrefix:t,bsSwitchPrefix:n,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:f=!1,isInvalid:m=!1,feedbackTooltip:g=!1,feedback:y,feedbackType:E,className:b,style:R,title:q="",type:Q="checkbox",label:tt,children:X,as:ft="input",...dt},st)=>{t=It(t,"form-check"),n=It(n,"form-switch");const{controlId:mt}=V.useContext(Wi),ct=V.useMemo(()=>({controlId:r||mt}),[mt,r]),ht=!X&&tt!=null&&tt!==!1||BO(X,uh),O=G.jsx(ru,{...dt,type:Q==="switch"?"checkbox":Q,ref:st,isValid:f,isInvalid:m,disabled:u,as:ft});return G.jsx(Wi.Provider,{value:ct,children:G.jsx("div",{style:R,className:bt(b,ht&&t,s&&`${t}-inline`,o&&`${t}-reverse`,Q==="switch"&&n),children:X||G.jsxs(G.Fragment,{children:[O,ht&&G.jsx(uh,{title:q,children:tt}),y&&G.jsx(Vh,{type:E,tooltip:g,children:y})]})})})});CS.displayName="FormCheck";const ch=Object.assign(CS,{Input:ru,Label:uh}),IS=V.forwardRef(({bsPrefix:r,type:t,size:n,htmlSize:s,id:o,className:u,isValid:f=!1,isInvalid:m=!1,plaintext:g,readOnly:y,as:E="input",...b},R)=>{const{controlId:q}=V.useContext(Wi);return r=It(r,"form-control"),G.jsx(E,{...b,type:t,size:s,ref:R,readOnly:y,id:o||q,className:bt(u,g?`${r}-plaintext`:r,n&&`${r}-${n}`,t==="color"&&`${r}-color`,f&&"is-valid",m&&"is-invalid")})});IS.displayName="FormControl";const JO=Object.assign(IS,{Feedback:Vh}),NS=V.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=It(t,"form-floating"),G.jsx(n,{ref:o,className:bt(r,t),...s})));NS.displayName="FormFloating";const Bp=V.forwardRef(({controlId:r,as:t="div",...n},s)=>{const o=V.useMemo(()=>({controlId:r}),[r]);return G.jsx(Wi.Provider,{value:o,children:G.jsx(t,{...n,ref:s})})});Bp.displayName="FormGroup";const OS=V.forwardRef(({as:r="label",bsPrefix:t,column:n=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...f},m)=>{const{controlId:g}=V.useContext(Wi);t=It(t,"form-label");let y="col-form-label";typeof n=="string"&&(y=`${y} ${y}-${n}`);const E=bt(o,t,s&&"visually-hidden",n&&y);return u=u||g,n?G.jsx(Lp,{ref:m,as:"label",className:E,htmlFor:u,...f}):G.jsx(r,{ref:m,className:E,htmlFor:u,...f})});OS.displayName="FormLabel";const DS=V.forwardRef(({bsPrefix:r,className:t,id:n,...s},o)=>{const{controlId:u}=V.useContext(Wi);return r=It(r,"form-range"),G.jsx("input",{...s,type:"range",ref:o,className:bt(t,r),id:n||u})});DS.displayName="FormRange";const MS=V.forwardRef(({bsPrefix:r,size:t,htmlSize:n,className:s,isValid:o=!1,isInvalid:u=!1,id:f,...m},g)=>{const{controlId:y}=V.useContext(Wi);return r=It(r,"form-select"),G.jsx("select",{...m,size:n,ref:g,className:bt(s,r,t&&`${r}-${t}`,o&&"is-valid",u&&"is-invalid"),id:f||y})});MS.displayName="FormSelect";const xS=V.forwardRef(({bsPrefix:r,className:t,as:n="small",muted:s,...o},u)=>(r=It(r,"form-text"),G.jsx(n,{...o,ref:u,className:bt(t,r,s&&"text-muted")})));xS.displayName="FormText";const VS=V.forwardRef((r,t)=>G.jsx(ch,{...r,ref:t,type:"switch"}));VS.displayName="Switch";const WO=Object.assign(VS,{Input:ch.Input,Label:ch.Label}),kS=V.forwardRef(({bsPrefix:r,className:t,children:n,controlId:s,label:o,...u},f)=>(r=It(r,"form-floating"),G.jsxs(Bp,{ref:f,className:bt(t,r),controlId:s,...u,children:[n,G.jsx("label",{htmlFor:s,children:o})]})));kS.displayName="FloatingLabel";const tD={_ref:sn.any,validated:sn.bool,as:sn.elementType},Hp=V.forwardRef(({className:r,validated:t,as:n="form",...s},o)=>G.jsx(n,{...s,ref:o,className:bt(r,t&&"was-validated")}));Hp.displayName="Form";Hp.propTypes=tD;const um=Object.assign(Hp,{Group:Bp,Control:JO,Floating:NS,Check:ch,Switch:WO,Label:OS,Text:xS,Range:DS,Select:MS,FloatingLabel:kS}),kh=V.forwardRef(({className:r,bsPrefix:t,as:n="span",...s},o)=>(t=It(t,"input-group-text"),G.jsx(n,{ref:o,className:bt(r,t),...s})));kh.displayName="InputGroupText";const eD=r=>G.jsx(kh,{children:G.jsx(ru,{type:"checkbox",...r})}),nD=r=>G.jsx(kh,{children:G.jsx(ru,{type:"radio",...r})}),LS=V.forwardRef(({bsPrefix:r,size:t,hasValidation:n,className:s,as:o="div",...u},f)=>{r=It(r,"input-group");const m=V.useMemo(()=>({}),[]);return G.jsx(wS.Provider,{value:m,children:G.jsx(o,{ref:f,...u,className:bt(s,r,t&&`${r}-${t}`,n&&"has-validation")})})});LS.displayName="InputGroup";const iD=Object.assign(LS,{Text:kh,Radio:nD,Checkbox:eD}),YE=r=>!r||typeof r=="function"?r:t=>{r.current=t};function rD(r,t){const n=YE(r),s=YE(t);return o=>{n&&n(o),s&&s(o)}}function Lh(r,t){return V.useMemo(()=>rD(r,t),[r,t])}const US=V.createContext(null),sD=["as","active","eventKey"];function aD(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function PS({key:r,onClick:t,active:n,id:s,role:o,disabled:u}){const f=V.useContext(lh),m=V.useContext(zp),g=V.useContext(US);let y=n;const E={role:o};if(m){!o&&m.role==="tablist"&&(E.role="tab");const b=m.getControllerId(r??null),R=m.getControlledId(r??null);E[xh("event-key")]=r,E.id=b||s,y=n==null&&r!=null?m.activeKey===r:n,(y||!(g!=null&&g.unmountOnExit)&&!(g!=null&&g.mountOnEnter))&&(E["aria-controls"]=R)}return E.role==="tab"&&(E["aria-selected"]=y,y||(E.tabIndex=-1),u&&(E.tabIndex=-1,E["aria-disabled"]=!0)),E.onClick=Ki(b=>{u||(t?.(b),r!=null&&f&&!b.isPropagationStopped()&&f(r,b))}),[E,{isActive:y}]}const zS=V.forwardRef((r,t)=>{let{as:n=dS,active:s,eventKey:o}=r,u=aD(r,sD);const[f,m]=PS(Object.assign({key:Pp(o,u.href),active:s},u));return f[xh("active")]=m.isActive,G.jsx(n,Object.assign({},u,f,{ref:t}))});zS.displayName="NavItem";const oD=["as","onSelect","activeKey","role","onKeyDown"];function lD(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}const $E=()=>{},XE=xh("event-key"),jS=V.forwardRef((r,t)=>{let{as:n="div",onSelect:s,activeKey:o,role:u,onKeyDown:f}=r,m=lD(r,oD);const g=FO(),y=V.useRef(!1),E=V.useContext(lh),b=V.useContext(US);let R,q;b&&(u=u||"tablist",o=b.activeKey,R=b.getControlledId,q=b.getControllerId);const Q=V.useRef(null),tt=st=>{const mt=Q.current;if(!mt)return null;const ct=ks(mt,`[${XE}]:not([aria-disabled=true])`),ht=mt.querySelector("[aria-selected=true]");if(!ht||ht!==document.activeElement)return null;const O=ct.indexOf(ht);if(O===-1)return null;let A=O+st;return A>=ct.length&&(A=0),A<0&&(A=ct.length-1),ct[A]},X=(st,mt)=>{st!=null&&(s?.(st,mt),E?.(st,mt))},ft=st=>{if(f?.(st),!b)return;let mt;switch(st.key){case"ArrowLeft":case"ArrowUp":mt=tt(-1);break;case"ArrowRight":case"ArrowDown":mt=tt(1);break;default:return}mt&&(st.preventDefault(),X(mt.dataset[QO("EventKey")]||null,st),y.current=!0,g())};V.useEffect(()=>{if(Q.current&&y.current){const st=Q.current.querySelector(`[${XE}][aria-selected=true]`);st?.focus()}y.current=!1});const dt=Lh(t,Q);return G.jsx(lh.Provider,{value:X,children:G.jsx(zp.Provider,{value:{role:u,activeKey:Pp(o),getControlledId:R||$E,getControllerId:q||$E},children:G.jsx(n,Object.assign({},m,{onKeyDown:ft,ref:dt,role:u}))})})});jS.displayName="Nav";const uD=Object.assign(jS,{Item:zS});function cm(r){r===void 0&&(r=Ip());try{var t=r.activeElement;return!t||!t.nodeName?null:t}catch{return r.body}}function cD(r){const t=V.useRef(r);return t.current=r,t}function hD(r){const t=cD(r);V.useEffect(()=>()=>t.current(),[])}function fD(r=document){const t=r.defaultView;return Math.abs(t.innerWidth-r.documentElement.clientWidth)}const ZE=xh("modal-open");class qp{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return fD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(n[s]=`${parseInt($i(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(ZE,""),$i(o,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(ZE),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const hm=(r,t)=>Oh?r==null?(t||Ip()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function dD(r,t){const n=jp(),[s,o]=V.useState(()=>hm(r,n?.document));if(!s){const u=hm(r);u&&o(u)}return V.useEffect(()=>{},[t,s]),V.useEffect(()=>{const u=hm(r);u!==s&&o(u)},[r,s]),s}function mD({children:r,in:t,onExited:n,mountOnEnter:s,unmountOnExit:o}){const u=V.useRef(null),f=V.useRef(t),m=Ki(n);V.useEffect(()=>{t?f.current=!0:m(u.current)},[t,m]);const g=Lh(u,go(r)),y=V.cloneElement(r,{ref:g});return t?y:o||!f.current&&s?null:y}const pD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function gD(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function yD(r){let{onEnter:t,onEntering:n,onEntered:s,onExit:o,onExiting:u,onExited:f,addEndListener:m,children:g}=r,y=gD(r,pD);const E=V.useRef(null),b=Lh(E,go(g)),R=mt=>ct=>{mt&&E.current&&mt(E.current,ct)},q=V.useCallback(R(t),[t]),Q=V.useCallback(R(n),[n]),tt=V.useCallback(R(s),[s]),X=V.useCallback(R(o),[o]),ft=V.useCallback(R(u),[u]),dt=V.useCallback(R(f),[f]),st=V.useCallback(R(m),[m]);return Object.assign({},y,{nodeRef:E},t&&{onEnter:q},n&&{onEntering:Q},s&&{onEntered:tt},o&&{onExit:X},u&&{onExiting:ft},f&&{onExited:dt},m&&{addEndListener:st},{children:typeof g=="function"?(mt,ct)=>g(mt,Object.assign({},ct,{ref:b})):V.cloneElement(g,{ref:b})})}const _D=["component"];function vD(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}const ED=V.forwardRef((r,t)=>{let{component:n}=r,s=vD(r,_D);const o=yD(s);return G.jsx(n,Object.assign({ref:t},o))});function TD({in:r,onTransition:t}){const n=V.useRef(null),s=V.useRef(!0),o=Ki(t);return KE(()=>{if(!n.current)return;let u=!1;return o({in:r,element:n.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[r,o]),KE(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function SD({children:r,in:t,onExited:n,onEntered:s,transition:o}){const[u,f]=V.useState(!t);t&&u&&f(!1);const m=TD({in:!!t,onTransition:y=>{const E=()=>{y.isStale()||(y.in?s?.(y.element,y.initial):(f(!0),n?.(y.element)))};Promise.resolve(o(y)).then(E,b=>{throw y.in||f(!0),b})}}),g=Lh(m,go(r));return u&&!t?null:V.cloneElement(r,{ref:g})}function JE(r,t,n){return r?G.jsx(ED,Object.assign({},n,{component:r})):t?G.jsx(SD,Object.assign({},n,{transition:t})):G.jsx(mD,Object.assign({},n))}const AD=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function bD(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}let fm;function RD(r){return fm||(fm=new qp({ownerDocument:r?.document})),fm}function wD(r){const t=jp(),n=r||RD(t),s=V.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:V.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:V.useCallback(o=>{s.current.backdrop=o},[])})}const BS=V.forwardRef((r,t)=>{let{show:n=!1,role:s="dialog",className:o,style:u,children:f,backdrop:m=!0,keyboard:g=!0,onBackdropClick:y,onEscapeKeyDown:E,transition:b,runTransition:R,backdropTransition:q,runBackdropTransition:Q,autoFocus:tt=!0,enforceFocus:X=!0,restoreFocus:ft=!0,restoreFocusOptions:dt,renderDialog:st,renderBackdrop:mt=Wt=>G.jsx("div",Object.assign({},Wt)),manager:ct,container:ht,onShow:O,onHide:A=()=>{},onExit:I,onExited:M,onExiting:x,onEnter:L,onEntering:C,onEntered:le}=r,ee=bD(r,AD);const F=jp(),et=dD(ht),at=wD(ct),Vt=CO(),N=IO(n),[Z,it]=V.useState(!n),W=V.useRef(null);V.useImperativeHandle(t,()=>at,[at]),Oh&&!N&&n&&(W.current=cm(F?.document)),n&&Z&&it(!1);const ot=Ki(()=>{if(at.add(),Sn.current=oh(document,"keydown",Yt),on.current=oh(document,"focus",()=>setTimeout(Tt),!0),O&&O(),tt){var Wt,Wr;const Ke=cm((Wt=(Wr=at.dialog)==null?void 0:Wr.ownerDocument)!=null?Wt:F?.document);at.dialog&&Ke&&!QE(at.dialog,Ke)&&(W.current=Ke,at.dialog.focus())}}),At=Ki(()=>{if(at.remove(),Sn.current==null||Sn.current(),on.current==null||on.current(),ft){var Wt;(Wt=W.current)==null||Wt.focus==null||Wt.focus(dt),W.current=null}});V.useEffect(()=>{!n||!et||ot()},[n,et,ot]),V.useEffect(()=>{Z&&At()},[Z,At]),hD(()=>{At()});const Tt=Ki(()=>{if(!X||!Vt()||!at.isTopModal())return;const Wt=cm(F?.document);at.dialog&&Wt&&!QE(at.dialog,Wt)&&at.dialog.focus()}),ye=Ki(Wt=>{Wt.target===Wt.currentTarget&&(y?.(Wt),m===!0&&A())}),Yt=Ki(Wt=>{g&&hO(Wt)&&at.isTopModal()&&(E?.(Wt),Wt.defaultPrevented||A())}),on=V.useRef(),Sn=V.useRef(),Un=(...Wt)=>{it(!0),M?.(...Wt)};if(!et)return null;const $n=Object.assign({role:s,ref:at.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},ee,{style:u,className:o,tabIndex:-1});let Pn=st?st($n):G.jsx("div",Object.assign({},$n,{children:V.cloneElement(f,{role:"document"})}));Pn=JE(b,R,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:I,onExiting:x,onExited:Un,onEnter:L,onEntering:C,onEntered:le,children:Pn});let An=null;return m&&(An=mt({ref:at.setBackdropRef,onClick:ye}),An=JE(q,Q,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:An})),G.jsx(G.Fragment,{children:Fa.createPortal(G.jsxs(G.Fragment,{children:[An,Pn]}),et)})});BS.displayName="Modal";const CD=Object.assign(BS,{Manager:qp});function ID(r,t){return r.classList?r.classList.contains(t):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+t+" ")!==-1}function ND(r,t){r.classList?r.classList.add(t):ID(r,t)||(typeof r.className=="string"?r.className=r.className+" "+t:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+t))}function WE(r,t){return r.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function OD(r,t){r.classList?r.classList.remove(t):typeof r.className=="string"?r.className=WE(r.className,t):r.setAttribute("class",WE(r.className&&r.className.baseVal||"",t))}const Pa={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class HS extends qp{adjustAndStore(t,n,s){const o=n.style[t];n.dataset[t]=o,$i(n,{[t]:`${parseFloat($i(n,t))+s}px`})}restore(t,n){const s=n.dataset[t];s!==void 0&&(delete n.dataset[t],$i(n,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(ND(n,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ks(n,Pa.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,t.scrollBarWidth)),ks(n,Pa.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-t.scrollBarWidth)),ks(n,Pa.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();OD(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ks(n,Pa.FIXED_CONTENT).forEach(u=>this.restore(s,u)),ks(n,Pa.STICKY_CONTENT).forEach(u=>this.restore(o,u)),ks(n,Pa.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let dm;function DD(r){return dm||(dm=new HS(r)),dm}const qS=V.createContext({onHide(){}}),FS=V.forwardRef(({closeLabel:r="Close",closeVariant:t,closeButton:n=!1,onHide:s,children:o,...u},f)=>{const m=V.useContext(qS),g=Mh(()=>{m?.onHide(),s?.()});return G.jsxs("div",{ref:f,...u,children:[o,n&&G.jsx(Mp,{"aria-label":r,variant:t,onClick:g})]})});FS.displayName="AbstractModalHeader";const GS=V.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=It(t,"nav-item"),G.jsx(n,{ref:o,className:bt(r,t),...s})));GS.displayName="NavItem";const KS=V.forwardRef(({bsPrefix:r,className:t,as:n=mS,active:s,eventKey:o,disabled:u=!1,...f},m)=>{r=It(r,"nav-link");const[g,y]=PS({key:Pp(o,f.href),active:s,disabled:u,...f});return G.jsx(n,{...f,...g,ref:m,disabled:u,className:bt(t,r,u&&"disabled",y.isActive&&"active")})});KS.displayName="NavLink";const QS=V.forwardRef((r,t)=>{const{as:n="div",bsPrefix:s,variant:o,fill:u=!1,justify:f=!1,navbar:m,navbarScroll:g,className:y,activeKey:E,...b}=oS(r,{activeKey:"onSelect"}),R=It(s,"nav");let q,Q,tt=!1;const X=V.useContext(yo),ft=V.useContext(kp);return X?(q=X.bsPrefix,tt=m??!0):ft&&({cardHeaderBsPrefix:Q}=ft),G.jsx(uD,{as:n,ref:t,activeKey:E,className:bt(y,{[R]:!tt,[`${q}-nav`]:tt,[`${q}-nav-scroll`]:tt&&g,[`${Q}-${o}`]:!!Q,[`${R}-${o}`]:!!o,[`${R}-fill`]:u,[`${R}-justified`]:f}),...b})});QS.displayName="Nav";const tT=Object.assign(QS,{Item:GS,Link:KS}),YS=V.forwardRef(({bsPrefix:r,className:t,as:n,...s},o)=>{r=It(r,"navbar-brand");const u=n||(s.href?"a":"span");return G.jsx(u,{...s,ref:o,className:bt(t,r)})});YS.displayName="NavbarBrand";const $S=V.forwardRef(({children:r,bsPrefix:t,...n},s)=>{t=It(t,"navbar-collapse");const o=V.useContext(yo);return G.jsx(fS,{in:!!(o&&o.expanded),...n,children:G.jsx("div",{ref:s,className:t,children:r})})});$S.displayName="NavbarCollapse";const XS=V.forwardRef(({bsPrefix:r,className:t,children:n,label:s="Toggle navigation",as:o="button",onClick:u,...f},m)=>{r=It(r,"navbar-toggler");const{onToggle:g,expanded:y}=V.useContext(yo)||{},E=Mh(b=>{u&&u(b),g&&g()});return o==="button"&&(f.type="button"),G.jsx(o,{...f,ref:m,onClick:E,"aria-label":s,className:bt(t,r,!y&&"collapsed"),children:n||G.jsx("span",{className:`${r}-icon`})})});XS.displayName="NavbarToggle";const Qm=new WeakMap,eT=(r,t)=>{if(!r||!t)return;const n=Qm.get(t)||new Map;Qm.set(t,n);let s=n.get(r);return s||(s=t.matchMedia(r),s.refCount=0,n.set(s.media,s)),s};function MD(r,t=typeof window>"u"?void 0:window){const n=eT(r,t),[s,o]=V.useState(()=>n?n.matches:!1);return XO(()=>{let u=eT(r,t);if(!u)return o(!1);let f=Qm.get(t);const m=()=>{o(u.matches)};return u.refCount++,u.addListener(m),m(),()=>{u.removeListener(m),u.refCount--,u.refCount<=0&&f?.delete(u.media),u=void 0}},[r]),s}function xD(r){const t=Object.keys(r);function n(m,g){return m===g?g:m?`${m} and ${g}`:g}function s(m){return t[Math.min(t.indexOf(m)+1,t.length-1)]}function o(m){const g=s(m);let y=r[g];return typeof y=="number"?y=`${y-.2}px`:y=`calc(${y} - 0.2px)`,`(max-width: ${y})`}function u(m){let g=r[m];return typeof g=="number"&&(g=`${g}px`),`(min-width: ${g})`}function f(m,g,y){let E;typeof m=="object"?(E=m,y=g,g=!0):(g=g||!0,E={[m]:g});let b=V.useMemo(()=>Object.entries(E).reduce((R,[q,Q])=>((Q==="up"||Q===!0)&&(R=n(R,u(q))),(Q==="down"||Q===!0)&&(R=n(R,o(q))),R),""),[JSON.stringify(E)]);return MD(b,y)}return f}const VD=xD({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),ZS=V.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=It(t,"offcanvas-body"),G.jsx(n,{ref:o,className:bt(r,t),...s})));ZS.displayName="OffcanvasBody";const kD={[Gn]:"show",[Gi]:"show"},JS=V.forwardRef(({bsPrefix:r,className:t,children:n,in:s=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:f=!1,...m},g)=>(r=It(r,"offcanvas"),G.jsx(Dh,{ref:g,addEndListener:Np,in:s,mountOnEnter:o,unmountOnExit:u,appear:f,...m,childRef:go(n),children:(y,E)=>V.cloneElement(n,{...E,className:bt(t,n.props.className,(y===Gn||y===Ql)&&`${r}-toggling`,kD[y])})})));JS.displayName="OffcanvasToggling";const WS=V.forwardRef(({bsPrefix:r,className:t,closeLabel:n="Close",closeButton:s=!1,...o},u)=>(r=It(r,"offcanvas-header"),G.jsx(FS,{ref:u,...o,className:bt(t,r),closeLabel:n,closeButton:s})));WS.displayName="OffcanvasHeader";const LD=Op("h5"),t1=V.forwardRef(({className:r,bsPrefix:t,as:n=LD,...s},o)=>(t=It(t,"offcanvas-title"),G.jsx(n,{ref:o,className:bt(r,t),...s})));t1.displayName="OffcanvasTitle";function UD(r){return G.jsx(JS,{...r})}function PD(r){return G.jsx(pS,{...r})}const e1=V.forwardRef(({bsPrefix:r,className:t,children:n,"aria-labelledby":s,placement:o="start",responsive:u,show:f=!1,backdrop:m=!0,keyboard:g=!0,scroll:y=!1,onEscapeKeyDown:E,onShow:b,onHide:R,container:q,autoFocus:Q=!0,enforceFocus:tt=!0,restoreFocus:X=!0,restoreFocusOptions:ft,onEntered:dt,onExit:st,onExiting:mt,onEnter:ct,onEntering:ht,onExited:O,backdropClassName:A,manager:I,renderStaticNode:M=!1,...x},L)=>{const C=V.useRef();r=It(r,"offcanvas");const[le,ee]=V.useState(!1),F=Mh(R),et=VD(u||"xs","up");V.useEffect(()=>{ee(u?f&&!et:f)},[f,u,et]);const at=V.useMemo(()=>({onHide:F}),[F]);function Vt(){return I||(y?(C.current||(C.current=new HS({handleContainerOverflow:!1})),C.current):DD())}const N=(ot,...At)=>{ot&&(ot.style.visibility="visible"),ct?.(ot,...At)},Z=(ot,...At)=>{ot&&(ot.style.visibility=""),O?.(...At)},it=V.useCallback(ot=>G.jsx("div",{...ot,className:bt(`${r}-backdrop`,A)}),[A,r]),W=ot=>G.jsx("div",{...ot,...x,className:bt(t,u?`${r}-${u}`:r,`${r}-${o}`),"aria-labelledby":s,children:n});return G.jsxs(G.Fragment,{children:[!le&&(u||M)&&W({}),G.jsx(qS.Provider,{value:at,children:G.jsx(CD,{show:le,ref:L,backdrop:m,container:q,keyboard:g,autoFocus:Q,enforceFocus:tt&&!y,restoreFocus:X,restoreFocusOptions:ft,onEscapeKeyDown:E,onShow:b,onHide:F,onEnter:N,onEntering:ht,onEntered:dt,onExit:st,onExiting:mt,onExited:Z,manager:Vt(),transition:UD,backdropTransition:PD,renderBackdrop:it,renderDialog:W})})]})});e1.displayName="Offcanvas";const zD=Object.assign(e1,{Body:ZS,Header:WS,Title:t1}),n1=V.forwardRef(({onHide:r,...t},n)=>{const s=V.useContext(yo),o=Mh(()=>{s==null||s.onToggle==null||s.onToggle(),r?.()});return G.jsx(zD,{ref:n,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});n1.displayName="NavbarOffcanvas";const i1=V.forwardRef(({className:r,bsPrefix:t,as:n="span",...s},o)=>(t=It(t,"navbar-text"),G.jsx(n,{ref:o,className:bt(r,t),...s})));i1.displayName="NavbarText";const r1=V.forwardRef((r,t)=>{const{bsPrefix:n,expand:s=!0,variant:o="light",bg:u,fixed:f,sticky:m,className:g,as:y="nav",expanded:E,onToggle:b,onSelect:R,collapseOnSelect:q=!1,...Q}=oS(r,{expanded:"onToggle"}),tt=It(n,"navbar"),X=V.useCallback((...st)=>{R?.(...st),q&&E&&b?.(!1)},[R,q,E,b]);Q.role===void 0&&y!=="nav"&&(Q.role="navigation");let ft=`${tt}-expand`;typeof s=="string"&&(ft=`${ft}-${s}`);const dt=V.useMemo(()=>({onToggle:()=>b?.(!E),bsPrefix:tt,expanded:!!E,expand:s}),[tt,E,s,b]);return G.jsx(yo.Provider,{value:dt,children:G.jsx(lh.Provider,{value:X,children:G.jsx(y,{ref:t,...Q,className:bt(g,tt,s&&ft,o&&`${tt}-${o}`,u&&`bg-${u}`,m&&`sticky-${m}`,f&&`fixed-${f}`)})})})});r1.displayName="Navbar";const Lc=Object.assign(r1,{Brand:YS,Collapse:$S,Offcanvas:n1,Text:i1,Toggle:XS}),s1=V.forwardRef(({bsPrefix:r,className:t,as:n="div",...s},o)=>{const u=It(r,"row"),f=lS(),m=uS(),g=`${u}-cols`,y=[];return f.forEach(E=>{const b=s[E];delete s[E];let R;b!=null&&typeof b=="object"?{cols:R}=b:R=b;const q=E!==m?`-${E}`:"";R!=null&&y.push(`${g}${q}-${R}`)}),G.jsx(n,{ref:o,...s,className:bt(t,u,...y)})});s1.displayName="Row";const qe=[];for(let r=0;r<256;++r)qe.push((r+256).toString(16).slice(1));function jD(r,t=0){return(qe[r[t+0]]+qe[r[t+1]]+qe[r[t+2]]+qe[r[t+3]]+"-"+qe[r[t+4]]+qe[r[t+5]]+"-"+qe[r[t+6]]+qe[r[t+7]]+"-"+qe[r[t+8]]+qe[r[t+9]]+"-"+qe[r[t+10]]+qe[r[t+11]]+qe[r[t+12]]+qe[r[t+13]]+qe[r[t+14]]+qe[r[t+15]]).toLowerCase()}let mm;const BD=new Uint8Array(16);function HD(){if(!mm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");mm=crypto.getRandomValues.bind(crypto)}return mm(BD)}const qD=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nT={randomUUID:qD};function FD(r,t,n){if(nT.randomUUID&&!r)return nT.randomUUID();r=r||{};const s=r.random??r.rng?.()??HD();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,jD(s)}class a1{constructor(t,n="",s=0){this.med=t,this.id=FD(),this.date=n,this.amount=s}getDate(){return new Date(this.date)}}class GD{constructor(t,n,s){this.entries=[],this.id=t,this.name=n;for(const o of s){const u=o.date.toDate().toISOString().slice(0,10);this.entries.push(new a1(this,u,o.amount))}}getName(){return this.name}getId(){return this.id}getEntries(){return[...this.entries]}newEntry(t){this.entries.push(t)}setEntries(t){this.entries=t}}var KD=["color","size","title","className"];function Ym(){return Ym=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Ym.apply(null,arguments)}function QD(r,t){if(r==null)return{};var n,s,o=YD(r,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(s=0;s<u.length;s++)n=u[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(o[n]=r[n])}return o}function YD(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)!==-1)continue;n[s]=r[s]}return n}var o1=V.forwardRef(function(r,t){var n=r.color,s=n===void 0?"currentColor":n,o=r.size,u=o===void 0?"1em":o,f=r.title,m=f===void 0?null:f,g=r.className,y=g===void 0?"":g,E=QD(r,KD);return Tn.createElement("svg",Ym({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:u,height:u,fill:s,className:["bi","bi-trash",y].filter(Boolean).join(" ")},E),m?Tn.createElement("title",null,m):null,Tn.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),Tn.createElement("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"}))});o1.propTypes={color:sn.string,size:sn.oneOfType([sn.string,sn.number]),title:sn.string,className:sn.string};function $D({children:r,onDelete:t}){const[n,s]=V.useState(r.amount),[o,u]=V.useState(r.date),f=g=>{const y=Number(g.target.value);y<0?(r.amount=0,s(0)):(r.amount=y,s(y))},m=g=>{r.date=g.target.value,u(g.target.value)};return G.jsx(G.Fragment,{children:G.jsx(um.Group,{className:"mb-3",controlId:"fromDate",children:G.jsxs(iD,{children:[G.jsx(um.Control,{className:"w-50",type:"date",value:o,onChange:m}),G.jsx(um.Control,{className:"w-25",type:"number",value:n,onChange:f}),G.jsx(xp,{variant:"outline-secondary",onClick:t,children:G.jsx(o1,{})})]})})})}function XD({children:r}){const[t,n]=V.useState(r.getEntries()),s=()=>{const u=new a1(r);r.newEntry(u),n([...t,u])},o=u=>{r.setEntries(t.filter(f=>f.id!==u)),n(t.filter(f=>f.id!==u))};if(t.length===0)s();else return G.jsx(lm,{className:"h-100",children:G.jsxs(lm.Body,{className:"d-flex flex-column",children:[G.jsx(lm.Title,{children:r.getName()}),t.map(u=>G.jsx($D,{onDelete:()=>{o(u.id)},children:u},u.id)),G.jsx(xp,{className:"w-100 mt-auto",color:"blue",onClick:s,children:"+"})]})})}function ZD({setPage:r}){const t=["Home"];return G.jsx(Lc,{expand:"lg",className:"bg-body-tertiary mb-5",children:G.jsxs(Up,{children:[G.jsx(Lc.Brand,{onClick:()=>{r("home")},children:"BLLK"}),G.jsx(Lc.Toggle,{"aria-controls":"basic-navbar-nav"}),G.jsx(Lc.Collapse,{id:"basic-navbar-nav",children:G.jsx(tT,{className:"me-auto",children:t.map(n=>G.jsx(tT.Link,{onClick:()=>{r(n.toLocaleLowerCase())},children:n},n))})})]})})}var JD=function(r,t,n,s){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(E){try{y(s.next(E))}catch(b){f(b)}}function g(E){try{y(s.throw(E))}catch(b){f(b)}}function y(E){E.done?u(E.value):o(E.value).then(m,g)}y((s=s.apply(r,t||[])).next())})};const WD={apiKey:"AIzaSyD9-6prflaJhhuFut_6-ze9H5JI2ROG0b8",authDomain:"bllkinventory-bd8eb.firebaseapp.com",projectId:"bllkinventory-bd8eb",storageBucket:"bllkinventory-bd8eb.firebasestorage.app",messagingSenderId:"803086724359",appId:"1:803086724359:web:dcb95778290927a225e9a2"};function tM(){return JD(this,void 0,void 0,function*(){const r={},t=yield II(yI(eM,"meds"));for(const n of t.docs){const s=n.data();r[n.id]=new GD(n.id,s.name,s.entries)}return r})}const l1=mT(WD),eM=_I(l1),pm=jN(l1);function nM(){const[r,t]=V.useState({}),[,n]=V.useState(null),[s,o]=V.useState(!0),[u,f]=V.useState("home");return V.useEffect(()=>{const m=N2(pm,g=>{n(g),o(!1)});return()=>m()},[]),V.useEffect(()=>{s||(pm.currentUser||w2(pm,"bllkinventory@gmail.com","test2273"),tM().then(m=>t(m)))},[s]),s?G.jsx("div",{children:"Loading authentication status..."}):G.jsxs(G.Fragment,{children:[G.jsx(ZD,{setPage:f}),G.jsx(Up,{children:G.jsx(s1,{children:Object.values(r).map(m=>G.jsx(Lp,{className:"mb-3",xs:12,sm:12,md:6,lg:6,xl:4,xxl:3,children:G.jsx(XD,{children:m})},m.getId()))})})]})}BA.createRoot(document.getElementById("root")).render(G.jsx(V.StrictMode,{children:G.jsx(nM,{})}));

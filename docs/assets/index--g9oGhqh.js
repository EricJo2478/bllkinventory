(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function Gu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rp={exports:{}},fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function iC(){if(ZE)return fu;ZE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return fu.Fragment=t,fu.jsx=e,fu.jsxs=e,fu}var JE;function sC(){return JE||(JE=1,rp.exports=iC()),rp.exports}var C=sC(),ip={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function aC(){if(tT)return Mt;tT=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,H={};function P(V,tt,ut){this.props=V,this.context=tt,this.refs=H,this.updater=ut||I}P.prototype.isReactComponent={},P.prototype.setState=function(V,tt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,tt,"setState")},P.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=P.prototype;function X(V,tt,ut){this.props=V,this.context=tt,this.refs=H,this.updater=ut||I}var Y=X.prototype=new Z;Y.constructor=X,L(Y,P.prototype),Y.isPureReactComponent=!0;var W=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},at=Object.prototype.hasOwnProperty;function D(V,tt,ut,st,ht,vt){return ut=vt.ref,{$$typeof:r,type:V,key:tt,ref:ut!==void 0?ut:null,props:vt}}function R(V,tt){return D(V.type,tt,void 0,void 0,void 0,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function M(V){var tt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ut){return tt[ut]})}var k=/\/+/g;function j(V,tt){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):tt.toString(36)}function N(){}function xt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(tt){V.status==="pending"&&(V.status="fulfilled",V.value=tt)},function(tt){V.status==="pending"&&(V.status="rejected",V.reason=tt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ct(V,tt,ut,st,ht){var vt=typeof V;(vt==="undefined"||vt==="boolean")&&(V=null);var Et=!1;if(V===null)Et=!0;else switch(vt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(V.$$typeof){case r:case t:Et=!0;break;case v:return Et=V._init,Ct(Et(V._payload),tt,ut,st,ht)}}if(Et)return ht=ht(V),Et=st===""?"."+j(V,0):st,W(ht)?(ut="",Et!=null&&(ut=Et.replace(k,"$&/")+"/"),Ct(ht,tt,ut,"",function(Te){return Te})):ht!=null&&(O(ht)&&(ht=R(ht,ut+(ht.key==null||V&&V.key===ht.key?"":(""+ht.key).replace(k,"$&/")+"/")+Et)),tt.push(ht)),1;Et=0;var te=st===""?".":st+":";if(W(V))for(var Pt=0;Pt<V.length;Pt++)st=V[Pt],vt=te+j(st,Pt),Et+=Ct(st,tt,ut,vt,ht);else if(Pt=S(V),typeof Pt=="function")for(V=Pt.call(V),Pt=0;!(st=V.next()).done;)st=st.value,vt=te+j(st,Pt++),Et+=Ct(st,tt,ut,vt,ht);else if(vt==="object"){if(typeof V.then=="function")return Ct(xt(V),tt,ut,st,ht);throw tt=String(V),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Et}function $(V,tt,ut){if(V==null)return V;var st=[],ht=0;return Ct(V,st,"","",function(vt){return tt.call(ut,vt,ht++)}),st}function lt(V){if(V._status===-1){var tt=V._result;tt=tt(),tt.then(function(ut){(V._status===0||V._status===-1)&&(V._status=1,V._result=ut)},function(ut){(V._status===0||V._status===-1)&&(V._status=2,V._result=ut)}),V._status===-1&&(V._status=0,V._result=tt)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ot(){}return Mt.Children={map:$,forEach:function(V,tt,ut){$(V,function(){tt.apply(this,arguments)},ut)},count:function(V){var tt=0;return $(V,function(){tt++}),tt},toArray:function(V){return $(V,function(tt){return tt})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Mt.Component=P,Mt.Fragment=e,Mt.Profiler=o,Mt.PureComponent=X,Mt.StrictMode=s,Mt.Suspense=p,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return it.H.useMemoCache(V)}},Mt.cache=function(V){return function(){return V.apply(null,arguments)}},Mt.cloneElement=function(V,tt,ut){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=L({},V.props),ht=V.key,vt=void 0;if(tt!=null)for(Et in tt.ref!==void 0&&(vt=void 0),tt.key!==void 0&&(ht=""+tt.key),tt)!at.call(tt,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&tt.ref===void 0||(st[Et]=tt[Et]);var Et=arguments.length-2;if(Et===1)st.children=ut;else if(1<Et){for(var te=Array(Et),Pt=0;Pt<Et;Pt++)te[Pt]=arguments[Pt+2];st.children=te}return D(V.type,ht,void 0,void 0,vt,st)},Mt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Mt.createElement=function(V,tt,ut){var st,ht={},vt=null;if(tt!=null)for(st in tt.key!==void 0&&(vt=""+tt.key),tt)at.call(tt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(ht[st]=tt[st]);var Et=arguments.length-2;if(Et===1)ht.children=ut;else if(1<Et){for(var te=Array(Et),Pt=0;Pt<Et;Pt++)te[Pt]=arguments[Pt+2];ht.children=te}if(V&&V.defaultProps)for(st in Et=V.defaultProps,Et)ht[st]===void 0&&(ht[st]=Et[st]);return D(V,vt,void 0,void 0,null,ht)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(V){return{$$typeof:d,render:V}},Mt.isValidElement=O,Mt.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:lt}},Mt.memo=function(V,tt){return{$$typeof:g,type:V,compare:tt===void 0?null:tt}},Mt.startTransition=function(V){var tt=it.T,ut={};it.T=ut;try{var st=V(),ht=it.S;ht!==null&&ht(ut,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ot,ft)}catch(vt){ft(vt)}finally{it.T=tt}},Mt.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},Mt.use=function(V){return it.H.use(V)},Mt.useActionState=function(V,tt,ut){return it.H.useActionState(V,tt,ut)},Mt.useCallback=function(V,tt){return it.H.useCallback(V,tt)},Mt.useContext=function(V){return it.H.useContext(V)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(V,tt){return it.H.useDeferredValue(V,tt)},Mt.useEffect=function(V,tt,ut){var st=it.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(V,tt)},Mt.useId=function(){return it.H.useId()},Mt.useImperativeHandle=function(V,tt,ut){return it.H.useImperativeHandle(V,tt,ut)},Mt.useInsertionEffect=function(V,tt){return it.H.useInsertionEffect(V,tt)},Mt.useLayoutEffect=function(V,tt){return it.H.useLayoutEffect(V,tt)},Mt.useMemo=function(V,tt){return it.H.useMemo(V,tt)},Mt.useOptimistic=function(V,tt){return it.H.useOptimistic(V,tt)},Mt.useReducer=function(V,tt,ut){return it.H.useReducer(V,tt,ut)},Mt.useRef=function(V){return it.H.useRef(V)},Mt.useState=function(V){return it.H.useState(V)},Mt.useSyncExternalStore=function(V,tt,ut){return it.H.useSyncExternalStore(V,tt,ut)},Mt.useTransition=function(){return it.H.useTransition()},Mt.version="19.1.1",Mt}var eT;function bg(){return eT||(eT=1,ip.exports=aC()),ip.exports}var w=bg();const kn=Gu(w);var sp={exports:{}},hu={},ap={exports:{}},op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function oC(){return nT||(nT=1,(function(r){function t($,lt){var ft=$.length;$.push(lt);t:for(;0<ft;){var Ot=ft-1>>>1,V=$[Ot];if(0<o(V,lt))$[Ot]=lt,$[ft]=V,ft=Ot;else break t}}function e($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var lt=$[0],ft=$.pop();if(ft!==lt){$[0]=ft;t:for(var Ot=0,V=$.length,tt=V>>>1;Ot<tt;){var ut=2*(Ot+1)-1,st=$[ut],ht=ut+1,vt=$[ht];if(0>o(st,ft))ht<V&&0>o(vt,st)?($[Ot]=vt,$[ht]=ft,Ot=ht):($[Ot]=st,$[ut]=ft,Ot=ut);else if(ht<V&&0>o(vt,ft))$[Ot]=vt,$[ht]=ft,Ot=ht;else break t}}return lt}function o($,lt){var ft=$.sortIndex-lt.sortIndex;return ft!==0?ft:$.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();r.unstable_now=function(){return f.now()-d}}var p=[],g=[],v=1,T=null,S=3,I=!1,L=!1,H=!1,P=!1,Z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function W($){for(var lt=e(g);lt!==null;){if(lt.callback===null)s(g);else if(lt.startTime<=$)s(g),lt.sortIndex=lt.expirationTime,t(p,lt);else break;lt=e(g)}}function it($){if(H=!1,W($),!L)if(e(p)!==null)L=!0,at||(at=!0,j());else{var lt=e(g);lt!==null&&Ct(it,lt.startTime-$)}}var at=!1,D=-1,R=5,O=-1;function M(){return P?!0:!(r.unstable_now()-O<R)}function k(){if(P=!1,at){var $=r.unstable_now();O=$;var lt=!0;try{t:{L=!1,H&&(H=!1,X(D),D=-1),I=!0;var ft=S;try{e:{for(W($),T=e(p);T!==null&&!(T.expirationTime>$&&M());){var Ot=T.callback;if(typeof Ot=="function"){T.callback=null,S=T.priorityLevel;var V=Ot(T.expirationTime<=$);if($=r.unstable_now(),typeof V=="function"){T.callback=V,W($),lt=!0;break e}T===e(p)&&s(p),W($)}else s(p);T=e(p)}if(T!==null)lt=!0;else{var tt=e(g);tt!==null&&Ct(it,tt.startTime-$),lt=!1}}break t}finally{T=null,S=ft,I=!1}lt=void 0}}finally{lt?j():at=!1}}}var j;if(typeof Y=="function")j=function(){Y(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,xt=N.port2;N.port1.onmessage=k,j=function(){xt.postMessage(null)}}else j=function(){Z(k,0)};function Ct($,lt){D=Z(function(){$(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function($){switch(S){case 1:case 2:case 3:var lt=3;break;default:lt=S}var ft=S;S=lt;try{return $()}finally{S=ft}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function($,lt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ft=S;S=$;try{return lt()}finally{S=ft}},r.unstable_scheduleCallback=function($,lt,ft){var Ot=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ot+ft:Ot):ft=Ot,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,$={id:v++,callback:lt,priorityLevel:$,startTime:ft,expirationTime:V,sortIndex:-1},ft>Ot?($.sortIndex=ft,t(g,$),e(p)===null&&$===e(g)&&(H?(X(D),D=-1):H=!0,Ct(it,ft-Ot))):($.sortIndex=V,t(p,$),L||I||(L=!0,at||(at=!0,j()))),$},r.unstable_shouldYield=M,r.unstable_wrapCallback=function($){var lt=S;return function(){var ft=S;S=lt;try{return $.apply(this,arguments)}finally{S=ft}}}})(op)),op}var rT;function lC(){return rT||(rT=1,ap.exports=oC()),ap.exports}var lp={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function uC(){if(iT)return ln;iT=1;var r=bg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},ln.flushSync=function(p){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=v,s.d.f()}},ln.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},ln.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ln.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:I}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},ln.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},ln.requestFormReset=function(p){s.d.r(p)},ln.unstable_batchedUpdates=function(p,g){return p(g)},ln.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},ln.version="19.1.1",ln}var sT;function ES(){if(sT)return lp.exports;sT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),lp.exports=uC(),lp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function cC(){if(aT)return hu;aT=1;var r=lC(),t=bg(),e=ES();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function f(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return d(h),n;if(m===l)return d(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var E=!1,A=h.child;A;){if(A===a){E=!0,a=h,l=m;break}if(A===l){E=!0,l=h,a=m;break}A=A.sibling}if(!E){for(A=m.child;A;){if(A===a){E=!0,a=m,l=h;break}if(A===l){E=!0,l=m,a=h;break}A=A.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function xt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case P:return"Profiler";case H:return"StrictMode";case it:return"Suspense";case at:return"SuspenseList";case O:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case Y:return(n.displayName||"Context")+".Provider";case X:return(n._context.displayName||"Context")+".Consumer";case W:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return i=n.displayName||null,i!==null?i:xt(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return xt(n(i))}catch{}}return null}var Ct=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ot=[],V=-1;function tt(n){return{current:n}}function ut(n){0>V||(n.current=Ot[V],Ot[V]=null,V--)}function st(n,i){V++,Ot[V]=n.current,n.current=i}var ht=tt(null),vt=tt(null),Et=tt(null),te=tt(null);function Pt(n,i){switch(st(Et,i),st(vt,n),st(ht,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?RE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=RE(i),n=CE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ut(ht),st(ht,n)}function Te(){ut(ht),ut(vt),ut(Et)}function Ge(n){n.memoizedState!==null&&st(te,n);var i=ht.current,a=CE(i,n.type);i!==a&&(st(vt,n),st(ht,a))}function Le(n){vt.current===n&&(ut(ht),ut(vt)),te.current===n&&(ut(te),au._currentValue=ft)}var en=Object.prototype.hasOwnProperty,nn=r.unstable_scheduleCallback,rn=r.unstable_cancelCallback,Kt=r.unstable_shouldYield,jn=r.unstable_requestPaint,ge=r.unstable_now,Vs=r.unstable_getCurrentPriorityLevel,qr=r.unstable_ImmediatePriority,sn=r.unstable_UserBlockingPriority,vn=r.unstable_NormalPriority,xi=r.unstable_LowPriority,ir=r.unstable_IdlePriority,Bn=r.log,Fr=r.unstable_setDisableYieldValue,Tt=null,Vt=null;function Ie(n){if(typeof Bn=="function"&&Fr(n),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Tt,n)}catch{}}var an=Math.clz32?Math.clz32:ks,cc=Math.log,sd=Math.LN2;function ks(n){return n>>>=0,n===0?32:31-(cc(n)/sd|0)|0}var Ps=256,Ls=4194304;function sr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xa(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?h=sr(l):(E&=A,E!==0?h=sr(E):a||(a=A&~n,a!==0&&(h=sr(a))))):(A=l&~m,A!==0?h=sr(A):E!==0?h=sr(E):a||(a=l&~n,a!==0&&(h=sr(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function Us(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function al(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ol(){var n=Ps;return Ps<<=1,(Ps&4194048)===0&&(Ps=256),n}function ll(){var n=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),n}function Gr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function $r(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ul(n,i,a,l,h,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,x=n.expirationTimes,F=n.hiddenUpdates;for(a=E&~a;0<a;){var J=31-an(a),nt=1<<J;A[J]=0,x[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}a&=~nt}l!==0&&pr(n,l,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~i))}function pr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-an(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function cl(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-an(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function Mi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ma(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Vi(){var n=lt.p;return n!==0?n:(n=window.event,n===void 0?32:$E(n.type))}function fc(n,i){var a=lt.p;try{return lt.p=n,i()}finally{lt.p=a}}var ce=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ce,Se="__reactProps$"+ce,zn="__reactContainer$"+ce,fl="__reactEvents$"+ce,ad="__reactListeners$"+ce,ki="__reactHandles$"+ce,hc="__reactResources$"+ce,js="__reactMarker$"+ce;function Pi(n){delete n[Oe],delete n[Se],delete n[fl],delete n[ad],delete n[ki]}function Kr(n){var i=n[Oe];if(i)return i;for(var a=n.parentNode;a;){if(i=a[zn]||a[Oe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=DE(n);n!==null;){if(a=n[Oe])return a;n=DE(n)}return i}n=a,a=n.parentNode}return null}function gr(n){if(n=n[Oe]||n[zn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function yr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function mn(n){var i=n[hc];return i||(i=n[hc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ye(n){n[js]=!0}var hl=new Set,Va={};function ar(n,i){Yr(n,i),Yr(n+"Capture",i)}function Yr(n,i){for(Va[n]=i,n=0;n<i.length;n++)hl.add(i[n])}var dc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mc={},Bs={};function pc(n){return en.call(Bs,n)?!0:en.call(mc,n)?!1:dc.test(n)?Bs[n]=!0:(mc[n]=!0,!1)}function Li(n,i,a){if(pc(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function vr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function $e(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var zs,gc;function Qr(n){if(zs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);zs=i&&i[1]||"",gc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zs+n+gc}var ka=!1;function Pa(n,i){if(!n||ka)return"";ka=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(K){var G=K}Reflect.construct(n,[],nt)}else{try{nt.call()}catch(K){G=K}n.call(nt.prototype)}}else{try{throw Error()}catch(K){G=K}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],A=m[1];if(E&&A){var x=E.split(`
`),F=A.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===F.length)for(l=x.length-1,h=F.length-1;1<=l&&0<=h&&x[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==F[h]){var J=`
`+x[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=h);break}}}finally{ka=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Qr(a):""}function dl(n){switch(n.tag){case 26:case 27:case 5:return Qr(n.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 15:return Pa(n.type,!1);case 11:return Pa(n.type.render,!1);case 1:return Pa(n.type,!0);case 31:return Qr("Activity");default:return""}}function La(n){try{var i="";do i+=dl(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ml(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function od(n){var i=ml(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ua(n){n._valueTracker||(n._valueTracker=od(n))}function pl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=ml(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Hs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ld=/[\n"\\]/g;function Ae(n){return n.replace(ld,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Cn(n,i,a,l,h,m,E,A){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+pn(i)):n.value!==""+pn(i)&&(n.value=""+pn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Ui(n,E,pn(i)):a!=null?Ui(n,E,pn(a)):l!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+pn(A):n.removeAttribute("name")}function qs(n,i,a,l,h,m,E,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+pn(a):"",i=i!=null?""+pn(i):a,A||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=A?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ui(n,i,a){i==="number"&&Hs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Xr(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+pn(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function ee(n,i,a){if(i!=null&&(i=""+pn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+pn(a):""}function Fs(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=pn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Hn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yc(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Gs.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function gl(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&yc(n,h,l)}else for(var m in i)i.hasOwnProperty(m)&&yc(n,m,i[m])}function yl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ud=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(n){return cd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Wr=null;function qn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zr=null,Jr=null;function vl(n){var i=gr(n);if(i&&(n=i.stateNode)){var a=n[Se]||null;t:switch(n=i.stateNode,i.type){case"input":if(Cn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ae(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[Se]||null;if(!h)throw Error(s(90));Cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&pl(l)}break t;case"textarea":ee(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Xr(n,!!a.multiple,i,!1)}}}var _r=!1;function vc(n,i,a){if(_r)return n(i,a);_r=!0;try{var l=n(i);return l}finally{if(_r=!1,(Zr!==null||Jr!==null)&&(hf(),Zr&&(i=Zr,n=Jr,Jr=Zr=null,vl(i),n)))for(i=0;i<n.length;i++)vl(n[i])}}function $s(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Se]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(or)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Fn=!1}var Er=null,ji=null,ti=null;function _l(){if(ti)return ti;var n,i=ji,a=i.length,l,h="value"in Er?Er.value:Er.textContent,m=h.length;for(n=0;n<a&&i[n]===h[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===h[m-l];l++);return ti=h.slice(n,1<l?1-l:void 0)}function Tr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Sr(){return!0}function El(){return!1}function Ue(n){function i(a,l,h,m,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Sr:El,this.isPropagationStopped=El,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),i}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=Ue(Xt),Ys=v({},Xt,{view:0,detail:0}),_c=Ue(Ys),za,Ha,Ar,Qs=v({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ar&&(Ar&&n.type==="mousemove"?(za=n.screenX-Ar.screenX,Ha=n.screenY-Ar.screenY):Ha=za=0,Ar=n),za)},movementY:function(n){return"movementY"in n?n.movementY:Ha}}),Gn=Ue(Qs),Ec=v({},Qs,{dataTransfer:0}),fd=Ue(Ec),Xs=v({},Ys,{relatedTarget:0}),qa=Ue(Xs),Tl=v({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=Ue(Tl),Tc=v({},Xt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ga=Ue(Tc),hd=v({},Xt,{data:0}),Sl=Ue(hd),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Al(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ac[n])?!!i[n]:!1}function Zs(){return Al}var bc=v({},Ys,{key:function(n){if(n.key){var i=Ws[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Tr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Sc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(n){return n.type==="keypress"?Tr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Tr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$a=Ue(bc),wc=v({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Ue(wc),ei=v({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),Rc=Ue(ei),Cc=v({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ic=Ue(Cc),Oc=v({},Qs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=Ue(Oc),gn=v({},Xt,{newState:0,oldState:0}),Nc=Ue(gn),Dc=[9,13,27,32],br=or&&"CompositionEvent"in window,c=null;or&&"documentMode"in document&&(c=document.documentMode);var y=or&&"TextEvent"in window&&!c,_=or&&(!br||c&&8<c&&11>=c),b=" ",z=!1;function Q(n,i){switch(n){case"keyup":return Dc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qt=!1;function Ne(n,i){switch(n){case"compositionend":return ct(i);case"keypress":return i.which!==32?null:(z=!0,b);case"textInput":return n=i.data,n===b&&z?null:n;default:return null}}function Ft(n,i){if(qt)return n==="compositionend"||!br&&Q(n,i)?(n=_l(),ti=ji=Er=null,qt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!je[n.type]:i==="textarea"}function ni(n,i,a,l){Zr?Jr?Jr.push(l):Jr=[l]:Zr=l,i=vf(i,"onChange"),0<i.length&&(a=new Ba("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Ke=null,wr=null;function wl(n){TE(n,0)}function xc(n){var i=yr(n);if(pl(i))return n}function Hy(n,i){if(n==="change")return i}var qy=!1;if(or){var dd;if(or){var md="oninput"in document;if(!md){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),md=typeof Fy.oninput=="function"}dd=md}else dd=!1;qy=dd&&(!document.documentMode||9<document.documentMode)}function Gy(){Ke&&(Ke.detachEvent("onpropertychange",$y),wr=Ke=null)}function $y(n){if(n.propertyName==="value"&&xc(wr)){var i=[];ni(i,wr,n,qn(n)),vc(wl,i)}}function V1(n,i,a){n==="focusin"?(Gy(),Ke=i,wr=a,Ke.attachEvent("onpropertychange",$y)):n==="focusout"&&Gy()}function k1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xc(wr)}function P1(n,i){if(n==="click")return xc(i)}function L1(n,i){if(n==="input"||n==="change")return xc(i)}function U1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var In=typeof Object.is=="function"?Object.is:U1;function Rl(n,i){if(In(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!en.call(i,h)||!In(n[h],i[h]))return!1}return!0}function Ky(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Yy(n,i){var a=Ky(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ky(a)}}function Qy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Qy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Xy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Hs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Hs(n.document)}return i}function pd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var j1=or&&"documentMode"in document&&11>=document.documentMode,Ya=null,gd=null,Cl=null,yd=!1;function Wy(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yd||Ya==null||Ya!==Hs(l)||(l=Ya,"selectionStart"in l&&pd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&Rl(Cl,l)||(Cl=l,l=vf(gd,"onSelect"),0<l.length&&(i=new Ba("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Ya)))}function Js(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Qa={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},vd={},Zy={};or&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function ta(n){if(vd[n])return vd[n];if(!Qa[n])return n;var i=Qa[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zy)return vd[n]=i[a];return n}var Jy=ta("animationend"),tv=ta("animationiteration"),ev=ta("animationstart"),B1=ta("transitionrun"),z1=ta("transitionstart"),H1=ta("transitioncancel"),nv=ta("transitionend"),rv=new Map,_d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_d.push("scrollEnd");function lr(n,i){rv.set(n,i),ar(i,[n])}var iv=new WeakMap;function $n(n,i){if(typeof n=="object"&&n!==null){var a=iv.get(n);return a!==void 0?a:(i={value:n,source:i,stack:La(i)},iv.set(n,i),i)}return{value:n,source:i,stack:La(i)}}var Kn=[],Xa=0,Ed=0;function Mc(){for(var n=Xa,i=Ed=Xa=0;i<n;){var a=Kn[i];Kn[i++]=null;var l=Kn[i];Kn[i++]=null;var h=Kn[i];Kn[i++]=null;var m=Kn[i];if(Kn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}m!==0&&sv(a,h,m)}}function Vc(n,i,a,l){Kn[Xa++]=n,Kn[Xa++]=i,Kn[Xa++]=a,Kn[Xa++]=l,Ed|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Td(n,i,a,l){return Vc(n,i,a,l),kc(n)}function Wa(n,i){return Vc(n,null,null,i),kc(n)}function sv(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&i!==null&&(h=31-an(a),n=m.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=a|536870912),m):null}function kc(n){if(50<Zl)throw Zl=0,Cm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Za={};function q1(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(n,i,a,l){return new q1(n,i,a,l)}function Sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ri(n,i){var a=n.alternate;return a===null?(a=On(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function av(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Pc(n,i,a,l,h,m){var E=0;if(l=n,typeof n=="function")Sd(n)&&(E=1);else if(typeof n=="string")E=GR(n,a,ht.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case O:return n=On(31,a,i,h),n.elementType=O,n.lanes=m,n;case L:return ea(a.children,h,m,i);case H:E=8,h|=24;break;case P:return n=On(12,a,i,h|2),n.elementType=P,n.lanes=m,n;case it:return n=On(13,a,i,h),n.elementType=it,n.lanes=m,n;case at:return n=On(19,a,i,h),n.elementType=at,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Z:case Y:E=10;break t;case X:E=9;break t;case W:E=11;break t;case D:E=14;break t;case R:E=16,l=null;break t}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=On(E,a,i,h),i.elementType=n,i.type=l,i.lanes=m,i}function ea(n,i,a,l){return n=On(7,n,l,i),n.lanes=a,n}function Ad(n,i,a){return n=On(6,n,null,i),n.lanes=a,n}function bd(n,i,a){return i=On(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ja=[],to=0,Lc=null,Uc=0,Yn=[],Qn=0,na=null,ii=1,si="";function ra(n,i){Ja[to++]=Uc,Ja[to++]=Lc,Lc=n,Uc=i}function ov(n,i,a){Yn[Qn++]=ii,Yn[Qn++]=si,Yn[Qn++]=na,na=n;var l=ii;n=si;var h=32-an(l)-1;l&=~(1<<h),a+=1;var m=32-an(i)+h;if(30<m){var E=h-h%5;m=(l&(1<<E)-1).toString(32),l>>=E,h-=E,ii=1<<32-an(i)+h|a<<h|l,si=m+n}else ii=1<<m|a<<h|l,si=n}function wd(n){n.return!==null&&(ra(n,1),ov(n,1,0))}function Rd(n){for(;n===Lc;)Lc=Ja[--to],Ja[to]=null,Uc=Ja[--to],Ja[to]=null;for(;n===na;)na=Yn[--Qn],Yn[Qn]=null,si=Yn[--Qn],Yn[Qn]=null,ii=Yn[--Qn],Yn[Qn]=null}var yn=null,me=null,Qt=!1,ia=null,Rr=!1,Cd=Error(s(519));function sa(n){var i=Error(s(418,""));throw Nl($n(i,n)),Cd}function lv(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Oe]=n,i[Se]=l,a){case"dialog":jt("cancel",i),jt("close",i);break;case"iframe":case"object":case"embed":jt("load",i);break;case"video":case"audio":for(a=0;a<tu.length;a++)jt(tu[a],i);break;case"source":jt("error",i);break;case"img":case"image":case"link":jt("error",i),jt("load",i);break;case"details":jt("toggle",i);break;case"input":jt("invalid",i),qs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ua(i);break;case"select":jt("invalid",i);break;case"textarea":jt("invalid",i),Fs(i,l.value,l.defaultValue,l.children),Ua(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||wE(i.textContent,a)?(l.popover!=null&&(jt("beforetoggle",i),jt("toggle",i)),l.onScroll!=null&&jt("scroll",i),l.onScrollEnd!=null&&jt("scrollend",i),l.onClick!=null&&(i.onclick=_f),i=!0):i=!1,i||sa(n)}function uv(n){for(yn=n.return;yn;)switch(yn.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:yn=yn.return}}function Il(n){if(n!==yn)return!1;if(!Qt)return uv(n),Qt=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||qm(n.type,n.memoizedProps)),a=!a),a&&me&&sa(n),uv(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){me=cr(n.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}me=null}}else i===27?(i=me,es(n.type)?(n=Km,Km=null,me=n):me=i):me=yn?cr(n.stateNode.nextSibling):null;return!0}function Ol(){me=yn=null,Qt=!1}function cv(){var n=ia;return n!==null&&(Tn===null?Tn=n:Tn.push.apply(Tn,n),ia=null),n}function Nl(n){ia===null?ia=[n]:ia.push(n)}var Id=tt(null),aa=null,ai=null;function Bi(n,i,a){st(Id,i._currentValue),i._currentValue=a}function oi(n){n._currentValue=Id.current,ut(Id)}function Od(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Nd(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var E=h.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=h;for(var x=0;x<i.length;x++)if(A.context===i[x]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),Od(m.return,a,n),l||(E=null);break t}m=A.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),Od(E,a,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Dl(n,i,a,l){n=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=h.type;In(h.pendingProps.value,E.value)||(n!==null?n.push(A):n=[A])}}else if(h===te.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(au):n=[au])}h=h.return}n!==null&&Nd(i,n,a,l),i.flags|=262144}function jc(n){for(n=n.firstContext;n!==null;){if(!In(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function oa(n){aa=n,ai=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function on(n){return fv(aa,n)}function Bc(n,i){return aa===null&&oa(n),fv(n,i)}function fv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ai===null){if(n===null)throw Error(s(308));ai=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ai=ai.next=i;return a}var F1=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},G1=r.unstable_scheduleCallback,$1=r.unstable_NormalPriority,xe={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dd(){return{controller:new F1,data:new Map,refCount:0}}function xl(n){n.refCount--,n.refCount===0&&G1($1,function(){n.controller.abort()})}var Ml=null,xd=0,eo=0,no=null;function K1(n,i){if(Ml===null){var a=Ml=[];xd=0,eo=Vm(),no={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xd++,i.then(hv,hv),i}function hv(){if(--xd===0&&Ml!==null){no!==null&&(no.status="fulfilled");var n=Ml;Ml=null,eo=0,no=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Y1(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var dv=$.S;$.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&K1(n,i),dv!==null&&dv(n,i)};var la=tt(null);function Md(){var n=la.current;return n!==null?n:ae.pooledCache}function zc(n,i){i===null?st(la,la.current):st(la,i.pool)}function mv(){var n=Md();return n===null?null:{parent:xe._currentValue,pool:n}}var Vl=Error(s(460)),pv=Error(s(474)),Hc=Error(s(542)),Vd={then:function(){}};function gv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function qc(){}function yv(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(qc,qc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,_v(n),n;default:if(typeof i.status=="string")i.then(qc,qc);else{if(n=ae,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,_v(n),n}throw kl=i,Vl}}var kl=null;function vv(){if(kl===null)throw Error(s(459));var n=kl;return kl=null,n}function _v(n){if(n===Vl||n===Hc)throw Error(s(483))}var zi=!1;function kd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=kc(n),sv(n,null,a),i}return Vc(n,l,i,a),kc(n)}function Pl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,cl(n,a)}}function Ld(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Ud=!1;function Ll(){if(Ud){var n=no;if(n!==null)throw n}}function Ul(n,i,a,l){Ud=!1;var h=n.updateQueue;zi=!1;var m=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var x=A,F=x.next;x.next=null,E===null?m=F:E.next=F,E=x;var J=n.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==E&&(A===null?J.firstBaseUpdate=F:A.next=F,J.lastBaseUpdate=x))}if(m!==null){var nt=h.baseState;E=0,J=F=x=null,A=m;do{var G=A.lane&-536870913,K=G!==A.lane;if(K?(Gt&G)===G:(l&G)===G){G!==0&&G===eo&&(Ud=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var It=n,At=A;G=i;var ie=a;switch(At.tag){case 1:if(It=At.payload,typeof It=="function"){nt=It.call(ie,nt,G);break t}nt=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=At.payload,G=typeof It=="function"?It.call(ie,nt,G):It,G==null)break t;nt=v({},nt,G);break t;case 2:zi=!0}}G=A.callback,G!==null&&(n.flags|=64,K&&(n.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(F=J=K,x=nt):J=J.next=K,E|=G;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;K=A,A=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(x=nt),h.baseState=x,h.firstBaseUpdate=F,h.lastBaseUpdate=J,m===null&&(h.shared.lanes=0),Wi|=E,n.lanes=E,n.memoizedState=nt}}function Ev(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Tv(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Ev(a[n],i)}var ro=tt(null),Fc=tt(0);function Sv(n,i){n=mi,st(Fc,n),st(ro,i),mi=n|i.baseLanes}function jd(){st(Fc,mi),st(ro,ro.current)}function Bd(){mi=Fc.current,ut(ro),ut(Fc)}var Fi=0,kt=null,ne=null,be=null,Gc=!1,io=!1,ua=!1,$c=0,jl=0,so=null,Q1=0;function ve(){throw Error(s(321))}function zd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!In(n[a],i[a]))return!1;return!0}function Hd(n,i,a,l,h,m){return Fi=m,kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=n===null||n.memoizedState===null?s_:a_,ua=!1,m=a(l,h),ua=!1,io&&(m=bv(i,a,l,h)),Av(n),m}function Av(n){$.H=Zc;var i=ne!==null&&ne.next!==null;if(Fi=0,be=ne=kt=null,Gc=!1,jl=0,so=null,i)throw Error(s(300));n===null||Be||(n=n.dependencies,n!==null&&jc(n)&&(Be=!0))}function bv(n,i,a,l){kt=n;var h=0;do{if(io&&(so=null),jl=0,io=!1,25<=h)throw Error(s(301));if(h+=1,be=ne=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=nR,m=i(a,l)}while(io);return m}function X1(){var n=$.H,i=n.useState()[0];return i=typeof i.then=="function"?Bl(i):i,n=n.useState()[0],(ne!==null?ne.memoizedState:null)!==n&&(kt.flags|=1024),i}function qd(){var n=$c!==0;return $c=0,n}function Fd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Gd(n){if(Gc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gc=!1}Fi=0,be=ne=kt=null,io=!1,jl=$c=0,so=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?kt.memoizedState=be=n:be=be.next=n,be}function we(){if(ne===null){var n=kt.alternate;n=n!==null?n.memoizedState:null}else n=ne.next;var i=be===null?kt.memoizedState:be.next;if(i!==null)be=i,ne=n;else{if(n===null)throw kt.alternate===null?Error(s(467)):Error(s(310));ne=n,n={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},be===null?kt.memoizedState=be=n:be=be.next=n}return be}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(n){var i=jl;return jl+=1,so===null&&(so=[]),n=yv(so,n,i),i=kt,(be===null?i.memoizedState:be.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?s_:a_),n}function Kc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Bl(n);if(n.$$typeof===Y)return on(n)}throw Error(s(438,String(n)))}function Kd(n){var i=null,a=kt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=kt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=$d(),kt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=M;return i.index++,a}function li(n,i){return typeof i=="function"?i(n):i}function Yc(n){var i=we();return Yd(i,ne,n)}function Yd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,m=l.pending;if(m!==null){if(h!==null){var E=h.next;h.next=m.next,m.next=E}i.baseQueue=h=m,l.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{i=h.next;var A=E=null,x=null,F=i,J=!1;do{var nt=F.lane&-536870913;if(nt!==F.lane?(Gt&nt)===nt:(Fi&nt)===nt){var G=F.revertLane;if(G===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),nt===eo&&(J=!0);else if((Fi&G)===G){F=F.next,G===eo&&(J=!0);continue}else nt={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(A=x=nt,E=m):x=x.next=nt,kt.lanes|=G,Wi|=G;nt=F.action,ua&&a(m,nt),m=F.hasEagerState?F.eagerState:a(m,nt)}else G={lane:nt,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(A=x=G,E=m):x=x.next=G,kt.lanes|=nt,Wi|=nt;F=F.next}while(F!==null&&F!==i);if(x===null?E=m:x.next=A,!In(m,n.memoizedState)&&(Be=!0,J&&(a=no,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=x,l.lastRenderedState=m}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Qd(n){var i=we(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do m=n(m,E.action),E=E.next;while(E!==h);In(m,i.memoizedState)||(Be=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function wv(n,i,a){var l=kt,h=we(),m=Qt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!In((ne||h).memoizedState,a);E&&(h.memoizedState=a,Be=!0),h=h.queue;var A=Iv.bind(null,l,h,n);if(zl(2048,8,A,[n]),h.getSnapshot!==i||E||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,ao(9,Qc(),Cv.bind(null,l,h,a,i),null),ae===null)throw Error(s(349));m||(Fi&124)!==0||Rv(l,i,a)}return a}function Rv(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=kt.updateQueue,i===null?(i=$d(),kt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Cv(n,i,a,l){i.value=a,i.getSnapshot=l,Ov(i)&&Nv(n)}function Iv(n,i,a){return a(function(){Ov(i)&&Nv(n)})}function Ov(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!In(n,a)}catch{return!0}}function Nv(n){var i=Wa(n,2);i!==null&&Vn(i,n,2)}function Xd(n){var i=_n();if(typeof n=="function"){var a=n;if(n=a(),ua){Ie(!0);try{a()}finally{Ie(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:n},i}function Dv(n,i,a,l){return n.baseState=a,Yd(n,ne,typeof l=="function"?l:li)}function W1(n,i,a,l,h){if(Wc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};$.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,xv(i,m)):(m.next=a.next,i.pending=a.next=m)}}function xv(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var m=$.T,E={};$.T=E;try{var A=a(h,l),x=$.S;x!==null&&x(E,A),Mv(n,i,A)}catch(F){Wd(n,i,F)}finally{$.T=m}}else try{m=a(h,l),Mv(n,i,m)}catch(F){Wd(n,i,F)}}function Mv(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vv(n,i,l)},function(l){return Wd(n,i,l)}):Vv(n,i,a)}function Vv(n,i,a){i.status="fulfilled",i.value=a,kv(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,xv(n,a)))}function Wd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,kv(i),i=i.next;while(i!==l)}n.action=null}function kv(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Pv(n,i){return i}function Lv(n,i){if(Qt){var a=ae.formState;if(a!==null){t:{var l=kt;if(Qt){if(me){e:{for(var h=me,m=Rr;h.nodeType!==8;){if(!m){h=null;break e}if(h=cr(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){me=cr(h.nextSibling),l=h.data==="F!";break t}}sa(l)}l=!1}l&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pv,lastRenderedState:i},a.queue=l,a=n_.bind(null,kt,l),l.dispatch=a,l=Xd(!1),m=nm.bind(null,kt,!1,l.queue),l=_n(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=W1.bind(null,kt,h,m,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function Uv(n){var i=we();return jv(i,ne,n)}function jv(n,i,a){if(i=Yd(n,i,Pv)[0],n=Yc(li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Bl(i)}catch(E){throw E===Vl?Hc:E}else l=i;i=we();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(kt.flags|=2048,ao(9,Qc(),Z1.bind(null,h,a),null)),[l,m,n]}function Z1(n,i){n.action=i}function Bv(n){var i=we(),a=ne;if(a!==null)return jv(i,a,n);we(),i=i.memoizedState,a=we();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function ao(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=kt.updateQueue,i===null&&(i=$d(),kt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Qc(){return{destroy:void 0,resource:void 0}}function zv(){return we().memoizedState}function Xc(n,i,a,l){var h=_n();l=l===void 0?null:l,kt.flags|=n,h.memoizedState=ao(1|i,Qc(),a,l)}function zl(n,i,a,l){var h=we();l=l===void 0?null:l;var m=h.memoizedState.inst;ne!==null&&l!==null&&zd(l,ne.memoizedState.deps)?h.memoizedState=ao(i,m,a,l):(kt.flags|=n,h.memoizedState=ao(1|i,m,a,l))}function Hv(n,i){Xc(8390656,8,n,i)}function qv(n,i){zl(2048,8,n,i)}function Fv(n,i){return zl(4,2,n,i)}function Gv(n,i){return zl(4,4,n,i)}function $v(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Kv(n,i,a){a=a!=null?a.concat([n]):null,zl(4,4,$v.bind(null,i,n),a)}function Zd(){}function Yv(n,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zd(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Qv(n,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zd(i,l[1]))return l[0];if(l=n(),ua){Ie(!0);try{n()}finally{Ie(!1)}}return a.memoizedState=[l,i],l}function Jd(n,i,a){return a===void 0||(Fi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Z_(),kt.lanes|=n,Wi|=n,a)}function Xv(n,i,a,l){return In(a,i)?a:ro.current!==null?(n=Jd(n,a,l),In(n,i)||(Be=!0),n):(Fi&42)===0?(Be=!0,n.memoizedState=a):(n=Z_(),kt.lanes|=n,Wi|=n,i)}function Wv(n,i,a,l,h){var m=lt.p;lt.p=m!==0&&8>m?m:8;var E=$.T,A={};$.T=A,nm(n,!1,i,a);try{var x=h(),F=$.S;if(F!==null&&F(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var J=Y1(x,l);Hl(n,i,J,Mn(n))}else Hl(n,i,l,Mn(n))}catch(nt){Hl(n,i,{then:function(){},status:"rejected",reason:nt},Mn())}finally{lt.p=m,$.T=E}}function J1(){}function tm(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=Zv(n).queue;Wv(n,h,i,ft,a===null?J1:function(){return Jv(n),a(l)})}function Zv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Jv(n){var i=Zv(n).next.queue;Hl(n,i,{},Mn())}function em(){return on(au)}function t_(){return we().memoizedState}function e_(){return we().memoizedState}function tR(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Mn();n=Hi(a);var l=qi(i,n,a);l!==null&&(Vn(l,i,a),Pl(l,i,a)),i={cache:Dd()},n.payload=i;return}i=i.return}}function eR(n,i,a){var l=Mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Wc(n)?r_(i,a):(a=Td(n,i,a,l),a!==null&&(Vn(a,n,l),i_(a,i,l)))}function n_(n,i,a){var l=Mn();Hl(n,i,a,l)}function Hl(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wc(n))r_(i,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,A=m(E,a);if(h.hasEagerState=!0,h.eagerState=A,In(A,E))return Vc(n,i,h,0),ae===null&&Mc(),!1}catch{}finally{}if(a=Td(n,i,h,l),a!==null)return Vn(a,n,l),i_(a,i,l),!0}return!1}function nm(n,i,a,l){if(l={lane:2,revertLane:Vm(),action:l,hasEagerState:!1,eagerState:null,next:null},Wc(n)){if(i)throw Error(s(479))}else i=Td(n,a,l,2),i!==null&&Vn(i,n,2)}function Wc(n){var i=n.alternate;return n===kt||i!==null&&i===kt}function r_(n,i){io=Gc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function i_(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,cl(n,a)}}var Zc={readContext:on,use:Kc,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},s_={readContext:on,use:Kc,useCallback:function(n,i){return _n().memoizedState=[n,i===void 0?null:i],n},useContext:on,useEffect:Hv,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Xc(4194308,4,$v.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Xc(4194308,4,n,i)},useInsertionEffect:function(n,i){Xc(4,2,n,i)},useMemo:function(n,i){var a=_n();i=i===void 0?null:i;var l=n();if(ua){Ie(!0);try{n()}finally{Ie(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=_n();if(a!==void 0){var h=a(i);if(ua){Ie(!0);try{a(i)}finally{Ie(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=eR.bind(null,kt,n),[l.memoizedState,n]},useRef:function(n){var i=_n();return n={current:n},i.memoizedState=n},useState:function(n){n=Xd(n);var i=n.queue,a=n_.bind(null,kt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Zd,useDeferredValue:function(n,i){var a=_n();return Jd(a,n,i)},useTransition:function(){var n=Xd(!1);return n=Wv.bind(null,kt,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=kt,h=_n();if(Qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ae===null)throw Error(s(349));(Gt&124)!==0||Rv(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,Hv(Iv.bind(null,l,m,n),[n]),l.flags|=2048,ao(9,Qc(),Cv.bind(null,l,m,a,i),null),a},useId:function(){var n=_n(),i=ae.identifierPrefix;if(Qt){var a=si,l=ii;a=(l&~(1<<32-an(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=$c++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=Q1++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:em,useFormState:Lv,useActionState:Lv,useOptimistic:function(n){var i=_n();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nm.bind(null,kt,!0,a),a.dispatch=i,[n,i]},useMemoCache:Kd,useCacheRefresh:function(){return _n().memoizedState=tR.bind(null,kt)}},a_={readContext:on,use:Kc,useCallback:Yv,useContext:on,useEffect:qv,useImperativeHandle:Kv,useInsertionEffect:Fv,useLayoutEffect:Gv,useMemo:Qv,useReducer:Yc,useRef:zv,useState:function(){return Yc(li)},useDebugValue:Zd,useDeferredValue:function(n,i){var a=we();return Xv(a,ne.memoizedState,n,i)},useTransition:function(){var n=Yc(li)[0],i=we().memoizedState;return[typeof n=="boolean"?n:Bl(n),i]},useSyncExternalStore:wv,useId:t_,useHostTransitionStatus:em,useFormState:Uv,useActionState:Uv,useOptimistic:function(n,i){var a=we();return Dv(a,ne,n,i)},useMemoCache:Kd,useCacheRefresh:e_},nR={readContext:on,use:Kc,useCallback:Yv,useContext:on,useEffect:qv,useImperativeHandle:Kv,useInsertionEffect:Fv,useLayoutEffect:Gv,useMemo:Qv,useReducer:Qd,useRef:zv,useState:function(){return Qd(li)},useDebugValue:Zd,useDeferredValue:function(n,i){var a=we();return ne===null?Jd(a,n,i):Xv(a,ne.memoizedState,n,i)},useTransition:function(){var n=Qd(li)[0],i=we().memoizedState;return[typeof n=="boolean"?n:Bl(n),i]},useSyncExternalStore:wv,useId:t_,useHostTransitionStatus:em,useFormState:Bv,useActionState:Bv,useOptimistic:function(n,i){var a=we();return ne!==null?Dv(a,ne,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:e_},oo=null,ql=0;function Jc(n){var i=ql;return ql+=1,oo===null&&(oo=[]),yv(oo,n,i)}function Fl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function tf(n,i){throw i.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function o_(n){var i=n._init;return i(n._payload)}function l_(n){function i(B,U){if(n){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function a(B,U){if(!n)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=ri(B,U),B.index=0,B.sibling=null,B}function m(B,U,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=67108866,U):q):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function E(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function A(B,U,q,et){return U===null||U.tag!==6?(U=Ad(q,B.mode,et),U.return=B,U):(U=h(U,q),U.return=B,U)}function x(B,U,q,et){var pt=q.type;return pt===L?J(B,U,q.props.children,et,q.key):U!==null&&(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===R&&o_(pt)===U.type)?(U=h(U,q.props),Fl(U,q),U.return=B,U):(U=Pc(q.type,q.key,q.props,null,B.mode,et),Fl(U,q),U.return=B,U)}function F(B,U,q,et){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=bd(q,B.mode,et),U.return=B,U):(U=h(U,q.children||[]),U.return=B,U)}function J(B,U,q,et,pt){return U===null||U.tag!==7?(U=ea(q,B.mode,et,pt),U.return=B,U):(U=h(U,q),U.return=B,U)}function nt(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Ad(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return q=Pc(U.type,U.key,U.props,null,B.mode,q),Fl(q,U),q.return=B,q;case I:return U=bd(U,B.mode,q),U.return=B,U;case R:var et=U._init;return U=et(U._payload),nt(B,U,q)}if(Ct(U)||j(U))return U=ea(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return nt(B,Jc(U),q);if(U.$$typeof===Y)return nt(B,Bc(B,U),q);tf(B,U)}return null}function G(B,U,q,et){var pt=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pt!==null?null:A(B,U,""+q,et);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===pt?x(B,U,q,et):null;case I:return q.key===pt?F(B,U,q,et):null;case R:return pt=q._init,q=pt(q._payload),G(B,U,q,et)}if(Ct(q)||j(q))return pt!==null?null:J(B,U,q,et,null);if(typeof q.then=="function")return G(B,U,Jc(q),et);if(q.$$typeof===Y)return G(B,U,Bc(B,q),et);tf(B,q)}return null}function K(B,U,q,et,pt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(q)||null,A(U,B,""+et,pt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case S:return B=B.get(et.key===null?q:et.key)||null,x(U,B,et,pt);case I:return B=B.get(et.key===null?q:et.key)||null,F(U,B,et,pt);case R:var Lt=et._init;return et=Lt(et._payload),K(B,U,q,et,pt)}if(Ct(et)||j(et))return B=B.get(q)||null,J(U,B,et,pt,null);if(typeof et.then=="function")return K(B,U,q,Jc(et),pt);if(et.$$typeof===Y)return K(B,U,q,Bc(U,et),pt);tf(U,et)}return null}function It(B,U,q,et){for(var pt=null,Lt=null,_t=U,bt=U=0,He=null;_t!==null&&bt<q.length;bt++){_t.index>bt?(He=_t,_t=null):He=_t.sibling;var Yt=G(B,_t,q[bt],et);if(Yt===null){_t===null&&(_t=He);break}n&&_t&&Yt.alternate===null&&i(B,_t),U=m(Yt,U,bt),Lt===null?pt=Yt:Lt.sibling=Yt,Lt=Yt,_t=He}if(bt===q.length)return a(B,_t),Qt&&ra(B,bt),pt;if(_t===null){for(;bt<q.length;bt++)_t=nt(B,q[bt],et),_t!==null&&(U=m(_t,U,bt),Lt===null?pt=_t:Lt.sibling=_t,Lt=_t);return Qt&&ra(B,bt),pt}for(_t=l(_t);bt<q.length;bt++)He=K(_t,B,bt,q[bt],et),He!==null&&(n&&He.alternate!==null&&_t.delete(He.key===null?bt:He.key),U=m(He,U,bt),Lt===null?pt=He:Lt.sibling=He,Lt=He);return n&&_t.forEach(function(as){return i(B,as)}),Qt&&ra(B,bt),pt}function At(B,U,q,et){if(q==null)throw Error(s(151));for(var pt=null,Lt=null,_t=U,bt=U=0,He=null,Yt=q.next();_t!==null&&!Yt.done;bt++,Yt=q.next()){_t.index>bt?(He=_t,_t=null):He=_t.sibling;var as=G(B,_t,Yt.value,et);if(as===null){_t===null&&(_t=He);break}n&&_t&&as.alternate===null&&i(B,_t),U=m(as,U,bt),Lt===null?pt=as:Lt.sibling=as,Lt=as,_t=He}if(Yt.done)return a(B,_t),Qt&&ra(B,bt),pt;if(_t===null){for(;!Yt.done;bt++,Yt=q.next())Yt=nt(B,Yt.value,et),Yt!==null&&(U=m(Yt,U,bt),Lt===null?pt=Yt:Lt.sibling=Yt,Lt=Yt);return Qt&&ra(B,bt),pt}for(_t=l(_t);!Yt.done;bt++,Yt=q.next())Yt=K(_t,B,bt,Yt.value,et),Yt!==null&&(n&&Yt.alternate!==null&&_t.delete(Yt.key===null?bt:Yt.key),U=m(Yt,U,bt),Lt===null?pt=Yt:Lt.sibling=Yt,Lt=Yt);return n&&_t.forEach(function(rC){return i(B,rC)}),Qt&&ra(B,bt),pt}function ie(B,U,q,et){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:t:{for(var pt=q.key;U!==null;){if(U.key===pt){if(pt=q.type,pt===L){if(U.tag===7){a(B,U.sibling),et=h(U,q.props.children),et.return=B,B=et;break t}}else if(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===R&&o_(pt)===U.type){a(B,U.sibling),et=h(U,q.props),Fl(et,q),et.return=B,B=et;break t}a(B,U);break}else i(B,U);U=U.sibling}q.type===L?(et=ea(q.props.children,B.mode,et,q.key),et.return=B,B=et):(et=Pc(q.type,q.key,q.props,null,B.mode,et),Fl(et,q),et.return=B,B=et)}return E(B);case I:t:{for(pt=q.key;U!==null;){if(U.key===pt)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){a(B,U.sibling),et=h(U,q.children||[]),et.return=B,B=et;break t}else{a(B,U);break}else i(B,U);U=U.sibling}et=bd(q,B.mode,et),et.return=B,B=et}return E(B);case R:return pt=q._init,q=pt(q._payload),ie(B,U,q,et)}if(Ct(q))return It(B,U,q,et);if(j(q)){if(pt=j(q),typeof pt!="function")throw Error(s(150));return q=pt.call(q),At(B,U,q,et)}if(typeof q.then=="function")return ie(B,U,Jc(q),et);if(q.$$typeof===Y)return ie(B,U,Bc(B,q),et);tf(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(a(B,U.sibling),et=h(U,q),et.return=B,B=et):(a(B,U),et=Ad(q,B.mode,et),et.return=B,B=et),E(B)):a(B,U)}return function(B,U,q,et){try{ql=0;var pt=ie(B,U,q,et);return oo=null,pt}catch(_t){if(_t===Vl||_t===Hc)throw _t;var Lt=On(29,_t,null,B.mode);return Lt.lanes=et,Lt.return=B,Lt}finally{}}}var lo=l_(!0),u_=l_(!1),Xn=tt(null),Cr=null;function Gi(n){var i=n.alternate;st(Me,Me.current&1),st(Xn,n),Cr===null&&(i===null||ro.current!==null||i.memoizedState!==null)&&(Cr=n)}function c_(n){if(n.tag===22){if(st(Me,Me.current),st(Xn,n),Cr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Cr=n)}}else $i()}function $i(){st(Me,Me.current),st(Xn,Xn.current)}function ui(n){ut(Xn),Cr===n&&(Cr=null),ut(Me)}var Me=tt(0);function ef(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$m(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function rm(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var im={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Mn(),h=Hi(l);h.payload=i,a!=null&&(h.callback=a),i=qi(n,h,l),i!==null&&(Vn(i,n,l),Pl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Mn(),h=Hi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=qi(n,h,l),i!==null&&(Vn(i,n,l),Pl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Mn(),l=Hi(a);l.tag=2,i!=null&&(l.callback=i),i=qi(n,l,a),i!==null&&(Vn(i,n,a),Pl(i,n,a))}};function f_(n,i,a,l,h,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,E):i.prototype&&i.prototype.isPureReactComponent?!Rl(a,l)||!Rl(h,m):!0}function h_(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&im.enqueueReplaceState(i,i.state,null)}function ca(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=v({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var nf=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function d_(n){nf(n)}function m_(n){console.error(n)}function p_(n){nf(n)}function rf(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function g_(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sm(n,i,a){return a=Hi(a),a.tag=3,a.payload={element:null},a.callback=function(){rf(n,i)},a}function y_(n){return n=Hi(n),n.tag=3,n}function v_(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;n.payload=function(){return h(m)},n.callback=function(){g_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){g_(i,a,l),typeof h!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function rR(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Dl(i,a,h,!0),a=Xn.current,a!==null){switch(a.tag){case 13:return Cr===null?Om():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Vd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dm(n,l,h)),!1;case 22:return a.flags|=65536,l===Vd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dm(n,l,h)),!1}throw Error(s(435,a.tag))}return Dm(n,l,h),Om(),!1}if(Qt)return i=Xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Cd&&(n=Error(s(422),{cause:l}),Nl($n(n,a)))):(l!==Cd&&(i=Error(s(423),{cause:l}),Nl($n(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=$n(l,a),h=sm(n.stateNode,l,h),Ld(n,h),pe!==4&&(pe=2)),!1;var m=Error(s(520),{cause:l});if(m=$n(m,a),Wl===null?Wl=[m]:Wl.push(m),pe!==4&&(pe=2),i===null)return!0;l=$n(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=sm(a.stateNode,l,n),Ld(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zi===null||!Zi.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=y_(h),v_(h,n,a,l),Ld(a,h),!1}a=a.return}while(a!==null);return!1}var __=Error(s(461)),Be=!1;function Ye(n,i,a,l){i.child=n===null?u_(i,null,a,l):lo(i,n.child,a,l)}function E_(n,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var E={};for(var A in l)A!=="ref"&&(E[A]=l[A])}else E=l;return oa(i),l=Hd(n,i,a,E,m,h),A=qd(),n!==null&&!Be?(Fd(n,i,h),ci(n,i,h)):(Qt&&A&&wd(i),i.flags|=1,Ye(n,i,l,h),i.child)}function T_(n,i,a,l,h){if(n===null){var m=a.type;return typeof m=="function"&&!Sd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,S_(n,i,m,l,h)):(n=Pc(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!dm(n,h)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:Rl,a(E,l)&&n.ref===i.ref)return ci(n,i,h)}return i.flags|=1,n=ri(m,l),n.ref=i.ref,n.return=i,i.child=n}function S_(n,i,a,l,h){if(n!==null){var m=n.memoizedProps;if(Rl(m,l)&&n.ref===i.ref)if(Be=!1,i.pendingProps=l=m,dm(n,h))(n.flags&131072)!==0&&(Be=!0);else return i.lanes=n.lanes,ci(n,i,h)}return am(n,i,a,l,h)}function A_(n,i,a){var l=i.pendingProps,h=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(h=i.child=n.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return b_(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&zc(i,m!==null?m.cachePool:null),m!==null?Sv(i,m):jd(),c_(i);else return i.lanes=i.childLanes=536870912,b_(n,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(zc(i,m.cachePool),Sv(i,m),$i(),i.memoizedState=null):(n!==null&&zc(i,null),jd(),$i());return Ye(n,i,h,a),i.child}function b_(n,i,a,l){var h=Md();return h=h===null?null:{parent:xe._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&zc(i,null),jd(),c_(i),n!==null&&Dl(n,i,l,!0),null}function sf(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function am(n,i,a,l,h){return oa(i),a=Hd(n,i,a,l,void 0,h),l=qd(),n!==null&&!Be?(Fd(n,i,h),ci(n,i,h)):(Qt&&l&&wd(i),i.flags|=1,Ye(n,i,a,h),i.child)}function w_(n,i,a,l,h,m){return oa(i),i.updateQueue=null,a=bv(i,l,a,h),Av(n),l=qd(),n!==null&&!Be?(Fd(n,i,m),ci(n,i,m)):(Qt&&l&&wd(i),i.flags|=1,Ye(n,i,a,m),i.child)}function R_(n,i,a,l,h){if(oa(i),i.stateNode===null){var m=Za,E=a.contextType;typeof E=="object"&&E!==null&&(m=on(E)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=im,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},kd(i),E=a.contextType,m.context=typeof E=="object"&&E!==null?on(E):Za,m.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(rm(i,a,E,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&im.enqueueReplaceState(m,m.state,null),Ul(i,l,m,h),Ll(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var A=i.memoizedProps,x=ca(a,A);m.props=x;var F=m.context,J=a.contextType;E=Za,typeof J=="object"&&J!==null&&(E=on(J));var nt=a.getDerivedStateFromProps;J=typeof nt=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||F!==E)&&h_(i,m,l,E),zi=!1;var G=i.memoizedState;m.state=G,Ul(i,l,m,h),Ll(),F=i.memoizedState,A||G!==F||zi?(typeof nt=="function"&&(rm(i,a,nt,l),F=i.memoizedState),(x=zi||f_(i,a,x,l,G,F,E))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),m.props=l,m.state=F,m.context=E,l=x):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Pd(n,i),E=i.memoizedProps,J=ca(a,E),m.props=J,nt=i.pendingProps,G=m.context,F=a.contextType,x=Za,typeof F=="object"&&F!==null&&(x=on(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==nt||G!==x)&&h_(i,m,l,x),zi=!1,G=i.memoizedState,m.state=G,Ul(i,l,m,h),Ll();var K=i.memoizedState;E!==nt||G!==K||zi||n!==null&&n.dependencies!==null&&jc(n.dependencies)?(typeof A=="function"&&(rm(i,a,A,l),K=i.memoizedState),(J=zi||f_(i,a,J,l,G,K,x)||n!==null&&n.dependencies!==null&&jc(n.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,x)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),m.props=l,m.state=K,m.context=x,l=J):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,sf(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=lo(i,n.child,null,h),i.child=lo(i,null,a,h)):Ye(n,i,a,h),i.memoizedState=m.state,n=i.child):n=ci(n,i,h),n}function C_(n,i,a,l){return Ol(),i.flags|=256,Ye(n,i,a,l),i.child}var om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lm(n){return{baseLanes:n,cachePool:mv()}}function um(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Wn),n}function I_(n,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Me.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Qt){if(h?Gi(i):$i(),Qt){var A=me,x;if(x=A){t:{for(x=A,A=Rr;x.nodeType!==8;){if(!A){A=null;break t}if(x=cr(x.nextSibling),x===null){A=null;break t}}A=x}A!==null?(i.memoizedState={dehydrated:A,treeContext:na!==null?{id:ii,overflow:si}:null,retryLane:536870912,hydrationErrors:null},x=On(18,null,null,0),x.stateNode=A,x.return=i,i.child=x,yn=i,me=null,x=!0):x=!1}x||sa(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return $m(A)?i.lanes=32:i.lanes=536870912,null;ui(i)}return A=l.children,l=l.fallback,h?($i(),h=i.mode,A=af({mode:"hidden",children:A},h),l=ea(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=lm(a),h.childLanes=um(n,E,a),i.memoizedState=om,l):(Gi(i),cm(i,A))}if(x=n.memoizedState,x!==null&&(A=x.dehydrated,A!==null)){if(m)i.flags&256?(Gi(i),i.flags&=-257,i=fm(n,i,a)):i.memoizedState!==null?($i(),i.child=n.child,i.flags|=128,i=null):($i(),h=l.fallback,A=i.mode,l=af({mode:"visible",children:l.children},A),h=ea(h,A,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,lo(i,n.child,null,a),l=i.child,l.memoizedState=lm(a),l.childLanes=um(n,E,a),i.memoizedState=om,i=h);else if(Gi(i),$m(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,Nl({value:l,source:null,stack:null}),i=fm(n,i,a)}else if(Be||Dl(n,i,a,!1),E=(a&n.childLanes)!==0,Be||E){if(E=ae,E!==null&&(l=a&-a,l=(l&42)!==0?1:Mi(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Wa(n,l),Vn(E,n,l),__;A.data==="$?"||Om(),i=fm(n,i,a)}else A.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=x.treeContext,me=cr(A.nextSibling),yn=i,Qt=!0,ia=null,Rr=!1,n!==null&&(Yn[Qn++]=ii,Yn[Qn++]=si,Yn[Qn++]=na,ii=n.id,si=n.overflow,na=i),i=cm(i,l.children),i.flags|=4096);return i}return h?($i(),h=l.fallback,A=i.mode,x=n.child,F=x.sibling,l=ri(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,F!==null?h=ri(F,h):(h=ea(h,A,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=n.child.memoizedState,A===null?A=lm(a):(x=A.cachePool,x!==null?(F=xe._currentValue,x=x.parent!==F?{parent:F,pool:F}:x):x=mv(),A={baseLanes:A.baseLanes|a,cachePool:x}),h.memoizedState=A,h.childLanes=um(n,E,a),i.memoizedState=om,l):(Gi(i),a=n.child,n=a.sibling,a=ri(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function cm(n,i){return i=af({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function af(n,i){return n=On(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function fm(n,i,a){return lo(i,n.child,null,a),n=cm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function O_(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Od(n.return,i,a)}function hm(n,i,a,l,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function N_(n,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;if(Ye(n,i,l.children,a),l=Me.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&O_(n,a,i);else if(n.tag===19)O_(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(st(Me,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&ef(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),hm(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&ef(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}hm(i,!0,a,null,m);break;case"together":hm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ci(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Wi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Dl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=ri(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ri(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function dm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&jc(n)))}function iR(n,i,a){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),Bi(i,xe,n.memoizedState.cache),Ol();break;case 27:case 5:Ge(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:Bi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?I_(n,i,a):(Gi(i),n=ci(n,i,a),n!==null?n.sibling:null);Gi(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Dl(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return N_(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Me,Me.current),l)break;return null;case 22:case 23:return i.lanes=0,A_(n,i,a);case 24:Bi(i,xe,n.memoizedState.cache)}return ci(n,i,a)}function D_(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Be=!0;else{if(!dm(n,a)&&(i.flags&128)===0)return Be=!1,iR(n,i,a);Be=(n.flags&131072)!==0}else Be=!1,Qt&&(i.flags&1048576)!==0&&ov(i,Uc,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Sd(l)?(n=ca(l,n),i.tag=1,i=R_(null,i,l,n,a)):(i.tag=0,i=am(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===W){i.tag=11,i=E_(null,i,l,n,a);break t}else if(h===D){i.tag=14,i=T_(null,i,l,n,a);break t}}throw i=xt(l)||l,Error(s(306,i,""))}}return i;case 0:return am(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ca(l,i.pendingProps),R_(n,i,l,h,a);case 3:t:{if(Pt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,Pd(n,i),Ul(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Bi(i,xe,l),l!==m.cache&&Nd(i,[xe],a,!0),Ll(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=C_(n,i,l,a);break t}else if(l!==h){h=$n(Error(s(424)),i),Nl(h),i=C_(n,i,l,a);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(me=cr(n.firstChild),yn=i,Qt=!0,ia=null,Rr=!0,a=u_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ol(),l===h){i=ci(n,i,a);break t}Ye(n,i,l,a)}i=i.child}return i;case 26:return sf(n,i),n===null?(a=kE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qt||(a=i.type,n=i.pendingProps,l=Ef(Et.current).createElement(a),l[Oe]=i,l[Se]=n,Xe(l,a,n),ye(l),i.stateNode=l):i.memoizedState=kE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ge(i),n===null&&Qt&&(l=i.stateNode=xE(i.type,i.pendingProps,Et.current),yn=i,Rr=!0,h=me,es(i.type)?(Km=h,me=cr(l.firstChild)):me=h),Ye(n,i,i.pendingProps.children,a),sf(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Qt&&((h=l=me)&&(l=xR(l,i.type,i.pendingProps,Rr),l!==null?(i.stateNode=l,yn=i,me=cr(l.firstChild),Rr=!1,h=!0):h=!1),h||sa(i)),Ge(i),h=i.type,m=i.pendingProps,E=n!==null?n.memoizedProps:null,l=m.children,qm(h,m)?l=null:E!==null&&qm(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Hd(n,i,X1,null,null,a),au._currentValue=h),sf(n,i),Ye(n,i,l,a),i.child;case 6:return n===null&&Qt&&((n=a=me)&&(a=MR(a,i.pendingProps,Rr),a!==null?(i.stateNode=a,yn=i,me=null,n=!0):n=!1),n||sa(i)),null;case 13:return I_(n,i,a);case 4:return Pt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=lo(i,null,l,a):Ye(n,i,l,a),i.child;case 11:return E_(n,i,i.type,i.pendingProps,a);case 7:return Ye(n,i,i.pendingProps,a),i.child;case 8:return Ye(n,i,i.pendingProps.children,a),i.child;case 12:return Ye(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Bi(i,i.type,l.value),Ye(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,oa(i),h=on(h),l=l(h),i.flags|=1,Ye(n,i,l,a),i.child;case 14:return T_(n,i,i.type,i.pendingProps,a);case 15:return S_(n,i,i.type,i.pendingProps,a);case 19:return N_(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=af(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ri(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return A_(n,i,a);case 24:return oa(i),l=on(xe),n===null?(h=Md(),h===null&&(h=ae,m=Dd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},kd(i),Bi(i,xe,h)):((n.lanes&a)!==0&&(Pd(n,i),Ul(i,null,null,a),Ll()),h=n.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Bi(i,xe,l)):(l=m.cache,Bi(i,xe,l),l!==h.cache&&Nd(i,[xe],a,!0))),Ye(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function fi(n){n.flags|=4}function x_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!BE(i)){if(i=Xn.current,i!==null&&((Gt&4194048)===Gt?Cr!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||i!==Cr))throw kl=Vd,pv;n.flags|=8192}}function of(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?ll():536870912,n.lanes|=i,ho|=i)}function Gl(n,i){if(!Qt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function he(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function sR(n,i,a){var l=i.pendingProps;switch(Rd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(i),null;case 1:return he(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),oi(xe),Te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Il(i)?fi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cv())),he(i),null;case 26:return a=i.memoizedState,n===null?(fi(i),a!==null?(he(i),x_(i,a)):(he(i),i.flags&=-16777217)):a?a!==n.memoizedState?(fi(i),he(i),x_(i,a)):(he(i),i.flags&=-16777217):(n.memoizedProps!==l&&fi(i),he(i),i.flags&=-16777217),null;case 27:Le(i),a=Et.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return he(i),null}n=ht.current,Il(i)?lv(i):(n=xE(h,l,a),i.stateNode=n,fi(i))}return he(i),null;case 5:if(Le(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return he(i),null}if(n=ht.current,Il(i))lv(i);else{switch(h=Ef(Et.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Oe]=i,n[Se]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;t:switch(Xe(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&fi(i)}}return he(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Et.current,Il(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=yn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Oe]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||wE(n.nodeValue,a)),n||sa(i)}else n=Ef(n).createTextNode(l),n[Oe]=i,i.stateNode=n}return he(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Il(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Oe]=i}else Ol(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;he(i),h=!1}else h=cv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ui(i),i):(ui(i),null)}if(ui(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),of(i,i.updateQueue),he(i),null;case 4:return Te(),n===null&&Um(i.stateNode.containerInfo),he(i),null;case 10:return oi(i.type),he(i),null;case 19:if(ut(Me),h=i.memoizedState,h===null)return he(i),null;if(l=(i.flags&128)!==0,m=h.rendering,m===null)if(l)Gl(h,!1);else{if(pe!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=ef(n),m!==null){for(i.flags|=128,Gl(h,!1),n=m.updateQueue,i.updateQueue=n,of(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)av(a,n),a=a.sibling;return st(Me,Me.current&1|2),i.child}n=n.sibling}h.tail!==null&&ge()>cf&&(i.flags|=128,l=!0,Gl(h,!1),i.lanes=4194304)}else{if(!l)if(n=ef(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,of(i,n),Gl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Qt)return he(i),null}else 2*ge()-h.renderingStartTime>cf&&a!==536870912&&(i.flags|=128,l=!0,Gl(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(n=h.last,n!==null?n.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=ge(),i.sibling=null,n=Me.current,st(Me,l?n&1|2:n&1),i):(he(i),null);case 22:case 23:return ui(i),Bd(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(he(i),i.subtreeFlags&6&&(i.flags|=8192)):he(i),a=i.updateQueue,a!==null&&of(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&ut(la),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),oi(xe),he(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function aR(n,i){switch(Rd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return oi(xe),Te(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Le(i),null;case 13:if(ui(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ol()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ut(Me),null;case 4:return Te(),null;case 10:return oi(i.type),null;case 22:case 23:return ui(i),Bd(),n!==null&&ut(la),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return oi(xe),null;case 25:return null;default:return null}}function M_(n,i){switch(Rd(i),i.tag){case 3:oi(xe),Te();break;case 26:case 27:case 5:Le(i);break;case 4:Te();break;case 13:ui(i);break;case 19:ut(Me);break;case 10:oi(i.type);break;case 22:case 23:ui(i),Bd(),n!==null&&ut(la);break;case 24:oi(xe)}}function $l(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==h)}}catch(A){se(i,i.return,A)}}function Ki(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&n)===n){var E=l.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,h=i;var x=a,F=A;try{F()}catch(J){se(h,x,J)}}}l=l.next}while(l!==m)}}catch(J){se(i,i.return,J)}}function V_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Tv(i,a)}catch(l){se(n,n.return,l)}}}function k_(n,i,a){a.props=ca(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){se(n,i,l)}}function Kl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){se(n,i,h)}}function Ir(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){se(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){se(n,i,h)}else a.current=null}function P_(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){se(n,n.return,h)}}function mm(n,i,a){try{var l=n.stateNode;CR(l,n.type,a,i),l[Se]=i}catch(h){se(n,n.return,h)}}function L_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&es(n.type)||n.tag===4}function pm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||L_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&es(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gm(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_f));else if(l!==4&&(l===27&&es(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(gm(n,i,a),n=n.sibling;n!==null;)gm(n,i,a),n=n.sibling}function lf(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&es(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(lf(n,i,a),n=n.sibling;n!==null;)lf(n,i,a),n=n.sibling}function U_(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xe(i,l,a),i[Oe]=n,i[Se]=a}catch(m){se(n,n.return,m)}}var hi=!1,_e=!1,ym=!1,j_=typeof WeakSet=="function"?WeakSet:Set,ze=null;function oR(n,i){if(n=n.containerInfo,zm=Rf,n=Xy(n),pd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var E=0,A=-1,x=-1,F=0,J=0,nt=n,G=null;e:for(;;){for(var K;nt!==a||h!==0&&nt.nodeType!==3||(A=E+h),nt!==m||l!==0&&nt.nodeType!==3||(x=E+l),nt.nodeType===3&&(E+=nt.nodeValue.length),(K=nt.firstChild)!==null;)G=nt,nt=K;for(;;){if(nt===n)break e;if(G===a&&++F===h&&(A=E),G===m&&++J===l&&(x=E),(K=nt.nextSibling)!==null)break;nt=G,G=nt.parentNode}nt=K}a=A===-1||x===-1?null:{start:A,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hm={focusedElem:n,selectionRange:a},Rf=!1,ze=i;ze!==null;)if(i=ze,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,ze=n;else for(;ze!==null;){switch(i=ze,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var It=ca(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(It,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(At){se(a,a.return,At)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Gm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Gm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,ze=n;break}ze=i.return}}function B_(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(n,a),l&4&&$l(5,a);break;case 1:if(Yi(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){se(a,a.return,E)}else{var h=ca(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){se(a,a.return,E)}}l&64&&V_(a),l&512&&Kl(a,a.return);break;case 3:if(Yi(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Tv(n,i)}catch(E){se(a,a.return,E)}}break;case 27:i===null&&l&4&&U_(a);case 26:case 5:Yi(n,a),i===null&&l&4&&P_(a),l&512&&Kl(a,a.return);break;case 12:Yi(n,a);break;case 13:Yi(n,a),l&4&&q_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=gR.bind(null,a),VR(n,a))));break;case 22:if(l=a.memoizedState!==null||hi,!l){i=i!==null&&i.memoizedState!==null||_e,h=hi;var m=_e;hi=l,(_e=i)&&!m?Qi(n,a,(a.subtreeFlags&8772)!==0):Yi(n,a),hi=h,_e=m}break;case 30:break;default:Yi(n,a)}}function z_(n){var i=n.alternate;i!==null&&(n.alternate=null,z_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Pi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var fe=null,En=!1;function di(n,i,a){for(a=a.child;a!==null;)H_(n,i,a),a=a.sibling}function H_(n,i,a){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Tt,a)}catch{}switch(a.tag){case 26:_e||Ir(a,i),di(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_e||Ir(a,i);var l=fe,h=En;es(a.type)&&(fe=a.stateNode,En=!1),di(n,i,a),nu(a.stateNode),fe=l,En=h;break;case 5:_e||Ir(a,i);case 6:if(l=fe,h=En,fe=null,di(n,i,a),fe=l,En=h,fe!==null)if(En)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(a.stateNode)}catch(m){se(a,i,m)}else try{fe.removeChild(a.stateNode)}catch(m){se(a,i,m)}break;case 18:fe!==null&&(En?(n=fe,NE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),cu(n)):NE(fe,a.stateNode));break;case 4:l=fe,h=En,fe=a.stateNode.containerInfo,En=!0,di(n,i,a),fe=l,En=h;break;case 0:case 11:case 14:case 15:_e||Ki(2,a,i),_e||Ki(4,a,i),di(n,i,a);break;case 1:_e||(Ir(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&k_(a,i,l)),di(n,i,a);break;case 21:di(n,i,a);break;case 22:_e=(l=_e)||a.memoizedState!==null,di(n,i,a),_e=l;break;default:di(n,i,a)}}function q_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{cu(n)}catch(a){se(i,i.return,a)}}function lR(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new j_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new j_),i;default:throw Error(s(435,n.tag))}}function vm(n,i){var a=lR(n);i.forEach(function(l){var h=yR.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Nn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=n,E=i,A=E;t:for(;A!==null;){switch(A.tag){case 27:if(es(A.type)){fe=A.stateNode,En=!1;break t}break;case 5:fe=A.stateNode,En=!1;break t;case 3:case 4:fe=A.stateNode.containerInfo,En=!0;break t}A=A.return}if(fe===null)throw Error(s(160));H_(m,E,h),fe=null,En=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)F_(i,n),i=i.sibling}var ur=null;function F_(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nn(i,n),Dn(n),l&4&&(Ki(3,n,n.return),$l(3,n),Ki(5,n,n.return));break;case 1:Nn(i,n),Dn(n),l&512&&(_e||a===null||Ir(a,a.return)),l&64&&hi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ur;if(Nn(i,n),Dn(n),l&512&&(_e||a===null||Ir(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[js]||m[Oe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Xe(m,l,a),m[Oe]=n,ye(m),l=m;break t;case"link":var E=UE("link","href",h).get(l+(a.href||""));if(E){for(var A=0;A<E.length;A++)if(m=E[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(A,1);break e}}m=h.createElement(l),Xe(m,l,a),h.head.appendChild(m);break;case"meta":if(E=UE("meta","content",h).get(l+(a.content||""))){for(A=0;A<E.length;A++)if(m=E[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(A,1);break e}}m=h.createElement(l),Xe(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[Oe]=n,ye(m),l=m}n.stateNode=l}else jE(h,n.type,n.stateNode);else n.stateNode=LE(h,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?jE(h,n.type,n.stateNode):LE(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&mm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Nn(i,n),Dn(n),l&512&&(_e||a===null||Ir(a,a.return)),a!==null&&l&4&&mm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Nn(i,n),Dn(n),l&512&&(_e||a===null||Ir(a,a.return)),n.flags&32){h=n.stateNode;try{Hn(h,"")}catch(K){se(n,n.return,K)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,mm(n,h,a!==null?a.memoizedProps:h)),l&1024&&(ym=!0);break;case 6:if(Nn(i,n),Dn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(K){se(n,n.return,K)}}break;case 3:if(Af=null,h=ur,ur=Tf(i.containerInfo),Nn(i,n),ur=h,Dn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cu(i.containerInfo)}catch(K){se(n,n.return,K)}ym&&(ym=!1,G_(n));break;case 4:l=ur,ur=Tf(n.stateNode.containerInfo),Nn(i,n),Dn(n),ur=l;break;case 12:Nn(i,n),Dn(n);break;case 13:Nn(i,n),Dn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bm=ge()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,vm(n,l)));break;case 22:h=n.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,F=hi,J=_e;if(hi=F||h,_e=J||x,Nn(i,n),_e=J,hi=F,Dn(n),l&8192)t:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||hi||_e||fa(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(m=x.stateNode,h)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=x.stateNode;var nt=x.memoizedProps.style,G=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){se(x,x.return,K)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(K){se(x,x.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vm(n,a))));break;case 19:Nn(i,n),Dn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,vm(n,l)));break;case 30:break;case 21:break;default:Nn(i,n),Dn(n)}}function Dn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(L_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=pm(n);lf(n,m,h);break;case 5:var E=a.stateNode;a.flags&32&&(Hn(E,""),a.flags&=-33);var A=pm(n);lf(n,A,E);break;case 3:case 4:var x=a.stateNode.containerInfo,F=pm(n);gm(n,F,x);break;default:throw Error(s(161))}}catch(J){se(n,n.return,J)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function G_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;G_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Yi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)B_(n,i.alternate,i),i=i.sibling}function fa(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ki(4,i,i.return),fa(i);break;case 1:Ir(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&k_(i,i.return,a),fa(i);break;case 27:nu(i.stateNode);case 26:case 5:Ir(i,i.return),fa(i);break;case 22:i.memoizedState===null&&fa(i);break;case 30:fa(i);break;default:fa(i)}n=n.sibling}}function Qi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:Qi(h,m,a),$l(4,m);break;case 1:if(Qi(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){se(l,l.return,F)}if(l=m,h=l.updateQueue,h!==null){var A=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Ev(x[h],A)}catch(F){se(l,l.return,F)}}a&&E&64&&V_(m),Kl(m,m.return);break;case 27:U_(m);case 26:case 5:Qi(h,m,a),a&&l===null&&E&4&&P_(m),Kl(m,m.return);break;case 12:Qi(h,m,a);break;case 13:Qi(h,m,a),a&&E&4&&q_(h,m);break;case 22:m.memoizedState===null&&Qi(h,m,a),Kl(m,m.return);break;case 30:break;default:Qi(h,m,a)}i=i.sibling}}function _m(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&xl(a))}function Em(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&xl(n))}function Or(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$_(n,i,a,l),i=i.sibling}function $_(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Or(n,i,a,l),h&2048&&$l(9,i);break;case 1:Or(n,i,a,l);break;case 3:Or(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&xl(n)));break;case 12:if(h&2048){Or(n,i,a,l),n=i.stateNode;try{var m=i.memoizedProps,E=m.id,A=m.onPostCommit;typeof A=="function"&&A(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){se(i,i.return,x)}}else Or(n,i,a,l);break;case 13:Or(n,i,a,l);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?Or(n,i,a,l):Yl(n,i):m._visibility&2?Or(n,i,a,l):(m._visibility|=2,uo(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&_m(E,i);break;case 24:Or(n,i,a,l),h&2048&&Em(i.alternate,i);break;default:Or(n,i,a,l)}}function uo(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,E=i,A=a,x=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:uo(m,E,A,x,h),$l(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?uo(m,E,A,x,h):Yl(m,E):(J._visibility|=2,uo(m,E,A,x,h)),h&&F&2048&&_m(E.alternate,E);break;case 24:uo(m,E,A,x,h),h&&F&2048&&Em(E.alternate,E);break;default:uo(m,E,A,x,h)}i=i.sibling}}function Yl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:Yl(a,l),h&2048&&_m(l.alternate,l);break;case 24:Yl(a,l),h&2048&&Em(l.alternate,l);break;default:Yl(a,l)}i=i.sibling}}var Ql=8192;function co(n){if(n.subtreeFlags&Ql)for(n=n.child;n!==null;)K_(n),n=n.sibling}function K_(n){switch(n.tag){case 26:co(n),n.flags&Ql&&n.memoizedState!==null&&KR(ur,n.memoizedState,n.memoizedProps);break;case 5:co(n);break;case 3:case 4:var i=ur;ur=Tf(n.stateNode.containerInfo),co(n),ur=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ql,Ql=16777216,co(n),Ql=i):co(n));break;default:co(n)}}function Y_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Xl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ze=l,X_(l,n)}Y_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Q_(n),n=n.sibling}function Q_(n){switch(n.tag){case 0:case 11:case 15:Xl(n),n.flags&2048&&Ki(9,n,n.return);break;case 3:Xl(n);break;case 12:Xl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,uf(n)):Xl(n);break;default:Xl(n)}}function uf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ze=l,X_(l,n)}Y_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ki(8,i,i.return),uf(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,uf(i));break;default:uf(i)}n=n.sibling}}function X_(n,i){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Ki(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=n;ze!==null;){l=ze;var h=l.sibling,m=l.return;if(z_(l),l===a){ze=null;break t}if(h!==null){h.return=m,ze=h;break t}ze=m}}}var uR={getCacheForType:function(n){var i=on(xe),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},cR=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ae=null,Ut=null,Gt=0,Jt=0,xn=null,Xi=!1,fo=!1,Tm=!1,mi=0,pe=0,Wi=0,ha=0,Sm=0,Wn=0,ho=0,Wl=null,Tn=null,Am=!1,bm=0,cf=1/0,ff=null,Zi=null,Qe=0,Ji=null,mo=null,po=0,wm=0,Rm=null,W_=null,Zl=0,Cm=null;function Mn(){if((Zt&2)!==0&&Gt!==0)return Gt&-Gt;if($.T!==null){var n=eo;return n!==0?n:Vm()}return Vi()}function Z_(){Wn===0&&(Wn=(Gt&536870912)===0||Qt?ol():536870912);var n=Xn.current;return n!==null&&(n.flags|=32),Wn}function Vn(n,i,a){(n===ae&&(Jt===2||Jt===9)||n.cancelPendingCommit!==null)&&(go(n,0),ts(n,Gt,Wn,!1)),$r(n,a),((Zt&2)===0||n!==ae)&&(n===ae&&((Zt&2)===0&&(ha|=a),pe===4&&ts(n,Gt,Wn,!1)),Nr(n))}function J_(n,i,a){if((Zt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Us(n,i),h=l?dR(n,i):Nm(n,i,!0),m=l;do{if(h===0){fo&&!l&&ts(n,i,0,!1);break}else{if(a=n.current.alternate,m&&!fR(a)){h=Nm(n,i,!1),m=!1;continue}if(h===2){if(m=i,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var A=n;h=Wl;var x=A.current.memoizedState.isDehydrated;if(x&&(go(A,E).flags|=256),E=Nm(A,E,!1),E!==2){if(Tm&&!x){A.errorRecoveryDisabledLanes|=m,ha|=m,h=4;break t}m=Tn,Tn=h,m!==null&&(Tn===null?Tn=m:Tn.push.apply(Tn,m))}h=E}if(m=!1,h!==2)continue}}if(h===1){go(n,0),ts(n,i,0,!0);break}t:{switch(l=n,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ts(l,i,Wn,!Xi);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bm+300-ge(),10<h)){if(ts(l,i,Wn,!Xi),xa(l,0,!0)!==0)break t;l.timeoutHandle=IE(tE.bind(null,l,a,Tn,ff,Am,i,Wn,ha,ho,Xi,m,2,-0,0),h);break t}tE(l,a,Tn,ff,Am,i,Wn,ha,ho,Xi,m,0,-0,0)}}break}while(!0);Nr(n)}function tE(n,i,a,l,h,m,E,A,x,F,J,nt,G,K){if(n.timeoutHandle=-1,nt=i.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(su={stylesheets:null,count:0,unsuspend:$R},K_(i),nt=YR(),nt!==null)){n.cancelPendingCommit=nt(oE.bind(null,n,i,m,a,l,h,E,A,x,J,1,G,K)),ts(n,m,E,!F);return}oE(n,i,m,a,l,h,E,A,x)}function fR(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!In(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ts(n,i,a,l){i&=~Sm,i&=~ha,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var m=31-an(h),E=1<<m;l[m]=-1,h&=~E}a!==0&&pr(n,a,i)}function hf(){return(Zt&6)===0?(Jl(0),!1):!0}function Im(){if(Ut!==null){if(Jt===0)var n=Ut.return;else n=Ut,ai=aa=null,Gd(n),oo=null,ql=0,n=Ut;for(;n!==null;)M_(n.alternate,n),n=n.return;Ut=null}}function go(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,OR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Im(),ae=n,Ut=a=ri(n.current,null),Gt=i,Jt=0,xn=null,Xi=!1,fo=Us(n,i),Tm=!1,ho=Wn=Sm=ha=Wi=pe=0,Tn=Wl=null,Am=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-an(l),m=1<<h;i|=n[h],l&=~m}return mi=i,Mc(),a}function eE(n,i){kt=null,$.H=Zc,i===Vl||i===Hc?(i=vv(),Jt=3):i===pv?(i=vv(),Jt=4):Jt=i===__?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,Ut===null&&(pe=1,rf(n,$n(i,n.current)))}function nE(){var n=$.H;return $.H=Zc,n===null?Zc:n}function rE(){var n=$.A;return $.A=uR,n}function Om(){pe=4,Xi||(Gt&4194048)!==Gt&&Xn.current!==null||(fo=!0),(Wi&134217727)===0&&(ha&134217727)===0||ae===null||ts(ae,Gt,Wn,!1)}function Nm(n,i,a){var l=Zt;Zt|=2;var h=nE(),m=rE();(ae!==n||Gt!==i)&&(ff=null,go(n,i)),i=!1;var E=pe;t:do try{if(Jt!==0&&Ut!==null){var A=Ut,x=xn;switch(Jt){case 8:Im(),E=6;break t;case 3:case 2:case 9:case 6:Xn.current===null&&(i=!0);var F=Jt;if(Jt=0,xn=null,yo(n,A,x,F),a&&fo){E=0;break t}break;default:F=Jt,Jt=0,xn=null,yo(n,A,x,F)}}hR(),E=pe;break}catch(J){eE(n,J)}while(!0);return i&&n.shellSuspendCounter++,ai=aa=null,Zt=l,$.H=h,$.A=m,Ut===null&&(ae=null,Gt=0,Mc()),E}function hR(){for(;Ut!==null;)iE(Ut)}function dR(n,i){var a=Zt;Zt|=2;var l=nE(),h=rE();ae!==n||Gt!==i?(ff=null,cf=ge()+500,go(n,i)):fo=Us(n,i);t:do try{if(Jt!==0&&Ut!==null){i=Ut;var m=xn;e:switch(Jt){case 1:Jt=0,xn=null,yo(n,i,m,1);break;case 2:case 9:if(gv(m)){Jt=0,xn=null,sE(i);break}i=function(){Jt!==2&&Jt!==9||ae!==n||(Jt=7),Nr(n)},m.then(i,i);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:gv(m)?(Jt=0,xn=null,sE(i)):(Jt=0,xn=null,yo(n,i,m,7));break;case 5:var E=null;switch(Ut.tag){case 26:E=Ut.memoizedState;case 5:case 27:var A=Ut;if(!E||BE(E)){Jt=0,xn=null;var x=A.sibling;if(x!==null)Ut=x;else{var F=A.return;F!==null?(Ut=F,df(F)):Ut=null}break e}}Jt=0,xn=null,yo(n,i,m,5);break;case 6:Jt=0,xn=null,yo(n,i,m,6);break;case 8:Im(),pe=6;break t;default:throw Error(s(462))}}mR();break}catch(J){eE(n,J)}while(!0);return ai=aa=null,$.H=l,$.A=h,Zt=a,Ut!==null?0:(ae=null,Gt=0,Mc(),pe)}function mR(){for(;Ut!==null&&!Kt();)iE(Ut)}function iE(n){var i=D_(n.alternate,n,mi);n.memoizedProps=n.pendingProps,i===null?df(n):Ut=i}function sE(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=w_(a,i,i.pendingProps,i.type,void 0,Gt);break;case 11:i=w_(a,i,i.pendingProps,i.type.render,i.ref,Gt);break;case 5:Gd(i);default:M_(a,i),i=Ut=av(i,mi),i=D_(a,i,mi)}n.memoizedProps=n.pendingProps,i===null?df(n):Ut=i}function yo(n,i,a,l){ai=aa=null,Gd(i),oo=null,ql=0;var h=i.return;try{if(rR(n,h,i,a,Gt)){pe=1,rf(n,$n(a,n.current)),Ut=null;return}}catch(m){if(h!==null)throw Ut=h,m;pe=1,rf(n,$n(a,n.current)),Ut=null;return}i.flags&32768?(Qt||l===1?n=!0:fo||(Gt&536870912)!==0?n=!1:(Xi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),aE(i,n)):df(i)}function df(n){var i=n;do{if((i.flags&32768)!==0){aE(i,Xi);return}n=i.return;var a=sR(i.alternate,i,mi);if(a!==null){Ut=a;return}if(i=i.sibling,i!==null){Ut=i;return}Ut=i=n}while(i!==null);pe===0&&(pe=5)}function aE(n,i){do{var a=aR(n.alternate,n);if(a!==null){a.flags&=32767,Ut=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ut=n;return}Ut=n=a}while(n!==null);pe=6,Ut=null}function oE(n,i,a,l,h,m,E,A,x){n.cancelPendingCommit=null;do mf();while(Qe!==0);if((Zt&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Ed,ul(n,a,m,E,A,x),n===ae&&(Ut=ae=null,Gt=0),mo=i,Ji=n,po=a,wm=m,Rm=h,W_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,vR(vn,function(){return hE(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=lt.p,lt.p=2,E=Zt,Zt|=4;try{oR(n,i,a)}finally{Zt=E,lt.p=h,$.T=l}}Qe=1,lE(),uE(),cE()}}function lE(){if(Qe===1){Qe=0;var n=Ji,i=mo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=lt.p;lt.p=2;var h=Zt;Zt|=4;try{F_(i,n);var m=Hm,E=Xy(n.containerInfo),A=m.focusedElem,x=m.selectionRange;if(E!==A&&A&&A.ownerDocument&&Qy(A.ownerDocument.documentElement,A)){if(x!==null&&pd(A)){var F=x.start,J=x.end;if(J===void 0&&(J=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(J,A.value.length);else{var nt=A.ownerDocument||document,G=nt&&nt.defaultView||window;if(G.getSelection){var K=G.getSelection(),It=A.textContent.length,At=Math.min(x.start,It),ie=x.end===void 0?At:Math.min(x.end,It);!K.extend&&At>ie&&(E=ie,ie=At,At=E);var B=Yy(A,At),U=Yy(A,ie);if(B&&U&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var q=nt.createRange();q.setStart(B.node,B.offset),K.removeAllRanges(),At>ie?(K.addRange(q),K.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),K.addRange(q))}}}}for(nt=[],K=A;K=K.parentNode;)K.nodeType===1&&nt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<nt.length;A++){var et=nt[A];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Rf=!!zm,Hm=zm=null}finally{Zt=h,lt.p=l,$.T=a}}n.current=i,Qe=2}}function uE(){if(Qe===2){Qe=0;var n=Ji,i=mo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=lt.p;lt.p=2;var h=Zt;Zt|=4;try{B_(n,i.alternate,i)}finally{Zt=h,lt.p=l,$.T=a}}Qe=3}}function cE(){if(Qe===4||Qe===3){Qe=0,jn();var n=Ji,i=mo,a=po,l=W_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Qe=5:(Qe=0,mo=Ji=null,fE(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Zi=null),Ma(a),i=i.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Tt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=lt.p,lt.p=2,$.T=null;try{for(var m=n.onRecoverableError,E=0;E<l.length;E++){var A=l[E];m(A.value,{componentStack:A.stack})}}finally{$.T=i,lt.p=h}}(po&3)!==0&&mf(),Nr(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Cm?Zl++:(Zl=0,Cm=n):Zl=0,Jl(0)}}function fE(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,xl(i)))}function mf(n){return lE(),uE(),cE(),hE()}function hE(){if(Qe!==5)return!1;var n=Ji,i=wm;wm=0;var a=Ma(po),l=$.T,h=lt.p;try{lt.p=32>a?32:a,$.T=null,a=Rm,Rm=null;var m=Ji,E=po;if(Qe=0,mo=Ji=null,po=0,(Zt&6)!==0)throw Error(s(331));var A=Zt;if(Zt|=4,Q_(m.current),$_(m,m.current,E,a),Zt=A,Jl(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Tt,m)}catch{}return!0}finally{lt.p=h,$.T=l,fE(n,i)}}function dE(n,i,a){i=$n(a,i),i=sm(n.stateNode,i,2),n=qi(n,i,2),n!==null&&($r(n,2),Nr(n))}function se(n,i,a){if(n.tag===3)dE(n,n,a);else for(;i!==null;){if(i.tag===3){dE(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){n=$n(a,n),a=y_(2),l=qi(i,a,2),l!==null&&(v_(a,l,i,n),$r(l,2),Nr(l));break}}i=i.return}}function Dm(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new cR;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Tm=!0,h.add(a),n=pR.bind(null,n,i,a),i.then(n,n))}function pR(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ae===n&&(Gt&a)===a&&(pe===4||pe===3&&(Gt&62914560)===Gt&&300>ge()-bm?(Zt&2)===0&&go(n,0):Sm|=a,ho===Gt&&(ho=0)),Nr(n)}function mE(n,i){i===0&&(i=ll()),n=Wa(n,i),n!==null&&($r(n,i),Nr(n))}function gR(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),mE(n,a)}function yR(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),mE(n,a)}function vR(n,i){return nn(n,i)}var pf=null,vo=null,xm=!1,gf=!1,Mm=!1,da=0;function Nr(n){n!==vo&&n.next===null&&(vo===null?pf=vo=n:vo=vo.next=n),gf=!0,xm||(xm=!0,ER())}function Jl(n,i){if(!Mm&&gf){Mm=!0;do for(var a=!1,l=pf;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var E=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-an(42|n)+1)-1,m&=h&~(E&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,vE(l,m))}else m=Gt,m=xa(l,l===ae?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Us(l,m)||(a=!0,vE(l,m));l=l.next}while(a);Mm=!1}}function _R(){pE()}function pE(){gf=xm=!1;var n=0;da!==0&&(IR()&&(n=da),da=0);for(var i=ge(),a=null,l=pf;l!==null;){var h=l.next,m=gE(l,i);m===0?(l.next=null,a===null?pf=h:a.next=h,h===null&&(vo=a)):(a=l,(n!==0||(m&3)!==0)&&(gf=!0)),l=h}Jl(n)}function gE(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-an(m),A=1<<E,x=h[E];x===-1?((A&a)===0||(A&l)!==0)&&(h[E]=al(A,i)):x<=i&&(n.expiredLanes|=A),m&=~A}if(i=ae,a=Gt,a=xa(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Jt===2||Jt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&rn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Us(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&rn(l),Ma(a)){case 2:case 8:a=sn;break;case 32:a=vn;break;case 268435456:a=ir;break;default:a=vn}return l=yE.bind(null,n),a=nn(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&rn(l),n.callbackPriority=2,n.callbackNode=null,2}function yE(n,i){if(Qe!==0&&Qe!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(mf()&&n.callbackNode!==a)return null;var l=Gt;return l=xa(n,n===ae?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(J_(n,l,i),gE(n,ge()),n.callbackNode!=null&&n.callbackNode===a?yE.bind(null,n):null)}function vE(n,i){if(mf())return null;J_(n,i,!0)}function ER(){NR(function(){(Zt&6)!==0?nn(qr,_R):pE()})}function Vm(){return da===0&&(da=ol()),da}function _E(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ja(""+n)}function EE(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function TR(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=_E((h[Se]||null).action),E=l.submitter;E&&(i=(i=E[Se]||null)?_E(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var A=new Ba("action","action",null,l,h);n.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var x=E?EE(h,E):new FormData(h);tm(a,{pending:!0,data:x,method:h.method,action:m},null,x)}}else typeof m=="function"&&(A.preventDefault(),x=E?EE(h,E):new FormData(h),tm(a,{pending:!0,data:x,method:h.method,action:m},m,x))},currentTarget:h}]})}}for(var km=0;km<_d.length;km++){var Pm=_d[km],SR=Pm.toLowerCase(),AR=Pm[0].toUpperCase()+Pm.slice(1);lr(SR,"on"+AR)}lr(Jy,"onAnimationEnd"),lr(tv,"onAnimationIteration"),lr(ev,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(B1,"onTransitionRun"),lr(z1,"onTransitionStart"),lr(H1,"onTransitionCancel"),lr(nv,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function TE(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;t:{var m=void 0;if(i)for(var E=l.length-1;0<=E;E--){var A=l[E],x=A.instance,F=A.currentTarget;if(A=A.listener,x!==m&&h.isPropagationStopped())break t;m=A,h.currentTarget=F;try{m(h)}catch(J){nf(J)}h.currentTarget=null,m=x}else for(E=0;E<l.length;E++){if(A=l[E],x=A.instance,F=A.currentTarget,A=A.listener,x!==m&&h.isPropagationStopped())break t;m=A,h.currentTarget=F;try{m(h)}catch(J){nf(J)}h.currentTarget=null,m=x}}}}function jt(n,i){var a=i[fl];a===void 0&&(a=i[fl]=new Set);var l=n+"__bubble";a.has(l)||(SE(i,n,2,!1),a.add(l))}function Lm(n,i,a){var l=0;i&&(l|=4),SE(a,n,l,i)}var yf="_reactListening"+Math.random().toString(36).slice(2);function Um(n){if(!n[yf]){n[yf]=!0,hl.forEach(function(a){a!=="selectionchange"&&(bR.has(a)||Lm(a,!1,n),Lm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[yf]||(i[yf]=!0,Lm("selectionchange",!1,i))}}function SE(n,i,a,l){switch($E(i)){case 2:var h=WR;break;case 8:h=ZR;break;default:h=Zm}a=h.bind(null,i,a,n),h=void 0,!Fn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function jm(n,i,a,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var A=l.stateNode.containerInfo;if(A===h)break;if(E===4)for(E=l.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;A!==null;){if(E=Kr(A),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){l=m=E;continue t}A=A.parentNode}}l=l.return}vc(function(){var F=m,J=qn(a),nt=[];t:{var G=rv.get(n);if(G!==void 0){var K=Ba,It=n;switch(n){case"keypress":if(Tr(a)===0)break t;case"keydown":case"keyup":K=$a;break;case"focusin":It="focus",K=qa;break;case"focusout":It="blur",K=qa;break;case"beforeblur":case"afterblur":K=qa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Rc;break;case Jy:case tv:case ev:K=Fa;break;case nv:K=Ic;break;case"scroll":case"scrollend":K=_c;break;case"wheel":K=Ka;break;case"copy":case"cut":case"paste":K=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=bl;break;case"toggle":case"beforetoggle":K=Nc}var At=(i&4)!==0,ie=!At&&(n==="scroll"||n==="scrollend"),B=At?G!==null?G+"Capture":null:G;At=[];for(var U=F,q;U!==null;){var et=U;if(q=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||q===null||B===null||(et=$s(U,B),et!=null&&At.push(eu(U,et,q))),ie)break;U=U.return}0<At.length&&(G=new K(G,It,null,a,J),nt.push({event:G,listeners:At}))}}if((i&7)===0){t:{if(G=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",G&&a!==Wr&&(It=a.relatedTarget||a.fromElement)&&(Kr(It)||It[zn]))break t;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(It=a.relatedTarget||a.toElement,K=F,It=It?Kr(It):null,It!==null&&(ie=u(It),At=It.tag,It!==ie||At!==5&&At!==27&&At!==6)&&(It=null)):(K=null,It=F),K!==It)){if(At=Gn,et="onMouseLeave",B="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(At=bl,et="onPointerLeave",B="onPointerEnter",U="pointer"),ie=K==null?G:yr(K),q=It==null?G:yr(It),G=new At(et,U+"leave",K,a,J),G.target=ie,G.relatedTarget=q,et=null,Kr(J)===F&&(At=new At(B,U+"enter",It,a,J),At.target=q,At.relatedTarget=ie,et=At),ie=et,K&&It)e:{for(At=K,B=It,U=0,q=At;q;q=_o(q))U++;for(q=0,et=B;et;et=_o(et))q++;for(;0<U-q;)At=_o(At),U--;for(;0<q-U;)B=_o(B),q--;for(;U--;){if(At===B||B!==null&&At===B.alternate)break e;At=_o(At),B=_o(B)}At=null}else At=null;K!==null&&AE(nt,G,K,At,!1),It!==null&&ie!==null&&AE(nt,ie,It,At,!0)}}t:{if(G=F?yr(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var pt=Hy;else if(De(G))if(qy)pt=L1;else{pt=k1;var Lt=V1}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&yl(F.elementType)&&(pt=Hy):pt=P1;if(pt&&(pt=pt(n,F))){ni(nt,pt,a,J);break t}Lt&&Lt(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Ui(G,"number",G.value)}switch(Lt=F?yr(F):window,n){case"focusin":(De(Lt)||Lt.contentEditable==="true")&&(Ya=Lt,gd=F,Cl=null);break;case"focusout":Cl=gd=Ya=null;break;case"mousedown":yd=!0;break;case"contextmenu":case"mouseup":case"dragend":yd=!1,Wy(nt,a,J);break;case"selectionchange":if(j1)break;case"keydown":case"keyup":Wy(nt,a,J)}var _t;if(br)t:{switch(n){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else qt?Q(n,a)&&(bt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(bt="onCompositionStart");bt&&(_&&a.locale!=="ko"&&(qt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&qt&&(_t=_l()):(Er=J,ji="value"in Er?Er.value:Er.textContent,qt=!0)),Lt=vf(F,bt),0<Lt.length&&(bt=new Sl(bt,n,null,a,J),nt.push({event:bt,listeners:Lt}),_t?bt.data=_t:(_t=ct(a),_t!==null&&(bt.data=_t)))),(_t=y?Ne(n,a):Ft(n,a))&&(bt=vf(F,"onBeforeInput"),0<bt.length&&(Lt=new Sl("onBeforeInput","beforeinput",null,a,J),nt.push({event:Lt,listeners:bt}),Lt.data=_t)),TR(nt,n,F,a,J)}TE(nt,i)})}function eu(n,i,a){return{instance:n,listener:i,currentTarget:a}}function vf(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=$s(n,a),h!=null&&l.unshift(eu(n,h,m)),h=$s(n,i),h!=null&&l.push(eu(n,h,m))),n.tag===3)return l;n=n.return}return[]}function _o(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function AE(n,i,a,l,h){for(var m=i._reactName,E=[];a!==null&&a!==l;){var A=a,x=A.alternate,F=A.stateNode;if(A=A.tag,x!==null&&x===l)break;A!==5&&A!==26&&A!==27||F===null||(x=F,h?(F=$s(a,m),F!=null&&E.unshift(eu(a,F,x))):h||(F=$s(a,m),F!=null&&E.push(eu(a,F,x)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var wR=/\r\n?/g,RR=/\u0000|\uFFFD/g;function bE(n){return(typeof n=="string"?n:""+n).replace(wR,`
`).replace(RR,"")}function wE(n,i){return i=bE(i),bE(n)===i}function _f(){}function re(n,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Hn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Hn(n,""+l);break;case"className":vr(n,"class",l);break;case"tabIndex":vr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(n,a,l);break;case"style":gl(n,l,m);break;case"data":if(i!=="object"){vr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ja(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&re(n,i,"name",h.name,h,null),re(n,i,"formEncType",h.formEncType,h,null),re(n,i,"formMethod",h.formMethod,h,null),re(n,i,"formTarget",h.formTarget,h,null)):(re(n,i,"encType",h.encType,h,null),re(n,i,"method",h.method,h,null),re(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ja(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=_f);break;case"onScroll":l!=null&&jt("scroll",n);break;case"onScrollEnd":l!=null&&jt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ja(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":jt("beforetoggle",n),jt("toggle",n),Li(n,"popover",l);break;case"xlinkActuate":$e(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$e(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$e(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$e(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$e(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$e(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$e(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$e(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$e(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Li(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ud.get(a)||a,Li(n,a,l))}}function Bm(n,i,a,l,h,m){switch(a){case"style":gl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Hn(n,l):(typeof l=="number"||typeof l=="bigint")&&Hn(n,""+l);break;case"onScroll":l!=null&&jt("scroll",n);break;case"onScrollEnd":l!=null&&jt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=_f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=n[Se]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Li(n,a,l)}}}function Xe(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",n),jt("load",n);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:re(n,i,m,E,a,null)}}h&&re(n,i,"srcSet",a.srcSet,a,null),l&&re(n,i,"src",a.src,a,null);return;case"input":jt("invalid",n);var A=m=E=h=null,x=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":E=J;break;case"checked":x=J;break;case"defaultChecked":F=J;break;case"value":m=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:re(n,i,l,J,a,null)}}qs(n,m,A,x,F,E,h,!1),Ua(n);return;case"select":jt("invalid",n),l=E=m=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":m=A;break;case"defaultValue":E=A;break;case"multiple":l=A;default:re(n,i,h,A,a,null)}i=m,a=E,n.multiple=!!l,i!=null?Xr(n,!!l,i,!1):a!=null&&Xr(n,!!l,a,!0);return;case"textarea":jt("invalid",n),m=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(A=a[E],A!=null))switch(E){case"value":l=A;break;case"defaultValue":h=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:re(n,i,E,A,a,null)}Fs(n,l,h,m),Ua(n);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(n,i,x,l,a,null)}return;case"dialog":jt("beforetoggle",n),jt("toggle",n),jt("cancel",n),jt("close",n);break;case"iframe":case"object":jt("load",n);break;case"video":case"audio":for(l=0;l<tu.length;l++)jt(tu[l],n);break;case"image":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"embed":case"source":case"link":jt("error",n),jt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:re(n,i,F,l,a,null)}return;default:if(yl(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Bm(n,i,J,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&re(n,i,A,l,a,null))}function CR(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,E=null,A=null,x=null,F=null,J=null;for(K in a){var nt=a[K];if(a.hasOwnProperty(K)&&nt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":x=nt;default:l.hasOwnProperty(K)||re(n,i,K,null,l,nt)}}for(var G in l){var K=l[G];if(nt=a[G],l.hasOwnProperty(G)&&(K!=null||nt!=null))switch(G){case"type":m=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":J=K;break;case"value":E=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==nt&&re(n,i,G,K,l,nt)}}Cn(n,E,A,x,F,J,m,h);return;case"select":K=E=A=G=null;for(m in a)if(x=a[m],a.hasOwnProperty(m)&&x!=null)switch(m){case"value":break;case"multiple":K=x;default:l.hasOwnProperty(m)||re(n,i,m,null,l,x)}for(h in l)if(m=l[h],x=a[h],l.hasOwnProperty(h)&&(m!=null||x!=null))switch(h){case"value":G=m;break;case"defaultValue":A=m;break;case"multiple":E=m;default:m!==x&&re(n,i,h,m,l,x)}i=A,a=E,l=K,G!=null?Xr(n,!!a,G,!1):!!l!=!!a&&(i!=null?Xr(n,!!a,i,!0):Xr(n,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:re(n,i,A,null,l,h)}for(E in l)if(h=l[E],m=a[E],l.hasOwnProperty(E)&&(h!=null||m!=null))switch(E){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&re(n,i,E,h,l,m)}ee(n,G,K);return;case"option":for(var It in a)if(G=a[It],a.hasOwnProperty(It)&&G!=null&&!l.hasOwnProperty(It))switch(It){case"selected":n.selected=!1;break;default:re(n,i,It,null,l,G)}for(x in l)if(G=l[x],K=a[x],l.hasOwnProperty(x)&&G!==K&&(G!=null||K!=null))switch(x){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:re(n,i,x,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)G=a[At],a.hasOwnProperty(At)&&G!=null&&!l.hasOwnProperty(At)&&re(n,i,At,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:re(n,i,F,G,l,K)}return;default:if(yl(i)){for(var ie in a)G=a[ie],a.hasOwnProperty(ie)&&G!==void 0&&!l.hasOwnProperty(ie)&&Bm(n,i,ie,void 0,l,G);for(J in l)G=l[J],K=a[J],!l.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||Bm(n,i,J,G,l,K);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&re(n,i,B,null,l,G);for(nt in l)G=l[nt],K=a[nt],!l.hasOwnProperty(nt)||G===K||G==null&&K==null||re(n,i,nt,G,l,K)}var zm=null,Hm=null;function Ef(n){return n.nodeType===9?n:n.ownerDocument}function RE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CE(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function qm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fm=null;function IR(){var n=window.event;return n&&n.type==="popstate"?n===Fm?!1:(Fm=n,!0):(Fm=null,!1)}var IE=typeof setTimeout=="function"?setTimeout:void 0,OR=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,NR=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(n){return OE.resolve(null).then(n).catch(DR)}:IE;function DR(n){setTimeout(function(){throw n})}function es(n){return n==="head"}function NE(n,i){var a=i,l=0,h=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&nu(E.documentElement),a&2&&nu(E.body),a&4)for(a=E.head,nu(a),E=a.firstChild;E;){var A=E.nextSibling,x=E.nodeName;E[js]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=A}}if(h===0){n.removeChild(m),cu(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);cu(i)}function Gm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gm(a),Pi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function xR(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[js])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=cr(n.nextSibling),n===null)break}return null}function MR(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=cr(n.nextSibling),n===null))return null;return n}function $m(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function VR(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function cr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Km=null;function DE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function xE(n,i,a){switch(i=Ef(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function nu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Pi(n)}var Zn=new Map,ME=new Set;function Tf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var pi=lt.d;lt.d={f:kR,r:PR,D:LR,C:UR,L:jR,m:BR,X:HR,S:zR,M:qR};function kR(){var n=pi.f(),i=hf();return n||i}function PR(n){var i=gr(n);i!==null&&i.tag===5&&i.type==="form"?Jv(i):pi.r(n)}var Eo=typeof document>"u"?null:document;function VE(n,i,a){var l=Eo;if(l&&typeof i=="string"&&i){var h=Ae(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ME.has(h)||(ME.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xe(i,"link",n),ye(i),l.head.appendChild(i)))}}function LR(n){pi.D(n),VE("dns-prefetch",n,null)}function UR(n,i){pi.C(n,i),VE("preconnect",n,i)}function jR(n,i,a){pi.L(n,i,a);var l=Eo;if(l&&n&&i){var h='link[rel="preload"][as="'+Ae(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ae(a.imageSizes)+'"]')):h+='[href="'+Ae(n)+'"]';var m=h;switch(i){case"style":m=To(n);break;case"script":m=So(n)}Zn.has(m)||(n=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Zn.set(m,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(ru(m))||i==="script"&&l.querySelector(iu(m))||(i=l.createElement("link"),Xe(i,"link",n),ye(i),l.head.appendChild(i)))}}function BR(n,i){pi.m(n,i);var a=Eo;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ae(l)+'"][href="'+Ae(n)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=So(n)}if(!Zn.has(m)&&(n=v({rel:"modulepreload",href:n},i),Zn.set(m,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(iu(m)))return}l=a.createElement("link"),Xe(l,"link",n),ye(l),a.head.appendChild(l)}}}function zR(n,i,a){pi.S(n,i,a);var l=Eo;if(l&&n){var h=mn(l).hoistableStyles,m=To(n);i=i||"default";var E=h.get(m);if(!E){var A={loading:0,preload:null};if(E=l.querySelector(ru(m)))A.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Zn.get(m))&&Ym(n,a);var x=E=l.createElement("link");ye(x),Xe(x,"link",n),x._p=new Promise(function(F,J){x.onload=F,x.onerror=J}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Sf(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:A},h.set(m,E)}}}function HR(n,i){pi.X(n,i);var a=Eo;if(a&&n){var l=mn(a).hoistableScripts,h=So(n),m=l.get(h);m||(m=a.querySelector(iu(h)),m||(n=v({src:n,async:!0},i),(i=Zn.get(h))&&Qm(n,i),m=a.createElement("script"),ye(m),Xe(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function qR(n,i){pi.M(n,i);var a=Eo;if(a&&n){var l=mn(a).hoistableScripts,h=So(n),m=l.get(h);m||(m=a.querySelector(iu(h)),m||(n=v({src:n,async:!0,type:"module"},i),(i=Zn.get(h))&&Qm(n,i),m=a.createElement("script"),ye(m),Xe(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function kE(n,i,a,l){var h=(h=Et.current)?Tf(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=To(a.href),a=mn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=To(a.href);var m=mn(h).hoistableStyles,E=m.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=h.querySelector(ru(n)))&&!m._p&&(E.instance=m,E.state.loading=5),Zn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(n,a),m||FR(h,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=So(a),a=mn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function To(n){return'href="'+Ae(n)+'"'}function ru(n){return'link[rel="stylesheet"]['+n+"]"}function PE(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function FR(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xe(i,"link",a),ye(i),n.head.appendChild(i))}function So(n){return'[src="'+Ae(n)+'"]'}function iu(n){return"script[async]"+n}function LE(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Ae(a.href)+'"]');if(l)return i.instance=l,ye(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ye(l),Xe(l,"style",h),Sf(l,a.precedence,n),i.instance=l;case"stylesheet":h=To(a.href);var m=n.querySelector(ru(h));if(m)return i.state.loading|=4,i.instance=m,ye(m),m;l=PE(a),(h=Zn.get(h))&&Ym(l,h),m=(n.ownerDocument||n).createElement("link"),ye(m);var E=m;return E._p=new Promise(function(A,x){E.onload=A,E.onerror=x}),Xe(m,"link",l),i.state.loading|=4,Sf(m,a.precedence,n),i.instance=m;case"script":return m=So(a.src),(h=n.querySelector(iu(m)))?(i.instance=h,ye(h),h):(l=a,(h=Zn.get(m))&&(l=v({},a),Qm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),ye(h),Xe(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Sf(l,a.precedence,n));return i.instance}function Sf(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,E=0;E<l.length;E++){var A=l[E];if(A.dataset.precedence===i)m=A;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Ym(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Qm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Af=null;function UE(n,i,a){if(Af===null){var l=new Map,h=Af=new Map;h.set(a,l)}else h=Af,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var m=a[h];if(!(m[js]||m[Oe]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=n+E;var A=l.get(E);A?A.push(m):l.set(E,[m])}}return l}function jE(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function GR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function BE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var su=null;function $R(){}function KR(n,i,a){if(su===null)throw Error(s(475));var l=su;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=To(a.href),m=n.querySelector(ru(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=bf.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,ye(m);return}m=n.ownerDocument||n,a=PE(a),(h=Zn.get(h))&&Ym(a,h),m=m.createElement("link"),ye(m);var E=m;E._p=new Promise(function(A,x){E.onload=A,E.onerror=x}),Xe(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=bf.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function YR(){if(su===null)throw Error(s(475));var n=su;return n.stylesheets&&n.count===0&&Xm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Xm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function bf(){if(this.count--,this.count===0){if(this.stylesheets)Xm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var wf=null;function Xm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,wf=new Map,i.forEach(QR,n),wf=null,bf.call(n))}function QR(n,i){if(!(i.state.loading&4)){var a=wf.get(n);if(a)var l=a.get(null);else{a=new Map,wf.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var E=h[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,h),a.set(E,h),this.count++,l=bf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var au={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function XR(n,i,a,l,h,m,E,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function zE(n,i,a,l,h,m,E,A,x,F,J,nt){return n=new XR(n,i,a,E,A,x,F,nt),i=1,m===!0&&(i|=24),m=On(3,null,null,i),n.current=m,m.stateNode=n,i=Dd(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},kd(m),n}function HE(n){return n?(n=Za,n):Za}function qE(n,i,a,l,h,m){h=HE(h),l.context===null?l.context=h:l.pendingContext=h,l=Hi(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=qi(n,l,i),a!==null&&(Vn(a,n,i),Pl(a,n,i))}function FE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Wm(n,i){FE(n,i),(n=n.alternate)&&FE(n,i)}function GE(n){if(n.tag===13){var i=Wa(n,67108864);i!==null&&Vn(i,n,67108864),Wm(n,67108864)}}var Rf=!0;function WR(n,i,a,l){var h=$.T;$.T=null;var m=lt.p;try{lt.p=2,Zm(n,i,a,l)}finally{lt.p=m,$.T=h}}function ZR(n,i,a,l){var h=$.T;$.T=null;var m=lt.p;try{lt.p=8,Zm(n,i,a,l)}finally{lt.p=m,$.T=h}}function Zm(n,i,a,l){if(Rf){var h=Jm(l);if(h===null)jm(n,i,l,Cf,a),KE(n,l);else if(tC(h,n,i,a,l))l.stopPropagation();else if(KE(n,l),i&4&&-1<JR.indexOf(n)){for(;h!==null;){var m=gr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=sr(m.pendingLanes);if(E!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var x=1<<31-an(E);A.entanglements[1]|=x,E&=~x}Nr(m),(Zt&6)===0&&(cf=ge()+500,Jl(0))}}break;case 13:A=Wa(m,2),A!==null&&Vn(A,m,2),hf(),Wm(m,2)}if(m=Jm(l),m===null&&jm(n,i,l,Cf,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else jm(n,i,l,null,a)}}function Jm(n){return n=qn(n),tp(n)}var Cf=null;function tp(n){if(Cf=null,n=Kr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=f(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Cf=n,null}function $E(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vs()){case qr:return 2;case sn:return 8;case vn:case xi:return 32;case ir:return 268435456;default:return 32}default:return 32}}var ep=!1,ns=null,rs=null,is=null,ou=new Map,lu=new Map,ss=[],JR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KE(n,i){switch(n){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":ou.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(i.pointerId)}}function uu(n,i,a,l,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=gr(i),i!==null&&GE(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function tC(n,i,a,l,h){switch(i){case"focusin":return ns=uu(ns,n,i,a,l,h),!0;case"dragenter":return rs=uu(rs,n,i,a,l,h),!0;case"mouseover":return is=uu(is,n,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return ou.set(m,uu(ou.get(m)||null,n,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,lu.set(m,uu(lu.get(m)||null,n,i,a,l,h)),!0}return!1}function YE(n){var i=Kr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){n.blockedOn=i,fc(n.priority,function(){if(a.tag===13){var l=Mn();l=Mi(l);var h=Wa(a,l);h!==null&&Vn(h,a,l),Wm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function If(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Jm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Wr=l,a.target.dispatchEvent(l),Wr=null}else return i=gr(a),i!==null&&GE(i),n.blockedOn=a,!1;i.shift()}return!0}function QE(n,i,a){If(n)&&a.delete(i)}function eC(){ep=!1,ns!==null&&If(ns)&&(ns=null),rs!==null&&If(rs)&&(rs=null),is!==null&&If(is)&&(is=null),ou.forEach(QE),lu.forEach(QE)}function Of(n,i){n.blockedOn===i&&(n.blockedOn=null,ep||(ep=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eC)))}var Nf=null;function XE(n){Nf!==n&&(Nf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nf===n&&(Nf=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(tp(l||a)===null)continue;break}var m=gr(a);m!==null&&(n.splice(i,3),i-=3,tm(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function cu(n){function i(x){return Of(x,n)}ns!==null&&Of(ns,n),rs!==null&&Of(rs,n),is!==null&&Of(is,n),ou.forEach(i),lu.forEach(i);for(var a=0;a<ss.length;a++){var l=ss[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ss.length&&(a=ss[0],a.blockedOn===null);)YE(a),a.blockedOn===null&&ss.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],E=h[Se]||null;if(typeof m=="function")E||XE(a);else if(E){var A=null;if(m&&m.hasAttribute("formAction")){if(h=m,E=m[Se]||null)A=E.formAction;else if(tp(h)!==null)continue}else A=E.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),XE(a)}}}function np(n){this._internalRoot=n}Df.prototype.render=np.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Mn();qE(a,l,n,i,null,null)},Df.prototype.unmount=np.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;qE(n.current,2,null,n,null,null),hf(),i[zn]=null}};function Df(n){this._internalRoot=n}Df.prototype.unstable_scheduleHydration=function(n){if(n){var i=Vi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<ss.length&&i!==0&&i<ss[a].priority;a++);ss.splice(a,0,n),a===0&&YE(n)}};var WE=t.version;if(WE!=="19.1.1")throw Error(s(527,WE,"19.1.1"));lt.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var nC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{Tt=xf.inject(nC),Vt=xf}catch{}}return hu.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=d_,m=m_,E=p_,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=zE(n,1,!1,null,null,a,l,h,m,E,A,null),n[zn]=i.current,Um(n),new np(i)},hu.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",m=d_,E=m_,A=p_,x=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=zE(n,1,!0,i,a??null,l,h,m,E,A,x,F),i.context=HE(null),a=i.current,l=Mn(),l=Mi(l),h=Hi(l),h.callback=null,qi(a,h,l),a=l,i.current.lanes=a,$r(i,a),Nr(i),n[zn]=i.current,Um(n),new Df(i)},hu.version="19.1.1",hu}var oT;function fC(){if(oT)return sp.exports;oT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sp.exports=cC(),sp.exports}var hC=fC();const dC=()=>{};var lT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=function(r){const t=[];let e=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},mC=function(r){const t=[];let e=0,s=0;for(;e<r.length;){const o=r[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[e++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[e++],f=r[e++],d=r[e++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[e++],f=r[e++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},SS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,d=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,T=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,I=g&63;p||(I=64,f||(S=64)),s.push(e[v],e[T],e[S],e[I])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(TS(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):mC(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=e[r.charAt(o++)],d=o<r.length?e[r.charAt(o)]:0;++o;const g=o<r.length?e[r.charAt(o)]:64;++o;const T=o<r.length?e[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new pC;const S=u<<2|d>>4;if(s.push(S),g!==64){const I=d<<4&240|g>>2;if(s.push(I),T!==64){const L=g<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gC=function(r){const t=TS(r);return SS.encodeByteArray(t,!0)},eh=function(r){return gC(r).replace(/\./g,"")},AS=function(r){try{return SS.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=()=>yC().__FIREBASE_DEFAULTS__,_C=()=>{if(typeof process>"u"||typeof lT>"u")return;const r=lT.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},EC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&AS(r[1]);return t&&JSON.parse(t)},Ih=()=>{try{return dC()||vC()||_C()||EC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bS=r=>Ih()?.emulatorHosts?.[r],TC=r=>{const t=bS(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},wS=()=>Ih()?.config,RS=r=>Ih()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[eh(JSON.stringify(e)),eh(JSON.stringify(f)),""].join(".")}const Su={};function bC(){const r={prod:[],emulator:[]};for(const t of Object.keys(Su))Su[t]?r.emulator.push(t):r.prod.push(t);return r}function wC(r){let t=document.getElementById(r),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),e=!0),{created:e,element:t}}let uT=!1;function IS(r,t){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||Su[r]===t||Su[r]||uT)return;Su[r]=t;function e(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=bC().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{uT=!0,f()},S}function v(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=wC(s),I=e("text"),L=document.getElementById(I)||document.createElement("span"),H=e("learnmore"),P=document.getElementById(H)||document.createElement("a"),Z=e("preprendIcon"),X=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Y=S.element;d(Y),v(P,H);const W=g();p(X,Z),Y.append(X,L,P,W),document.body.appendChild(Y)}u?(L.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function CC(){const r=Ih()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function NC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DC(){const r=dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xC(){return!CC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MC(){try{return typeof indexedDB=="object"}catch{return!1}}function VC(){return new Promise((r,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="FirebaseError";class Ni extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=kC,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$u.prototype.create)}}class $u{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?PC(u,s):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new Ni(o,d,s)}}function PC(r,t){return r.replace(LC,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const LC=/\{\$([^}]+)}/g;function UC(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Sa(r,t){if(r===t)return!0;const e=Object.keys(r),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(cT(u)&&cT(f)){if(!Sa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function cT(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(r){const t=[];for(const[e,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function pu(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function gu(r){const t=r.indexOf("?");if(!t)return"";const e=r.indexOf("#",t);return r.substring(t,e>0?e:void 0)}function jC(r,t){const e=new BC(r,t);return e.subscribe.bind(e)}class BC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");zC(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=up),o.error===void 0&&(o.error=up),o.complete===void 0&&(o.complete=up);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zC(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(r){return r&&r._delegate?r._delegate:r}class Aa{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HC=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new SC;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FC(t))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ma){return this.instances.has(t)}getOptions(t=ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&f.resolve(o)}return o}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qC(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ma){return this.component?this.component.multipleInstances?t:ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qC(r){return r===ma?void 0:r}function FC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new HC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Bt||(Bt={}));const $C={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},KC=Bt.INFO,YC={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},QC=(r,t,...e)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=YC[t];if(o)console[o](`[${s}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wg{constructor(t){this.name=t,this._logLevel=KC,this._logHandler=QC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$C[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const XC=(r,t)=>t.some(e=>r instanceof e);let fT,hT;function WC(){return fT||(fT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZC(){return hT||(hT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OS=new WeakMap,Mp=new WeakMap,NS=new WeakMap,cp=new WeakMap,Rg=new WeakMap;function JC(r){const t=new Promise((e,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{e(ms(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(e=>{e instanceof IDBCursor&&OS.set(e,r)}).catch(()=>{}),Rg.set(t,r),t}function tI(r){if(Mp.has(r))return;const t=new Promise((e,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{e(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Mp.set(r,t)}let Vp={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return Mp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||NS.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ms(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function eI(r){Vp=r(Vp)}function nI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=r.call(fp(this),t,...e);return NS.set(s,t.sort?t.sort():[t]),ms(s)}:ZC().includes(r)?function(...t){return r.apply(fp(this),t),ms(OS.get(this))}:function(...t){return ms(r.apply(fp(this),t))}}function rI(r){return typeof r=="function"?nI(r):(r instanceof IDBTransaction&&tI(r),XC(r,WC())?new Proxy(r,Vp):r)}function ms(r){if(r instanceof IDBRequest)return JC(r);if(cp.has(r))return cp.get(r);const t=rI(r);return t!==r&&(cp.set(r,t),Rg.set(t,r)),t}const fp=r=>Rg.get(r);function iI(r,t,{blocked:e,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),d=ms(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ms(f.result),p.oldVersion,p.newVersion,ms(f.transaction),p)}),e&&f.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const sI=["get","getKey","getAll","getAllKeys","count"],aI=["put","add","delete","clear"],hp=new Map;function dT(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(hp.get(t))return hp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=aI.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sI.includes(e)))return;const u=async function(f,...d){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return hp.set(t,u),u}eI(r=>({...r,get:(t,e,s)=>dT(t,e)||r.get(t,e,s),has:(t,e)=>!!dT(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(lI(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function lI(r){return r.getComponent()?.type==="VERSION"}const kp="@firebase/app",mT="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new wg("@firebase/app"),uI="@firebase/app-compat",cI="@firebase/analytics-compat",fI="@firebase/analytics",hI="@firebase/app-check-compat",dI="@firebase/app-check",mI="@firebase/auth",pI="@firebase/auth-compat",gI="@firebase/database",yI="@firebase/data-connect",vI="@firebase/database-compat",_I="@firebase/functions",EI="@firebase/functions-compat",TI="@firebase/installations",SI="@firebase/installations-compat",AI="@firebase/messaging",bI="@firebase/messaging-compat",wI="@firebase/performance",RI="@firebase/performance-compat",CI="@firebase/remote-config",II="@firebase/remote-config-compat",OI="@firebase/storage",NI="@firebase/storage-compat",DI="@firebase/firestore",xI="@firebase/ai",MI="@firebase/firestore-compat",VI="firebase",kI="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="[DEFAULT]",PI={[kp]:"fire-core",[uI]:"fire-core-compat",[fI]:"fire-analytics",[cI]:"fire-analytics-compat",[dI]:"fire-app-check",[hI]:"fire-app-check-compat",[mI]:"fire-auth",[pI]:"fire-auth-compat",[gI]:"fire-rtdb",[yI]:"fire-data-connect",[vI]:"fire-rtdb-compat",[_I]:"fire-fn",[EI]:"fire-fn-compat",[TI]:"fire-iid",[SI]:"fire-iid-compat",[AI]:"fire-fcm",[bI]:"fire-fcm-compat",[wI]:"fire-perf",[RI]:"fire-perf-compat",[CI]:"fire-rc",[II]:"fire-rc-compat",[OI]:"fire-gcs",[NI]:"fire-gcs-compat",[DI]:"fire-fst",[MI]:"fire-fst-compat",[xI]:"fire-vertex","fire-js":"fire-js",[VI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,LI=new Map,Lp=new Map;function pT(r,t){try{r.container.addComponent(t)}catch(e){Ai.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function ko(r){const t=r.name;if(Lp.has(t))return Ai.debug(`There were multiple attempts to register component ${t}.`),!1;Lp.set(t,r);for(const e of nh.values())pT(e,r);for(const e of LI.values())pT(e,r);return!0}function Cg(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function hr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new $u("app","Firebase",UI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=kI;function DS(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const s={name:Pp,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(e||(e=wS()),!e)throw ps.create("no-options");const u=nh.get(o);if(u){if(Sa(e,u.options)&&Sa(s,u.config))return u;throw ps.create("duplicate-app",{appName:o})}const f=new GC(o);for(const p of Lp.values())f.addComponent(p);const d=new jI(e,s,f);return nh.set(o,d),d}function xS(r=Pp){const t=nh.get(r);if(!t&&r===Pp&&wS())return DS();if(!t)throw ps.create("no-app",{appName:r});return t}function gs(r,t,e){let s=PI[r]??r;e&&(s+=`-${e}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ai.warn(f.join(" "));return}ko(new Aa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="firebase-heartbeat-database",zI=1,Du="firebase-heartbeat-store";let dp=null;function MS(){return dp||(dp=iI(BI,zI,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Du)}catch(e){console.warn(e)}}}}).catch(r=>{throw ps.create("idb-open",{originalErrorMessage:r.message})})),dp}async function HI(r){try{const e=(await MS()).transaction(Du),s=await e.objectStore(Du).get(VS(r));return await e.done,s}catch(t){if(t instanceof Ni)Ai.warn(t.message);else{const e=ps.create("idb-get",{originalErrorMessage:t?.message});Ai.warn(e.message)}}}async function gT(r,t){try{const s=(await MS()).transaction(Du,"readwrite");await s.objectStore(Du).put(t,VS(r)),await s.done}catch(e){if(e instanceof Ni)Ai.warn(e.message);else{const s=ps.create("idb-set",{originalErrorMessage:e?.message});Ai.warn(s.message)}}}function VS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=1024,FI=30;class GI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new KI(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>FI){const o=YI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ai.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yT(),{heartbeatsToSend:e,unsentEntries:s}=$I(this._heartbeatsCache.heartbeats),o=eh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ai.warn(t),""}}}function yT(){return new Date().toISOString().substring(0,10)}function $I(r,t=qI){const e=[];let s=r.slice();for(const o of r){const u=e.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),vT(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),vT(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class KI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MC()?VC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await HI(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return gT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return gT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function vT(r){return eh(JSON.stringify({version:2,heartbeats:r})).length}function YI(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let s=1;s<r.length;s++)r[s].date<e&&(e=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r){ko(new Aa("platform-logger",t=>new oI(t),"PRIVATE")),ko(new Aa("heartbeat",t=>new GI(t),"PRIVATE")),gs(kp,mT,r),gs(kp,mT,"esm2020"),gs("fire-js","")}QI("");var _T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,kS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,R){function O(){}O.prototype=R.prototype,D.D=R.prototype,D.prototype=new O,D.prototype.constructor=D,D.C=function(M,k,j){for(var N=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)N[xt-2]=arguments[xt];return R.prototype[k].apply(M,N)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,O){O||(O=0);var M=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)M[k]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(k=0;16>k;++k)M[k]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=D.g[0],O=D.g[1],k=D.g[2];var j=D.g[3],N=R+(j^O&(k^j))+M[0]+3614090360&4294967295;R=O+(N<<7&4294967295|N>>>25),N=j+(k^R&(O^k))+M[1]+3905402710&4294967295,j=R+(N<<12&4294967295|N>>>20),N=k+(O^j&(R^O))+M[2]+606105819&4294967295,k=j+(N<<17&4294967295|N>>>15),N=O+(R^k&(j^R))+M[3]+3250441966&4294967295,O=k+(N<<22&4294967295|N>>>10),N=R+(j^O&(k^j))+M[4]+4118548399&4294967295,R=O+(N<<7&4294967295|N>>>25),N=j+(k^R&(O^k))+M[5]+1200080426&4294967295,j=R+(N<<12&4294967295|N>>>20),N=k+(O^j&(R^O))+M[6]+2821735955&4294967295,k=j+(N<<17&4294967295|N>>>15),N=O+(R^k&(j^R))+M[7]+4249261313&4294967295,O=k+(N<<22&4294967295|N>>>10),N=R+(j^O&(k^j))+M[8]+1770035416&4294967295,R=O+(N<<7&4294967295|N>>>25),N=j+(k^R&(O^k))+M[9]+2336552879&4294967295,j=R+(N<<12&4294967295|N>>>20),N=k+(O^j&(R^O))+M[10]+4294925233&4294967295,k=j+(N<<17&4294967295|N>>>15),N=O+(R^k&(j^R))+M[11]+2304563134&4294967295,O=k+(N<<22&4294967295|N>>>10),N=R+(j^O&(k^j))+M[12]+1804603682&4294967295,R=O+(N<<7&4294967295|N>>>25),N=j+(k^R&(O^k))+M[13]+4254626195&4294967295,j=R+(N<<12&4294967295|N>>>20),N=k+(O^j&(R^O))+M[14]+2792965006&4294967295,k=j+(N<<17&4294967295|N>>>15),N=O+(R^k&(j^R))+M[15]+1236535329&4294967295,O=k+(N<<22&4294967295|N>>>10),N=R+(k^j&(O^k))+M[1]+4129170786&4294967295,R=O+(N<<5&4294967295|N>>>27),N=j+(O^k&(R^O))+M[6]+3225465664&4294967295,j=R+(N<<9&4294967295|N>>>23),N=k+(R^O&(j^R))+M[11]+643717713&4294967295,k=j+(N<<14&4294967295|N>>>18),N=O+(j^R&(k^j))+M[0]+3921069994&4294967295,O=k+(N<<20&4294967295|N>>>12),N=R+(k^j&(O^k))+M[5]+3593408605&4294967295,R=O+(N<<5&4294967295|N>>>27),N=j+(O^k&(R^O))+M[10]+38016083&4294967295,j=R+(N<<9&4294967295|N>>>23),N=k+(R^O&(j^R))+M[15]+3634488961&4294967295,k=j+(N<<14&4294967295|N>>>18),N=O+(j^R&(k^j))+M[4]+3889429448&4294967295,O=k+(N<<20&4294967295|N>>>12),N=R+(k^j&(O^k))+M[9]+568446438&4294967295,R=O+(N<<5&4294967295|N>>>27),N=j+(O^k&(R^O))+M[14]+3275163606&4294967295,j=R+(N<<9&4294967295|N>>>23),N=k+(R^O&(j^R))+M[3]+4107603335&4294967295,k=j+(N<<14&4294967295|N>>>18),N=O+(j^R&(k^j))+M[8]+1163531501&4294967295,O=k+(N<<20&4294967295|N>>>12),N=R+(k^j&(O^k))+M[13]+2850285829&4294967295,R=O+(N<<5&4294967295|N>>>27),N=j+(O^k&(R^O))+M[2]+4243563512&4294967295,j=R+(N<<9&4294967295|N>>>23),N=k+(R^O&(j^R))+M[7]+1735328473&4294967295,k=j+(N<<14&4294967295|N>>>18),N=O+(j^R&(k^j))+M[12]+2368359562&4294967295,O=k+(N<<20&4294967295|N>>>12),N=R+(O^k^j)+M[5]+4294588738&4294967295,R=O+(N<<4&4294967295|N>>>28),N=j+(R^O^k)+M[8]+2272392833&4294967295,j=R+(N<<11&4294967295|N>>>21),N=k+(j^R^O)+M[11]+1839030562&4294967295,k=j+(N<<16&4294967295|N>>>16),N=O+(k^j^R)+M[14]+4259657740&4294967295,O=k+(N<<23&4294967295|N>>>9),N=R+(O^k^j)+M[1]+2763975236&4294967295,R=O+(N<<4&4294967295|N>>>28),N=j+(R^O^k)+M[4]+1272893353&4294967295,j=R+(N<<11&4294967295|N>>>21),N=k+(j^R^O)+M[7]+4139469664&4294967295,k=j+(N<<16&4294967295|N>>>16),N=O+(k^j^R)+M[10]+3200236656&4294967295,O=k+(N<<23&4294967295|N>>>9),N=R+(O^k^j)+M[13]+681279174&4294967295,R=O+(N<<4&4294967295|N>>>28),N=j+(R^O^k)+M[0]+3936430074&4294967295,j=R+(N<<11&4294967295|N>>>21),N=k+(j^R^O)+M[3]+3572445317&4294967295,k=j+(N<<16&4294967295|N>>>16),N=O+(k^j^R)+M[6]+76029189&4294967295,O=k+(N<<23&4294967295|N>>>9),N=R+(O^k^j)+M[9]+3654602809&4294967295,R=O+(N<<4&4294967295|N>>>28),N=j+(R^O^k)+M[12]+3873151461&4294967295,j=R+(N<<11&4294967295|N>>>21),N=k+(j^R^O)+M[15]+530742520&4294967295,k=j+(N<<16&4294967295|N>>>16),N=O+(k^j^R)+M[2]+3299628645&4294967295,O=k+(N<<23&4294967295|N>>>9),N=R+(k^(O|~j))+M[0]+4096336452&4294967295,R=O+(N<<6&4294967295|N>>>26),N=j+(O^(R|~k))+M[7]+1126891415&4294967295,j=R+(N<<10&4294967295|N>>>22),N=k+(R^(j|~O))+M[14]+2878612391&4294967295,k=j+(N<<15&4294967295|N>>>17),N=O+(j^(k|~R))+M[5]+4237533241&4294967295,O=k+(N<<21&4294967295|N>>>11),N=R+(k^(O|~j))+M[12]+1700485571&4294967295,R=O+(N<<6&4294967295|N>>>26),N=j+(O^(R|~k))+M[3]+2399980690&4294967295,j=R+(N<<10&4294967295|N>>>22),N=k+(R^(j|~O))+M[10]+4293915773&4294967295,k=j+(N<<15&4294967295|N>>>17),N=O+(j^(k|~R))+M[1]+2240044497&4294967295,O=k+(N<<21&4294967295|N>>>11),N=R+(k^(O|~j))+M[8]+1873313359&4294967295,R=O+(N<<6&4294967295|N>>>26),N=j+(O^(R|~k))+M[15]+4264355552&4294967295,j=R+(N<<10&4294967295|N>>>22),N=k+(R^(j|~O))+M[6]+2734768916&4294967295,k=j+(N<<15&4294967295|N>>>17),N=O+(j^(k|~R))+M[13]+1309151649&4294967295,O=k+(N<<21&4294967295|N>>>11),N=R+(k^(O|~j))+M[4]+4149444226&4294967295,R=O+(N<<6&4294967295|N>>>26),N=j+(O^(R|~k))+M[11]+3174756917&4294967295,j=R+(N<<10&4294967295|N>>>22),N=k+(R^(j|~O))+M[2]+718787259&4294967295,k=j+(N<<15&4294967295|N>>>17),N=O+(j^(k|~R))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var O=R-this.blockSize,M=this.B,k=this.h,j=0;j<R;){if(k==0)for(;j<=O;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<R;)if(M[k++]=D.charCodeAt(j++),k==this.blockSize){o(this,M),k=0;break}}else for(;j<R;)if(M[k++]=D[j++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var O=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=O&255,O/=256;for(this.u(D),D=Array(16),R=O=0;4>R;++R)for(var M=0;32>M;M+=8)D[O++]=this.g[R]>>>M&255;return D};function u(D,R){var O=d;return Object.prototype.hasOwnProperty.call(O,D)?O[D]:O[D]=R(D)}function f(D,R){this.h=R;for(var O=[],M=!0,k=D.length-1;0<=k;k--){var j=D[k]|0;M&&j==R||(O[k]=j,M=!1)}this.g=O}var d={};function p(D){return-128<=D&&128>D?u(D,function(R){return new f([R|0],0>R?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return P(g(-D));for(var R=[],O=1,M=0;D>=O;M++)R[M]=D/O|0,O*=4294967296;return new f(R,0)}function v(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return P(v(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=g(Math.pow(R,8)),M=T,k=0;k<D.length;k+=8){var j=Math.min(8,D.length-k),N=parseInt(D.substring(k,k+j),R);8>j?(j=g(Math.pow(R,j)),M=M.j(j).add(g(N))):(M=M.j(O),M=M.add(g(N)))}return M}var T=p(0),S=p(1),I=p(16777216);r=f.prototype,r.m=function(){if(H(this))return-P(this).m();for(var D=0,R=1,O=0;O<this.g.length;O++){var M=this.i(O);D+=(0<=M?M:4294967296+M)*R,R*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(L(this))return"0";if(H(this))return"-"+P(this).toString(D);for(var R=g(Math.pow(D,6)),O=this,M="";;){var k=W(O,R).g;O=Z(O,k.j(R));var j=((0<O.g.length?O.g[0]:O.h)>>>0).toString(D);if(O=k,L(O))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function L(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function H(D){return D.h==-1}r.l=function(D){return D=Z(this,D),H(D)?-1:L(D)?0:1};function P(D){for(var R=D.g.length,O=[],M=0;M<R;M++)O[M]=~D.g[M];return new f(O,~D.h).add(S)}r.abs=function(){return H(this)?P(this):this},r.add=function(D){for(var R=Math.max(this.g.length,D.g.length),O=[],M=0,k=0;k<=R;k++){var j=M+(this.i(k)&65535)+(D.i(k)&65535),N=(j>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);M=N>>>16,j&=65535,N&=65535,O[k]=N<<16|j}return new f(O,O[O.length-1]&-2147483648?-1:0)};function Z(D,R){return D.add(P(R))}r.j=function(D){if(L(this)||L(D))return T;if(H(this))return H(D)?P(this).j(P(D)):P(P(this).j(D));if(H(D))return P(this.j(P(D)));if(0>this.l(I)&&0>D.l(I))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,O=[],M=0;M<2*R;M++)O[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<D.g.length;k++){var j=this.i(M)>>>16,N=this.i(M)&65535,xt=D.i(k)>>>16,Ct=D.i(k)&65535;O[2*M+2*k]+=N*Ct,X(O,2*M+2*k),O[2*M+2*k+1]+=j*Ct,X(O,2*M+2*k+1),O[2*M+2*k+1]+=N*xt,X(O,2*M+2*k+1),O[2*M+2*k+2]+=j*xt,X(O,2*M+2*k+2)}for(M=0;M<R;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=R;M<2*R;M++)O[M]=0;return new f(O,0)};function X(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function Y(D,R){this.g=D,this.h=R}function W(D,R){if(L(R))throw Error("division by zero");if(L(D))return new Y(T,T);if(H(D))return R=W(P(D),R),new Y(P(R.g),P(R.h));if(H(R))return R=W(D,P(R)),new Y(P(R.g),R.h);if(30<D.g.length){if(H(D)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var O=S,M=R;0>=M.l(D);)O=it(O),M=it(M);var k=at(O,1),j=at(M,1);for(M=at(M,2),O=at(O,2);!L(M);){var N=j.add(M);0>=N.l(D)&&(k=k.add(O),j=N),M=at(M,1),O=at(O,1)}return R=Z(D,k.j(R)),new Y(k,R)}for(k=T;0<=D.l(R);){for(O=Math.max(1,Math.floor(D.m()/R.m())),M=Math.ceil(Math.log(O)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=g(O),N=j.j(R);H(N)||0<N.l(D);)O-=M,j=g(O),N=j.j(R);L(j)&&(j=S),k=k.add(j),D=Z(D,N)}return new Y(k,D)}r.A=function(D){return W(this,D).h},r.and=function(D){for(var R=Math.max(this.g.length,D.g.length),O=[],M=0;M<R;M++)O[M]=this.i(M)&D.i(M);return new f(O,this.h&D.h)},r.or=function(D){for(var R=Math.max(this.g.length,D.g.length),O=[],M=0;M<R;M++)O[M]=this.i(M)|D.i(M);return new f(O,this.h|D.h)},r.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),O=[],M=0;M<R;M++)O[M]=this.i(M)^D.i(M);return new f(O,this.h^D.h)};function it(D){for(var R=D.g.length+1,O=[],M=0;M<R;M++)O[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(O,D.h)}function at(D,R){var O=R>>5;R%=32;for(var M=D.g.length-O,k=[],j=0;j<M;j++)k[j]=0<R?D.i(j+O)>>>R|D.i(j+O+1)<<32-R:D.i(j+O);return new f(k,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,kS=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,ys=f}).apply(typeof _T<"u"?_T:typeof self<"u"?self:typeof window<"u"?window:{});var Mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PS,yu,LS,qf,Up,US,jS,BS;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mf=="object"&&Mf];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in _))break t;_=_[z]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,z={next:function(){if(!b&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function I(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function L(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,z,Q){for(var ct=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)ct[qt-2]=arguments[qt];return y.prototype[z].apply(b,ct)}}function H(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function P(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const z=c.length||0,Q=b.length||0;c.length=z+Q;for(let ct=0;ct<Q;ct++)c[z+ct]=b[ct]}else c.push(b)}}class Z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var it=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function at(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)c[_]=b[_];for(let Q=0;Q<O.length;Q++)_=O[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function N(){var c=Ot;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class xt{constructor(){this.h=this.g=null}add(y,_){const b=Ct.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Ct=new Z(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,ft=!1,Ot=new xt,V=()=>{const c=d.Promise.resolve(void 0);lt=()=>{c.then(tt)}};var tt=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){j(_)}var y=Ct;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ft=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var ht=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c})();function vt(c,y){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(it){t:{try{W(y.nodeName);var z=!0;break t}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Et[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&vt.aa.h.call(this)}}L(vt,st);var Et={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function Te(c,y,_,b,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=z,this.key=++Pt,this.da=this.fa=!1}function Ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c){this.src=c,this.g={},this.h=0}Le.prototype.add=function(c,y,_,b,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ct=nn(c,y,b,z);return-1<ct?(y=c[ct],_||(y.fa=!1)):(y=new Te(y,this.src,Q,!!b,z),y.fa=_,c.push(y)),y};function en(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],z=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(b,z,1),Q&&(Ge(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function nn(c,y,_,b){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==b)return z}return-1}var rn="closure_lm_"+(1e6*Math.random()|0),Kt={};function jn(c,y,_,b,z){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)jn(c,y[Q],_,b,z);return null}return _=Fr(_),c&&c[te]?c.K(y,_,g(b)?!!b.capture:!1,z):ge(c,y,_,!1,b,z)}function ge(c,y,_,b,z,Q){if(!y)throw Error("Invalid event type");var ct=g(z)?!!z.capture:!!z,qt=ir(c);if(qt||(c[rn]=qt=new Le(c)),_=qt.add(y,_,b,ct,Q),_.proxy)return _;if(b=Vs(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ht||(z=ct),z===void 0&&(z=!1),c.addEventListener(y.toString(),b,z);else if(c.attachEvent)c.attachEvent(vn(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Vs(){function c(_){return y.call(c.src,c.listener,_)}const y=xi;return c}function qr(c,y,_,b,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)qr(c,y[Q],_,b,z);else b=g(b)?!!b.capture:!!b,_=Fr(_),c&&c[te]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=nn(Q,_,b,z),-1<_&&(Ge(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=ir(c))&&(y=c.g[y.toString()],c=-1,y&&(c=nn(y,_,b,z)),(_=-1<c?y[c]:null)&&sn(_))}function sn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[te])en(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(vn(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=ir(y))?(en(_,c),_.h==0&&(_.src=null,y[rn]=null)):Ge(c)}}}function vn(c){return c in Kt?Kt[c]:Kt[c]="on"+c}function xi(c,y){if(c.da)c=!0;else{y=new vt(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&sn(c),c=_.call(b,y)}return c}function ir(c){return c=c[rn],c instanceof Le?c:null}var Bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fr(c){return typeof c=="function"?c:(c[Bn]||(c[Bn]=function(y){return c.handleEvent(y)}),c[Bn])}function Tt(){ut.call(this),this.i=new Le(this),this.M=this,this.F=null}L(Tt,ut),Tt.prototype[te]=!0,Tt.prototype.removeEventListener=function(c,y,_,b){qr(this,c,y,_,b)};function Vt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new st(y,c);else if(y instanceof st)y.target=y.target||c;else{var z=y;y=new st(b,c),M(y,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ct=y.g=_[Q];z=Ie(ct,b,!0,y)&&z}if(ct=y.g=c,z=Ie(ct,b,!0,y)&&z,z=Ie(ct,b,!1,y)&&z,_)for(Q=0;Q<_.length;Q++)ct=y.g=_[Q],z=Ie(ct,b,!1,y)&&z}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Ge(_[b]);delete c.g[y],c.h--}}this.F=null},Tt.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},Tt.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function Ie(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Q=0;Q<y.length;++Q){var ct=y[Q];if(ct&&!ct.da&&ct.capture==_){var qt=ct.listener,Ne=ct.ha||ct.src;ct.fa&&en(c.i,ct),z=qt.call(Ne,b)!==!1&&z}}return z&&!b.defaultPrevented}function an(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function cc(c){c.g=an(()=>{c.g=null,c.i&&(c.i=!1,cc(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sd extends ut{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:cc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(c){ut.call(this),this.h=c,this.g={}}L(ks,ut);var Ps=[];function Ls(c){at(c.g,function(y,_){this.g.hasOwnProperty(_)&&sn(y)},c),c.g={}}ks.prototype.N=function(){ks.aa.N.call(this),Ls(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=d.JSON.stringify,xa=d.JSON.parse,Us=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function al(){}al.prototype.h=null;function ol(c){return c.h||(c.h=c.i())}function ll(){}var Gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $r(){st.call(this,"d")}L($r,st);function ul(){st.call(this,"c")}L(ul,st);var pr={},cl=null;function Mi(){return cl=cl||new Tt}pr.La="serverreachability";function Ma(c){st.call(this,pr.La,c)}L(Ma,st);function Vi(c){const y=Mi();Vt(y,new Ma(y))}pr.STAT_EVENT="statevent";function fc(c,y){st.call(this,pr.STAT_EVENT,c),this.stat=y}L(fc,st);function ce(c){const y=Mi();Vt(y,new fc(y,c))}pr.Ma="timingevent";function Oe(c,y){st.call(this,pr.Ma,c),this.size=y}L(Oe,st);function Se(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function fl(c,y,_,b,z,Q){c.info(function(){if(c.g)if(Q)for(var ct="",qt=Q.split("&"),Ne=0;Ne<qt.length;Ne++){var Ft=qt[Ne].split("=");if(1<Ft.length){var je=Ft[0];Ft=Ft[1];var De=je.split("_");ct=2<=De.length&&De[1]=="type"?ct+(je+"="+Ft+"&"):ct+(je+"=redacted&")}}else ct=null;else ct=Q;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+_+`
`+ct})}function ad(c,y,_,b,z,Q,ct){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+_+`
`+Q+" "+ct})}function ki(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+js(c,_)+(b?" "+b:"")})}function hc(c,y){c.info(function(){return"TIMEOUT: "+y})}zn.prototype.info=function(){};function js(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ct=1;ct<z.length;ct++)z[ct]=""}}}}return sr(_)}catch{return y}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function yr(){}L(yr,al),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},gr=new yr;function mn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var hl={},Va={};function ar(c,y,_){c.L=1,c.v=Fs(Cn(y)),c.m=_,c.P=!0,Yr(c,null)}function Yr(c,y){c.F=Date.now(),Bs(c),c.A=Cn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),vl(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ye,c.g=Ic(c.j,_?y:null,!c.m),0<c.O&&(c.M=new sd(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ps[0]=z.toString()),z=Ps);for(var Q=0;Q<z.length;Q++){var ct=jn(_,z[Q],b||y.handleEvent,!1,y.h||y);if(!ct)break;y.g[ct.key]=ct}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Vi(),fl(c.i,c.u,c.A,c.l,c.R,c.m)}mn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Gn(c)==3?y.j():this.Y(c)},mn.prototype.Y=function(c){try{if(c==this.g)t:{const De=Gn(this.g);var y=this.g.Ba();const ni=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||Ec(this.g)))){this.J||De!=4||y==7||(y==8||0>=ni?Vi(3):Vi(2)),Li(this);var _=this.g.Z();this.X=_;e:if(dc(this)){var b=Ec(this.g);c="";var z=b.length,Q=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),vr(this);var ct="";break e}this.h.i=new d.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Q&&y==z-1)});b.length=0,this.h.g+=c,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=_==200,ad(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var qt,Ne=this.g;if((qt=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(qt)){var Ft=qt;break e}}Ft=null}if(_=Ft)ki(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zs(this,_);else{this.o=!1,this.s=3,ce(12),$e(this),vr(this);break t}}if(this.P){_=!0;let Ke;for(;!this.J&&this.C<ct.length;)if(Ke=mc(this,ct),Ke==Va){De==4&&(this.s=4,ce(14),_=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Ke==hl){this.s=4,ce(15),ki(this.i,this.l,ct,"[Invalid Chunk]"),_=!1;break}else ki(this.i,this.l,Ke,null),zs(this,Ke);if(dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||ct.length!=0||this.h.h||(this.s=1,ce(16),_=!1),this.o=this.o&&_,!_)ki(this.i,this.l,ct,"[Invalid Chunked Response]"),$e(this),vr(this);else if(0<ct.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),Zs(je),je.M=!0,ce(11))}}else ki(this.i,this.l,ct,null),zs(this,ct);De==4&&$e(this),this.o&&!this.J&&(De==4?wc(this.j,this):(this.o=!1,Bs(this)))}else fd(this.g),_==400&&0<ct.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),$e(this),vr(this)}}}catch{}finally{}};function dc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mc(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?Va:(_=Number(y.substring(_,b)),isNaN(_)?hl:(b+=1,b+_>y.length?Va:(y=y.slice(b,b+_),c.C=b+_,y)))}mn.prototype.cancel=function(){this.J=!0,$e(this)};function Bs(c){c.S=Date.now()+c.I,pc(c,c.I)}function pc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Se(S(c.ba,c),y)}function Li(c){c.B&&(d.clearTimeout(c.B),c.B=null)}mn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(hc(this.i,this.A),this.L!=2&&(Vi(),ce(17)),$e(this),this.s=2,vr(this)):pc(this,this.S-c)};function vr(c){c.j.G==0||c.J||wc(c.j,c)}function $e(c){Li(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ls(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function zs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||dl(_.h,c))){if(!c.K&&dl(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)$a(_),Fa(_);else break t;Al(_),ce(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Se(S(_.Za,_),6e3));if(1>=Pa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ei(_,11)}else if((c.K||_.g==c)&&$a(_),!X(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Ft=z[y];if(_.T=Ft[0],Ft=Ft[1],_.G==2)if(Ft[0]=="c"){_.K=Ft[1],_.ia=Ft[2];const je=Ft[3];je!=null&&(_.la=je,_.j.info("VER="+_.la));const De=Ft[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const ni=Ft[5];ni!=null&&typeof ni=="number"&&0<ni&&(b=1.5*ni,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ke=c.g;if(Ke){const wr=Ke.g?Ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var Q=b.h;Q.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(La(Q,Q.h),Q.h=null))}if(b.D){const wl=Ke.g?Ke.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(b.ya=wl,ee(b.I,b.D,wl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ct=c;if(b.qa=Cc(b,b.J?b.ia:null,b.W),ct.K){pn(b.h,ct);var qt=ct,Ne=b.L;Ne&&(qt.I=Ne),qt.B&&(Li(qt),Bs(qt)),b.g=ct}else Ac(b);0<_.i.length&&Ga(_)}else Ft[0]!="stop"&&Ft[0]!="close"||ei(_,7);else _.G==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?ei(_,7):Tl(_):Ft[0]!="noop"&&_.l&&_.l.ta(Ft),_.v=0)}}Vi(4)}catch{}}var gc=class{constructor(c,y){this.g=c,this.map=y}};function Qr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Pa(c){return c.h?1:c.g?c.g.size:0}function dl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function La(c,y){c.g?c.g.add(y):c.h=y}function pn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Qr.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ml(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return H(c.i)}function od(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function Ua(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function pl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ua(c),b=od(c),z=b.length,Q=0;Q<z;Q++)y.call(void 0,b[Q],_&&_[Q],c)}var Hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ld(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),z=null;if(0<=b){var Q=c[_].substring(0,b);z=c[_].substring(b+1)}else Q=c[_];y(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ae(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ae){this.h=c.h,qs(this,c.j),this.o=c.o,this.g=c.g,Ui(this,c.s),this.l=c.l;var y=c.i,_=new Wr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Xr(this,_),this.m=c.m}else c&&(y=String(c).match(Hs))?(this.h=!1,qs(this,y[1]||"",!0),this.o=Hn(y[2]||""),this.g=Hn(y[3]||"",!0),Ui(this,y[4]),this.l=Hn(y[5]||"",!0),Xr(this,y[6]||"",!0),this.m=Hn(y[7]||"")):(this.h=!1,this.i=new Wr(null,this.h))}Ae.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Gs(y,gl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Gs(y,gl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Gs(_,_.charAt(0)=="/"?ud:yl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Gs(_,ja)),c.join("")};function Cn(c){return new Ae(c)}function qs(c,y,_){c.j=_?Hn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ui(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Xr(c,y,_){y instanceof Wr?(c.i=y,vc(c.i,c.h)):(_||(y=Gs(y,cd)),c.i=new Wr(y,c.h))}function ee(c,y,_){c.i.set(y,_)}function Fs(c){return ee(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Hn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,yc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gl=/[#\/\?@]/g,yl=/[#\?:]/g,ud=/[#\?]/g,cd=/[#\?@]/g,ja=/#/g;function Wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function qn(c){c.g||(c.g=new Map,c.h=0,c.i&&ld(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Wr.prototype,r.add=function(c,y){qn(this),this.i=null,c=_r(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Zr(c,y){qn(c),y=_r(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Jr(c,y){return qn(c),y=_r(c,y),c.g.has(y)}r.forEach=function(c,y){qn(this),this.g.forEach(function(_,b){_.forEach(function(z){c.call(y,z,b,this)},this)},this)},r.na=function(){qn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const z=c[b];for(let Q=0;Q<z.length;Q++)_.push(y[b])}return _},r.V=function(c){qn(this);let y=[];if(typeof c=="string")Jr(this,c)&&(y=y.concat(this.g.get(_r(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return qn(this),this.i=null,c=_r(this,c),Jr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function vl(c,y,_){Zr(c,y),0<_.length&&(c.i=null,c.g.set(_r(c,y),H(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Q=encodeURIComponent(String(b)),ct=this.V(b);for(b=0;b<ct.length;b++){var z=Q;ct[b]!==""&&(z+="="+encodeURIComponent(String(ct[b]))),c.push(z)}}return this.i=c.join("&")};function _r(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function vc(c,y){y&&!c.j&&(qn(c),c.i=null,c.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(Zr(this,b),vl(this,z,_))},c)),c.j=y}function $s(c,y){const _=new zn;if(d.Image){const b=new Image;b.onload=I(Fn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=I(Fn,_,"TestLoadImage: error",!1,y,b),b.onabort=I(Fn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=I(Fn,_,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function or(c,y){const _=new zn,b=new AbortController,z=setTimeout(()=>{b.abort(),Fn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(z),Q.ok?Fn(_,"TestPingServer: ok",!0,y):Fn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Fn(_,"TestPingServer: error",!1,y)})}function Fn(c,y,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function Ks(){this.g=new Us}function Er(c,y,_){const b=_||"";try{pl(c,function(z,Q){let ct=z;g(z)&&(ct=sr(z)),y.push(b+Q+"="+encodeURIComponent(ct))})}catch(z){throw y.push(b+"type="+encodeURIComponent("_badmap")),z}}function ji(c){this.l=c.Ub||null,this.j=c.eb||!1}L(ji,al),ji.prototype.g=function(){return new ti(this.l,this.j)},ji.prototype.i=(function(c){return function(){return c}})({});function ti(c,y){Tt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ti,Tt),r=ti.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Sr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_l(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _l(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Tr(this):Sr(this),this.readyState==3&&_l(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},r.Qa=function(c){this.g&&(this.response=c,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Sr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Sr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function El(c){let y="";return at(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Ue(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=El(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ee(c,y,_))}function Xt(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Xt,Tt);var Ba=/^https?$/i,Ys=["POST","PUT"];r=Xt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?ol(this.o):ol(gr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){_c(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ys,y,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ct]of _)this.g.setRequestHeader(Q,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){_c(this,Q)}};function _c(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,za(c),Ar(c)}function za(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Vt(this,"complete"),Vt(this,"abort"),Ar(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),Xt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},r.bb=function(){Ha(this)};function Ha(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Gn(c)!=4||c.Z()!=2)){if(c.u&&Gn(c)==4)an(c.Ea,0,c);else if(Vt(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const ct=c.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=ct===0){var z=String(c.D).match(Hs)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),b=!Ba.test(z?z.toLowerCase():"")}_=b}if(_)Vt(c,"complete"),Vt(c,"success");else{c.m=6;try{var Q=2<Gn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",za(c)}}finally{Ar(c)}}}}function Ar(c,y){if(c.g){Qs(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Vt(c,"ready");try{_.onreadystatechange=b}catch{}}}function Qs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),xa(y)}};function Ec(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fd(c){const y={};c=(c.g&&2<=Gn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(X(c[b]))continue;var _=k(c[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[z]||[];y[z]=Q,Q.push(_)}D(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function qa(c){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,c),this.cb=Xs("retryDelaySeedMs",1e4,c),this.Wa=Xs("forwardChannelMaxRetries",2,c),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qr(c&&c.concurrentRequestLimit),this.Da=new Ks,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=qa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){ce(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Cc(this,null,this.W),Ga(this)};function Tl(c){if(Tc(c),c.G==3){var y=c.U++,_=Cn(c.I);if(ee(_,"SID",c.K),ee(_,"RID",y),ee(_,"TYPE","terminate"),Ws(c,_),y=new mn(c,c.j,y),y.L=2,y.v=Fs(Cn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Ic(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Bs(y)}Rc(c)}function Fa(c){c.g&&(Zs(c),c.g.cancel(),c.g=null)}function Tc(c){Fa(c),c.u&&(d.clearTimeout(c.u),c.u=null),$a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ga(c){if(!ka(c.h)&&!c.s){c.s=!0;var y=c.Ga;lt||V(),ft||(lt(),ft=!0),Ot.add(y,c),c.B=0}}function hd(c,y){return Pa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Se(S(c.Ga,c,y),bl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new mn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Sc(this,z,y),_=Cn(this.I),ee(_,"RID",c),ee(_,"CVER",22),this.D&&ee(_,"X-HTTP-Session-Id",this.D),Ws(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(El(Q)))+"&"+y:this.m&&Ue(_,this.m,Q)),La(this.h,z),this.Ua&&ee(_,"TYPE","init"),this.P?(ee(_,"$req",y),ee(_,"SID","null"),z.T=!0,ar(z,_,null)):ar(z,_,y),this.G=2}}else this.G==3&&(c?Sl(this,c):this.i.length==0||ka(this.h)||Sl(this))};function Sl(c,y){var _;y?_=y.l:_=c.U++;const b=Cn(c.I);ee(b,"SID",c.K),ee(b,"RID",_),ee(b,"AID",c.T),Ws(c,b),c.m&&c.o&&Ue(b,c.m,c.o),_=new mn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Sc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),La(c.h,_),ar(_,b,y)}function Ws(c,y){c.H&&at(c.H,function(_,b){ee(y,b,_)}),c.l&&pl({},function(_,b){ee(y,b,_)})}function Sc(c,y,_){_=Math.min(c.i.length,_);var b=c.l?S(c.l.Na,c.l,c):null;t:{var z=c.i;let Q=-1;for(;;){const ct=["count="+_];Q==-1?0<_?(Q=z[0].g,ct.push("ofs="+Q)):Q=0:ct.push("ofs="+Q);let qt=!0;for(let Ne=0;Ne<_;Ne++){let Ft=z[Ne].g;const je=z[Ne].map;if(Ft-=Q,0>Ft)Q=Math.max(0,z[Ne].g-100),qt=!1;else try{Er(je,ct,"req"+Ft+"_")}catch{b&&b(je)}}if(qt){b=ct.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function Ac(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;lt||V(),ft||(lt(),ft=!0),Ot.add(y,c),c.v=0}}function Al(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Se(S(c.Fa,c),bl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Se(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Fa(this),bc(this))};function Zs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function bc(c){c.g=new mn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Cn(c.qa);ee(y,"RID","rpc"),ee(y,"SID",c.K),ee(y,"AID",c.T),ee(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ee(y,"TO",c.ja),ee(y,"TYPE","xmlhttp"),Ws(c,y),c.m&&c.o&&Ue(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Fs(Cn(y)),_.m=null,_.P=!0,Yr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Fa(this),Al(this),ce(19))};function $a(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function wc(c,y){var _=null;if(c.g==y){$a(c),Zs(c),c.g=null;var b=2}else if(dl(c.h,y))_=y.D,pn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;b=Mi(),Vt(b,new Oe(b,_)),Ga(c)}else Ac(c);else if(z=y.s,z==3||z==0&&0<y.X||!(b==1&&hd(c,y)||b==2&&Al(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:ei(c,5);break;case 4:ei(c,10);break;case 3:ei(c,6);break;default:ei(c,2)}}}function bl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function ei(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),b=c.Xa;const z=!b;b=new Ae(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qs(b,"https"),Fs(b),z?$s(b.toString(),_):or(b.toString(),_)}else ce(2);c.G=0,c.l&&c.l.sa(y),Rc(c),Tc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Rc(c){if(c.G=0,c.ka=[],c.l){const y=ml(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function Cc(c,y,_){var b=_ instanceof Ae?Cn(_):new Ae(_);if(b.g!="")y&&(b.g=y+"."+b.g),Ui(b,b.s);else{var z=d.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Q=new Ae(null);b&&qs(Q,b),y&&(Q.g=y),z&&Ui(Q,z),_&&(Q.l=_),b=Q}return _=c.D,y=c.ya,_&&y&&ee(b,_,y),ee(b,"VER",c.la),Ws(c,b),b}function Ic(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Xt(new ji({eb:_})):new Xt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}r=Oc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ka(){}Ka.prototype.g=function(c,y){return new gn(c,y)};function gn(c,y){Tt.call(this),this.g=new qa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new br(this)}L(gn,Tt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Tl(this.g)},gn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=sr(c),c=_);y.i.push(new gc(y.Ya++,c)),y.G==3&&Ga(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,gn.aa.N.call(this)};function Nc(c){$r.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(Nc,$r);function Dc(){ul.call(this),this.status=1}L(Dc,ul);function br(c){this.g=c}L(br,Oc),br.prototype.ua=function(){Vt(this.g,"a")},br.prototype.ta=function(c){Vt(this.g,new Nc(c))},br.prototype.sa=function(c){Vt(this.g,new Dc)},br.prototype.ra=function(){Vt(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,BS=function(){return new Ka},jS=function(){return Mi()},US=pr,Up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,qf=Pi,Kr.COMPLETE="complete",LS=Kr,ll.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,yu=ll,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,PS=Xt}).apply(typeof Mf<"u"?Mf:typeof self<"u"?self:typeof window<"u"?window:{});const ET="@firebase/firestore",TT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new wg("@firebase/firestore");function wo(){return ba.logLevel}function mt(r,...t){if(ba.logLevel<=Bt.DEBUG){const e=t.map(Ig);ba.debug(`Firestore (${Wo}): ${r}`,...e)}}function bi(r,...t){if(ba.logLevel<=Bt.ERROR){const e=t.map(Ig);ba.error(`Firestore (${Wo}): ${r}`,...e)}}function Po(r,...t){if(ba.logLevel<=Bt.WARN){const e=t.map(Ig);ba.warn(`Firestore (${Wo}): ${r}`,...e)}}function Ig(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(r,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,zS(r,s,e)}function zS(r,t,e){let s=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw bi(s),new Error(s)}function Wt(r,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,r||zS(t,o,s)}function Dt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Ni{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(cn.UNAUTHENTICATED)))}shutdown(){}}class WI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class ZI{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Wt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let u=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vs,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vs)}}),0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string",31837,{l:s}),new HS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class JI{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tO{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new JI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ST{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Wt(this.o===void 0,3512);const s=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ST(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Wt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new ST(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<r;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<e&&(s+=t.charAt(o[u]%62))}return s}}function zt(r,t){return r<t?-1:r>t?1:0}function jp(r,t){const e=Math.min(r.length,t.length);for(let s=0;s<e;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return mp(o)===mp(u)?zt(o,u):mp(o)?1:-1}return zt(r.length,t.length)}const rO=55296,iO=57343;function mp(r){const t=r.charCodeAt(0);return t>=rO&&t<=iO}function Lo(r,t,e){return r.length===t.length&&r.every(((s,o)=>e(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="__name__";class Dr{constructor(t,e,s){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Rt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Dr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Dr?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const u=Dr.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return zt(t.length,e.length)}static compareSegments(t,e){const s=Dr.isNumericId(t),o=Dr.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?Dr.extractNumericId(t).compare(Dr.extractNumericId(e)):jp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ys.fromString(t.substring(4,t.length-2))}}class ue extends Dr{construct(t,e,s){return new ue(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((o=>o.length>0)))}return new ue(e)}static emptyPath(){return new ue([])}}const sO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Dr{construct(t,e,s){return new Je(t,e,s)}static isValidIdentifier(t){return sO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AT}static keyField(){return new Je([AT])}static fromServerFormat(t){const e=[];let s="",o=0;const u=()=>{if(s.length===0)throw new yt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let f=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new yt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new yt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(s+=d,o++):(u(),o++)}if(u(),f)throw new yt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(e)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.path=t}static fromPath(t){return new St(ue.fromString(t))}static fromName(t){return new St(ue.fromString(t).popFirst(5))}static empty(){return new St(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new St(new ue(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(r,t,e){if(!e)throw new yt(ot.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function aO(r,t,e,s){if(t===!0&&s===!0)throw new yt(ot.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function bT(r){if(!St.isDocumentKey(r))throw new yt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wT(r){if(St.isDocumentKey(r))throw new yt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function FS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ng(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Rt(12329,{type:typeof r})}function Ti(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new yt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Ng(r);throw new yt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,t){const e={typeString:r};return t&&(e.value=t),e}function Yu(r,t){if(!FS(r))throw new yt(ot.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){e=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){e=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){e=`Expected '${s}' field to equal '${u.value}'`;break}}if(e)throw new yt(ot.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=-62135596800,CT=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*CT);return new oe(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<RT)throw new yt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CT}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yu(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-RT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ce("string",oe._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new oe(0,0))}static max(){return new Nt(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=-1;function oO(r,t){const e=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Nt.fromTimestamp(s===1e9?new oe(e+1,0):new oe(e,s));return new Ts(o,St.empty(),t)}function lO(r){return new Ts(r.readTime,r.key,xu)}class Ts{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Ts(Nt.min(),St.empty(),xu)}static max(){return new Ts(Nt.max(),St.empty(),xu)}}function uO(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=St.comparator(r.documentKey,t.documentKey),e!==0?e:zt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(r){if(r.code!==ot.FAILED_PRECONDITION||r.message!==cO)throw r;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.reject(e)}static resolve(t){return new rt(((e,s)=>{e(t)}))}static reject(t){return new rt(((e,s)=>{s(t)}))}static waitFor(t){return new rt(((e,s)=>{let o=0,u=0,f=!1;t.forEach((d=>{++o,d.next((()=>{++u,f&&u===o&&e()}),(p=>s(p)))})),f=!0,u===o&&e()}))}static or(t){let e=rt.resolve(!1);for(const s of t)e=e.next((o=>o?rt.resolve(o):s()));return e}static forEach(t,e){const s=[];return t.forEach(((o,u)=>{s.push(e.call(this,o,u))})),this.waitFor(s)}static mapArray(t,e){return new rt(((s,o)=>{const u=t.length,f=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((v=>{f[g]=v,++d,d===u&&s(f)}),(v=>o(v)))}}))}static doWhile(t,e){return new rt(((s,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):s()};u()}))}}function hO(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Jo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Oh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=-1;function Nh(r){return r==null}function rh(r){return r===0&&1/r==-1/0}function dO(r){return typeof r=="number"&&Number.isInteger(r)&&!rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="";function mO(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=IT(t)),t=pO(r.get(e),t);return IT(t)}function pO(r,t){let e=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":e+="";break;case GS:e+="";break;default:e+=u}}return e}function IT(r){return r+GS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function Ns(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function $S(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,e){this.comparator=t,this.root=e||Ze.EMPTY}insert(t,e){return new de(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vf(this.root,t,this.comparator,!0)}}class Vf{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,e,s,o,u){this.key=t,this.value=e,this.color=s??Ze.RED,this.left=o??Ze.EMPTY,this.right=u??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,u){return new Ze(t??this.key,e??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,s),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,s,o,u){return this}insert(t,e,s){return new Ze(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new NT(this.data.getIterator())}getIteratorFrom(t){return new NT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Pe(this.comparator);return e.data=t,e}}class NT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Pn([])}unionWith(t){let e=new Pe(Je.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Pn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Lo(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new KS("Invalid base64 string: "+u):u}})(t);return new tn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new tn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const gO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(r){if(Wt(!!r,39018),typeof r=="string"){let t=0;const e=gO.exec(r);if(Wt(!!e,46558,{timestamp:r}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function As(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="server_timestamp",QS="__type__",XS="__previous_value__",WS="__local_write_time__";function xg(r){return(r?.mapValue?.fields||{})[QS]?.stringValue===YS}function Dh(r){const t=r.mapValue.fields[XS];return xg(t)?Dh(t):t}function Mu(r){const t=Ss(r.mapValue.fields[WS].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t,e,s,o,u,f,d,p,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const ih="(default)";class Vu{constructor(t,e){this.projectId=t,this.database=e||ih}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof Vu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="__type__",vO="__max__",kf={mapValue:{}},JS="__vector__",sh="value";function bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xg(r)?4:EO(r)?9007199254740991:_O(r)?10:11:Rt(28295,{value:r})}function zr(r,t){if(r===t)return!0;const e=bs(r);if(e!==bs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Mu(r).isEqual(Mu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ss(o.timestampValue),d=Ss(u.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return As(o.bytesValue).isEqual(As(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ee(o.doubleValue),d=Ee(u.doubleValue);return f===d?rh(f)===rh(d):isNaN(f)&&isNaN(d)}return!1})(r,t);case 9:return Lo(r.arrayValue.values||[],t.arrayValue.values||[],zr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},d=u.mapValue.fields||{};if(OT(f)!==OT(d))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(d[p]===void 0||!zr(f[p],d[p])))return!1;return!0})(r,t);default:return Rt(52216,{left:r})}}function ku(r,t){return(r.values||[]).find((e=>zr(e,t)))!==void 0}function Uo(r,t){if(r===t)return 0;const e=bs(r),s=bs(t);if(e!==s)return zt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const d=Ee(u.integerValue||u.doubleValue),p=Ee(f.integerValue||f.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,t);case 3:return DT(r.timestampValue,t.timestampValue);case 4:return DT(Mu(r),Mu(t));case 5:return jp(r.stringValue,t.stringValue);case 6:return(function(u,f){const d=As(u),p=As(f);return d.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const d=u.split("/"),p=f.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=zt(d[g],p[g]);if(v!==0)return v}return zt(d.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const d=zt(Ee(u.latitude),Ee(f.latitude));return d!==0?d:zt(Ee(u.longitude),Ee(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return xT(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const d=u.fields||{},p=f.fields||{},g=d[sh]?.arrayValue,v=p[sh]?.arrayValue,T=zt(g?.values?.length||0,v?.values?.length||0);return T!==0?T:xT(g,v)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===kf.mapValue&&f===kf.mapValue)return 0;if(u===kf.mapValue)return 1;if(f===kf.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=jp(p[T],v[T]);if(S!==0)return S;const I=Uo(d[p[T]],g[v[T]]);if(I!==0)return I}return zt(p.length,v.length)})(r.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function DT(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return zt(r,t);const e=Ss(r),s=Ss(t),o=zt(e.seconds,s.seconds);return o!==0?o:zt(e.nanos,s.nanos)}function xT(r,t){const e=r.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const u=Uo(e[o],s[o]);if(u)return u}return zt(e.length,s.length)}function jo(r){return Bp(r)}function Bp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(e){const s=Ss(e);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(e){return As(e).toBase64()})(r.bytesValue):"referenceValue"in r?(function(e){return St.fromName(e).toString()})(r.referenceValue):"geoPointValue"in r?(function(e){return`geo(${e.latitude},${e.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(e){let s="[",o=!0;for(const u of e.values||[])o?o=!1:s+=",",s+=Bp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(e){const s=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Bp(e.fields[f])}`;return o+"}"})(r.mapValue):Rt(61005,{value:r})}function Ff(r){switch(bs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dh(r);return t?16+Ff(t):16;case 5:return 2*r.stringValue.length;case 6:return As(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ff(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ns(s.fields,((u,f)=>{o+=u.length+Ff(f)})),o})(r.mapValue);default:throw Rt(13486,{value:r})}}function zp(r){return!!r&&"integerValue"in r}function Mg(r){return!!r&&"arrayValue"in r}function MT(r){return!!r&&"nullValue"in r}function VT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gf(r){return!!r&&"mapValue"in r}function _O(r){return(r?.mapValue?.fields||{})[ZS]?.stringValue===JS}function Au(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ns(r.mapValue.fields,((e,s)=>t.mapValue.fields[e]=Au(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Au(r.arrayValue.values[e]);return t}return{...r}}function EO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Gf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Au(e)}setAll(t){let e=Je.emptyPath(),s={},o=[];t.forEach(((f,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=d.popLast()}f?s[d.lastSegment()]=Au(f):o.push(d.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,s,o)}delete(t){const e=this.field(t.popLast());Gf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return zr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];Gf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){Ns(e,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new An(Au(this.value))}}function tA(r){const t=[];return Ns(r.fields,((e,s)=>{const o=new Je([e]);if(Gf(s)){const u=tA(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,e,s,o,u,f,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=d}static newInvalidDocument(t){return new fn(t,0,Nt.min(),Nt.min(),Nt.min(),An.empty(),0)}static newFoundDocument(t,e,s,o){return new fn(t,1,e,Nt.min(),s,o,0)}static newNoDocument(t,e){return new fn(t,2,e,Nt.min(),Nt.min(),An.empty(),0)}static newUnknownDocument(t,e){return new fn(t,3,e,Nt.min(),Nt.min(),An.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,e){this.position=t,this.inclusive=e}}function kT(r,t,e){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=St.comparator(St.fromName(f.referenceValue),e.key):s=Uo(f,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function PT(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!zr(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,e="asc"){this.field=t,this.dir=e}}function TO(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{}class Ve extends eA{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new AO(t,e,s):e==="array-contains"?new RO(t,s):e==="in"?new CO(t,s):e==="not-in"?new IO(t,s):e==="array-contains-any"?new OO(t,s):new Ve(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new bO(t,s):new wO(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Uo(e,this.value)):e!==null&&bs(this.value)===bs(e)&&this.matchesComparison(Uo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends eA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Hr(t,e)}matches(t){return nA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nA(r){return r.op==="and"}function rA(r){return SO(r)&&nA(r)}function SO(r){for(const t of r.filters)if(t instanceof Hr)return!1;return!0}function Hp(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+jo(r.value);if(rA(r))return r.filters.map((t=>Hp(t))).join(",");{const t=r.filters.map((e=>Hp(e))).join(",");return`${r.op}(${t})`}}function iA(r,t){return r instanceof Ve?(function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&zr(s.value,o.value)})(r,t):r instanceof Hr?(function(s,o){return o instanceof Hr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,d)=>u&&iA(f,o.filters[d])),!0):!1})(r,t):void Rt(19439)}function sA(r){return r instanceof Ve?(function(e){return`${e.field.canonicalString()} ${e.op} ${jo(e.value)}`})(r):r instanceof Hr?(function(e){return e.op.toString()+" {"+e.getFilters().map(sA).join(" ,")+"}"})(r):"Filter"}class AO extends Ve{constructor(t,e,s){super(t,e,s),this.key=St.fromName(s.referenceValue)}matches(t){const e=St.comparator(t.key,this.key);return this.matchesComparison(e)}}class bO extends Ve{constructor(t,e){super(t,"in",e),this.keys=aA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class wO extends Ve{constructor(t,e){super(t,"not-in",e),this.keys=aA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function aA(r,t){return(t.arrayValue?.values||[]).map((e=>St.fromName(e.referenceValue)))}class RO extends Ve{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Mg(e)&&ku(e.arrayValue,this.value)}}class CO extends Ve{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ku(this.value.arrayValue,e)}}class IO extends Ve{constructor(t,e){super(t,"not-in",e)}matches(t){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!ku(this.value.arrayValue,e)}}class OO extends Ve{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Mg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>ku(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t,e=null,s=[],o=[],u=null,f=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=d,this.Te=null}}function LT(r,t=null,e=[],s=[],o=null,u=null,f=null){return new NO(r,t,e,s,o,u,f)}function Vg(r){const t=Dt(r);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>Hp(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Nh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>jo(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>jo(s))).join(",")),t.Te=e}return t.Te}function kg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!TO(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!iA(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!PT(r.startAt,t.startAt)&&PT(r.endAt,t.endAt)}function qp(r){return St.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,e=null,s=[],o=[],u=null,f="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DO(r,t,e,s,o,u,f,d){return new xh(r,t,e,s,o,u,f,d)}function Pg(r){return new xh(r)}function UT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xO(r){return r.collectionGroup!==null}function bu(r){const t=Dt(r);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new Pe(Je.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new oh(u,s))})),e.has(Je.keyField().canonicalString())||t.Ie.push(new oh(Je.keyField(),s))}return t.Ie}function xr(r){const t=Dt(r);return t.Ee||(t.Ee=MO(t,bu(r))),t.Ee}function MO(r,t){if(r.limitType==="F")return LT(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new oh(o.field,u)}));const e=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return LT(r.path,r.collectionGroup,t,r.filters,r.limit,e,s)}}function Fp(r,t,e){return new xh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function Mh(r,t){return kg(xr(r),xr(t))&&r.limitType===t.limitType}function oA(r){return`${Vg(xr(r))}|lt:${r.limitType}`}function Ro(r){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((o=>sA(o))).join(", ")}]`),Nh(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((o=>jo(o))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((o=>jo(o))).join(",")),`Target(${s})`})(xr(r))}; limitType=${r.limitType})`}function Vh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):St.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of bu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,d,p){const g=kT(f,d,p);return f.inclusive?g<=0:g<0})(s.startAt,bu(s),o)||s.endAt&&!(function(f,d,p){const g=kT(f,d,p);return f.inclusive?g>=0:g>0})(s.endAt,bu(s),o))})(r,t)}function VO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function lA(r){return(t,e)=>{let s=!1;for(const o of bu(r)){const u=kO(o,t,e);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function kO(r,t,e){const s=r.field.isKeyField()?St.comparator(t.key,e.key):(function(u,f,d){const p=f.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Uo(p,g):Rt(42886)})(r.field,t,e);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Rt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ns(this.inner,((e,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return $S(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new de(St.comparator);function wi(){return PO}const uA=new de(St.comparator);function vu(...r){let t=uA;for(const e of r)t=t.insert(e.key,e);return t}function cA(r){let t=uA;return r.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function ga(){return wu()}function fA(){return wu()}function wu(){return new Ia((r=>r.toString()),((r,t)=>r.isEqual(t)))}const LO=new de(St.comparator),UO=new Pe(St.comparator);function Ht(...r){let t=UO;for(const e of r)t=t.add(e);return t}const jO=new Pe(zt);function BO(){return jO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(t)?"-0":t}}function hA(r){return{integerValue:""+r}}function zO(r,t){return dO(t)?hA(t):Lg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function HO(r,t,e){return r instanceof lh?(function(o,u){const f={fields:{[QS]:{stringValue:YS},[WS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xg(u)&&(u=Dh(u)),u&&(f.fields[XS]=u),{mapValue:f}})(e,t):r instanceof Pu?mA(r,t):r instanceof Lu?pA(r,t):(function(o,u){const f=dA(o,u),d=jT(f)+jT(o.Ae);return zp(f)&&zp(o.Ae)?hA(d):Lg(o.serializer,d)})(r,t)}function qO(r,t,e){return r instanceof Pu?mA(r,t):r instanceof Lu?pA(r,t):e}function dA(r,t){return r instanceof uh?(function(s){return zp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class lh extends kh{}class Pu extends kh{constructor(t){super(),this.elements=t}}function mA(r,t){const e=gA(t);for(const s of r.elements)e.some((o=>zr(o,s)))||e.push(s);return{arrayValue:{values:e}}}class Lu extends kh{constructor(t){super(),this.elements=t}}function pA(r,t){let e=gA(t);for(const s of r.elements)e=e.filter((o=>!zr(o,s)));return{arrayValue:{values:e}}}class uh extends kh{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function jT(r){return Ee(r.integerValue||r.doubleValue)}function gA(r){return Mg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function FO(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Pu&&o instanceof Pu||s instanceof Lu&&o instanceof Lu?Lo(s.elements,o.elements,zr):s instanceof uh&&o instanceof uh?zr(s.Ae,o.Ae):s instanceof lh&&o instanceof lh})(r.transform,t.transform)}class GO{constructor(t,e){this.version=t,this.transformResults=e}}class Mr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Mr}static exists(t){return new Mr(void 0,t)}static updateTime(t){return new Mr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $f(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ph{}function yA(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new _A(r.key,Mr.none()):new Qu(r.key,r.data,Mr.none());{const e=r.data,s=An.empty();let o=new Pe(Je.comparator);for(let u of t.fields)if(!o.has(u)){let f=e.field(u);f===null&&u.length>1&&(u=u.popLast(),f=e.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ds(r.key,s,new Pn(o.toArray()),Mr.none())}}function $O(r,t,e){r instanceof Qu?(function(o,u,f){const d=o.value.clone(),p=zT(o.fieldTransforms,u,f.transformResults);d.setAll(p),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()})(r,t,e):r instanceof Ds?(function(o,u,f){if(!$f(o.precondition,u))return void u.convertToUnknownDocument(f.version);const d=zT(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(vA(o)),p.setAll(d),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,e):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,e)}function Ru(r,t,e,s){return r instanceof Qu?(function(u,f,d,p){if(!$f(u.precondition,f))return d;const g=u.value.clone(),v=HT(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,t,e,s):r instanceof Ds?(function(u,f,d,p){if(!$f(u.precondition,f))return d;const g=HT(u.fieldTransforms,p,f),v=f.data;return v.setAll(vA(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,e,s):(function(u,f,d){return $f(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d})(r,t,e)}function KO(r,t){let e=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=dA(s.transform,o||null);u!=null&&(e===null&&(e=An.empty()),e.set(s.field,u))}return e||null}function BT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Lo(s,o,((u,f)=>FO(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Qu extends Ph{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends Ph{constructor(t,e,s,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vA(r){const t=new Map;return r.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=r.data.field(e);t.set(e,s)}})),t}function zT(r,t,e){const s=new Map;Wt(r.length===e.length,32656,{Re:e.length,Ve:r.length});for(let o=0;o<e.length;o++){const u=r[o],f=u.transform,d=t.data.field(u.field);s.set(u.field,qO(f,d,e[o]))}return s}function HT(r,t,e){const s=new Map;for(const o of r){const u=o.transform,f=e.data.field(o.field);s.set(o.field,HO(u,f,t))}return s}class _A extends Ph{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YO extends Ph{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&$O(u,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Ru(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Ru(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=fA();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let d=this.applyToLocalView(f,u.mutatedFields);d=e.has(o.key)?null:d;const p=yA(f,d);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Nt.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&Lo(this.mutations,t.mutations,((e,s)=>BT(e,s)))&&Lo(this.baseMutations,t.baseMutations,((e,s)=>BT(e,s)))}}class Ug{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){Wt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return LO})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ug(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XO=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,$t;function ZO(r){switch(r){case ot.OK:return Rt(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return Rt(15467,{code:r})}}function EA(r){if(r===void 0)return bi("GRPC error has no .code"),ot.UNKNOWN;switch(r){case Re.OK:return ot.OK;case Re.CANCELLED:return ot.CANCELLED;case Re.UNKNOWN:return ot.UNKNOWN;case Re.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Re.INTERNAL:return ot.INTERNAL;case Re.UNAVAILABLE:return ot.UNAVAILABLE;case Re.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Re.NOT_FOUND:return ot.NOT_FOUND;case Re.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Re.ABORTED:return ot.ABORTED;case Re.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Re.DATA_LOSS:return ot.DATA_LOSS;default:return Rt(39323,{code:r})}}($t=Re||(Re={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new ys([4294967295,4294967295],0);function qT(r){const t=JO().encode(r),e=new kS;return e.update(t),new Uint8Array(e.digest())}function FT(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ys([e,s],0),new ys([o,u],0)]}class jg{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new _u(`Invalid padding: ${e}`);if(s<0)throw new _u(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new _u(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ys.fromNumber(this.ge)}ye(t,e,s){let o=t.add(e.multiply(ys.fromNumber(s)));return o.compare(tN)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=qT(t),[s,o]=FT(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new jg(u,o,e);return s.forEach((d=>f.insert(d))),f}insert(t){if(this.ge===0)return;const e=qT(t),[s,o]=FT(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e,s,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Xu.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Lh(Nt.min(),o,new de(zt),wi(),Ht())}}class Xu{constructor(t,e,s,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Xu(s,e,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t,e,s,o){this.be=t,this.removedTargetIds=e,this.key=s,this.De=o}}class TA{constructor(t,e){this.targetId=t,this.Ce=e}}class SA{constructor(t,e,s=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class GT{constructor(){this.ve=0,this.Fe=$T(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),e=Ht(),s=Ht();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Rt(38017,{changeType:u})}})),new Xu(this.Me,this.xe,t,e,s)}qe(){this.Oe=!1,this.Fe=$T()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eN{constructor(t){this.Ge=t,this.ze=new Map,this.je=wi(),this.Je=Pf(),this.He=Pf(),this.Ye=new de(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,s=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(qp(u))if(s===0){const f=new St(u.path);this.et(e,f,fn.newNoDocument(f,Nt.min()))}else Wt(s===1,20013,{expectedCount:s});else{const f=this._t(e);if(f!==s){const d=this.ut(t),p=d?this.ct(d,t,f):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=e;let f,d;try{f=As(s).toUint8Array()}catch(p){if(p instanceof KS)return Po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new jg(f,o,u)}catch(p){return Po(p instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),d=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,f)=>{const d=this.ot(f);if(d){if(u.current&&qp(d.target)){const p=new St(d.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,fn.newNoDocument(p,t))}u.Be&&(e.set(f,u.ke()),u.qe())}}));let s=Ht();this.He.forEach(((u,f)=>{let d=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Lh(t,e,this.Ye,this.je,s);return this.je=wi(),this.Je=Pf(),this.He=Pf(),this.Ye=new de(zt),o}Xe(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,s),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new GT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Pe(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Pe(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||mt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new GT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Pf(){return new de(St.comparator)}function $T(){return new de(St.comparator)}const nN={asc:"ASCENDING",desc:"DESCENDING"},rN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iN={and:"AND",or:"OR"};class sN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Gp(r,t){return r.useProto3Json||Nh(t)?t:{value:t}}function ch(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function aN(r,t){return ch(r,t.toTimestamp())}function Vr(r){return Wt(!!r,49232),Nt.fromTimestamp((function(e){const s=Ss(e);return new oe(s.seconds,s.nanos)})(r))}function Bg(r,t){return $p(r,t).canonicalString()}function $p(r,t){const e=(function(o){return new ue(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?e:e.child(t)}function bA(r){const t=ue.fromString(r);return Wt(OA(t),10190,{key:t.toString()}),t}function Kp(r,t){return Bg(r.databaseId,t.path)}function pp(r,t){const e=bA(t);if(e.get(1)!==r.databaseId.projectId)throw new yt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new yt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new St(RA(e))}function wA(r,t){return Bg(r.databaseId,t)}function oN(r){const t=bA(r);return t.length===4?ue.emptyPath():RA(t)}function Yp(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function RA(r){return Wt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function KT(r,t,e){return{name:Kp(r,t),fields:e.value.mapValue.fields}}function lN(r,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Rt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Wt(v===void 0||typeof v=="string",58123),tn.fromBase64String(v||"")):(Wt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),tn.fromUint8Array(v||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,d=f&&(function(g){const v=g.code===void 0?ot.UNKNOWN:EA(g.code);return new yt(v,g.message||"")})(f);e=new SA(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=pp(r,s.document.name),u=Vr(s.document.updateTime),f=s.document.createTime?Vr(s.document.createTime):Nt.min(),d=new An({mapValue:{fields:s.document.fields}}),p=fn.newFoundDocument(o,u,f,d),g=s.targetIds||[],v=s.removedTargetIds||[];e=new Kf(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=pp(r,s.document),u=s.readTime?Vr(s.readTime):Nt.min(),f=fn.newNoDocument(o,u),d=s.removedTargetIds||[];e=new Kf([],d,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=pp(r,s.document),u=s.removedTargetIds||[];e=new Kf([],u,o,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new WO(o,u),d=s.targetId;e=new TA(d,f)}}return e}function uN(r,t){let e;if(t instanceof Qu)e={update:KT(r,t.key,t.value)};else if(t instanceof _A)e={delete:Kp(r,t.key)};else if(t instanceof Ds)e={update:KT(r,t.key,t.data),updateMask:vN(t.fieldMask)};else{if(!(t instanceof YO))return Rt(16599,{Vt:t.type});e={verify:Kp(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const d=f.transform;if(d instanceof lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uh)return{fieldPath:f.field.canonicalString(),increment:d.Ae};throw Rt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:aN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Rt(27497)})(r,t.precondition)),e}function cN(r,t){return r&&r.length>0?(Wt(t!==void 0,14353),r.map((e=>(function(o,u){let f=o.updateTime?Vr(o.updateTime):Vr(u);return f.isEqual(Nt.min())&&(f=Vr(u)),new GO(f,o.transformResults||[])})(e,t)))):[]}function fN(r,t){return{documents:[wA(r,t.path)]}}function hN(r,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=wA(r,o);const u=(function(g){if(g.length!==0)return IA(Hr.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:Co(S.field),direction:pN(S.dir)}})(v)))})(t.orderBy);f&&(e.structuredQuery.orderBy=f);const d=Gp(r,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function dN(r){let t=oN(r.parent);const e=r.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){Wt(s===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(T){const S=CA(T);return S instanceof Hr&&rA(S)?S.getFilters():[S]})(e.where));let f=[];e.orderBy&&(f=(function(T){return T.map((S=>(function(L){return new oh(Io(L.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(S)))})(e.orderBy));let d=null;e.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,Nh(S)?null:S})(e.limit));let p=null;e.startAt&&(p=(function(T){const S=!!T.before,I=T.values||[];return new ah(I,S)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const S=!T.before,I=T.values||[];return new ah(I,S)})(e.endAt)),DO(t,o,f,u,d,"F",p,g)}function mN(r,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function CA(r){return r.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Io(e.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Io(e.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Io(e.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Io(e.unaryFilter.field);return Ve.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(r):r.fieldFilter!==void 0?(function(e){return Ve.create(Io(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(e){return Hr.create(e.compositeFilter.filters.map((s=>CA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(e.compositeFilter.op))})(r):Rt(30097,{filter:r})}function pN(r){return nN[r]}function gN(r){return rN[r]}function yN(r){return iN[r]}function Co(r){return{fieldPath:r.canonicalString()}}function Io(r){return Je.fromServerFormat(r.fieldPath)}function IA(r){return r instanceof Ve?(function(e){if(e.op==="=="){if(VT(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NAN"}};if(MT(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(VT(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NOT_NAN"}};if(MT(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(e.field),op:gN(e.op),value:e.value}}})(r):r instanceof Hr?(function(e){const s=e.getFilters().map((o=>IA(o)));return s.length===1?s[0]:{compositeFilter:{op:yN(e.op),filters:s}}})(r):Rt(54877,{filter:r})}function vN(r){const t=[];return r.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function OA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t,e,s,o,u=Nt.min(),f=Nt.min(),d=tn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new ds(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.yt=t}}function EN(r){const t=dN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Fp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Cn=new SN}addToCollectionParentIndex(t,e){return this.Cn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(Ts.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(Ts.min())}updateCollectionGroup(t,e,s){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class SN{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new Pe(ue.comparator),u=!o.has(s);return this.index[e]=o.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Pe(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NA=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(NA,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Bo(0)}static cr(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="LruGarbageCollector",AN=1048576;function XT([r,t],[e,s]){const o=zt(r,e);return o===0?zt(t,s):o}class bN{constructor(t){this.Ir=t,this.buffer=new Pe(XT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();XT(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class wN{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){mt(QT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Jo(e)?mt(QT,"Ignoring IndexedDB error during garbage collection: ",e):await Zo(e)}await this.Vr(3e5)}))}}class RN{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(Oh.ce);const s=new bN(e);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.mr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(YT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let s,o,u,f,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,d=Date.now(),this.removeTargets(t,s,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),wo()<=Bt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function CN(r,t){return new RN(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.changes=new Ia((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?rt.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(s!==null&&Ru(s.mutation,o,Pn.empty(),oe.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,Ht()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=Ht()){const o=ga();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,s).next((u=>{let f=vu();return u.forEach(((d,p)=>{f=f.insert(d,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,e){const s=ga();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,Ht())))}populateOverlays(t,e,s){const o=[];return s.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,d)=>{e.set(f,d)}))}))}computeViews(t,e,s,o){let u=wi();const f=wu(),d=(function(){return wu()})();return e.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ds)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Ru(v.mutation,g,v.mutation.getFieldMask(),oe.now())):f.set(g.key,Pn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>f.set(g,v))),e.forEach(((g,v)=>d.set(g,new ON(v,f.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=wu();let o=new de(((f,d)=>f-d)),u=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((f=>{for(const d of f)d.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let v=s.get(p)||Pn.empty();v=d.applyToLocalView(g,v),s.set(p,v);const T=(o.get(d.batchId)||Ht()).add(p);o=o.insert(d.batchId,T)}))})).next((()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,T=fA();v.forEach((S=>{if(!u.has(S)){const I=yA(e.get(S),s.get(S));I!==null&&T.set(S,I),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return rt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,o){return(function(f){return St.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):xO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-u.size):rt.resolve(ga());let d=xu,p=u;return f.next((g=>rt.forEach(g,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(v)?rt.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ht()))).next((v=>({batchId:d,changes:cA(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new St(e)).next((s=>{let o=vu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const u=e.collectionGroup;let f=vu();return this.indexManager.getCollectionParents(t,u).next((d=>rt.forEach(d,(p=>{const g=(function(T,S){return new xh(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((T,S)=>{f=f.insert(T,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,e,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,fn.newInvalidDocument(v)))}));let d=vu();return f.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Ru(v.mutation,g,Pn.empty(),oe.now()),Vh(e,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return rt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Vr(o.createTime)}})(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:EN(o.bundledQuery),readTime:Vr(o.readTime)}})(e)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.overlays=new de(St.comparator),this.qr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const s=ga();return rt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((o,u)=>{this.St(t,e,u)})),rt.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),rt.resolve()}getOverlaysForCollection(t,e,s){const o=ga(),u=e.length+1,f=new St(e.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let u=new de(((g,v)=>g-v));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ga(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ga(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return rt.resolve(d)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new XO(e,s));let u=this.qr.get(e);u===void 0&&(u=Ht(),this.qr.set(e,u)),this.qr.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this.Qr=new Pe(qe.$r),this.Ur=new Pe(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const s=new qe(t,e);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Gr(new qe(t,e))}zr(t,e){t.forEach((s=>this.removeReference(s,e)))}jr(t){const e=new St(new ue([])),s=new qe(e,t),o=new qe(e,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new St(new ue([])),s=new qe(e,t),o=new qe(e,t+1);let u=Ht();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const e=new qe(t,0),s=this.Qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return St.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||St.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(qe.$r)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new QO(u,e,s,o);this.mutationQueue.push(f);for(const d of o)this.Zr=this.Zr.add(new qe(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return rt.resolve(f)}lookupMutationBatch(t,e){return rt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ei(s),u=o<0?0:o;return rt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Dg:this.tr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new qe(e,0),o=new qe(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const d=this.Xr(f.Yr);u.push(d)})),rt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Pe(zt);return e.forEach((o=>{const u=new qe(o,0),f=new qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(d=>{s=s.add(d.Yr)}))})),rt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let u=s;St.isDocumentKey(u)||(u=u.child(""));const f=new qe(new St(u),0);let d=new Pe(zt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),f),rt.resolve(this.ti(d))}ti(t){const e=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Wt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return rt.forEach(e.mutations,(o=>{const u=new qe(o.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,e){const s=new qe(e,0),o=this.Zr.firstAfterOrEqual(s);return rt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t){this.ri=t,this.docs=(function(){return new de(St.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return rt.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(e))}getEntries(t,e){let s=wi();return e.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),rt.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let u=wi();const f=e.path,d=new St(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||uO(lO(v),s)<=0||(o.has(v.key)||Vh(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return rt.resolve(u)}getAllFromCollectionGroup(t,e,s,o){Rt(9500)}ii(t,e){return rt.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new PN(this)}getSize(t){return rt.resolve(this.size)}}class PN extends IN{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),rt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t){this.persistence=t,this.si=new Ia((e=>Vg(e)),kg),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new zg,this.targetCount=0,this.ai=Bo.ur()}forEachTarget(t,e){return this.si.forEach(((s,o)=>e(o))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.oi&&(this.oi=e),rt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Bo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.Pr(e),rt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,s){let o=0;const u=[];return this.si.forEach(((f,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),rt.waitFor(u).next((()=>o))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const s=this.si.get(e)||null;return rt.resolve(s)}addMatchingKeys(t,e,s){return this._i.Wr(e,s),rt.resolve()}removeMatchingKeys(t,e,s){this._i.zr(e,s);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),rt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const s=this._i.Hr(e);return rt.resolve(s)}containsKey(t,e){return rt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t,e){this.ui={},this.overlays={},this.ci=new Oh(0),this.li=!1,this.li=!0,this.hi=new MN,this.referenceDelegate=t(this),this.Pi=new LN(this),this.indexManager=new TN,this.remoteDocumentCache=(function(o){return new kN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new _N(e),this.Ii=new DN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new xN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ui[t.toKey()];return s||(s=new VN(e,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,s){mt("MemoryPersistence","Starting transaction:",t);const o=new UN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return rt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,e))))}}class UN extends fO{constructor(t){super(),this.currentSequenceNumber=t}}class Hg{constructor(t){this.persistence=t,this.Ri=new zg,this.Vi=null}static mi(t){return new Hg(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.fi.delete(s.toString()),rt.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.fi.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.fi,(s=>{const o=St.fromPath(s);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Nt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((s=>{s?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return rt.or([()=>rt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class fh{constructor(t,e){this.persistence=t,this.pi=new Ia((s=>mO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=CN(this,e)}static mi(t,e){return new fh(t,e)}Ei(){}di(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((o=>s+o))))}wr(t){let e=0;return this.pr(t,(s=>{e++})).next((()=>e))}pr(t,e){return rt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?rt.resolve():e(o)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,e).next((d=>{d||(s++,u.removeEntry(f,Nt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),rt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ff(t.data.value)),e}br(t,e,s){return rt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return rt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.Es=s,this.ds=o}static As(t,e){let s=Ht(),o=Ht();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qg(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xC()?8:hO(dn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,o){const u={result:null};return this.ys(t,e).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,e,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new jN;return this.Ss(t,e,f).next((d=>{if(u.result=d,this.Vs)return this.bs(t,e,f,d.size)}))})).next((()=>u.result))}bs(t,e,s,o){return s.documentReadCount<this.fs?(wo()<=Bt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Ro(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),rt.resolve()):(wo()<=Bt.DEBUG&&mt("QueryEngine","Query:",Ro(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(wo()<=Bt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Ro(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xr(e))):rt.resolve())}ys(t,e){if(UT(e))return rt.resolve(null);let s=xr(e);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Fp(e,null,"F"),s=xr(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Ht(...u);return this.ps.getDocuments(t,f).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(e,d);return this.Cs(e,g,f,p.readTime)?this.ys(t,Fp(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,s,o){return UT(e)||o.isEqual(Nt.min())?rt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(e,u);return this.Cs(e,f,s,o)?rt.resolve(null):(wo()<=Bt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(e)),this.vs(t,f,e,oO(o,xu)).next((d=>d)))}))}Ds(t,e){let s=new Pe(lA(t));return e.forEach(((o,u)=>{Vh(t,u)&&(s=s.add(u))})),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,s){return wo()<=Bt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Ro(e)),this.ps.getDocumentsMatchingQuery(t,e,Ts.min(),s)}vs(t,e,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(e.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="LocalStore",zN=3e8;class HN{constructor(t,e,s,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new de(zt),this.xs=new Ia((u=>Vg(u)),kg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new NN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function qN(r,t,e,s){return new HN(r,t,e,s)}async function xA(r,t){const e=Dt(r);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],d=[];let p=Ht();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:d})))}))}))}function FN(r,t){const e=Dt(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const T=g.batch,S=T.keys();let I=rt.resolve();return S.forEach((L=>{I=I.next((()=>v.getEntry(p,L))).next((H=>{const P=g.docVersions.get(L);Wt(P!==null,48541),H.version.compareTo(P)<0&&(T.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(e,s,t,u).next((()=>u.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Ht();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(s,o)))}))}function MA(r){const t=Dt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function GN(r,t){const e=Dt(r),s=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach(((v,T)=>{const S=o.get(T);if(!S)return;d.push(e.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>e.Pi.addMatchingKeys(u,v.addedDocuments,T))));let I=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?I=I.withResumeToken(tn.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,s)),o=o.insert(T,I),(function(H,P,Z){return H.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=zN?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(S,I,v)&&d.push(e.Pi.updateTargetData(u,I))}));let p=wi(),g=Ht();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push($N(u,f,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Nt.min())){const v=e.Pi.getLastRemoteSnapshotVersion(u).next((T=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(v)}return rt.waitFor(d).next((()=>f.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function $N(r,t,e){let s=Ht(),o=Ht();return e.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=wi();return e.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Nt.min())?(t.removeEntry(d,p.readTime),f=f.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(d,p)):mt(Fg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function KN(r,t){const e=Dt(r);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Dg),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function YN(r,t){const e=Dt(r);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return e.Pi.getTargetData(s,t).next((u=>u?(o=u,rt.resolve(o)):e.Pi.allocateTargetId(s).next((f=>(o=new ds(t,f,"TargetPurposeListen",s.currentSequenceNumber),e.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=e.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(s.targetId,s),e.xs.set(t,s.targetId)),s}))}async function Qp(r,t,e){const s=Dt(r),o=s.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Jo(f))throw f;mt(Fg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function WT(r,t,e){const s=Dt(r);let o=Nt.min(),u=Ht();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,v){const T=Dt(p),S=T.xs.get(v);return S!==void 0?rt.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,v)})(s,f,xr(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,e?o:Nt.min(),e?u:Ht()))).next((d=>(QN(s,VO(t),d),{documents:d,Qs:u})))))}function QN(r,t,e){let s=r.Os.get(t)||Nt.min();e.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class ZT{constructor(){this.activeTargetIds=BO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XN{constructor(){this.Mo=new ZT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,s){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ZT,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="ConnectivityMonitor";class t0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(JT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){mt(JT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf=null;function Xp(){return Lf===null?Lf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lf++,"0x"+Lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="RestConnection",ZN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,e,s,o,u){const f=Xp(),d=this.zo(t,e.toUriEncodedString());mt(gp,`Sending RPC '${t}' ${f}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),v=Qo(g);return this.Jo(t,d,p,s,v).then((T=>(mt(gp,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw Po(gp,`RPC '${t}' ${f} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(t,e,s,o,u,f){return this.Go(t,e,s,o,u)}jo(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const s=ZN[t];return`${this.Uo}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class eD extends JN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,u){const f=Xp();return new Promise(((d,p)=>{const g=new PS;g.setWithCredentials(!0),g.listenOnce(LS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case qf.NO_ERROR:const T=g.getResponseJson();mt(un,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),d(T);break;case qf.TIMEOUT:mt(un,`RPC '${t}' ${f} timed out`),p(new yt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const S=g.getStatus();if(mt(un,`RPC '${t}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const L=I?.error;if(L&&L.status&&L.message){const H=(function(Z){const X=Z.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(X)>=0?X:ot.UNKNOWN})(L.status);p(new yt(H,L.message))}else p(new yt(ot.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new yt(ot.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{mt(un,`RPC '${t}' ${f} completed.`)}}));const v=JSON.stringify(o);mt(un,`RPC '${t}' ${f} sending request:`,o),g.send(e,"POST",v,s,15)}))}T_(t,e,s){const o=Xp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=BS(),d=jS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const v=u.join("");mt(un,`Creating RPC '${t}' stream ${o}: ${v}`,p);const T=f.createWebChannel(v,p);this.I_(T);let S=!1,I=!1;const L=new tD({Yo:P=>{I?mt(un,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(S||(mt(un,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),mt(un,`RPC '${t}' stream ${o} sending:`,P),T.send(P))},Zo:()=>T.close()}),H=(P,Z,X)=>{P.listen(Z,(Y=>{try{X(Y)}catch(W){setTimeout((()=>{throw W}),0)}}))};return H(T,yu.EventType.OPEN,(()=>{I||(mt(un,`RPC '${t}' stream ${o} transport opened.`),L.o_())})),H(T,yu.EventType.CLOSE,(()=>{I||(I=!0,mt(un,`RPC '${t}' stream ${o} transport closed`),L.a_(),this.E_(T))})),H(T,yu.EventType.ERROR,(P=>{I||(I=!0,Po(un,`RPC '${t}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),L.a_(new yt(ot.UNAVAILABLE,"The operation could not be completed")))})),H(T,yu.EventType.MESSAGE,(P=>{if(!I){const Z=P.data[0];Wt(!!Z,16349);const X=Z,Y=X?.error||X[0]?.error;if(Y){mt(un,`RPC '${t}' stream ${o} received error:`,Y);const W=Y.status;let it=(function(R){const O=Re[R];if(O!==void 0)return EA(O)})(W),at=Y.message;it===void 0&&(it=ot.INTERNAL,at="Unknown error status: "+W+" with message "+Y.message),I=!0,L.a_(new yt(it,at)),T.close()}else mt(un,`RPC '${t}' stream ${o} received:`,Z),L.u_(Z)}})),H(d,US.STAT_EVENT,(P=>{P.stat===Up.PROXY?mt(un,`RPC '${t}' stream ${o} detected buffering proxy`):P.stat===Up.NOPROXY&&mt(un,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(r){return new sN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t,e,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-s);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="PersistentStream";class kA{constructor(t,e,s,o,u,f,d,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ot.RESOURCE_EXHAUSTED?(bi(e.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===e&&this.G_(s,o)}),(s=>{t((()=>{const o=new yt(ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,e){const s=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(e0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(mt(e0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nD extends kA{constructor(t,e,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,f),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=lN(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Nt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Nt.min():f.readTime?Vr(f.readTime):Nt.min()})(t);return this.listener.H_(e,s)}Y_(t){const e={};e.database=Yp(this.serializer),e.addTarget=(function(u,f){let d;const p=f.target;if(d=qp(p)?{documents:fN(u,p)}:{query:hN(u,p).ft},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=AA(u,f.resumeToken);const g=Gp(u,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(Nt.min())>0){d.readTime=ch(u,f.snapshotVersion.toTimestamp());const g=Gp(u,f.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=mN(this.serializer,t);s&&(e.labels=s),this.q_(e)}Z_(t){const e={};e.database=Yp(this.serializer),e.removeTarget=t,this.q_(e)}}class rD extends kA{constructor(t,e,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=cN(t.writeResults,t.commitTime),s=Vr(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=Yp(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>uN(this.serializer,s)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{}class sD extends iD{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,$p(e,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(ot.UNKNOWN,u.toString())}))}Ho(t,e,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Ho(t,$p(e,s),o,f,d,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(ot.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(e),this.aa=!1):mt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class oD{constructor(t,e,s,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Oa(this)&&(mt(wa,"Restarting streams for network reachability change."),await(async function(p){const g=Dt(p);g.Ea.add(4),await Wu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await jh(g)})(this))}))})),this.Ra=new aD(s,o)}}async function jh(r){if(Oa(r))for(const t of r.da)await t(!0)}async function Wu(r){for(const t of r.da)await t(!1)}function PA(r,t){const e=Dt(r);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Yg(e)?Kg(e):tl(e).O_()&&$g(e,t))}function Gg(r,t){const e=Dt(r),s=tl(e);e.Ia.delete(t),s.O_()&&LA(e,t),e.Ia.size===0&&(s.O_()?s.L_():Oa(e)&&e.Ra.set("Unknown"))}function $g(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}tl(r).Y_(t)}function LA(r,t){r.Va.Ue(t),tl(r).Z_(t)}function Kg(r){r.Va=new eN({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),tl(r).start(),r.Ra.ua()}function Yg(r){return Oa(r)&&!tl(r).x_()&&r.Ia.size>0}function Oa(r){return Dt(r).Ea.size===0}function UA(r){r.Va=void 0}async function lD(r){r.Ra.set("Online")}async function uD(r){r.Ia.forEach(((t,e)=>{$g(r,t)}))}async function cD(r,t){UA(r),Yg(r)?(r.Ra.ha(t),Kg(r)):r.Ra.set("Unknown")}async function fD(r,t,e){if(r.Ra.set("Online"),t instanceof SA&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o.Ia.delete(d),o.Va.removeTarget(d))})(r,t)}catch(s){mt(wa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await hh(r,s)}else if(t instanceof Kf?r.Va.Ze(t):t instanceof TA?r.Va.st(t):r.Va.tt(t),!e.isEqual(Nt.min()))try{const s=await MA(r.localStore);e.compareTo(s)>=0&&await(function(u,f){const d=u.Va.Tt(f);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,f))}})),d.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),LA(u,p);const T=new ds(v.target,p,g,v.sequenceNumber);$g(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(r,e)}catch(s){mt(wa,"Failed to raise snapshot:",s),await hh(r,s)}}async function hh(r,t,e){if(!Jo(t))throw t;r.Ea.add(1),await Wu(r),r.Ra.set("Offline"),e||(e=()=>MA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{mt(wa,"Retrying IndexedDB access"),await e(),r.Ea.delete(1),await jh(r)}))}function jA(r,t){return t().catch((e=>hh(r,e,t)))}async function Bh(r){const t=Dt(r),e=ws(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dg;for(;hD(t);)try{const o=await KN(t.localStore,s);if(o===null){t.Ta.length===0&&e.L_();break}s=o.batchId,dD(t,o)}catch(o){await hh(t,o)}BA(t)&&zA(t)}function hD(r){return Oa(r)&&r.Ta.length<10}function dD(r,t){r.Ta.push(t);const e=ws(r);e.O_()&&e.X_&&e.ea(t.mutations)}function BA(r){return Oa(r)&&!ws(r).x_()&&r.Ta.length>0}function zA(r){ws(r).start()}async function mD(r){ws(r).ra()}async function pD(r){const t=ws(r);for(const e of r.Ta)t.ea(e.mutations)}async function gD(r,t,e){const s=r.Ta.shift(),o=Ug.from(s,t,e);await jA(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Bh(r)}async function yD(r,t){t&&ws(r).X_&&await(async function(s,o){if((function(f){return ZO(f)&&f!==ot.ABORTED})(o.code)){const u=s.Ta.shift();ws(s).B_(),await jA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Bh(s)}})(r,t),BA(r)&&zA(r)}async function n0(r,t){const e=Dt(r);e.asyncQueue.verifyOperationInProgress(),mt(wa,"RemoteStore received new credentials");const s=Oa(e);e.Ea.add(3),await Wu(e),s&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await jh(e)}async function vD(r,t){const e=Dt(r);t?(e.Ea.delete(2),await jh(e)):t||(e.Ea.add(2),await Wu(e),e.Ra.set("Unknown"))}function tl(r){return r.ma||(r.ma=(function(e,s,o){const u=Dt(e);return u.sa(),new nD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:lD.bind(null,r),t_:uD.bind(null,r),r_:cD.bind(null,r),H_:fD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Yg(r)?Kg(r):r.Ra.set("Unknown")):(await r.ma.stop(),UA(r))}))),r.ma}function ws(r){return r.fa||(r.fa=(function(e,s,o){const u=Dt(e);return u.sa(),new rD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:mD.bind(null,r),r_:yD.bind(null,r),ta:pD.bind(null,r),na:gD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Bh(r)):(await r.fa.stop(),r.Ta.length>0&&(mt(wa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(t,e,s,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,u){const f=Date.now()+s,d=new Qg(t,e,f,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(r,t){if(bi("AsyncQueue",`${t}: ${r}`),Jo(r))return new yt(ot.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(t){return new No(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||St.comparator(e.key,s.key):(e,s)=>St.comparator(e.key,s.key),this.keyedMap=vu(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof No)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new No;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.ga=new de(St.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class zo{constructor(t,e,s,o,u,f,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,u){const f=[];return e.forEach((d=>{f.push({type:0,doc:d})})),new zo(t,e,No.emptySet(e),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class ED{constructor(){this.queries=i0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=Dt(e),u=o.queries;o.queries=i0(),u.forEach(((f,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new yt(ot.ABORTED,"Firestore shutting down"))}}function i0(){return new Ia((r=>oA(r)),Mh)}async function HA(r,t){const e=Dt(r);let s=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new _D,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(f){const d=Xg(f,`Initialization of query '${Ro(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Wg(e)}async function qA(r,t){const e=Dt(r),s=t.query;let o=3;const u=e.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function TD(r,t){const e=Dt(r);let s=!1;for(const o of t){const u=o.query,f=e.queries.get(u);if(f){for(const d of f.Sa)d.Fa(o)&&(s=!0);f.wa=o}}s&&Wg(e)}function SD(r,t,e){const s=Dt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);s.queries.delete(t)}function Wg(r){r.Ca.forEach((t=>{t.next()}))}var Wp,s0;(s0=Wp||(Wp={})).Ma="default",s0.Cache="cache";class FA{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new zo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=zo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t){this.key=t}}class $A{constructor(t){this.key=t}}class AD{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=lA(t),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(t,e){const s=e?e.iu:new r0,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,f=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const S=o.get(v),I=Vh(this.query,T)?T:null,L=!!S&&this.mutatedKeys.has(S.key),H=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let P=!1;S&&I?S.data.isEqual(I.data)?L!==H&&(s.track({type:3,doc:I}),P=!0):this.su(S,I)||(s.track({type:2,doc:I}),P=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(d=!0)):!S&&I?(s.track({type:0,doc:I}),P=!0):S&&!I&&(s.track({type:1,doc:S}),P=!0,(p||g)&&(d=!0)),P&&(I?(f=f.add(I),u=H?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:f,iu:s,Cs:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((v,T)=>(function(I,L){const H=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:P})}};return H(I)-H(L)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const d=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new zo(this.query,t.tu,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ht(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const e=[];return t.forEach((s=>{this.Xa.has(s)||e.push(new $A(s))})),this.Xa.forEach((s=>{t.has(s)||e.push(new GA(s))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ht();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zg="SyncEngine";class bD{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class wD{constructor(t){this.key=t,this.hu=!1}}class RD{constructor(t,e,s,o,u,f){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ia((d=>oA(d)),Mh),this.Iu=new Map,this.Eu=new Set,this.du=new de(St.comparator),this.Au=new Map,this.Ru=new zg,this.Vu={},this.mu=new Map,this.fu=Bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CD(r,t,e=!0){const s=ZA(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await KA(s,t,e,!0),o}async function ID(r,t){const e=ZA(r);await KA(e,t,!0,!1)}async function KA(r,t,e,s){const o=await YN(r.localStore,xr(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await OD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&e&&PA(r.remoteStore,o),d}async function OD(r,t,e,s,o){r.pu=(T,S,I)=>(async function(H,P,Z,X){let Y=P.view.ru(Z);Y.Cs&&(Y=await WT(H.localStore,P.query,!1).then((({documents:D})=>P.view.ru(D,Y))));const W=X&&X.targetChanges.get(P.targetId),it=X&&X.targetMismatches.get(P.targetId)!=null,at=P.view.applyChanges(Y,H.isPrimaryClient,W,it);return o0(H,P.targetId,at.au),at.snapshot})(r,T,S,I);const u=await WT(r.localStore,t,!0),f=new AD(t,u.Qs),d=f.ru(u.documents),p=Xu.createSynthesizedTargetChangeForCurrentChange(e,s&&r.onlineState!=="Offline",o),g=f.applyChanges(d,r.isPrimaryClient,p);o0(r,e,g.au);const v=new bD(t,e,f);return r.Tu.set(t,v),r.Iu.has(e)?r.Iu.get(e).push(t):r.Iu.set(e,[t]),g.snapshot}async function ND(r,t,e){const s=Dt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Mh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),e&&Gg(s.remoteStore,o.targetId),Zp(s,o.targetId)})).catch(Zo)):(Zp(s,o.targetId),await Qp(s.localStore,o.targetId,!0))}async function DD(r,t){const e=Dt(r),s=e.Tu.get(t),o=e.Iu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Gg(e.remoteStore,s.targetId))}async function xD(r,t,e){const s=jD(r);try{const o=await(function(f,d){const p=Dt(f),g=oe.now(),v=d.reduce(((I,L)=>I.add(L.key)),Ht());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let L=wi(),H=Ht();return p.Ns.getEntries(I,v).next((P=>{L=P,L.forEach(((Z,X)=>{X.isValidDocument()||(H=H.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,L))).next((P=>{T=P;const Z=[];for(const X of d){const Y=KO(X,T.get(X.key).overlayedDocument);Y!=null&&Z.push(new Ds(X.key,Y,tA(Y.value.mapValue),Mr.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,Z,d)})).next((P=>{S=P;const Z=P.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(I,P.batchId,Z)}))})).then((()=>({batchId:S.batchId,changes:cA(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,d,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new de(zt)),g=g.insert(d,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,e),await Zu(s,o.changes),await Bh(s.remoteStore)}catch(o){const u=Xg(o,"Failed to persist write");e.reject(u)}}async function YA(r,t){const e=Dt(r);try{const s=await GN(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=e.Au.get(u);f&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Wt(f.hu,14607):o.removedDocuments.size>0&&(Wt(f.hu,42227),f.hu=!1))})),await Zu(e,s,t)}catch(s){await Zo(s)}}function a0(r,t,e){const s=Dt(r);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.Tu.forEach(((u,f)=>{const d=f.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(f,d){const p=Dt(f);p.onlineState=d;let g=!1;p.queries.forEach(((v,T)=>{for(const S of T.Sa)S.va(d)&&(g=!0)})),g&&Wg(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function MD(r,t,e){const s=Dt(r);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new de(St.comparator);f=f.insert(u,fn.newNoDocument(u,Nt.min()));const d=Ht().add(u),p=new Lh(Nt.min(),new Map,new de(zt),f,d);await YA(s,p),s.du=s.du.remove(u),s.Au.delete(t),Jg(s)}else await Qp(s.localStore,t,!1).then((()=>Zp(s,t,e))).catch(Zo)}async function VD(r,t){const e=Dt(r),s=t.batch.batchId;try{const o=await FN(e.localStore,t);XA(e,s,null),QA(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Zu(e,o)}catch(o){await Zo(o)}}async function kD(r,t,e){const s=Dt(r);try{const o=await(function(f,d){const p=Dt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(Wt(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);XA(s,t,e),QA(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Zu(s,o)}catch(o){await Zo(o)}}function QA(r,t){(r.mu.get(t)||[]).forEach((e=>{e.resolve()})),r.mu.delete(t)}function XA(r,t,e){const s=Dt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Zp(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),e&&r.Pu.yu(s,e);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||WA(r,s)}))}function WA(r,t){r.Eu.delete(t.path.canonicalString());const e=r.du.get(t);e!==null&&(Gg(r.remoteStore,e),r.du=r.du.remove(t),r.Au.delete(e),Jg(r))}function o0(r,t,e){for(const s of e)s instanceof GA?(r.Ru.addReference(s.key,t),PD(r,s)):s instanceof $A?(mt(Zg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||WA(r,s.key)):Rt(19791,{wu:s})}function PD(r,t){const e=t.key,s=e.path.canonicalString();r.du.get(e)||r.Eu.has(s)||(mt(Zg,"New document in limbo: "+e),r.Eu.add(s),Jg(r))}function Jg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const e=new St(ue.fromString(t)),s=r.fu.next();r.Au.set(s,new wD(e)),r.du=r.du.insert(e,s),PA(r.remoteStore,new ds(xr(Pg(e.path)),s,"TargetPurposeLimboResolution",Oh.ce))}}async function Zu(r,t,e){const s=Dt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{f.push(s.pu(p,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=qg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const v=Dt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>rt.forEach(g,(S=>rt.forEach(S.Es,(I=>v.persistence.referenceDelegate.addReference(T,S.targetId,I))).next((()=>rt.forEach(S.ds,(I=>v.persistence.referenceDelegate.removeReference(T,S.targetId,I)))))))))}catch(T){if(!Jo(T))throw T;mt(Fg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const I=v.Ms.get(S),L=I.snapshotVersion,H=I.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(S,H)}}})(s.localStore,u))}async function LD(r,t){const e=Dt(r);if(!e.currentUser.isEqual(t)){mt(Zg,"User change. New user:",t.toKey());const s=await xA(e.localStore,t);e.currentUser=t,(function(u,f){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new yt(ot.CANCELLED,f))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Zu(e,s.Ls)}}function UD(r,t){const e=Dt(r),s=e.Au.get(t);if(s&&s.hu)return Ht().add(s.key);{let o=Ht();const u=e.Iu.get(t);if(!u)return o;for(const f of u){const d=e.Tu.get(f);o=o.unionWith(d.view.nu)}return o}}function ZA(r){const t=Dt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MD.bind(null,t),t.Pu.H_=TD.bind(null,t.eventManager),t.Pu.yu=SD.bind(null,t.eventManager),t}function jD(r){const t=Dt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kD.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return qN(this.persistence,new BN,t.initialUser,this.serializer)}Cu(t){return new DA(Hg.mi,this.serializer)}Du(t){return new XN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class BD extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Wt(this.persistence.referenceDelegate instanceof fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new wN(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new DA((s=>fh.mi(s,e)),this.serializer)}}class Jp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>a0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LD.bind(null,this.syncEngine),await vD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ED})()}createDatastore(t){const e=Uh(t.databaseInfo.databaseId),s=(function(u){return new eD(u)})(t.databaseInfo);return(function(u,f,d,p){return new sD(u,f,d,p)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,o,u,f,d){return new oD(s,o,u,f,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>a0(this.syncEngine,e,0)),(function(){return t0.v()?new t0:new WN})())}createSyncEngine(t,e){return(function(o,u,f,d,p,g,v){const T=new RD(o,u,f,d,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=Dt(e);mt(wa,"RemoteStore shutting down."),s.Ea.add(5),await Wu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jp.provider={build:()=>new Jp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):bi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class zD{constructor(t,e,s,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{mt(Rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(mt(Rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=Xg(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function vp(r,t){r.asyncQueue.verifyOperationInProgress(),mt(Rs,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let s=e.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await xA(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function l0(r,t){r.asyncQueue.verifyOperationInProgress();const e=await HD(r);mt(Rs,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener((s=>n0(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>n0(t.remoteStore,o))),r._onlineComponents=t}async function HD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){mt(Rs,"Using user provided OfflineComponentProvider");try{await vp(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Po("Error using user provided cache. Falling back to memory cache: "+e),await vp(r,new dh)}}else mt(Rs,"Using default OfflineComponentProvider"),await vp(r,new BD(void 0));return r._offlineComponents}async function tb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(mt(Rs,"Using user provided OnlineComponentProvider"),await l0(r,r._uninitializedComponentsProvider._online)):(mt(Rs,"Using default OnlineComponentProvider"),await l0(r,new Jp))),r._onlineComponents}function qD(r){return tb(r).then((t=>t.syncEngine))}async function tg(r){const t=await tb(r),e=t.eventManager;return e.onListen=CD.bind(null,t.syncEngine),e.onUnlisten=ND.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=ID.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=DD.bind(null,t.syncEngine),e}function FD(r,t,e={}){const s=new vs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,d,p,g){const v=new JA({next:S=>{v.Nu(),f.enqueueAndForget((()=>qA(u,T))),S.fromCache&&p.source==="server"?g.reject(new yt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new FA(d,v,{includeMetadataChanges:!0,qa:!0});return HA(u,T)})(await tg(r),r.asyncQueue,t,e,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firestore.googleapis.com",c0=!0;class f0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nb,this.ssl=c0}else this.host=t.host,this.ssl=t.ssl??c0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=NA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AN)throw new yt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zh{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new XI;switch(s.type){case"firstParty":return new tO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=u0.get(e);s&&(mt("ComponentProvider","Removing Datastore"),u0.delete(e),s.terminate())})(this),Promise.resolve()}}function GD(r,t,e,s={}){r=Ti(r,zh);const o=Qo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},d=`${t}:${e}`;o&&(CS(`https://${d}`),IS("Firestore",!0)),u.host!==nb&&u.host!==d&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!Sa(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=cn.MOCK_USER;else{g=AC(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new yt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(T)}r._authCredentials=new WI(new HS(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ju(this.firestore,t,this._query)}}class ke{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(Yu(e,ke._jsonSchema))return new ke(t,s||null,new St(ue.fromString(e.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Ce("string",ke._jsonSchemaVersion),referencePath:Ce("string")};class _s extends Ju{constructor(t,e,s){super(t,e,Pg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new St(t))}withConverter(t){return new _s(this.firestore,t,this._path)}}function Ho(r,t,...e){if(r=Fe(r),qS("collection","path",t),r instanceof zh){const s=ue.fromString(t,...e);return wT(s),new _s(r,null,s)}{if(!(r instanceof ke||r instanceof _s))throw new yt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ue.fromString(t,...e));return wT(s),new _s(r.firestore,null,s)}}function mh(r,t,...e){if(r=Fe(r),arguments.length===1&&(t=Og.newId()),qS("doc","path",t),r instanceof zh){const s=ue.fromString(t,...e);return bT(s),new ke(r,null,new St(s))}{if(!(r instanceof ke||r instanceof _s))throw new yt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ue.fromString(t,...e));return bT(s),new ke(r.firestore,r instanceof _s?r.converter:null,new St(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="AsyncQueue";class d0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VA(this,"async_queue_retry"),this._c=()=>{const s=yp();s&&mt(h0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=yp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=yp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Jo(t))throw t;mt(h0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",m0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Qg.createAndSchedule(this,t,e,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Rt(47125,{Pc:m0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function m0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(r){return(function(e,s){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class qo extends zh{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new d0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new d0(t),this._firestoreClient=void 0,await t}}}function $D(r,t){const e=typeof r=="object"?r:xS(),s=typeof r=="string"?r:ih,o=Cg(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=TC("firestore");u&&GD(o,...u)}return o}function ty(r){if(r._terminated)throw new yt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KD(r),r._firestoreClient}function KD(r){const t=r._freezeSettings(),e=(function(o,u,f,d){return new yO(o,u,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,eb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new zD(r._authCredentials,r._appCheckCredentials,r._queue,e,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jn(tn.fromBase64String(t))}catch(e){throw new yt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Jn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yu(t,Jn._jsonSchema))return Jn.fromBase64String(t.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Ce("string",Jn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(t){if(Yu(t,kr._jsonSchema))return new kr(t.latitude,t.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:Ce("string",kr._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yu(t,Pr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Pr(t.vectorValues);throw new yt(ot.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pr._jsonSchemaVersion="firestore/vectorValue/1.0",Pr._jsonSchema={type:Ce("string",Pr._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=/^__.*__$/;class QD{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Ds(t,this.data,this.fieldMask,e,this.fieldTransforms):new Qu(t,this.data,e,this.fieldTransforms)}}class rb{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Ds(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ib(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:r})}}class ny{constructor(t,e,s,o,u,f){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ny({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.gc(t),s}yc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ph(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ib(this.Ac)&&YD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class XD{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Uh(t)}Cc(t,e,s,o=!1){return new ny({Ac:t,methodName:e,Dc:s,path:Je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sb(r){const t=r._freezeSettings(),e=Uh(r._databaseId);return new XD(r._databaseId,!!t.ignoreUndefinedProperties,e)}function WD(r,t,e,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,e,o);ry("Data must be an object, but it was:",f,s);const d=ab(s,f);let p,g;if(u.merge)p=new Pn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const S=eg(t,T,e);if(!f.contains(S))throw new yt(ot.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);lb(v,S)||v.push(S)}p=new Pn(v),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new QD(new An(d),p,g)}class qh extends ey{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qh}}function ZD(r,t,e,s){const o=r.Cc(1,t,e);ry("Data must be an object, but it was:",o,s);const u=[],f=An.empty();Ns(s,((p,g)=>{const v=iy(t,p,e);g=Fe(g);const T=o.yc(v);if(g instanceof qh)u.push(v);else{const S=Fh(g,T);S!=null&&(u.push(v),f.set(v,S))}}));const d=new Pn(u);return new rb(f,d,o.fieldTransforms)}function JD(r,t,e,s,o,u){const f=r.Cc(1,t,e),d=[eg(t,s,e)],p=[o];if(u.length%2!=0)throw new yt(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(eg(t,u[S])),p.push(u[S+1]);const g=[],v=An.empty();for(let S=d.length-1;S>=0;--S)if(!lb(g,d[S])){const I=d[S];let L=p[S];L=Fe(L);const H=f.yc(I);if(L instanceof qh)g.push(I);else{const P=Fh(L,H);P!=null&&(g.push(I),v.set(I,P))}}const T=new Pn(g);return new rb(v,T,f.fieldTransforms)}function Fh(r,t){if(ob(r=Fe(r)))return ry("Unsupported field value:",t,r),ab(r,t);if(r instanceof ey)return(function(s,o){if(!ib(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const d of s){let p=Fh(d,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Fe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=oe.fromDate(s);return{timestampValue:ch(o.serializer,u)}}if(s instanceof oe){const u=new oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(s instanceof kr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:AA(o.serializer,s._byteString)};if(s instanceof ke){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Pr)return(function(f,d){return{mapValue:{fields:{[ZS]:{stringValue:JS},[sh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Lg(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ng(s)}`)})(r,t)}function ab(r,t){const e={};return $S(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ns(r,((s,o)=>{const u=Fh(o,t.mc(s));u!=null&&(e[s]=u)})),{mapValue:{fields:e}}}function ob(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof oe||r instanceof kr||r instanceof Jn||r instanceof ke||r instanceof ey||r instanceof Pr)}function ry(r,t,e){if(!ob(e)||!FS(e)){const s=Ng(e);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function eg(r,t,e){if((t=Fe(t))instanceof Hh)return t._internalPath;if(typeof t=="string")return iy(r,t);throw ph("Field path arguments must be of type string or ",r,!1,void 0,e)}const tx=new RegExp("[~\\*/\\[\\]]");function iy(r,t,e){if(t.search(tx)>=0)throw ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new Hh(...t.split("."))._internalPath}catch{throw ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function ph(r,t,e,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new yt(ot.INVALID_ARGUMENT,d+r+p)}function lb(r,t){return r.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,e,s,o,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(cb("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class ex extends ub{data(){return super.data()}}function cb(r,t){return typeof t=="string"?iy(r,t):t instanceof Hh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new yt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nx{convertValue(t,e="none"){switch(bs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(As(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Ns(t,((o,u)=>{s[o]=this.convertValue(u,e)})),s}convertVectorValue(t){const e=t.fields?.[sh].arrayValue?.values?.map((s=>Ee(s.doubleValue)));return new Pr(e)}convertGeoPoint(t){return new kr(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Dh(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Mu(t));default:return null}}convertTimestamp(t){const e=Ss(t);return new oe(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ue.fromString(t);Wt(OA(s),9688,{name:t});const o=new Vu(s.get(1),s.get(3)),u=new St(s.popFirst(5));return o.isEqual(e)||bi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(r,t,e){let s;return s=r?r.toFirestore(t):t,s}class Eu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class va extends ub{constructor(t,e,s,o,u,f){super(t,e,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(cb("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ot.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=va._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:Ce("string",va._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Yf extends va{data(t={}){return super.data(t)}}class _a{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new Yf(this._firestore,this._userDataWriter,s.key,s,new Eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((d=>{const p=new Yf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Eu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new Yf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Eu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),v=f.indexOf(d.doc.key)),{type:ix(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ot.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=_a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ix(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:r})}}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:Ce("string",_a._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class sy extends nx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,e)}}function ng(r){r=Ti(r,Ju);const t=Ti(r.firestore,qo),e=ty(t),s=new sy(t);return fb(r._query),FD(e,r._query).then((o=>new _a(t,s,r,o)))}function Gh(r,t,e,...s){r=Ti(r,ke);const o=Ti(r.firestore,qo),u=sb(o);let f;return f=typeof(t=Fe(t))=="string"||t instanceof Hh?JD(u,"updateDoc",r._key,t,e,s):ZD(u,"updateDoc",r._key,t),db(o,[f.toMutation(r._key,Mr.exists(!0))])}function hb(r,t){const e=Ti(r.firestore,qo),s=mh(r),o=rx(r.converter,t);return db(e,[WD(sb(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Mr.exists(!1))]).then((()=>s))}function sx(r,...t){r=Fe(r);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||p0(t[s])||(e=t[s++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(p0(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,f,d;if(r instanceof ke)f=Ti(r.firestore,qo),d=Pg(r._key.path),u={next:p=>{t[s]&&t[s](ax(f,r,p))},error:t[s+1],complete:t[s+2]};else{const p=Ti(r,Ju);f=Ti(p.firestore,qo),d=p._query;const g=new sy(f);u={next:v=>{t[s]&&t[s](new _a(f,g,p,v))},error:t[s+1],complete:t[s+2]},fb(r._query)}return(function(g,v,T,S){const I=new JA(S),L=new FA(v,I,T);return g.asyncQueue.enqueueAndForget((async()=>HA(await tg(g),L))),()=>{I.Nu(),g.asyncQueue.enqueueAndForget((async()=>qA(await tg(g),L)))}})(ty(f),d,o,u)}function db(r,t){return(function(s,o){const u=new vs;return s.asyncQueue.enqueueAndForget((async()=>xD(await qD(s),o,u))),u.promise})(ty(r),t)}function ax(r,t,e){const s=e.docs.get(t._key),o=new sy(r);return new va(r,o,t._key,s,new Eu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Wo=o})(Xo),ko(new Aa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),d=new qo(new ZI(s.getProvider("auth-internal")),new eO(f,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new yt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(g.options.projectId,v)})(f,o),f);return u={useFetchStreams:e,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),gs(ET,TT,t),gs(ET,TT,"esm2020")})();function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ox=mb,pb=new $u("auth","Firebase",mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new wg("@firebase/auth");function lx(r,...t){gh.logLevel<=Bt.WARN&&gh.warn(`Auth (${Xo}): ${r}`,...t)}function Qf(r,...t){gh.logLevel<=Bt.ERROR&&gh.error(`Auth (${Xo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(r,...t){throw ay(r,...t)}function Lr(r,...t){return ay(r,...t)}function gb(r,t,e){const s={...ox(),[t]:e};return new $u("auth","Firebase",s).create(t,{appName:r.name})}function Es(r){return gb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ay(r,...t){if(typeof r!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(e,...s)}return pb.create(r,...t)}function wt(r,t,...e){if(!r)throw ay(t,...e)}function vi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Qf(t),new Error(t)}function Ri(r,t){r||vi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(){return typeof self<"u"&&self.location?.href||""}function ux(){return g0()==="http:"||g0()==="https:"}function g0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ux()||OC()||"connection"in navigator)?navigator.onLine:!0}function fx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ri(e>t,"Short delay should be less than long delay!"),this.isMobile=RC()||NC()}get(){return cx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(r,t){Ri(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mx=new tc(3e4,6e4);function Na(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function xs(r,t,e,s,o={}){return vb(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const d=Ku({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:p,...u};return IC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Qo(r.emulatorConfig.host)&&(g.credentials="include"),yb.fetch()(await _b(r,r.config.apiHost,e,d),g)})}async function vb(r,t,e){r._canInitEmulator=!1;const s={...hx,...t};try{const o=new gx(r),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Uf(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uf(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Uf(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Uf(r,"user-disabled",f);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw gb(r,v,g);mr(r,v)}}catch(o){if(o instanceof Ni)throw o;mr(r,"network-request-failed",{message:String(o)})}}async function $h(r,t,e,s,o={}){const u=await xs(r,t,e,s,o);return"mfaPendingCredential"in u&&mr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function _b(r,t,e,s){const o=`${t}${e}?${s}`,u=r,f=u.config.emulator?oy(r.config,o):`${r.config.apiScheme}://${o}`;return dx.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function px(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Lr(this.auth,"network-request-failed")),mx.get())})}}function Uf(r,t,e){const s={appName:r.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=Lr(r,t,s);return o.customData._tokenResponse=e,o}function y0(r){return r!==void 0&&r.enterprise!==void 0}class yx{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return px(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vx(r,t){return xs(r,"GET","/v2/recaptchaConfig",Na(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(r,t){return xs(r,"POST","/v1/accounts:delete",t)}async function yh(r,t){return xs(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ex(r,t=!1){const e=Fe(r),s=await e.getIdToken(t),o=ly(s);wt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Cu(_p(o.auth_time)),issuedAtTime:Cu(_p(o.iat)),expirationTime:Cu(_p(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function _p(r){return Number(r)*1e3}function ly(r){const[t,e,s]=r.split(".");if(t===void 0||e===void 0||s===void 0)return Qf("JWT malformed, contained fewer than 3 sections"),null;try{const o=AS(e);return o?JSON.parse(o):(Qf("Failed to decode base64 JWT payload"),null)}catch(o){return Qf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function v0(r){const t=ly(r);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(r,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Ni&&Tx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Tx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(r){const t=r.auth,e=await r.getIdToken(),s=await Uu(r,yh(t,{idToken:e}));wt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Eb(o.providerUserInfo):[],f=bx(r.providerData,u),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ig(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function Ax(r){const t=Fe(r);await vh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bx(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function Eb(r){return r.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(r,t){const e=await vb(r,{},async()=>{const s=Ku({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await _b(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&Qo(r.emulatorConfig.host)&&(p.credentials="include"),yb.fetch()(f,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function Rx(r,t){return xs(r,"POST","/v2/accounts:revokeToken",Na(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):v0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=v0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:u}=await wx(t,e);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:u}=e,f=new Do;return s&&(wt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(wt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(wt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(r,t){wt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class dr{constructor({uid:t,auth:e,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Sx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ig(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Uu(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Ex(this,t)}reload(){return Ax(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new dr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(Es(this.auth));const t=await this.getIdToken();return await Uu(this,_x(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,f=e.photoURL??void 0,d=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:I,providerData:L,stsTokenManager:H}=e;wt(T&&H,t,"internal-error");const P=Do.fromJSON(this.name,H);wt(typeof T=="string",t,"internal-error"),os(s,t.name),os(o,t.name),wt(typeof S=="boolean",t,"internal-error"),wt(typeof I=="boolean",t,"internal-error"),os(u,t.name),os(f,t.name),os(d,t.name),os(p,t.name),os(g,t.name),os(v,t.name);const Z=new dr({uid:T,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:I,photoURL:f,phoneNumber:u,tenantId:d,stsTokenManager:P,createdAt:g,lastLoginAt:v});return L&&Array.isArray(L)&&(Z.providerData=L.map(X=>({...X}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(t,e,s=!1){const o=new Do;o.updateFromServerResponse(e);const u=new dr({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await vh(u),u}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];wt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Eb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,d=new Do;d.updateFromIdToken(s);const p=new dr({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ig(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new Map;function _i(r){Ri(r instanceof Function,"Expected a class definition");let t=_0.get(r);return t?(Ri(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,_0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Tb.type="NONE";const E0=Tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(r,t,e){return`firebase:${r}:${t}:${e}`}class xo{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Xf(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xf("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await yh(this.auth,{idToken:t}).catch(()=>{});return e?dr._fromGetAccountInfoResponse(this.auth,e,t):null}return dr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new xo(_i(E0),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||_i(E0);const f=Xf(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const v=await g._get(f);if(v){let T;if(typeof v=="string"){const S=await yh(t,{idToken:v}).catch(()=>{});if(!S)break;T=await dr._fromGetAccountInfoResponse(t,S,v)}else T=dr._fromJSON(t,v);g!==u&&(d=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new xo(u,t,s):(u=p[0],d&&await u._set(f,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new xo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Sb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cb(t))return"Blackberry";if(Ib(t))return"Webos";if(Ab(t))return"Safari";if((t.includes("chrome/")||bb(t))&&!t.includes("edge/"))return"Chrome";if(Rb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(e);if(s?.length===2)return s[1]}return"Other"}function Sb(r=dn()){return/firefox\//i.test(r)}function Ab(r=dn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bb(r=dn()){return/crios\//i.test(r)}function wb(r=dn()){return/iemobile/i.test(r)}function Rb(r=dn()){return/android/i.test(r)}function Cb(r=dn()){return/blackberry/i.test(r)}function Ib(r=dn()){return/webos/i.test(r)}function uy(r=dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Cx(r=dn()){return uy(r)&&!!window.navigator?.standalone}function Ix(){return DC()&&document.documentMode===10}function Ob(r=dn()){return uy(r)||Rb(r)||Ib(r)||Cb(r)||/windows phone/i.test(r)||wb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(r,t=[]){let e;switch(r){case"Browser":e=T0(dn());break;case"Worker":e=`${T0(dn())}-${r}`;break;default:e=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Xo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((f,d)=>{try{const p=t(u);f(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(r,t={}){return xs(r,"GET","/v2/passwordPolicy",Na(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=6;class xx{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??Dx,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new Ox(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=_i(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await yh(this,{idToken:t}),s=await dr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===f)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await vh(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hr(this.app))return Promise.reject(Es(this));const e=t?Fe(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hr(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Nx(this),e=new xx(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $u("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await Rx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&_i(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[_i(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(e);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&lx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function el(r){return Fe(r)}class S0{constructor(t){this.auth=t,this.observer=null,this.addObserver=jC(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vx(r){Kh=r}function Db(r){return Kh.loadJS(r)}function kx(){return Kh.recaptchaEnterpriseScript}function Px(){return Kh.gapiScript}function Lx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Ux{constructor(){this.enterprise=new jx}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class jx{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const Bx="recaptcha-enterprise",xb="NO_RECAPTCHA";class zx{constructor(t){this.type=Bx,this.auth=el(t)}async verify(t="verify",e=!1){async function s(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{vx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new yx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,f,d){const p=window.grecaptcha;y0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(xb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ux().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(d=>{if(!e&&y0(window.grecaptcha))o(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=kx();p.length!==0&&(p+=d),Db(p).then(()=>{o(d,u,f)}).catch(g=>{f(g)})}}).catch(d=>{f(d)})})}}async function A0(r,t,e,s=!1,o=!1){const u=new zx(r);let f;if(o)f=xb;else try{f=await u.verify(e)}catch{f=await u.verify(e,!0)}const d={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function b0(r,t,e,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await A0(r,t,e,e==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await A0(r,t,e,e==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(r,t){const e=Cg(r,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Sa(u,t??{}))return o;mr(o,"already-initialized")}return e.initialize({options:t})}function qx(r,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(_i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function Fx(r,t,e){const s=el(r);wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=Mb(t),{host:f,port:d}=Gx(t),p=d===null?"":`:${d}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(Sa(g,s.config.emulator)&&Sa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Qo(f)?(CS(`${u}//${f}${p}`),IS("Auth",!0)):$x()}function Mb(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Gx(r){const t=Mb(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:w0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:w0(f)}}}function w0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function $x(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return vi("not implemented")}_getIdTokenResponse(t){return vi("not implemented")}_linkToIdToken(t,e){return vi("not implemented")}_getReauthenticationResolver(t){return vi("not implemented")}}async function Kx(r,t){return xs(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(r,t){return $h(r,"POST","/v1/accounts:signInWithPassword",Na(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(r,t){return $h(r,"POST","/v1/accounts:signInWithEmailLink",Na(r,t))}async function Xx(r,t){return $h(r,"POST","/v1/accounts:signInWithEmailLink",Na(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends cy{constructor(t,e,s,o=null){super("password",s),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new ju(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new ju(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b0(t,e,"signInWithPassword",Yx);case"emailLink":return Qx(t,{email:this._email,oobCode:this._password});default:mr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b0(t,s,"signUpPassword",Kx);case"emailLink":return Xx(t,{idToken:e,email:this._email,oobCode:this._password});default:mr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r,t){return $h(r,"POST","/v1/accounts:signInWithIdp",Na(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="http://localhost";class Ra extends cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):mr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=e;if(!s||!o)return null;const f=new Ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const e=this.buildRequest();return Mo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Mo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Mo(t,e)}buildRequest(){const t={requestUri:Wx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ku(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jx(r){const t=pu(gu(r)).link,e=t?pu(gu(t)).deep_link_id:null,s=pu(gu(r)).deep_link_id;return(s?pu(gu(s)).link:null)||s||e||t||r}class fy{constructor(t){const e=pu(gu(t)),s=e.apiKey??null,o=e.oobCode??null,u=Zx(e.mode??null);wt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=Jx(t);try{return new fy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(t,e){return ju._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=fy.parseLink(e);return wt(s,"argument-error"),ju._fromEmailAndCode(t,s.code,s.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends Vb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends ec{constructor(){super("facebook.com")}static credential(t){return Ra._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends ec{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ra._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return cs.credential(e,s)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends ec{constructor(){super("github.com")}static credential(t){return Ra._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fs.credential(t.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends ec{constructor(){super("twitter.com")}static credential(t,e){return Ra._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return hs.credential(e,s)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const u=await dr._fromIdTokenResponse(t,s,o),f=R0(s);return new Fo({user:u,providerId:f,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=R0(s);return new Fo({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function R0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Ni{constructor(t,e,s,o){super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new _h(t,e,s,o)}}function kb(r,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(r,u,t,s):u})}async function t2(r,t,e=!1){const s=await Uu(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return Fo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(r,t,e=!1){const{auth:s}=r;if(hr(s.app))return Promise.reject(Es(s));const o="reauthenticate";try{const u=await Uu(r,kb(s,o,t,r),e);wt(u.idToken,s,"internal-error");const f=ly(u.idToken);wt(f,s,"internal-error");const{sub:d}=f;return wt(r.uid===d,s,"user-mismatch"),Fo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&mr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(r,t,e=!1){if(hr(r.app))return Promise.reject(Es(r));const s="signIn",o=await kb(r,s,t),u=await Fo._fromIdTokenResponse(r,s,o);return e||await r._updateCurrentUser(u.user),u}async function n2(r,t){return Pb(el(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(r){const t=el(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function i2(r,t,e){return hr(r.app)?Promise.reject(Es(r)):n2(Fe(r),nl.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&r2(r),s})}function s2(r,t,e,s){return Fe(r).onIdTokenChanged(t,e,s)}function a2(r,t,e){return Fe(r).beforeAuthStateChanged(t,e)}function o2(r,t,e,s){return Fe(r).onAuthStateChanged(t,e,s)}function l2(r){return Fe(r).signOut()}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=1e3,c2=10;class Ub extends Lb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ob(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((f,d,p)=>{this.notifyListeners(f,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!e&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Ix()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,c2):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ub.type="LOCAL";const f2=Ub;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb extends Lb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}jb.type="SESSION";const Bb=jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new Yh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:u}=e.data,f=this.handlersMap[o];if(!f?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(f).map(async g=>g(e.origin,u)),p=await h2(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(r="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,p)=>{const g=hy("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function m2(r){Ur().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function p2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g2(){return navigator?.serviceWorker?.controller||null}function y2(){return zb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="firebaseLocalStorageDb",v2=1,Th="firebaseLocalStorage",qb="fbase_key";class nc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Qh(r,t){return r.transaction([Th],t?"readwrite":"readonly").objectStore(Th)}function _2(){const r=indexedDB.deleteDatabase(Hb);return new nc(r).toPromise()}function sg(){const r=indexedDB.open(Hb,v2);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Th,{keyPath:qb})}catch(o){e(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Th)?t(s):(s.close(),await _2(),t(await sg()))})})}async function C0(r,t,e){const s=Qh(r,!0).put({[qb]:t,value:e});return new nc(s).toPromise()}async function E2(r,t){const e=Qh(r,!1).get(t),s=await new nc(e).toPromise();return s===void 0?null:s.value}function I0(r,t){const e=Qh(r,!0).delete(t);return new nc(e).toPromise()}const T2=800,S2=3;class Fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>S2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(y2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await p2(),!this.activeServiceWorker)return;this.sender=new d2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||g2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sg();return await C0(t,Eh,"1"),await I0(t,Eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>C0(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>E2(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>I0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Qh(o,!1).getAll();return new nc(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fb.type="LOCAL";const A2=Fb;new tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(r,t){return t?_i(t):(wt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy extends cy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Mo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Mo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Mo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function w2(r){return Pb(r.auth,new dy(r),r.bypassAuthState)}function R2(r){const{auth:t,user:e}=r;return wt(e,t,"internal-error"),e2(e,new dy(r),r.bypassAuthState)}async function C2(r){const{auth:t,user:e}=r;return wt(e,t,"internal-error"),t2(e,new dy(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(t,e,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:u,error:f,type:d}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return w2;case"linkViaPopup":case"linkViaRedirect":return C2;case"reauthViaPopup":case"reauthViaRedirect":return R2;default:mr(this.auth,"internal-error")}}resolve(t){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new tc(2e3,1e4);class Oo extends Gb{constructor(t,e,s,o,u){super(t,e,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const t=hy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,I2.get())};t()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="pendingRedirect",Wf=new Map;class N2 extends Gb{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Wf.get(this.auth._key());if(!t){try{const s=await D2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Wf.set(this.auth._key(),t)}return this.bypassAuthState||Wf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D2(r,t){const e=V2(t),s=M2(r);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function x2(r,t){Wf.set(r._key(),t)}function M2(r){return _i(r._redirectPersistence)}function V2(r){return Xf(O2,r.config.apiKey,r.name)}async function k2(r,t,e=!1){if(hr(r.app))return Promise.reject(Es(r));const s=el(r),o=b2(s,t),f=await new N2(s,o,e).execute();return f&&!e&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=600*1e3;class L2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!U2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!$b(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Lr(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=P2&&this.cachedEventUids.clear(),this.cachedEventUids.has(O0(t))}saveEventToCache(t){this.cachedEventUids.add(O0(t)),this.lastProcessedEventTime=Date.now()}}function O0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function $b({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function U2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $b(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(r,t={}){return xs(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z2=/^https?/;async function H2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await j2(r);for(const e of t)try{if(q2(e))return}catch{}mr(r,"unauthorized-domain")}function q2(r){const t=rg(),{protocol:e,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&f.hostname===s}if(!z2.test(e))return!1;if(B2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new tc(3e4,6e4);function N0(){const r=Ur().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function G2(r){return new Promise((t,e)=>{function s(){N0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{N0(),e(Lr(r,"network-request-failed"))},timeout:F2.get()})}if(Ur().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ur().gapi?.load)s();else{const o=Lx("iframefcb");return Ur()[o]=()=>{gapi.load?s():e(Lr(r,"network-request-failed"))},Db(`${Px()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Zf=null,t})}let Zf=null;function $2(r){return Zf=Zf||G2(r),Zf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new tc(5e3,15e3),Y2="__/auth/iframe",Q2="emulator/auth/iframe",X2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z2(r){const t=r.config;wt(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?oy(t,Q2):`https://${r.config.authDomain}/${Y2}`,s={apiKey:t.apiKey,appName:r.name,v:Xo},o=W2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${Ku(s).slice(1)}`}async function J2(r){const t=await $2(r),e=Ur().gapi;return wt(e,r,"internal-error"),t.open({where:document.body,url:Z2(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Lr(r,"network-request-failed"),d=Ur().setTimeout(()=>{u(f)},K2.get());function p(){Ur().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eM=500,nM=600,rM="_blank",iM="http://localhost";class D0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sM(r,t,e,s=eM,o=nM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...tM,width:s.toString(),height:o.toString(),top:u,left:f},g=dn().toLowerCase();e&&(d=bb(g)?rM:e),Sb(g)&&(t=t||iM,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[I,L])=>`${S}${I}=${L},`,"");if(Cx(g)&&d!=="_self")return aM(t||"",d),new D0(null);const T=window.open(t||"",d,v);wt(T,r,"popup-blocked");try{T.focus()}catch{}return new D0(T)}function aM(r,t){const e=document.createElement("a");e.href=r,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="__/auth/handler",lM="emulator/auth/handler",uM=encodeURIComponent("fac");async function x0(r,t,e,s,o,u){wt(r.config.authDomain,r,"auth-domain-config-required"),wt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:s,v:Xo,eventId:o};if(t instanceof Vb){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",UC(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))f[v]=T}if(t instanceof ec){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await r._getAppCheckToken(),g=p?`#${uM}=${encodeURIComponent(p)}`:"";return`${cM(r)}?${Ku(d).slice(1)}${g}`}function cM({config:r}){return r.emulator?oy(r,lM):`https://${r.authDomain}/${oM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="webStorageSupport";class fM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bb,this._completeRedirectFn=k2,this._overrideRedirectResult=x2}async _openPopup(t,e,s,o){Ri(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await x0(t,e,s,rg(),o);return sM(t,u,hy())}async _openRedirect(t,e,s,o){await this._originValidation(t);const u=await x0(t,e,s,rg(),o);return m2(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Ri(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await J2(t),s=new L2(t);return e.register("authEvent",o=>(wt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ep,{type:Ep},o=>{const u=o?.[0]?.[Ep];u!==void 0&&e(!!u),mr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=H2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ob()||Ab()||uy()}}const hM=fM;var M0="@firebase/auth",V0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pM(r){ko(new Aa("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=s.options;wt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nb(r)},g=new Mx(s,o,u,p);return qx(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),ko(new Aa("auth-internal",t=>{const e=el(t.getProvider("auth").getImmediate());return(s=>new dM(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(M0,V0,mM(r)),gs(M0,V0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=300,yM=RS("authIdTokenMaxAge")||gM;let k0=null;const vM=r=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>yM)return;const o=e?.token;k0!==o&&(k0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _M(r=xS()){const t=Cg(r,"auth");if(t.isInitialized())return t.getImmediate();const e=Hx(r,{popupRedirectResolver:hM,persistence:[A2,f2,Bb]}),s=RS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=vM(u.toString());a2(e,f,()=>f(e.currentUser)),s2(e,d=>f(d))}}const o=bS("auth");return o&&Fx(e,`http://${o}`),e}function EM(){return document.getElementsByTagName("head")?.[0]??document}Vx({loadJS(r){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Lr("internal-error");u.customData=o,e(u)},s.type="text/javascript",s.charset="UTF-8",EM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pM("Browser");var TM="firebase",SM="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(TM,SM,"app");var Tp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var P0;function AM(){return P0||(P0=1,(function(r){(function(){var t={}.hasOwnProperty;function e(){for(var u="",f=0;f<arguments.length;f++){var d=arguments[f];d&&(u=o(u,s(d)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return e.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var f="";for(var d in u)t.call(u,d)&&u[d]&&(f=o(f,d));return f}function o(u,f){return f?u?u+" "+f:u+f:u}r.exports?(e.default=e,r.exports=e):window.classNames=e})()})(Tp)),Tp.exports}var bM=AM();const dt=Gu(bM);function ag(){return ag=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},ag.apply(null,arguments)}function Kb(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)!==-1)continue;e[s]=r[s]}return e}function L0(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function wM(r){var t=RM(r,"string");return typeof t=="symbol"?t:String(t)}function RM(r,t){if(typeof r!="object"||r===null)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var s=e.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Yb(r,t,e){var s=w.useRef(r!==void 0),o=w.useState(t),u=o[0],f=o[1],d=r!==void 0,p=s.current;return s.current=d,!d&&p&&u!==t&&f(t),[d?r:u,w.useCallback(function(g){for(var v=arguments.length,T=new Array(v>1?v-1:0),S=1;S<v;S++)T[S-1]=arguments[S];e&&e.apply(void 0,[g].concat(T)),f(g)},[e])]}function Xh(r,t){return Object.keys(t).reduce(function(e,s){var o,u=e,f=u[L0(s)],d=u[s],p=Kb(u,[L0(s),s].map(wM)),g=t[s],v=Yb(d,f,r[g]),T=v[0],S=v[1];return ag({},p,(o={},o[s]=T,o[g]=S,o))},r)}function og(r,t){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},og(r,t)}function CM(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,og(r,t)}const IM=["xxl","xl","lg","md","sm","xs"],OM="xs",rc=w.createContext({prefixes:{},breakpoints:IM,minBreakpoint:OM}),{Consumer:sP,Provider:aP}=rc;function gt(r,t){const{prefixes:e}=w.useContext(rc);return r||e[t]||t}function Qb(){const{breakpoints:r}=w.useContext(rc);return r}function Xb(){const{minBreakpoint:r}=w.useContext(rc);return r}function my(){const{dir:r}=w.useContext(rc);return r==="rtl"}function rl(r){return r&&r.ownerDocument||document}function NM(r){var t=rl(r);return t&&t.defaultView||window}function DM(r,t){return NM(r).getComputedStyle(r,t)}var xM=/([A-Z])/g;function MM(r){return r.replace(xM,"-$1").toLowerCase()}var VM=/^ms-/;function jf(r){return MM(r).replace(VM,"-ms-")}var kM=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function PM(r){return!!(r&&kM.test(r))}function Si(r,t){var e="",s="";if(typeof t=="string")return r.style.getPropertyValue(jf(t))||DM(r).getPropertyValue(jf(t));Object.keys(t).forEach(function(o){var u=t[o];!u&&u!==0?r.style.removeProperty(jf(o)):PM(o)?s+=o+"("+u+") ":e+=jf(o)+": "+u+";"}),s&&(e+="transform: "+s+";"),r.style.cssText+=";"+e}var Sp={exports:{}},Ap,U0;function LM(){if(U0)return Ap;U0=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ap=r,Ap}var bp,j0;function UM(){if(j0)return bp;j0=1;var r=LM();function t(){}function e(){}return e.resetWarningCache=t,bp=function(){function s(f,d,p,g,v,T){if(T!==r){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return u.PropTypes=u,u},bp}var B0;function jM(){return B0||(B0=1,Sp.exports=UM()()),Sp.exports}var BM=jM();const hn=Gu(BM);var zM=ES();const ya=Gu(zM),z0={disabled:!1},Wb=kn.createContext(null);var HM=function(t){return t.scrollTop},Tu="unmounted",ls="exited",fr="entering",gi="entered",Bu="exiting",Di=(function(r){CM(t,r);function t(s,o){var u;u=r.call(this,s,o)||this;var f=o,d=f&&!f.isMounting?s.enter:s.appear,p;return u.appearStatus=null,s.in?d?(p=ls,u.appearStatus=fr):p=gi:s.unmountOnExit||s.mountOnEnter?p=Tu:p=ls,u.state={status:p},u.nextCallback=null,u}t.getDerivedStateFromProps=function(o,u){var f=o.in;return f&&u.status===Tu?{status:ls}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(o){var u=null;if(o!==this.props){var f=this.state.status;this.props.in?f!==fr&&f!==gi&&(u=fr):(f===fr||f===gi)&&(u=Bu)}this.updateStatus(!1,u)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var o=this.props.timeout,u,f,d;return u=f=d=o,o!=null&&typeof o!="number"&&(u=o.exit,f=o.enter,d=o.appear!==void 0?o.appear:f),{exit:u,enter:f,appear:d}},e.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===fr){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:ya.findDOMNode(this);f&&HM(f)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ls&&this.setState({status:Tu})},e.performEnter=function(o){var u=this,f=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[ya.findDOMNode(this),d],g=p[0],v=p[1],T=this.getTimeouts(),S=d?T.appear:T.enter;if(!o&&!f||z0.disabled){this.safeSetState({status:gi},function(){u.props.onEntered(g)});return}this.props.onEnter(g,v),this.safeSetState({status:fr},function(){u.props.onEntering(g,v),u.onTransitionEnd(S,function(){u.safeSetState({status:gi},function(){u.props.onEntered(g,v)})})})},e.performExit=function(){var o=this,u=this.props.exit,f=this.getTimeouts(),d=this.props.nodeRef?void 0:ya.findDOMNode(this);if(!u||z0.disabled){this.safeSetState({status:ls},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Bu},function(){o.props.onExiting(d),o.onTransitionEnd(f.exit,function(){o.safeSetState({status:ls},function(){o.props.onExited(d)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},e.setNextCallback=function(o){var u=this,f=!0;return this.nextCallback=function(d){f&&(f=!1,u.nextCallback=null,o(d))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},e.onTransitionEnd=function(o,u){this.setNextCallback(u);var f=this.props.nodeRef?this.props.nodeRef.current:ya.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!f||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],g=p[0],v=p[1];this.props.addEndListener(g,v)}o!=null&&setTimeout(this.nextCallback,o)},e.render=function(){var o=this.state.status;if(o===Tu)return null;var u=this.props,f=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var d=Kb(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return kn.createElement(Wb.Provider,{value:null},typeof f=="function"?f(o,d):kn.cloneElement(kn.Children.only(f),d))},t})(kn.Component);Di.contextType=Wb;Di.propTypes={};function Ao(){}Di.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ao,onEntering:Ao,onEntered:Ao,onExit:Ao,onExiting:Ao,onExited:Ao};Di.UNMOUNTED=Tu;Di.EXITED=ls;Di.ENTERING=fr;Di.ENTERED=gi;Di.EXITING=Bu;function Zb(r){return r.code==="Escape"||r.keyCode===27}function qM(){const r=w.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function Da(r){if(!r||typeof r=="function")return null;const{major:t}=qM();return t>=19?r.props.ref:r.ref}const il=!!(typeof window<"u"&&window.document&&window.document.createElement);var lg=!1,ug=!1;try{var wp={get passive(){return lg=!0},get once(){return ug=lg=!0}};il&&(window.addEventListener("test",wp,wp),window.removeEventListener("test",wp,!0))}catch{}function Jb(r,t,e,s){if(s&&typeof s!="boolean"&&!ug){var o=s.once,u=s.capture,f=e;!ug&&o&&(f=e.__once||function d(p){this.removeEventListener(t,d,u),e.call(this,p)},e.__once=f),r.addEventListener(t,f,lg?s:u)}r.addEventListener(t,e,s)}function cg(r,t,e,s){var o=s&&typeof s!="boolean"?s.capture:s;r.removeEventListener(t,e,o),e.__once&&r.removeEventListener(t,e.__once,o)}function Ei(r,t,e,s){return Jb(r,t,e,s),function(){cg(r,t,e,s)}}function FM(r,t,e,s){if(s===void 0&&(s=!0),r){var o=document.createEvent("HTMLEvents");o.initEvent(t,e,s),r.dispatchEvent(o)}}function GM(r){var t=Si(r,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function $M(r,t,e){e===void 0&&(e=5);var s=!1,o=setTimeout(function(){s||FM(r,"transitionend",!0)},t+e),u=Ei(r,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function tw(r,t,e,s){e==null&&(e=GM(r)||0);var o=$M(r,e,s),u=Ei(r,"transitionend",t);return function(){o(),u()}}function H0(r,t){const e=Si(r,t)||"",s=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*s}function py(r,t){const e=H0(r,"transitionDuration"),s=H0(r,"transitionDelay"),o=tw(r,u=>{u.target===r&&(o(),t(u))},e+s)}function du(...r){return r.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...o){t.apply(this,o),e.apply(this,o)}},null)}function ew(r){r.offsetHeight}const q0=r=>!r||typeof r=="function"?r:t=>{r.current=t};function KM(r,t){const e=q0(r),s=q0(t);return o=>{e&&e(o),s&&s(o)}}function Wh(r,t){return w.useMemo(()=>KM(r,t),[r,t])}function Sh(r){return r&&"setState"in r?ya.findDOMNode(r):r??null}const Zh=kn.forwardRef(({onEnter:r,onEntering:t,onEntered:e,onExit:s,onExiting:o,onExited:u,addEndListener:f,children:d,childRef:p,...g},v)=>{const T=w.useRef(null),S=Wh(T,p),I=at=>{S(Sh(at))},L=at=>D=>{at&&T.current&&at(T.current,D)},H=w.useCallback(L(r),[r]),P=w.useCallback(L(t),[t]),Z=w.useCallback(L(e),[e]),X=w.useCallback(L(s),[s]),Y=w.useCallback(L(o),[o]),W=w.useCallback(L(u),[u]),it=w.useCallback(L(f),[f]);return C.jsx(Di,{ref:v,...g,onEnter:H,onEntered:Z,onEntering:P,onExit:X,onExited:W,onExiting:Y,addEndListener:it,nodeRef:T,children:typeof d=="function"?(at,D)=>d(at,{...D,ref:I}):kn.cloneElement(d,{ref:I})})});Zh.displayName="TransitionWrapper";const YM={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function QM(r,t){const e=`offset${r[0].toUpperCase()}${r.slice(1)}`,s=t[e],o=YM[r];return s+parseInt(Si(t,o[0]),10)+parseInt(Si(t,o[1]),10)}const XM={[ls]:"collapse",[Bu]:"collapsing",[fr]:"collapsing",[gi]:"collapse show"},gy=kn.forwardRef(({onEnter:r,onEntering:t,onEntered:e,onExit:s,onExiting:o,className:u,children:f,dimension:d="height",in:p=!1,timeout:g=300,mountOnEnter:v=!1,unmountOnExit:T=!1,appear:S=!1,getDimensionValue:I=QM,...L},H)=>{const P=typeof d=="function"?d():d,Z=w.useMemo(()=>du(at=>{at.style[P]="0"},r),[P,r]),X=w.useMemo(()=>du(at=>{const D=`scroll${P[0].toUpperCase()}${P.slice(1)}`;at.style[P]=`${at[D]}px`},t),[P,t]),Y=w.useMemo(()=>du(at=>{at.style[P]=null},e),[P,e]),W=w.useMemo(()=>du(at=>{at.style[P]=`${I(P,at)}px`,ew(at)},s),[s,I,P]),it=w.useMemo(()=>du(at=>{at.style[P]=null},o),[P,o]);return C.jsx(Zh,{ref:H,addEndListener:py,...L,"aria-expanded":L.role?p:null,onEnter:Z,onEntering:X,onEntered:Y,onExit:W,onExiting:it,childRef:Da(f),in:p,timeout:g,mountOnEnter:v,unmountOnExit:T,appear:S,children:(at,D)=>kn.cloneElement(f,{...D,className:dt(u,f.props.className,XM[at],P==="width"&&"collapse-horizontal")})})});gy.displayName="Collapse";function nw(r,t){return Array.isArray(r)?r.includes(t):r===t}const ic=w.createContext({});ic.displayName="AccordionContext";const yy=w.forwardRef(({as:r="div",bsPrefix:t,className:e,children:s,eventKey:o,...u},f)=>{const{activeEventKey:d}=w.useContext(ic);return t=gt(t,"accordion-collapse"),C.jsx(gy,{ref:f,in:nw(d,o),...u,className:dt(e,t),children:C.jsx(r,{children:w.Children.only(s)})})});yy.displayName="AccordionCollapse";const Jh=w.createContext({eventKey:""});Jh.displayName="AccordionItemContext";const rw=w.forwardRef(({as:r="div",bsPrefix:t,className:e,onEnter:s,onEntering:o,onEntered:u,onExit:f,onExiting:d,onExited:p,...g},v)=>{t=gt(t,"accordion-body");const{eventKey:T}=w.useContext(Jh);return C.jsx(yy,{eventKey:T,onEnter:s,onEntering:o,onEntered:u,onExit:f,onExiting:d,onExited:p,children:C.jsx(r,{ref:v,...g,className:dt(e,t)})})});rw.displayName="AccordionBody";function iw(r,t){const{activeEventKey:e,onSelect:s,alwaysOpen:o}=w.useContext(ic);return u=>{let f=r===e?null:r;o&&(Array.isArray(e)?e.includes(r)?f=e.filter(d=>d!==r):f=[...e,r]:f=[r]),s?.(f,u),t?.(u)}}const vy=w.forwardRef(({as:r="button",bsPrefix:t,className:e,onClick:s,...o},u)=>{t=gt(t,"accordion-button");const{eventKey:f}=w.useContext(Jh),d=iw(f,s),{activeEventKey:p}=w.useContext(ic);return r==="button"&&(o.type="button"),C.jsx(r,{ref:u,onClick:d,...o,"aria-expanded":Array.isArray(p)?p.includes(f):f===p,className:dt(e,t,!nw(p,f)&&"collapsed")})});vy.displayName="AccordionButton";const sw=w.forwardRef(({as:r="h2","aria-controls":t,bsPrefix:e,className:s,children:o,onClick:u,...f},d)=>(e=gt(e,"accordion-header"),C.jsx(r,{ref:d,...f,className:dt(s,e),children:C.jsx(vy,{onClick:u,"aria-controls":t,children:o})})));sw.displayName="AccordionHeader";const aw=w.forwardRef(({as:r="div",bsPrefix:t,className:e,eventKey:s,...o},u)=>{t=gt(t,"accordion-item");const f=w.useMemo(()=>({eventKey:s}),[s]);return C.jsx(Jh.Provider,{value:f,children:C.jsx(r,{ref:u,...o,className:dt(e,t)})})});aw.displayName="AccordionItem";const ow=w.forwardRef((r,t)=>{const{as:e="div",activeKey:s,bsPrefix:o,className:u,onSelect:f,flush:d,alwaysOpen:p,...g}=Xh(r,{activeKey:"onSelect"}),v=gt(o,"accordion"),T=w.useMemo(()=>({activeEventKey:s,onSelect:f,alwaysOpen:p}),[s,f,p]);return C.jsx(ic.Provider,{value:T,children:C.jsx(e,{ref:t,...g,className:dt(u,v,d&&`${v}-flush`)})})});ow.displayName="Accordion";const fg=Object.assign(ow,{Button:vy,Collapse:yy,Item:aw,Header:sw,Body:rw});function WM(r){const t=w.useRef(r);return w.useEffect(()=>{t.current=r},[r]),t}function Cs(r){const t=WM(r);return w.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const sc=(r=>w.forwardRef((t,e)=>C.jsx("div",{...t,ref:e,className:dt(t.className,r)}))),lw=sc("h4");lw.displayName="DivStyledAsH4";const uw=w.forwardRef(({className:r,bsPrefix:t,as:e=lw,...s},o)=>(t=gt(t,"alert-heading"),C.jsx(e,{ref:o,className:dt(r,t),...s})));uw.displayName="AlertHeading";function F0(){return w.useState(null)}function ZM(r){const t=w.useRef(r);return w.useEffect(()=>{t.current=r},[r]),t}function tr(r){const t=ZM(r);return w.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function cw(){const r=w.useRef(!0),t=w.useRef(()=>r.current);return w.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),t.current}function JM(r){const t=w.useRef(null);return w.useEffect(()=>{t.current=r}),t.current}const tV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",eV=typeof document<"u",G0=eV||tV?w.useLayoutEffect:w.useEffect,nV=["as","disabled"];function rV(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function iV(r){return!r||r.trim()==="#"}function _y({tagName:r,disabled:t,href:e,target:s,rel:o,role:u,onClick:f,tabIndex:d=0,type:p}){r||(e!=null||s!=null||o!=null?r="a":r="button");const g={tagName:r};if(r==="button")return[{type:p||"button",disabled:t},g];const v=S=>{if((t||r==="a"&&iV(e))&&S.preventDefault(),t){S.stopPropagation();return}f?.(S)},T=S=>{S.key===" "&&(S.preventDefault(),v(S))};return r==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:u??"button",disabled:void 0,tabIndex:t?void 0:d,href:e,target:r==="a"?s:void 0,"aria-disabled":t||void 0,rel:r==="a"?o:void 0,onClick:v,onKeyDown:T},g]}const fw=w.forwardRef((r,t)=>{let{as:e,disabled:s}=r,o=rV(r,nV);const[u,{tagName:f}]=_y(Object.assign({tagName:e,disabled:s},o));return C.jsx(f,Object.assign({},o,u,{ref:t}))});fw.displayName="Button";const sV=["onKeyDown"];function aV(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function oV(r){return!r||r.trim()==="#"}const Ey=w.forwardRef((r,t)=>{let{onKeyDown:e}=r,s=aV(r,sV);const[o]=_y(Object.assign({tagName:"a"},s)),u=tr(f=>{o.onKeyDown(f),e?.(f)});return oV(s.href)||s.role==="button"?C.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:u})):C.jsx("a",Object.assign({ref:t},s,{onKeyDown:e}))});Ey.displayName="Anchor";const hw=w.forwardRef(({className:r,bsPrefix:t,as:e=Ey,...s},o)=>(t=gt(t,"alert-link"),C.jsx(e,{ref:o,className:dt(r,t),...s})));hw.displayName="AlertLink";const lV={[fr]:"show",[gi]:"show"},Is=w.forwardRef(({className:r,children:t,transitionClasses:e={},onEnter:s,...o},u)=>{const f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=w.useCallback((p,g)=>{ew(p),s?.(p,g)},[s]);return C.jsx(Zh,{ref:u,addEndListener:py,...f,onEnter:d,childRef:Da(t),children:(p,g)=>w.cloneElement(t,{...g,className:dt("fade",r,t.props.className,lV[p],e[p])})})});Is.displayName="Fade";const uV={"aria-label":hn.string,onClick:hn.func,variant:hn.oneOf(["white"])},td=w.forwardRef(({className:r,variant:t,"aria-label":e="Close",...s},o)=>C.jsx("button",{ref:o,type:"button",className:dt("btn-close",t&&`btn-close-${t}`,r),"aria-label":e,...s}));td.displayName="CloseButton";td.propTypes=uV;const dw=w.forwardRef((r,t)=>{const{bsPrefix:e,show:s=!0,closeLabel:o="Close alert",closeVariant:u,className:f,children:d,variant:p="primary",onClose:g,dismissible:v,transition:T=Is,...S}=Xh(r,{show:"onClose"}),I=gt(e,"alert"),L=Cs(Z=>{g&&g(!1,Z)}),H=T===!0?Is:T,P=C.jsxs("div",{role:"alert",...H?void 0:S,ref:t,className:dt(f,I,p&&`${I}-${p}`,v&&`${I}-dismissible`),children:[v&&C.jsx(td,{onClick:L,"aria-label":o,variant:u}),d]});return H?C.jsx(H,{unmountOnExit:!0,...S,ref:void 0,in:s,children:P}):s?P:null});dw.displayName="Alert";const cV=Object.assign(dw,{Link:hw,Heading:uw}),mw=w.forwardRef(({bsPrefix:r,bg:t="primary",pill:e=!1,text:s,className:o,as:u="span",...f},d)=>{const p=gt(r,"badge");return C.jsx(u,{ref:d,...f,className:dt(o,p,e&&"rounded-pill",s&&`text-${s}`,t&&`bg-${t}`)})});mw.displayName="Badge";const Rn=w.forwardRef(({as:r,bsPrefix:t,variant:e="primary",size:s,active:o=!1,disabled:u=!1,className:f,...d},p)=>{const g=gt(t,"btn"),[v,{tagName:T}]=_y({tagName:r,disabled:u,...d}),S=T;return C.jsx(S,{...v,...d,ref:p,disabled:u,className:dt(f,g,o&&"active",e&&`${g}-${e}`,s&&`${g}-${s}`,d.href&&u&&"disabled")})});Rn.displayName="Button";const Ty=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"card-body"),C.jsx(e,{ref:o,className:dt(r,t),...s})));Ty.displayName="CardBody";const pw=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"card-footer"),C.jsx(e,{ref:o,className:dt(r,t),...s})));pw.displayName="CardFooter";const Sy=w.createContext(null);Sy.displayName="CardHeaderContext";const gw=w.forwardRef(({bsPrefix:r,className:t,as:e="div",...s},o)=>{const u=gt(r,"card-header"),f=w.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return C.jsx(Sy.Provider,{value:f,children:C.jsx(e,{ref:o,...s,className:dt(t,u)})})});gw.displayName="CardHeader";const yw=w.forwardRef(({bsPrefix:r,className:t,variant:e,as:s="img",...o},u)=>{const f=gt(r,"card-img");return C.jsx(s,{ref:u,className:dt(e?`${f}-${e}`:f,t),...o})});yw.displayName="CardImg";const vw=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"card-img-overlay"),C.jsx(e,{ref:o,className:dt(r,t),...s})));vw.displayName="CardImgOverlay";const _w=w.forwardRef(({className:r,bsPrefix:t,as:e="a",...s},o)=>(t=gt(t,"card-link"),C.jsx(e,{ref:o,className:dt(r,t),...s})));_w.displayName="CardLink";const fV=sc("h6"),Ew=w.forwardRef(({className:r,bsPrefix:t,as:e=fV,...s},o)=>(t=gt(t,"card-subtitle"),C.jsx(e,{ref:o,className:dt(r,t),...s})));Ew.displayName="CardSubtitle";const Tw=w.forwardRef(({className:r,bsPrefix:t,as:e="p",...s},o)=>(t=gt(t,"card-text"),C.jsx(e,{ref:o,className:dt(r,t),...s})));Tw.displayName="CardText";const hV=sc("h5"),Sw=w.forwardRef(({className:r,bsPrefix:t,as:e=hV,...s},o)=>(t=gt(t,"card-title"),C.jsx(e,{ref:o,className:dt(r,t),...s})));Sw.displayName="CardTitle";const Aw=w.forwardRef(({bsPrefix:r,className:t,bg:e,text:s,border:o,body:u=!1,children:f,as:d="div",...p},g)=>{const v=gt(r,"card");return C.jsx(d,{ref:g,...p,className:dt(t,v,e&&`bg-${e}`,s&&`text-${s}`,o&&`border-${o}`),children:u?C.jsx(Ty,{children:f}):f})});Aw.displayName="Card";const Ln=Object.assign(Aw,{Img:yw,Title:Sw,Subtitle:Ew,Body:Ty,Link:_w,Text:Tw,Header:gw,Footer:pw,ImgOverlay:vw});function dV(){const r=w.useRef(!0),t=w.useRef(()=>r.current);return w.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),t.current}function mV(r){const t=w.useRef(r);return t.current=r,t}function bw(r){const t=mV(r);w.useEffect(()=>()=>t.current(),[])}const hg=2**31-1;function ww(r,t,e){const s=e-Date.now();r.current=s<=hg?setTimeout(t,s):setTimeout(()=>ww(r,t,e),hg)}function pV(){const r=dV(),t=w.useRef();return bw(()=>clearTimeout(t.current)),w.useMemo(()=>{const e=()=>clearTimeout(t.current);function s(o,u=0){r()&&(e(),u<=hg?t.current=setTimeout(o,u):ww(t,o,Date.now()+u))}return{set:s,clear:e,handleRef:t}},[])}function gV(r,t){return w.Children.toArray(r).some(e=>w.isValidElement(e)&&e.type===t)}function yV({as:r,bsPrefix:t,className:e,...s}){t=gt(t,"col");const o=Qb(),u=Xb(),f=[],d=[];return o.forEach(p=>{const g=s[p];delete s[p];let v,T,S;typeof g=="object"&&g!=null?{span:v,offset:T,order:S}=g:v=g;const I=p!==u?`-${p}`:"";v&&f.push(v===!0?`${t}${I}`:`${t}${I}-${v}`),S!=null&&d.push(`order${I}-${S}`),T!=null&&d.push(`offset${I}-${T}`)}),[{...s,className:dt(e,...f,...d)},{as:r,bsPrefix:t,spans:f}]}const Ea=w.forwardRef((r,t)=>{const[{className:e,...s},{as:o="div",bsPrefix:u,spans:f}]=yV(r);return C.jsx(o,{...s,ref:t,className:dt(e,!f.length&&u)})});Ea.displayName="Col";const Ah=w.forwardRef(({bsPrefix:r,fluid:t=!1,as:e="div",className:s,...o},u)=>{const f=gt(r,"container"),d=typeof t=="string"?`-${t}`:"-fluid";return C.jsx(e,{ref:u,...o,className:dt(s,t?`${f}${d}`:f)})});Ah.displayName="Container";var vV=Function.prototype.bind.call(Function.prototype.call,[].slice);function pa(r,t){return vV(r.querySelectorAll(t))}function _V(){const[,r]=w.useReducer(t=>t+1,0);return r}var $0=Object.prototype.hasOwnProperty;function K0(r,t,e){for(e of r.keys())if(Iu(e,t))return e}function Iu(r,t){var e,s,o;if(r===t)return!0;if(r&&t&&(e=r.constructor)===t.constructor){if(e===Date)return r.getTime()===t.getTime();if(e===RegExp)return r.toString()===t.toString();if(e===Array){if((s=r.length)===t.length)for(;s--&&Iu(r[s],t[s]););return s===-1}if(e===Set){if(r.size!==t.size)return!1;for(s of r)if(o=s,o&&typeof o=="object"&&(o=K0(t,o),!o)||!t.has(o))return!1;return!0}if(e===Map){if(r.size!==t.size)return!1;for(s of r)if(o=s[0],o&&typeof o=="object"&&(o=K0(t,o),!o)||!Iu(s[1],t.get(o)))return!1;return!0}if(e===ArrayBuffer)r=new Uint8Array(r),t=new Uint8Array(t);else if(e===DataView){if((s=r.byteLength)===t.byteLength)for(;s--&&r.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(r)){if((s=r.byteLength)===t.byteLength)for(;s--&&r[s]===t[s];);return s===-1}if(!e||typeof r=="object"){s=0;for(e in r)if($0.call(r,e)&&++s&&!$0.call(t,e)||!(e in t)||!Iu(r[e],t[e]))return!1;return Object.keys(t).length===s}}return r!==r&&t!==t}function EV(r){const t=cw();return[r[0],w.useCallback(e=>{if(t())return r[1](e)},[t,r[1]])]}var bn="top",nr="bottom",rr="right",wn="left",Ay="auto",ac=[bn,nr,rr,wn],Go="start",zu="end",TV="clippingParents",Rw="viewport",mu="popper",SV="reference",Y0=ac.reduce(function(r,t){return r.concat([t+"-"+Go,t+"-"+zu])},[]),Cw=[].concat(ac,[Ay]).reduce(function(r,t){return r.concat([t,t+"-"+Go,t+"-"+zu])},[]),AV="beforeRead",bV="read",wV="afterRead",RV="beforeMain",CV="main",IV="afterMain",OV="beforeWrite",NV="write",DV="afterWrite",xV=[AV,bV,wV,RV,CV,IV,OV,NV,DV];function jr(r){return r.split("-")[0]}function Un(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var t=r.ownerDocument;return t&&t.defaultView||window}return r}function Ca(r){var t=Un(r).Element;return r instanceof t||r instanceof Element}function Br(r){var t=Un(r).HTMLElement;return r instanceof t||r instanceof HTMLElement}function by(r){if(typeof ShadowRoot>"u")return!1;var t=Un(r).ShadowRoot;return r instanceof t||r instanceof ShadowRoot}var Ta=Math.max,bh=Math.min,$o=Math.round;function dg(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Iw(){return!/^((?!chrome|android).)*safari/i.test(dg())}function Ko(r,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var s=r.getBoundingClientRect(),o=1,u=1;t&&Br(r)&&(o=r.offsetWidth>0&&$o(s.width)/r.offsetWidth||1,u=r.offsetHeight>0&&$o(s.height)/r.offsetHeight||1);var f=Ca(r)?Un(r):window,d=f.visualViewport,p=!Iw()&&e,g=(s.left+(p&&d?d.offsetLeft:0))/o,v=(s.top+(p&&d?d.offsetTop:0))/u,T=s.width/o,S=s.height/u;return{width:T,height:S,top:v,right:g+T,bottom:v+S,left:g,x:g,y:v}}function wy(r){var t=Ko(r),e=r.offsetWidth,s=r.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:r.offsetLeft,y:r.offsetTop,width:e,height:s}}function Ow(r,t){var e=t.getRootNode&&t.getRootNode();if(r.contains(t))return!0;if(e&&by(e)){var s=t;do{if(s&&r.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Os(r){return r?(r.nodeName||"").toLowerCase():null}function Ci(r){return Un(r).getComputedStyle(r)}function MV(r){return["table","td","th"].indexOf(Os(r))>=0}function Ms(r){return((Ca(r)?r.ownerDocument:r.document)||window.document).documentElement}function ed(r){return Os(r)==="html"?r:r.assignedSlot||r.parentNode||(by(r)?r.host:null)||Ms(r)}function Q0(r){return!Br(r)||Ci(r).position==="fixed"?null:r.offsetParent}function VV(r){var t=/firefox/i.test(dg()),e=/Trident/i.test(dg());if(e&&Br(r)){var s=Ci(r);if(s.position==="fixed")return null}var o=ed(r);for(by(o)&&(o=o.host);Br(o)&&["html","body"].indexOf(Os(o))<0;){var u=Ci(o);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||t&&u.willChange==="filter"||t&&u.filter&&u.filter!=="none")return o;o=o.parentNode}return null}function oc(r){for(var t=Un(r),e=Q0(r);e&&MV(e)&&Ci(e).position==="static";)e=Q0(e);return e&&(Os(e)==="html"||Os(e)==="body"&&Ci(e).position==="static")?t:e||VV(r)||t}function Ry(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Ou(r,t,e){return Ta(r,bh(t,e))}function kV(r,t,e){var s=Ou(r,t,e);return s>e?e:s}function Nw(){return{top:0,right:0,bottom:0,left:0}}function Dw(r){return Object.assign({},Nw(),r)}function xw(r,t){return t.reduce(function(e,s){return e[s]=r,e},{})}var PV=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Dw(typeof t!="number"?t:xw(t,ac))};function LV(r){var t,e=r.state,s=r.name,o=r.options,u=e.elements.arrow,f=e.modifiersData.popperOffsets,d=jr(e.placement),p=Ry(d),g=[wn,rr].indexOf(d)>=0,v=g?"height":"width";if(!(!u||!f)){var T=PV(o.padding,e),S=wy(u),I=p==="y"?bn:wn,L=p==="y"?nr:rr,H=e.rects.reference[v]+e.rects.reference[p]-f[p]-e.rects.popper[v],P=f[p]-e.rects.reference[p],Z=oc(u),X=Z?p==="y"?Z.clientHeight||0:Z.clientWidth||0:0,Y=H/2-P/2,W=T[I],it=X-S[v]-T[L],at=X/2-S[v]/2+Y,D=Ou(W,at,it),R=p;e.modifiersData[s]=(t={},t[R]=D,t.centerOffset=D-at,t)}}function UV(r){var t=r.state,e=r.options,s=e.element,o=s===void 0?"[data-popper-arrow]":s;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Ow(t.elements.popper,o)&&(t.elements.arrow=o))}const jV={name:"arrow",enabled:!0,phase:"main",fn:LV,effect:UV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yo(r){return r.split("-")[1]}var BV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zV(r,t){var e=r.x,s=r.y,o=t.devicePixelRatio||1;return{x:$o(e*o)/o||0,y:$o(s*o)/o||0}}function X0(r){var t,e=r.popper,s=r.popperRect,o=r.placement,u=r.variation,f=r.offsets,d=r.position,p=r.gpuAcceleration,g=r.adaptive,v=r.roundOffsets,T=r.isFixed,S=f.x,I=S===void 0?0:S,L=f.y,H=L===void 0?0:L,P=typeof v=="function"?v({x:I,y:H}):{x:I,y:H};I=P.x,H=P.y;var Z=f.hasOwnProperty("x"),X=f.hasOwnProperty("y"),Y=wn,W=bn,it=window;if(g){var at=oc(e),D="clientHeight",R="clientWidth";if(at===Un(e)&&(at=Ms(e),Ci(at).position!=="static"&&d==="absolute"&&(D="scrollHeight",R="scrollWidth")),at=at,o===bn||(o===wn||o===rr)&&u===zu){W=nr;var O=T&&at===it&&it.visualViewport?it.visualViewport.height:at[D];H-=O-s.height,H*=p?1:-1}if(o===wn||(o===bn||o===nr)&&u===zu){Y=rr;var M=T&&at===it&&it.visualViewport?it.visualViewport.width:at[R];I-=M-s.width,I*=p?1:-1}}var k=Object.assign({position:d},g&&BV),j=v===!0?zV({x:I,y:H},Un(e)):{x:I,y:H};if(I=j.x,H=j.y,p){var N;return Object.assign({},k,(N={},N[W]=X?"0":"",N[Y]=Z?"0":"",N.transform=(it.devicePixelRatio||1)<=1?"translate("+I+"px, "+H+"px)":"translate3d("+I+"px, "+H+"px, 0)",N))}return Object.assign({},k,(t={},t[W]=X?H+"px":"",t[Y]=Z?I+"px":"",t.transform="",t))}function HV(r){var t=r.state,e=r.options,s=e.gpuAcceleration,o=s===void 0?!0:s,u=e.adaptive,f=u===void 0?!0:u,d=e.roundOffsets,p=d===void 0?!0:d,g={placement:jr(t.placement),variation:Yo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,X0(Object.assign({},g,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:f,roundOffsets:p})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,X0(Object.assign({},g,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const qV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:HV,data:{}};var Bf={passive:!0};function FV(r){var t=r.state,e=r.instance,s=r.options,o=s.scroll,u=o===void 0?!0:o,f=s.resize,d=f===void 0?!0:f,p=Un(t.elements.popper),g=[].concat(t.scrollParents.reference,t.scrollParents.popper);return u&&g.forEach(function(v){v.addEventListener("scroll",e.update,Bf)}),d&&p.addEventListener("resize",e.update,Bf),function(){u&&g.forEach(function(v){v.removeEventListener("scroll",e.update,Bf)}),d&&p.removeEventListener("resize",e.update,Bf)}}const GV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:FV,data:{}};var $V={left:"right",right:"left",bottom:"top",top:"bottom"};function Jf(r){return r.replace(/left|right|bottom|top/g,function(t){return $V[t]})}var KV={start:"end",end:"start"};function W0(r){return r.replace(/start|end/g,function(t){return KV[t]})}function Cy(r){var t=Un(r),e=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:e,scrollTop:s}}function Iy(r){return Ko(Ms(r)).left+Cy(r).scrollLeft}function YV(r,t){var e=Un(r),s=Ms(r),o=e.visualViewport,u=s.clientWidth,f=s.clientHeight,d=0,p=0;if(o){u=o.width,f=o.height;var g=Iw();(g||!g&&t==="fixed")&&(d=o.offsetLeft,p=o.offsetTop)}return{width:u,height:f,x:d+Iy(r),y:p}}function QV(r){var t,e=Ms(r),s=Cy(r),o=(t=r.ownerDocument)==null?void 0:t.body,u=Ta(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),f=Ta(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),d=-s.scrollLeft+Iy(r),p=-s.scrollTop;return Ci(o||e).direction==="rtl"&&(d+=Ta(e.clientWidth,o?o.clientWidth:0)-u),{width:u,height:f,x:d,y:p}}function Oy(r){var t=Ci(r),e=t.overflow,s=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+o+s)}function Mw(r){return["html","body","#document"].indexOf(Os(r))>=0?r.ownerDocument.body:Br(r)&&Oy(r)?r:Mw(ed(r))}function Nu(r,t){var e;t===void 0&&(t=[]);var s=Mw(r),o=s===((e=r.ownerDocument)==null?void 0:e.body),u=Un(s),f=o?[u].concat(u.visualViewport||[],Oy(s)?s:[]):s,d=t.concat(f);return o?d:d.concat(Nu(ed(f)))}function mg(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function XV(r,t){var e=Ko(r,!1,t==="fixed");return e.top=e.top+r.clientTop,e.left=e.left+r.clientLeft,e.bottom=e.top+r.clientHeight,e.right=e.left+r.clientWidth,e.width=r.clientWidth,e.height=r.clientHeight,e.x=e.left,e.y=e.top,e}function Z0(r,t,e){return t===Rw?mg(YV(r,e)):Ca(t)?XV(t,e):mg(QV(Ms(r)))}function WV(r){var t=Nu(ed(r)),e=["absolute","fixed"].indexOf(Ci(r).position)>=0,s=e&&Br(r)?oc(r):r;return Ca(s)?t.filter(function(o){return Ca(o)&&Ow(o,s)&&Os(o)!=="body"}):[]}function ZV(r,t,e,s){var o=t==="clippingParents"?WV(r):[].concat(t),u=[].concat(o,[e]),f=u[0],d=u.reduce(function(p,g){var v=Z0(r,g,s);return p.top=Ta(v.top,p.top),p.right=bh(v.right,p.right),p.bottom=bh(v.bottom,p.bottom),p.left=Ta(v.left,p.left),p},Z0(r,f,s));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function Vw(r){var t=r.reference,e=r.element,s=r.placement,o=s?jr(s):null,u=s?Yo(s):null,f=t.x+t.width/2-e.width/2,d=t.y+t.height/2-e.height/2,p;switch(o){case bn:p={x:f,y:t.y-e.height};break;case nr:p={x:f,y:t.y+t.height};break;case rr:p={x:t.x+t.width,y:d};break;case wn:p={x:t.x-e.width,y:d};break;default:p={x:t.x,y:t.y}}var g=o?Ry(o):null;if(g!=null){var v=g==="y"?"height":"width";switch(u){case Go:p[g]=p[g]-(t[v]/2-e[v]/2);break;case zu:p[g]=p[g]+(t[v]/2-e[v]/2);break}}return p}function Hu(r,t){t===void 0&&(t={});var e=t,s=e.placement,o=s===void 0?r.placement:s,u=e.strategy,f=u===void 0?r.strategy:u,d=e.boundary,p=d===void 0?TV:d,g=e.rootBoundary,v=g===void 0?Rw:g,T=e.elementContext,S=T===void 0?mu:T,I=e.altBoundary,L=I===void 0?!1:I,H=e.padding,P=H===void 0?0:H,Z=Dw(typeof P!="number"?P:xw(P,ac)),X=S===mu?SV:mu,Y=r.rects.popper,W=r.elements[L?X:S],it=ZV(Ca(W)?W:W.contextElement||Ms(r.elements.popper),p,v,f),at=Ko(r.elements.reference),D=Vw({reference:at,element:Y,placement:o}),R=mg(Object.assign({},Y,D)),O=S===mu?R:at,M={top:it.top-O.top+Z.top,bottom:O.bottom-it.bottom+Z.bottom,left:it.left-O.left+Z.left,right:O.right-it.right+Z.right},k=r.modifiersData.offset;if(S===mu&&k){var j=k[o];Object.keys(M).forEach(function(N){var xt=[rr,nr].indexOf(N)>=0?1:-1,Ct=[bn,nr].indexOf(N)>=0?"y":"x";M[N]+=j[Ct]*xt})}return M}function JV(r,t){t===void 0&&(t={});var e=t,s=e.placement,o=e.boundary,u=e.rootBoundary,f=e.padding,d=e.flipVariations,p=e.allowedAutoPlacements,g=p===void 0?Cw:p,v=Yo(s),T=v?d?Y0:Y0.filter(function(L){return Yo(L)===v}):ac,S=T.filter(function(L){return g.indexOf(L)>=0});S.length===0&&(S=T);var I=S.reduce(function(L,H){return L[H]=Hu(r,{placement:H,boundary:o,rootBoundary:u,padding:f})[jr(H)],L},{});return Object.keys(I).sort(function(L,H){return I[L]-I[H]})}function t4(r){if(jr(r)===Ay)return[];var t=Jf(r);return[W0(r),t,W0(t)]}function e4(r){var t=r.state,e=r.options,s=r.name;if(!t.modifiersData[s]._skip){for(var o=e.mainAxis,u=o===void 0?!0:o,f=e.altAxis,d=f===void 0?!0:f,p=e.fallbackPlacements,g=e.padding,v=e.boundary,T=e.rootBoundary,S=e.altBoundary,I=e.flipVariations,L=I===void 0?!0:I,H=e.allowedAutoPlacements,P=t.options.placement,Z=jr(P),X=Z===P,Y=p||(X||!L?[Jf(P)]:t4(P)),W=[P].concat(Y).reduce(function(ht,vt){return ht.concat(jr(vt)===Ay?JV(t,{placement:vt,boundary:v,rootBoundary:T,padding:g,flipVariations:L,allowedAutoPlacements:H}):vt)},[]),it=t.rects.reference,at=t.rects.popper,D=new Map,R=!0,O=W[0],M=0;M<W.length;M++){var k=W[M],j=jr(k),N=Yo(k)===Go,xt=[bn,nr].indexOf(j)>=0,Ct=xt?"width":"height",$=Hu(t,{placement:k,boundary:v,rootBoundary:T,altBoundary:S,padding:g}),lt=xt?N?rr:wn:N?nr:bn;it[Ct]>at[Ct]&&(lt=Jf(lt));var ft=Jf(lt),Ot=[];if(u&&Ot.push($[j]<=0),d&&Ot.push($[lt]<=0,$[ft]<=0),Ot.every(function(ht){return ht})){O=k,R=!1;break}D.set(k,Ot)}if(R)for(var V=L?3:1,tt=function(vt){var Et=W.find(function(te){var Pt=D.get(te);if(Pt)return Pt.slice(0,vt).every(function(Te){return Te})});if(Et)return O=Et,"break"},ut=V;ut>0;ut--){var st=tt(ut);if(st==="break")break}t.placement!==O&&(t.modifiersData[s]._skip=!0,t.placement=O,t.reset=!0)}}const n4={name:"flip",enabled:!0,phase:"main",fn:e4,requiresIfExists:["offset"],data:{_skip:!1}};function J0(r,t,e){return e===void 0&&(e={x:0,y:0}),{top:r.top-t.height-e.y,right:r.right-t.width+e.x,bottom:r.bottom-t.height+e.y,left:r.left-t.width-e.x}}function tS(r){return[bn,rr,nr,wn].some(function(t){return r[t]>=0})}function r4(r){var t=r.state,e=r.name,s=t.rects.reference,o=t.rects.popper,u=t.modifiersData.preventOverflow,f=Hu(t,{elementContext:"reference"}),d=Hu(t,{altBoundary:!0}),p=J0(f,s),g=J0(d,o,u),v=tS(p),T=tS(g);t.modifiersData[e]={referenceClippingOffsets:p,popperEscapeOffsets:g,isReferenceHidden:v,hasPopperEscaped:T},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":T})}const i4={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:r4};function s4(r,t,e){var s=jr(r),o=[wn,bn].indexOf(s)>=0?-1:1,u=typeof e=="function"?e(Object.assign({},t,{placement:r})):e,f=u[0],d=u[1];return f=f||0,d=(d||0)*o,[wn,rr].indexOf(s)>=0?{x:d,y:f}:{x:f,y:d}}function a4(r){var t=r.state,e=r.options,s=r.name,o=e.offset,u=o===void 0?[0,0]:o,f=Cw.reduce(function(v,T){return v[T]=s4(T,t.rects,u),v},{}),d=f[t.placement],p=d.x,g=d.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=p,t.modifiersData.popperOffsets.y+=g),t.modifiersData[s]=f}const o4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:a4};function l4(r){var t=r.state,e=r.name;t.modifiersData[e]=Vw({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const u4={name:"popperOffsets",enabled:!0,phase:"read",fn:l4,data:{}};function c4(r){return r==="x"?"y":"x"}function f4(r){var t=r.state,e=r.options,s=r.name,o=e.mainAxis,u=o===void 0?!0:o,f=e.altAxis,d=f===void 0?!1:f,p=e.boundary,g=e.rootBoundary,v=e.altBoundary,T=e.padding,S=e.tether,I=S===void 0?!0:S,L=e.tetherOffset,H=L===void 0?0:L,P=Hu(t,{boundary:p,rootBoundary:g,padding:T,altBoundary:v}),Z=jr(t.placement),X=Yo(t.placement),Y=!X,W=Ry(Z),it=c4(W),at=t.modifiersData.popperOffsets,D=t.rects.reference,R=t.rects.popper,O=typeof H=="function"?H(Object.assign({},t.rects,{placement:t.placement})):H,M=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(at){if(u){var N,xt=W==="y"?bn:wn,Ct=W==="y"?nr:rr,$=W==="y"?"height":"width",lt=at[W],ft=lt+P[xt],Ot=lt-P[Ct],V=I?-R[$]/2:0,tt=X===Go?D[$]:R[$],ut=X===Go?-R[$]:-D[$],st=t.elements.arrow,ht=I&&st?wy(st):{width:0,height:0},vt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Nw(),Et=vt[xt],te=vt[Ct],Pt=Ou(0,D[$],ht[$]),Te=Y?D[$]/2-V-Pt-Et-M.mainAxis:tt-Pt-Et-M.mainAxis,Ge=Y?-D[$]/2+V+Pt+te+M.mainAxis:ut+Pt+te+M.mainAxis,Le=t.elements.arrow&&oc(t.elements.arrow),en=Le?W==="y"?Le.clientTop||0:Le.clientLeft||0:0,nn=(N=k?.[W])!=null?N:0,rn=lt+Te-nn-en,Kt=lt+Ge-nn,jn=Ou(I?bh(ft,rn):ft,lt,I?Ta(Ot,Kt):Ot);at[W]=jn,j[W]=jn-lt}if(d){var ge,Vs=W==="x"?bn:wn,qr=W==="x"?nr:rr,sn=at[it],vn=it==="y"?"height":"width",xi=sn+P[Vs],ir=sn-P[qr],Bn=[bn,wn].indexOf(Z)!==-1,Fr=(ge=k?.[it])!=null?ge:0,Tt=Bn?xi:sn-D[vn]-R[vn]-Fr+M.altAxis,Vt=Bn?sn+D[vn]+R[vn]-Fr-M.altAxis:ir,Ie=I&&Bn?kV(Tt,sn,Vt):Ou(I?Tt:xi,sn,I?Vt:ir);at[it]=Ie,j[it]=Ie-sn}t.modifiersData[s]=j}}const h4={name:"preventOverflow",enabled:!0,phase:"main",fn:f4,requiresIfExists:["offset"]};function d4(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function m4(r){return r===Un(r)||!Br(r)?Cy(r):d4(r)}function p4(r){var t=r.getBoundingClientRect(),e=$o(t.width)/r.offsetWidth||1,s=$o(t.height)/r.offsetHeight||1;return e!==1||s!==1}function g4(r,t,e){e===void 0&&(e=!1);var s=Br(t),o=Br(t)&&p4(t),u=Ms(t),f=Ko(r,o,e),d={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(s||!s&&!e)&&((Os(t)!=="body"||Oy(u))&&(d=m4(t)),Br(t)?(p=Ko(t,!0),p.x+=t.clientLeft,p.y+=t.clientTop):u&&(p.x=Iy(u))),{x:f.left+d.scrollLeft-p.x,y:f.top+d.scrollTop-p.y,width:f.width,height:f.height}}function y4(r){var t=new Map,e=new Set,s=[];r.forEach(function(u){t.set(u.name,u)});function o(u){e.add(u.name);var f=[].concat(u.requires||[],u.requiresIfExists||[]);f.forEach(function(d){if(!e.has(d)){var p=t.get(d);p&&o(p)}}),s.push(u)}return r.forEach(function(u){e.has(u.name)||o(u)}),s}function v4(r){var t=y4(r);return xV.reduce(function(e,s){return e.concat(t.filter(function(o){return o.phase===s}))},[])}function _4(r){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(r())})})),t}}function E4(r){var t=r.reduce(function(e,s){var o=e[s.name];return e[s.name]=o?Object.assign({},o,s,{options:Object.assign({},o.options,s.options),data:Object.assign({},o.data,s.data)}):s,e},{});return Object.keys(t).map(function(e){return t[e]})}var eS={placement:"bottom",modifiers:[],strategy:"absolute"};function nS(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function T4(r){r===void 0&&(r={});var t=r,e=t.defaultModifiers,s=e===void 0?[]:e,o=t.defaultOptions,u=o===void 0?eS:o;return function(d,p,g){g===void 0&&(g=u);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},eS,u),modifiersData:{},elements:{reference:d,popper:p},attributes:{},styles:{}},T=[],S=!1,I={state:v,setOptions:function(Z){var X=typeof Z=="function"?Z(v.options):Z;H(),v.options=Object.assign({},u,v.options,X),v.scrollParents={reference:Ca(d)?Nu(d):d.contextElement?Nu(d.contextElement):[],popper:Nu(p)};var Y=v4(E4([].concat(s,v.options.modifiers)));return v.orderedModifiers=Y.filter(function(W){return W.enabled}),L(),I.update()},forceUpdate:function(){if(!S){var Z=v.elements,X=Z.reference,Y=Z.popper;if(nS(X,Y)){v.rects={reference:g4(X,oc(Y),v.options.strategy==="fixed"),popper:wy(Y)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(M){return v.modifiersData[M.name]=Object.assign({},M.data)});for(var W=0;W<v.orderedModifiers.length;W++){if(v.reset===!0){v.reset=!1,W=-1;continue}var it=v.orderedModifiers[W],at=it.fn,D=it.options,R=D===void 0?{}:D,O=it.name;typeof at=="function"&&(v=at({state:v,options:R,name:O,instance:I})||v)}}}},update:_4(function(){return new Promise(function(P){I.forceUpdate(),P(v)})}),destroy:function(){H(),S=!0}};if(!nS(d,p))return I;I.setOptions(g).then(function(P){!S&&g.onFirstUpdate&&g.onFirstUpdate(P)});function L(){v.orderedModifiers.forEach(function(P){var Z=P.name,X=P.options,Y=X===void 0?{}:X,W=P.effect;if(typeof W=="function"){var it=W({state:v,name:Z,instance:I,options:Y}),at=function(){};T.push(it||at)}})}function H(){T.forEach(function(P){return P()}),T=[]}return I}}const S4=T4({defaultModifiers:[i4,u4,qV,GV,o4,n4,h4,jV]}),A4=["enabled","placement","strategy","modifiers"];function b4(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}const w4={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},R4={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:r})=>()=>{const{reference:t,popper:e}=r.elements;if("removeAttribute"in t){const s=(t.getAttribute("aria-describedby")||"").split(",").filter(o=>o.trim()!==e.id);s.length?t.setAttribute("aria-describedby",s.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:r})=>{var t;const{popper:e,reference:s}=r.elements,o=(t=e.getAttribute("role"))==null?void 0:t.toLowerCase();if(e.id&&o==="tooltip"&&"setAttribute"in s){const u=s.getAttribute("aria-describedby");if(u&&u.split(",").indexOf(e.id)!==-1)return;s.setAttribute("aria-describedby",u?`${u},${e.id}`:e.id)}}},C4=[];function I4(r,t,e={}){let{enabled:s=!0,placement:o="bottom",strategy:u="absolute",modifiers:f=C4}=e,d=b4(e,A4);const p=w.useRef(f),g=w.useRef(),v=w.useCallback(()=>{var P;(P=g.current)==null||P.update()},[]),T=w.useCallback(()=>{var P;(P=g.current)==null||P.forceUpdate()},[]),[S,I]=EV(w.useState({placement:o,update:v,forceUpdate:T,attributes:{},styles:{popper:{},arrow:{}}})),L=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:P})=>{const Z={},X={};Object.keys(P.elements).forEach(Y=>{Z[Y]=P.styles[Y],X[Y]=P.attributes[Y]}),I({state:P,styles:Z,attributes:X,update:v,forceUpdate:T,placement:P.placement})}}),[v,T,I]),H=w.useMemo(()=>(Iu(p.current,f)||(p.current=f),p.current),[f]);return w.useEffect(()=>{!g.current||!s||g.current.setOptions({placement:o,strategy:u,modifiers:[...H,L,w4]})},[u,o,L,s,H]),w.useEffect(()=>{if(!(!s||r==null||t==null))return g.current=S4(r,t,Object.assign({},d,{placement:o,strategy:u,modifiers:[...H,R4,L]})),()=>{g.current!=null&&(g.current.destroy(),g.current=void 0,I(P=>Object.assign({},P,{attributes:{},styles:{popper:{}}})))}},[s,r,t]),S}function qu(r,t){if(r.contains)return r.contains(t);if(r.compareDocumentPosition)return r===t||!!(r.compareDocumentPosition(t)&16)}var Rp,rS;function O4(){if(rS)return Rp;rS=1;var r=function(){};return Rp=r,Rp}var N4=O4();const D4=Gu(N4),iS=()=>{};function x4(r){return r.button===0}function M4(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}const th=r=>r&&("current"in r?r.current:r),sS={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function V4(r,t=iS,{disabled:e,clickTrigger:s="click"}={}){const o=w.useRef(!1),u=w.useRef(!1),f=w.useCallback(g=>{const v=th(r);D4(!!v,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!v||M4(g)||!x4(g)||!!qu(v,g.target)||u.current,u.current=!1},[r]),d=tr(g=>{const v=th(r);v&&qu(v,g.target)?u.current=!0:u.current=!1}),p=tr(g=>{o.current||t(g)});w.useEffect(()=>{var g,v;if(e||r==null)return;const T=rl(th(r)),S=T.defaultView||window;let I=(g=S.event)!=null?g:(v=S.parent)==null?void 0:v.event,L=null;sS[s]&&(L=Ei(T,sS[s],d,!0));const H=Ei(T,s,f,!0),P=Ei(T,s,X=>{if(X===I){I=void 0;return}p(X)});let Z=[];return"ontouchstart"in T.documentElement&&(Z=[].slice.call(T.body.children).map(X=>Ei(X,"mousemove",iS))),()=>{L?.(),H(),P(),Z.forEach(X=>X())}},[r,e,s,f,d,p])}function k4(r){const t={};return Array.isArray(r)?(r?.forEach(e=>{t[e.name]=e}),t):r||t}function P4(r={}){return Array.isArray(r)?r:Object.keys(r).map(t=>(r[t].name=t,r[t]))}function L4({enabled:r,enableEvents:t,placement:e,flip:s,offset:o,fixed:u,containerPadding:f,arrowElement:d,popperConfig:p={}}){var g,v,T,S;const I=k4(p.modifiers);return Object.assign({},p,{placement:e,enabled:r,strategy:u?"fixed":p.strategy,modifiers:P4(Object.assign({},I,{eventListeners:{enabled:t,options:(g=I.eventListeners)==null?void 0:g.options},preventOverflow:Object.assign({},I.preventOverflow,{options:Object.assign({padding:f},(v=I.preventOverflow)==null?void 0:v.options)}),offset:{options:Object.assign({offset:o},(T=I.offset)==null?void 0:T.options)},arrow:Object.assign({},I.arrow,{enabled:!!d,options:Object.assign({},(S=I.arrow)==null?void 0:S.options,{element:d})}),flip:Object.assign({enabled:!!s},I.flip)}))})}const wh=w.createContext(null),Ny=(r,t=null)=>r!=null?String(r):t||null,Dy=w.createContext(null);Dy.displayName="NavContext";const U4="data-rr-ui-",j4="rrUi";function nd(r){return`${U4}${r}`}function B4(r){return`${j4}${r}`}const kw=w.createContext(il?window:void 0);kw.Provider;function xy(){return w.useContext(kw)}const z4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",H4=typeof document<"u",Pw=H4||z4?w.useLayoutEffect:w.useEffect,Lw=w.createContext(null);Lw.displayName="InputGroupContext";const sl=w.createContext(null);sl.displayName="NavbarContext";const q4={type:hn.string,tooltip:hn.bool,as:hn.elementType},rd=w.forwardRef(({as:r="div",className:t,type:e="valid",tooltip:s=!1,...o},u)=>C.jsx(r,{...o,ref:u,className:dt(t,`${e}-${s?"tooltip":"feedback"}`)}));rd.displayName="Feedback";rd.propTypes=q4;const Ii=w.createContext({}),lc=w.forwardRef(({id:r,bsPrefix:t,className:e,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:f="input",...d},p)=>{const{controlId:g}=w.useContext(Ii);return t=gt(t,"form-check-input"),C.jsx(f,{...d,ref:p,type:s,id:r||g,className:dt(e,t,o&&"is-valid",u&&"is-invalid")})});lc.displayName="FormCheckInput";const Rh=w.forwardRef(({bsPrefix:r,className:t,htmlFor:e,...s},o)=>{const{controlId:u}=w.useContext(Ii);return r=gt(r,"form-check-label"),C.jsx("label",{...s,ref:o,htmlFor:e||u,className:dt(t,r)})});Rh.displayName="FormCheckLabel";const Uw=w.forwardRef(({id:r,bsPrefix:t,bsSwitchPrefix:e,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:f=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:v,className:T,style:S,title:I="",type:L="checkbox",label:H,children:P,as:Z="input",...X},Y)=>{t=gt(t,"form-check"),e=gt(e,"form-switch");const{controlId:W}=w.useContext(Ii),it=w.useMemo(()=>({controlId:r||W}),[W,r]),at=!P&&H!=null&&H!==!1||gV(P,Rh),D=C.jsx(lc,{...X,type:L==="switch"?"checkbox":L,ref:Y,isValid:f,isInvalid:d,disabled:u,as:Z});return C.jsx(Ii.Provider,{value:it,children:C.jsx("div",{style:S,className:dt(T,at&&t,s&&`${t}-inline`,o&&`${t}-reverse`,L==="switch"&&e),children:P||C.jsxs(C.Fragment,{children:[D,at&&C.jsx(Rh,{title:I,children:H}),g&&C.jsx(rd,{type:v,tooltip:p,children:g})]})})})});Uw.displayName="FormCheck";const Ch=Object.assign(Uw,{Input:lc,Label:Rh}),jw=w.forwardRef(({bsPrefix:r,type:t,size:e,htmlSize:s,id:o,className:u,isValid:f=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:v="input",...T},S)=>{const{controlId:I}=w.useContext(Ii);return r=gt(r,"form-control"),C.jsx(v,{...T,type:t,size:s,ref:S,readOnly:g,id:o||I,className:dt(u,p?`${r}-plaintext`:r,e&&`${r}-${e}`,t==="color"&&`${r}-color`,f&&"is-valid",d&&"is-invalid")})});jw.displayName="FormControl";const F4=Object.assign(jw,{Feedback:rd}),Bw=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"form-floating"),C.jsx(e,{ref:o,className:dt(r,t),...s})));Bw.displayName="FormFloating";const My=w.forwardRef(({controlId:r,as:t="div",...e},s)=>{const o=w.useMemo(()=>({controlId:r}),[r]);return C.jsx(Ii.Provider,{value:o,children:C.jsx(t,{...e,ref:s})})});My.displayName="FormGroup";const zw=w.forwardRef(({as:r="label",bsPrefix:t,column:e=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...f},d)=>{const{controlId:p}=w.useContext(Ii);t=gt(t,"form-label");let g="col-form-label";typeof e=="string"&&(g=`${g} ${g}-${e}`);const v=dt(o,t,s&&"visually-hidden",e&&g);return u=u||p,e?C.jsx(Ea,{ref:d,as:"label",className:v,htmlFor:u,...f}):C.jsx(r,{ref:d,className:v,htmlFor:u,...f})});zw.displayName="FormLabel";const Hw=w.forwardRef(({bsPrefix:r,className:t,id:e,...s},o)=>{const{controlId:u}=w.useContext(Ii);return r=gt(r,"form-range"),C.jsx("input",{...s,type:"range",ref:o,className:dt(t,r),id:e||u})});Hw.displayName="FormRange";const qw=w.forwardRef(({bsPrefix:r,size:t,htmlSize:e,className:s,isValid:o=!1,isInvalid:u=!1,id:f,...d},p)=>{const{controlId:g}=w.useContext(Ii);return r=gt(r,"form-select"),C.jsx("select",{...d,size:e,ref:p,className:dt(s,r,t&&`${r}-${t}`,o&&"is-valid",u&&"is-invalid"),id:f||g})});qw.displayName="FormSelect";const Fw=w.forwardRef(({bsPrefix:r,className:t,as:e="small",muted:s,...o},u)=>(r=gt(r,"form-text"),C.jsx(e,{...o,ref:u,className:dt(t,r,s&&"text-muted")})));Fw.displayName="FormText";const Gw=w.forwardRef((r,t)=>C.jsx(Ch,{...r,ref:t,type:"switch"}));Gw.displayName="Switch";const G4=Object.assign(Gw,{Input:Ch.Input,Label:Ch.Label}),yi=w.forwardRef(({bsPrefix:r,className:t,children:e,controlId:s,label:o,...u},f)=>(r=gt(r,"form-floating"),C.jsxs(My,{ref:f,className:dt(t,r),controlId:s,...u,children:[e,C.jsx("label",{htmlFor:s,children:o})]})));yi.displayName="FloatingLabel";const $4={_ref:hn.any,validated:hn.bool,as:hn.elementType},Vy=w.forwardRef(({className:r,validated:t,as:e="form",...s},o)=>C.jsx(e,{...s,ref:o,className:dt(r,t&&"was-validated")}));Vy.displayName="Form";Vy.propTypes=$4;const le=Object.assign(Vy,{Group:My,Control:F4,Floating:Bw,Check:Ch,Switch:G4,Label:zw,Text:Fw,Range:Hw,Select:qw,FloatingLabel:yi}),id=w.forwardRef(({className:r,bsPrefix:t,as:e="span",...s},o)=>(t=gt(t,"input-group-text"),C.jsx(e,{ref:o,className:dt(r,t),...s})));id.displayName="InputGroupText";const K4=r=>C.jsx(id,{children:C.jsx(lc,{type:"checkbox",...r})}),Y4=r=>C.jsx(id,{children:C.jsx(lc,{type:"radio",...r})}),$w=w.forwardRef(({bsPrefix:r,size:t,hasValidation:e,className:s,as:o="div",...u},f)=>{r=gt(r,"input-group");const d=w.useMemo(()=>({}),[]);return C.jsx(Lw.Provider,{value:d,children:C.jsx(o,{ref:f,...u,className:dt(s,r,t&&`${r}-${t}`,e&&"has-validation")})})});$w.displayName="InputGroup";const Kw=Object.assign($w,{Text:id,Radio:Y4,Checkbox:K4}),aS=r=>!r||typeof r=="function"?r:t=>{r.current=t};function Q4(r,t){const e=aS(r),s=aS(t);return o=>{e&&e(o),s&&s(o)}}function uc(r,t){return w.useMemo(()=>Q4(r,t),[r,t])}const Yw=w.createContext(null),X4=["as","active","eventKey"];function W4(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function Qw({key:r,onClick:t,active:e,id:s,role:o,disabled:u}){const f=w.useContext(wh),d=w.useContext(Dy),p=w.useContext(Yw);let g=e;const v={role:o};if(d){!o&&d.role==="tablist"&&(v.role="tab");const T=d.getControllerId(r??null),S=d.getControlledId(r??null);v[nd("event-key")]=r,v.id=T||s,g=e==null&&r!=null?d.activeKey===r:e,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(v["aria-controls"]=S)}return v.role==="tab"&&(v["aria-selected"]=g,g||(v.tabIndex=-1),u&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=tr(T=>{u||(t?.(T),r!=null&&f&&!T.isPropagationStopped()&&f(r,T))}),[v,{isActive:g}]}const Xw=w.forwardRef((r,t)=>{let{as:e=fw,active:s,eventKey:o}=r,u=W4(r,X4);const[f,d]=Qw(Object.assign({key:Ny(o,u.href),active:s},u));return f[nd("active")]=d.isActive,C.jsx(e,Object.assign({},u,f,{ref:t}))});Xw.displayName="NavItem";const Z4=["as","onSelect","activeKey","role","onKeyDown"];function J4(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}const oS=()=>{},lS=nd("event-key"),Ww=w.forwardRef((r,t)=>{let{as:e="div",onSelect:s,activeKey:o,role:u,onKeyDown:f}=r,d=J4(r,Z4);const p=_V(),g=w.useRef(!1),v=w.useContext(wh),T=w.useContext(Yw);let S,I;T&&(u=u||"tablist",o=T.activeKey,S=T.getControlledId,I=T.getControllerId);const L=w.useRef(null),H=Y=>{const W=L.current;if(!W)return null;const it=pa(W,`[${lS}]:not([aria-disabled=true])`),at=W.querySelector("[aria-selected=true]");if(!at||at!==document.activeElement)return null;const D=it.indexOf(at);if(D===-1)return null;let R=D+Y;return R>=it.length&&(R=0),R<0&&(R=it.length-1),it[R]},P=(Y,W)=>{Y!=null&&(s?.(Y,W),v?.(Y,W))},Z=Y=>{if(f?.(Y),!T)return;let W;switch(Y.key){case"ArrowLeft":case"ArrowUp":W=H(-1);break;case"ArrowRight":case"ArrowDown":W=H(1);break;default:return}W&&(Y.preventDefault(),P(W.dataset[B4("EventKey")]||null,Y),g.current=!0,p())};w.useEffect(()=>{if(L.current&&g.current){const Y=L.current.querySelector(`[${lS}][aria-selected=true]`);Y?.focus()}g.current=!1});const X=uc(t,L);return C.jsx(wh.Provider,{value:P,children:C.jsx(Dy.Provider,{value:{role:u,activeKey:Ny(o),getControlledId:S||oS,getControllerId:I||oS},children:C.jsx(e,Object.assign({},d,{onKeyDown:Z,ref:X,role:u}))})})});Ww.displayName="Nav";const tk=Object.assign(Ww,{Item:Xw});var zf;function uS(r){if((!zf&&zf!==0||r)&&il){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),zf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return zf}function ek(){return w.useState(null)}function Cp(r){r===void 0&&(r=rl());try{var t=r.activeElement;return!t||!t.nodeName?null:t}catch{return r.body}}function nk(r){const t=w.useRef(r);return t.current=r,t}function rk(r){const t=nk(r);w.useEffect(()=>()=>t.current(),[])}function ik(r=document){const t=r.defaultView;return Math.abs(t.innerWidth-r.documentElement.clientWidth)}const cS=nd("modal-open");class ky{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:s=!1}={}){this.handleContainerOverflow=e,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return ik(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(e[s]=`${parseInt(Si(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(cS,""),Si(o,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(cS),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Ip=(r,t)=>il?r==null?(t||rl()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function pg(r,t){const e=xy(),[s,o]=w.useState(()=>Ip(r,e?.document));if(!s){const u=Ip(r);u&&o(u)}return w.useEffect(()=>{},[t,s]),w.useEffect(()=>{const u=Ip(r);u!==s&&o(u)},[r,s]),s}function sk({children:r,in:t,onExited:e,mountOnEnter:s,unmountOnExit:o}){const u=w.useRef(null),f=w.useRef(t),d=tr(e);w.useEffect(()=>{t?f.current=!0:d(u.current)},[t,d]);const p=uc(u,Da(r)),g=w.cloneElement(r,{ref:p});return t?g:o||!f.current&&s?null:g}const ak=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ok(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}function lk(r){let{onEnter:t,onEntering:e,onEntered:s,onExit:o,onExiting:u,onExited:f,addEndListener:d,children:p}=r,g=ok(r,ak);const v=w.useRef(null),T=uc(v,Da(p)),S=W=>it=>{W&&v.current&&W(v.current,it)},I=w.useCallback(S(t),[t]),L=w.useCallback(S(e),[e]),H=w.useCallback(S(s),[s]),P=w.useCallback(S(o),[o]),Z=w.useCallback(S(u),[u]),X=w.useCallback(S(f),[f]),Y=w.useCallback(S(d),[d]);return Object.assign({},g,{nodeRef:v},t&&{onEnter:I},e&&{onEntering:L},s&&{onEntered:H},o&&{onExit:P},u&&{onExiting:Z},f&&{onExited:X},d&&{addEndListener:Y},{children:typeof p=="function"?(W,it)=>p(W,Object.assign({},it,{ref:T})):w.cloneElement(p,{ref:T})})}const uk=["component"];function ck(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}const fk=w.forwardRef((r,t)=>{let{component:e}=r,s=ck(r,uk);const o=lk(s);return C.jsx(e,Object.assign({ref:t},o))});function hk({in:r,onTransition:t}){const e=w.useRef(null),s=w.useRef(!0),o=tr(t);return G0(()=>{if(!e.current)return;let u=!1;return o({in:r,element:e.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[r,o]),G0(()=>(s.current=!1,()=>{s.current=!0}),[]),e}function dk({children:r,in:t,onExited:e,onEntered:s,transition:o}){const[u,f]=w.useState(!t);t&&u&&f(!1);const d=hk({in:!!t,onTransition:g=>{const v=()=>{g.isStale()||(g.in?s?.(g.element,g.initial):(f(!0),e?.(g.element)))};Promise.resolve(o(g)).then(v,T=>{throw g.in||f(!0),T})}}),p=uc(d,Da(r));return u&&!t?null:w.cloneElement(r,{ref:p})}function gg(r,t,e){return r?C.jsx(fk,Object.assign({},e,{component:r})):t?C.jsx(dk,Object.assign({},e,{transition:t})):C.jsx(sk,Object.assign({},e))}const mk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function pk(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;e[s]=r[s]}return e}let Op;function gk(r){return Op||(Op=new ky({ownerDocument:r?.document})),Op}function yk(r){const t=xy(),e=r||gk(t),s=w.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>e.add(s.current),remove:()=>e.remove(s.current),isTopModal:()=>e.isTopModal(s.current),setDialogRef:w.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:w.useCallback(o=>{s.current.backdrop=o},[])})}const Zw=w.forwardRef((r,t)=>{let{show:e=!1,role:s="dialog",className:o,style:u,children:f,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:v,transition:T,runTransition:S,backdropTransition:I,runBackdropTransition:L,autoFocus:H=!0,enforceFocus:P=!0,restoreFocus:Z=!0,restoreFocusOptions:X,renderDialog:Y,renderBackdrop:W=Kt=>C.jsx("div",Object.assign({},Kt)),manager:it,container:at,onShow:D,onHide:R=()=>{},onExit:O,onExited:M,onExiting:k,onEnter:j,onEntering:N,onEntered:xt}=r,Ct=pk(r,mk);const $=xy(),lt=pg(at),ft=yk(it),Ot=cw(),V=JM(e),[tt,ut]=w.useState(!e),st=w.useRef(null);w.useImperativeHandle(t,()=>ft,[ft]),il&&!V&&e&&(st.current=Cp($?.document)),e&&tt&&ut(!1);const ht=tr(()=>{if(ft.add(),Ge.current=Ei(document,"keydown",Pt),Te.current=Ei(document,"focus",()=>setTimeout(Et),!0),D&&D(),H){var Kt,jn;const ge=Cp((Kt=(jn=ft.dialog)==null?void 0:jn.ownerDocument)!=null?Kt:$?.document);ft.dialog&&ge&&!qu(ft.dialog,ge)&&(st.current=ge,ft.dialog.focus())}}),vt=tr(()=>{if(ft.remove(),Ge.current==null||Ge.current(),Te.current==null||Te.current(),Z){var Kt;(Kt=st.current)==null||Kt.focus==null||Kt.focus(X),st.current=null}});w.useEffect(()=>{!e||!lt||ht()},[e,lt,ht]),w.useEffect(()=>{tt&&vt()},[tt,vt]),rk(()=>{vt()});const Et=tr(()=>{if(!P||!Ot()||!ft.isTopModal())return;const Kt=Cp($?.document);ft.dialog&&Kt&&!qu(ft.dialog,Kt)&&ft.dialog.focus()}),te=tr(Kt=>{Kt.target===Kt.currentTarget&&(g?.(Kt),d===!0&&R())}),Pt=tr(Kt=>{p&&Zb(Kt)&&ft.isTopModal()&&(v?.(Kt),Kt.defaultPrevented||R())}),Te=w.useRef(),Ge=w.useRef(),Le=(...Kt)=>{ut(!0),M?.(...Kt)};if(!lt)return null;const en=Object.assign({role:s,ref:ft.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Ct,{style:u,className:o,tabIndex:-1});let nn=Y?Y(en):C.jsx("div",Object.assign({},en,{children:w.cloneElement(f,{role:"document"})}));nn=gg(T,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:O,onExiting:k,onExited:Le,onEnter:j,onEntering:N,onEntered:xt,children:nn});let rn=null;return d&&(rn=W({ref:ft.setBackdropRef,onClick:te}),rn=gg(I,L,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:rn})),C.jsx(C.Fragment,{children:ya.createPortal(C.jsxs(C.Fragment,{children:[rn,nn]}),lt)})});Zw.displayName="Modal";const Jw=Object.assign(Zw,{Manager:ky});function yg(r,t){return r.classList?!!t&&r.classList.contains(t):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+t+" ")!==-1}function vk(r,t){r.classList?r.classList.add(t):yg(r,t)||(typeof r.className=="string"?r.className=r.className+" "+t:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+t))}function fS(r,t){return r.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function _k(r,t){r.classList?r.classList.remove(t):typeof r.className=="string"?r.className=fS(r.className,t):r.setAttribute("class",fS(r.className&&r.className.baseVal||"",t))}const bo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class t1 extends ky{adjustAndStore(t,e,s){const o=e.style[t];e.dataset[t]=o,Si(e,{[t]:`${parseFloat(Si(e,t))+s}px`})}restore(t,e){const s=e.dataset[t];s!==void 0&&(delete e.dataset[t],Si(e,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(vk(e,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";pa(e,bo.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,t.scrollBarWidth)),pa(e,bo.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-t.scrollBarWidth)),pa(e,bo.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();_k(e,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";pa(e,bo.FIXED_CONTENT).forEach(u=>this.restore(s,u)),pa(e,bo.STICKY_CONTENT).forEach(u=>this.restore(o,u)),pa(e,bo.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let Np;function e1(r){return Np||(Np=new t1(r)),Np}const n1=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"modal-body"),C.jsx(e,{ref:o,className:dt(r,t),...s})));n1.displayName="ModalBody";const Py=w.createContext({onHide(){}}),Ly=w.forwardRef(({bsPrefix:r,className:t,contentClassName:e,centered:s,size:o,fullscreen:u,children:f,scrollable:d,...p},g)=>{r=gt(r,"modal");const v=`${r}-dialog`,T=typeof u=="string"?`${r}-fullscreen-${u}`:`${r}-fullscreen`;return C.jsx("div",{...p,ref:g,className:dt(v,t,o&&`${r}-${o}`,s&&`${v}-centered`,d&&`${v}-scrollable`,u&&T),children:C.jsx("div",{className:dt(`${r}-content`,e),children:f})})});Ly.displayName="ModalDialog";const r1=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"modal-footer"),C.jsx(e,{ref:o,className:dt(r,t),...s})));r1.displayName="ModalFooter";const Uy=w.forwardRef(({closeLabel:r="Close",closeVariant:t,closeButton:e=!1,onHide:s,children:o,...u},f)=>{const d=w.useContext(Py),p=Cs(()=>{d?.onHide(),s?.()});return C.jsxs("div",{ref:f,...u,children:[o,e&&C.jsx(td,{"aria-label":r,variant:t,onClick:p})]})});Uy.displayName="AbstractModalHeader";const i1=w.forwardRef(({bsPrefix:r,className:t,closeLabel:e="Close",closeButton:s=!1,...o},u)=>(r=gt(r,"modal-header"),C.jsx(Uy,{ref:u,...o,className:dt(t,r),closeLabel:e,closeButton:s})));i1.displayName="ModalHeader";const Ek=sc("h4"),s1=w.forwardRef(({className:r,bsPrefix:t,as:e=Ek,...s},o)=>(t=gt(t,"modal-title"),C.jsx(e,{ref:o,className:dt(r,t),...s})));s1.displayName="ModalTitle";function Tk(r){return C.jsx(Is,{...r,timeout:null})}function Sk(r){return C.jsx(Is,{...r,timeout:null})}const a1=w.forwardRef(({bsPrefix:r,className:t,style:e,dialogClassName:s,contentClassName:o,children:u,dialogAs:f=Ly,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":v,show:T=!1,animation:S=!0,backdrop:I=!0,keyboard:L=!0,onEscapeKeyDown:H,onShow:P,onHide:Z,container:X,autoFocus:Y=!0,enforceFocus:W=!0,restoreFocus:it=!0,restoreFocusOptions:at,onEntered:D,onExit:R,onExiting:O,onEnter:M,onEntering:k,onExited:j,backdropClassName:N,manager:xt,...Ct},$)=>{const[lt,ft]=w.useState({}),[Ot,V]=w.useState(!1),tt=w.useRef(!1),ut=w.useRef(!1),st=w.useRef(null),[ht,vt]=ek(),Et=Wh($,vt),te=Cs(Z),Pt=my();r=gt(r,"modal");const Te=w.useMemo(()=>({onHide:te}),[te]);function Ge(){return xt||e1({isRTL:Pt})}function Le(Tt){if(!il)return;const Vt=Ge().getScrollbarWidth()>0,Ie=Tt.scrollHeight>rl(Tt).documentElement.clientHeight;ft({paddingRight:Vt&&!Ie?uS():void 0,paddingLeft:!Vt&&Ie?uS():void 0})}const en=Cs(()=>{ht&&Le(ht.dialog)});bw(()=>{cg(window,"resize",en),st.current==null||st.current()});const nn=()=>{tt.current=!0},rn=Tt=>{tt.current&&ht&&Tt.target===ht.dialog&&(ut.current=!0),tt.current=!1},Kt=()=>{V(!0),st.current=tw(ht.dialog,()=>{V(!1)})},jn=Tt=>{Tt.target===Tt.currentTarget&&Kt()},ge=Tt=>{if(I==="static"){jn(Tt);return}if(ut.current||Tt.target!==Tt.currentTarget){ut.current=!1;return}Z?.()},Vs=Tt=>{L?H?.(Tt):(Tt.preventDefault(),I==="static"&&Kt())},qr=(Tt,Vt)=>{Tt&&Le(Tt),M?.(Tt,Vt)},sn=Tt=>{st.current==null||st.current(),R?.(Tt)},vn=(Tt,Vt)=>{k?.(Tt,Vt),Jb(window,"resize",en)},xi=Tt=>{Tt&&(Tt.style.display=""),j?.(Tt),cg(window,"resize",en)},ir=w.useCallback(Tt=>C.jsx("div",{...Tt,className:dt(`${r}-backdrop`,N,!S&&"show")}),[S,N,r]),Bn={...e,...lt};Bn.display="block";const Fr=Tt=>C.jsx("div",{role:"dialog",...Tt,style:Bn,className:dt(t,r,Ot&&`${r}-static`,!S&&"show"),onClick:I?ge:void 0,onMouseUp:rn,"data-bs-theme":d,"aria-label":v,"aria-labelledby":p,"aria-describedby":g,children:C.jsx(f,{...Ct,onMouseDown:nn,className:s,contentClassName:o,children:u})});return C.jsx(Py.Provider,{value:Te,children:C.jsx(Jw,{show:T,ref:Et,backdrop:I,container:X,keyboard:!0,autoFocus:Y,enforceFocus:W,restoreFocus:it,restoreFocusOptions:at,onEscapeKeyDown:Vs,onShow:P,onHide:Z,onEnter:qr,onEntering:vn,onEntered:D,onExit:sn,onExiting:O,onExited:xi,manager:Ge(),transition:S?Tk:void 0,backdropTransition:S?Sk:void 0,renderBackdrop:ir,renderDialog:Fr})})});a1.displayName="Modal";const er=Object.assign(a1,{Body:n1,Header:i1,Title:s1,Footer:r1,Dialog:Ly,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),o1=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"nav-item"),C.jsx(e,{ref:o,className:dt(r,t),...s})));o1.displayName="NavItem";const l1=w.forwardRef(({bsPrefix:r,className:t,as:e=Ey,active:s,eventKey:o,disabled:u=!1,...f},d)=>{r=gt(r,"nav-link");const[p,g]=Qw({key:Ny(o,f.href),active:s,disabled:u,...f});return C.jsx(e,{...f,...p,ref:d,disabled:u,className:dt(t,r,u&&"disabled",g.isActive&&"active")})});l1.displayName="NavLink";const u1=w.forwardRef((r,t)=>{const{as:e="div",bsPrefix:s,variant:o,fill:u=!1,justify:f=!1,navbar:d,navbarScroll:p,className:g,activeKey:v,...T}=Xh(r,{activeKey:"onSelect"}),S=gt(s,"nav");let I,L,H=!1;const P=w.useContext(sl),Z=w.useContext(Sy);return P?(I=P.bsPrefix,H=d??!0):Z&&({cardHeaderBsPrefix:L}=Z),C.jsx(tk,{as:e,ref:t,activeKey:v,className:dt(g,{[S]:!H,[`${I}-nav`]:H,[`${I}-nav-scroll`]:H&&p,[`${L}-${o}`]:!!L,[`${S}-${o}`]:!!o,[`${S}-fill`]:u,[`${S}-justified`]:f}),...T})});u1.displayName="Nav";const hS=Object.assign(u1,{Item:o1,Link:l1}),c1=w.forwardRef(({bsPrefix:r,className:t,as:e,...s},o)=>{r=gt(r,"navbar-brand");const u=e||(s.href?"a":"span");return C.jsx(u,{...s,ref:o,className:dt(t,r)})});c1.displayName="NavbarBrand";const f1=w.forwardRef(({children:r,bsPrefix:t,...e},s)=>{t=gt(t,"navbar-collapse");const o=w.useContext(sl);return C.jsx(gy,{in:!!(o&&o.expanded),...e,children:C.jsx("div",{ref:s,className:t,children:r})})});f1.displayName="NavbarCollapse";const h1=w.forwardRef(({bsPrefix:r,className:t,children:e,label:s="Toggle navigation",as:o="button",onClick:u,...f},d)=>{r=gt(r,"navbar-toggler");const{onToggle:p,expanded:g}=w.useContext(sl)||{},v=Cs(T=>{u&&u(T),p&&p()});return o==="button"&&(f.type="button"),C.jsx(o,{...f,ref:d,onClick:v,"aria-label":s,className:dt(t,r,!g&&"collapsed"),children:e||C.jsx("span",{className:`${r}-icon`})})});h1.displayName="NavbarToggle";const vg=new WeakMap,dS=(r,t)=>{if(!r||!t)return;const e=vg.get(t)||new Map;vg.set(t,e);let s=e.get(r);return s||(s=t.matchMedia(r),s.refCount=0,e.set(s.media,s)),s};function Ak(r,t=typeof window>"u"?void 0:window){const e=dS(r,t),[s,o]=w.useState(()=>e?e.matches:!1);return Pw(()=>{let u=dS(r,t);if(!u)return o(!1);let f=vg.get(t);const d=()=>{o(u.matches)};return u.refCount++,u.addListener(d),d(),()=>{u.removeListener(d),u.refCount--,u.refCount<=0&&f?.delete(u.media),u=void 0}},[r]),s}function bk(r){const t=Object.keys(r);function e(d,p){return d===p?p:d?`${d} and ${p}`:p}function s(d){return t[Math.min(t.indexOf(d)+1,t.length-1)]}function o(d){const p=s(d);let g=r[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function u(d){let p=r[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function f(d,p,g){let v;typeof d=="object"?(v=d,g=p,p=!0):(p=p||!0,v={[d]:p});let T=w.useMemo(()=>Object.entries(v).reduce((S,[I,L])=>((L==="up"||L===!0)&&(S=e(S,u(I))),(L==="down"||L===!0)&&(S=e(S,o(I))),S),""),[JSON.stringify(v)]);return Ak(T,g)}return f}const wk=bk({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),d1=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"offcanvas-body"),C.jsx(e,{ref:o,className:dt(r,t),...s})));d1.displayName="OffcanvasBody";const Rk={[fr]:"show",[gi]:"show"},m1=w.forwardRef(({bsPrefix:r,className:t,children:e,in:s=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:f=!1,...d},p)=>(r=gt(r,"offcanvas"),C.jsx(Zh,{ref:p,addEndListener:py,in:s,mountOnEnter:o,unmountOnExit:u,appear:f,...d,childRef:Da(e),children:(g,v)=>w.cloneElement(e,{...v,className:dt(t,e.props.className,(g===fr||g===Bu)&&`${r}-toggling`,Rk[g])})})));m1.displayName="OffcanvasToggling";const p1=w.forwardRef(({bsPrefix:r,className:t,closeLabel:e="Close",closeButton:s=!1,...o},u)=>(r=gt(r,"offcanvas-header"),C.jsx(Uy,{ref:u,...o,className:dt(t,r),closeLabel:e,closeButton:s})));p1.displayName="OffcanvasHeader";const Ck=sc("h5"),g1=w.forwardRef(({className:r,bsPrefix:t,as:e=Ck,...s},o)=>(t=gt(t,"offcanvas-title"),C.jsx(e,{ref:o,className:dt(r,t),...s})));g1.displayName="OffcanvasTitle";function Ik(r){return C.jsx(m1,{...r})}function Ok(r){return C.jsx(Is,{...r})}const y1=w.forwardRef(({bsPrefix:r,className:t,children:e,"aria-labelledby":s,placement:o="start",responsive:u,show:f=!1,backdrop:d=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:v,onShow:T,onHide:S,container:I,autoFocus:L=!0,enforceFocus:H=!0,restoreFocus:P=!0,restoreFocusOptions:Z,onEntered:X,onExit:Y,onExiting:W,onEnter:it,onEntering:at,onExited:D,backdropClassName:R,manager:O,renderStaticNode:M=!1,...k},j)=>{const N=w.useRef();r=gt(r,"offcanvas");const[xt,Ct]=w.useState(!1),$=Cs(S),lt=wk(u||"xs","up");w.useEffect(()=>{Ct(u?f&&!lt:f)},[f,u,lt]);const ft=w.useMemo(()=>({onHide:$}),[$]);function Ot(){return O||(g?(N.current||(N.current=new t1({handleContainerOverflow:!1})),N.current):e1())}const V=(ht,...vt)=>{ht&&(ht.style.visibility="visible"),it?.(ht,...vt)},tt=(ht,...vt)=>{ht&&(ht.style.visibility=""),D?.(...vt)},ut=w.useCallback(ht=>C.jsx("div",{...ht,className:dt(`${r}-backdrop`,R)}),[R,r]),st=ht=>C.jsx("div",{...ht,...k,className:dt(t,u?`${r}-${u}`:r,`${r}-${o}`),"aria-labelledby":s,children:e});return C.jsxs(C.Fragment,{children:[!xt&&(u||M)&&st({}),C.jsx(Py.Provider,{value:ft,children:C.jsx(Jw,{show:xt,ref:j,backdrop:d,container:I,keyboard:p,autoFocus:L,enforceFocus:H&&!g,restoreFocus:P,restoreFocusOptions:Z,onEscapeKeyDown:v,onShow:T,onHide:$,onEnter:V,onEntering:at,onEntered:X,onExit:Y,onExiting:W,onExited:tt,manager:Ot(),transition:Ik,backdropTransition:Ok,renderBackdrop:ut,renderDialog:st})})]})});y1.displayName="Offcanvas";const Nk=Object.assign(y1,{Body:d1,Header:p1,Title:g1}),v1=w.forwardRef(({onHide:r,...t},e)=>{const s=w.useContext(sl),o=Cs(()=>{s==null||s.onToggle==null||s.onToggle(),r?.()});return C.jsx(Nk,{ref:e,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});v1.displayName="NavbarOffcanvas";const _1=w.forwardRef(({className:r,bsPrefix:t,as:e="span",...s},o)=>(t=gt(t,"navbar-text"),C.jsx(e,{ref:o,className:dt(r,t),...s})));_1.displayName="NavbarText";const E1=w.forwardRef((r,t)=>{const{bsPrefix:e,expand:s=!0,variant:o="light",bg:u,fixed:f,sticky:d,className:p,as:g="nav",expanded:v,onToggle:T,onSelect:S,collapseOnSelect:I=!1,...L}=Xh(r,{expanded:"onToggle"}),H=gt(e,"navbar"),P=w.useCallback((...Y)=>{S?.(...Y),I&&v&&T?.(!1)},[S,I,v,T]);L.role===void 0&&g!=="nav"&&(L.role="navigation");let Z=`${H}-expand`;typeof s=="string"&&(Z=`${Z}-${s}`);const X=w.useMemo(()=>({onToggle:()=>T?.(!v),bsPrefix:H,expanded:!!v,expand:s}),[H,v,s,T]);return C.jsx(sl.Provider,{value:X,children:C.jsx(wh.Provider,{value:P,children:C.jsx(g,{ref:t,...L,className:dt(p,H,s&&Z,o&&`${H}-${o}`,u&&`bg-${u}`,d&&`sticky-${d}`,f&&`fixed-${f}`)})})})});E1.displayName="Navbar";const Hf=Object.assign(E1,{Brand:c1,Collapse:f1,Offcanvas:v1,Text:_1,Toggle:h1}),Dk=()=>{};function xk(r,t,{disabled:e,clickTrigger:s}={}){const o=t||Dk;V4(r,o,{disabled:e,clickTrigger:s});const u=tr(f=>{Zb(f)&&o(f)});w.useEffect(()=>{if(e||r==null)return;const f=rl(th(r));let d=(f.defaultView||window).event;const p=Ei(f,"keyup",g=>{if(g===d){d=void 0;return}u(g)});return()=>{p()}},[r,e,u])}const T1=w.forwardRef((r,t)=>{const{flip:e,offset:s,placement:o,containerPadding:u,popperConfig:f={},transition:d,runTransition:p}=r,[g,v]=F0(),[T,S]=F0(),I=uc(v,t),L=pg(r.container),H=pg(r.target),[P,Z]=w.useState(!r.show),X=I4(H,g,L4({placement:o,enableEvents:!!r.show,containerPadding:u||5,flip:e,offset:s,arrowElement:T,popperConfig:f}));r.show&&P&&Z(!1);const Y=(...k)=>{Z(!0),r.onExited&&r.onExited(...k)},W=r.show||!P;if(xk(g,r.onHide,{disabled:!r.rootClose||r.rootCloseDisabled,clickTrigger:r.rootCloseEvent}),!W)return null;const{onExit:it,onExiting:at,onEnter:D,onEntering:R,onEntered:O}=r;let M=r.children(Object.assign({},X.attributes.popper,{style:X.styles.popper,ref:I}),{popper:X,placement:o,show:!!r.show,arrowProps:Object.assign({},X.attributes.arrow,{style:X.styles.arrow,ref:S})});return M=gg(d,p,{in:!!r.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:M,onExit:it,onExiting:at,onExited:Y,onEnter:D,onEntering:R,onEntered:O}),L?ya.createPortal(M,L):null});T1.displayName="Overlay";const S1=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"popover-header"),C.jsx(e,{ref:o,className:dt(r,t),...s})));S1.displayName="PopoverHeader";const jy=w.forwardRef(({className:r,bsPrefix:t,as:e="div",...s},o)=>(t=gt(t,"popover-body"),C.jsx(e,{ref:o,className:dt(r,t),...s})));jy.displayName="PopoverBody";function A1(r,t){let e=r;return r==="left"?e=t?"end":"start":r==="right"&&(e=t?"start":"end"),e}function b1(r="absolute"){return{position:r,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const w1=w.forwardRef(({bsPrefix:r,placement:t="right",className:e,style:s,children:o,body:u,arrowProps:f,hasDoneInitialMeasure:d,popper:p,show:g,...v},T)=>{const S=gt(r,"popover"),I=my(),[L]=t?.split("-")||[],H=A1(L,I);let P=s;return g&&!d&&(P={...s,...b1(p?.strategy)}),C.jsxs("div",{ref:T,role:"tooltip",style:P,"x-placement":L,className:dt(e,S,L&&`bs-popover-${H}`),...v,children:[C.jsx("div",{className:"popover-arrow",...f}),u?C.jsx(jy,{children:o}):o]})});w1.displayName="Popover";const Mk=Object.assign(w1,{Header:S1,Body:jy,POPPER_OFFSET:[0,8]}),R1=w.forwardRef(({bsPrefix:r,placement:t="right",className:e,style:s,children:o,arrowProps:u,hasDoneInitialMeasure:f,popper:d,show:p,...g},v)=>{r=gt(r,"tooltip");const T=my(),[S]=t?.split("-")||[],I=A1(S,T);let L=s;return p&&!f&&(L={...s,...b1(d?.strategy)}),C.jsxs("div",{ref:v,style:L,role:"tooltip","x-placement":S,className:dt(e,r,`bs-tooltip-${I}`),...g,children:[C.jsx("div",{className:"tooltip-arrow",...u}),C.jsx("div",{className:`${r}-inner`,children:o})]})});R1.displayName="Tooltip";const Fu=Object.assign(R1,{TOOLTIP_OFFSET:[0,6]});function Vk(r){const t=w.useRef(null),e=gt(void 0,"popover"),s=gt(void 0,"tooltip"),o=w.useMemo(()=>({name:"offset",options:{offset:()=>{if(r)return r;if(t.current){if(yg(t.current,e))return Mk.POPPER_OFFSET;if(yg(t.current,s))return Fu.TOOLTIP_OFFSET}return[0,0]}}}),[r,e,s]);return[t,[o]]}function kk(r,t){const{ref:e}=r,{ref:s}=t;r.ref=e.__wrapped||(e.__wrapped=o=>e(Sh(o))),t.ref=s.__wrapped||(s.__wrapped=o=>s(Sh(o)))}const C1=w.forwardRef(({children:r,transition:t=Is,popperConfig:e={},rootClose:s=!1,placement:o="top",show:u=!1,...f},d)=>{const p=w.useRef({}),[g,v]=w.useState(null),[T,S]=Vk(f.offset),I=Wh(d,T),L=t===!0?Is:t||void 0,H=Cs(P=>{v(P),e==null||e.onFirstUpdate==null||e.onFirstUpdate(P)});return Pw(()=>{g&&f.target&&(p.current.scheduleUpdate==null||p.current.scheduleUpdate())},[g,f.target]),w.useEffect(()=>{u||v(null)},[u]),C.jsx(T1,{...f,ref:I,popperConfig:{...e,modifiers:S.concat(e.modifiers||[]),onFirstUpdate:H},transition:L,rootClose:s,placement:o,show:u,children:(P,{arrowProps:Z,popper:X,show:Y})=>{var W;kk(P,Z);const it=X?.placement,at=Object.assign(p.current,{state:X?.state,scheduleUpdate:X?.update,placement:it,outOfBoundaries:(X==null||(W=X.state)==null||(W=W.modifiersData.hide)==null?void 0:W.isReferenceHidden)||!1,strategy:e.strategy}),D=!!g;return typeof r=="function"?r({...P,placement:it,show:Y,...!t&&Y&&{className:"show"},popper:at,arrowProps:Z,hasDoneInitialMeasure:D}):w.cloneElement(r,{...P,placement:it,arrowProps:Z,popper:at,hasDoneInitialMeasure:D,className:dt(r.props.className,!t&&Y&&"show"),style:{...r.props.style,...P.style}})}})});C1.displayName="Overlay";function Pk(r){return r&&typeof r=="object"?r:{show:r,hide:r}}function mS(r,t,e){const[s]=t,o=s.currentTarget,u=s.relatedTarget||s.nativeEvent[e];(!u||u!==o)&&!qu(o,u)&&r(...t)}hn.oneOf(["click","hover","focus"]);const _g=({trigger:r=["hover","focus"],overlay:t,children:e,popperConfig:s={},show:o,defaultShow:u=!1,onToggle:f,delay:d,placement:p,flip:g=p&&p.indexOf("auto")!==-1,...v})=>{const T=w.useRef(null),S=Wh(T,Da(e)),I=pV(),L=w.useRef(""),[H,P]=Yb(o,u,f),Z=Pk(d),{onFocus:X,onBlur:Y,onClick:W}=typeof e!="function"?w.Children.only(e).props:{},it=Ct=>{S(Sh(Ct))},at=w.useCallback(()=>{if(I.clear(),L.current="show",!Z.show){P(!0);return}I.set(()=>{L.current==="show"&&P(!0)},Z.show)},[Z.show,P,I]),D=w.useCallback(()=>{if(I.clear(),L.current="hide",!Z.hide){P(!1);return}I.set(()=>{L.current==="hide"&&P(!1)},Z.hide)},[Z.hide,P,I]),R=w.useCallback((...Ct)=>{at(),X?.(...Ct)},[at,X]),O=w.useCallback((...Ct)=>{D(),Y?.(...Ct)},[D,Y]),M=w.useCallback((...Ct)=>{P(!H),W?.(...Ct)},[W,P,H]),k=w.useCallback((...Ct)=>{mS(at,Ct,"fromElement")},[at]),j=w.useCallback((...Ct)=>{mS(D,Ct,"toElement")},[D]),N=r==null?[]:[].concat(r),xt={ref:it};return N.indexOf("click")!==-1&&(xt.onClick=M),N.indexOf("focus")!==-1&&(xt.onFocus=R,xt.onBlur=O),N.indexOf("hover")!==-1&&(xt.onMouseOver=k,xt.onMouseOut=j),C.jsxs(C.Fragment,{children:[typeof e=="function"?e(xt):w.cloneElement(e,xt),C.jsx(C1,{...v,show:H,onHide:D,flip:g,placement:p,popperConfig:s,target:T.current,children:t})]})},Vo=w.forwardRef(({bsPrefix:r,className:t,as:e="div",...s},o)=>{const u=gt(r,"row"),f=Qb(),d=Xb(),p=`${u}-cols`,g=[];return f.forEach(v=>{const T=s[v];delete s[v];let S;T!=null&&typeof T=="object"?{cols:S}=T:S=T;const I=v!==d?`-${v}`:"";S!=null&&g.push(`${p}${I}-${S}`)}),C.jsx(e,{ref:o,...s,className:dt(t,u,...g)})});Vo.displayName="Row";const I1=w.forwardRef(({bsPrefix:r,variant:t,animation:e="border",size:s,as:o="div",className:u,...f},d)=>{r=gt(r,"spinner");const p=`${r}-${e}`;return C.jsx(o,{ref:d,...f,className:dt(u,p,s&&`${p}-${s}`,t&&`text-${t}`)})});I1.displayName="Spinner";const We=[];for(let r=0;r<256;++r)We.push((r+256).toString(16).slice(1));function Lk(r,t=0){return(We[r[t+0]]+We[r[t+1]]+We[r[t+2]]+We[r[t+3]]+"-"+We[r[t+4]]+We[r[t+5]]+"-"+We[r[t+6]]+We[r[t+7]]+"-"+We[r[t+8]]+We[r[t+9]]+"-"+We[r[t+10]]+We[r[t+11]]+We[r[t+12]]+We[r[t+13]]+We[r[t+14]]+We[r[t+15]]).toLowerCase()}let Dp;const Uk=new Uint8Array(16);function jk(){if(!Dp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dp=crypto.getRandomValues.bind(crypto)}return Dp(Uk)}const Bk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),pS={randomUUID:Bk};function zk(r,t,e){if(pS.randomUUID&&!r)return pS.randomUUID();r=r||{};const s=r.random??r.rng?.()??jk();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Lk(s)}async function xp(){const r={},t=await Ag(async()=>await ng(Ho(Oi,"meds")));for(const u of t.docs){const f=u.data();r[u.id]=new O1(u.id,f.name,f.formName,f.group,f.display,f.min,f.max,f.pkg,f.entries)}const e=await Ag(async()=>await ng(Ho(Oi,"aliases")));for(const u of e.docs){const f=u.data();r[u.id]=new N1(u.id,f.name,f.entries,r[f.parent])}const s=Object.entries(r);return s.sort((u,f)=>u[1].compare(f[1])),Object.fromEntries(s)}class Eg{constructor(t,e="",s=0){this.med=t,this.id=zk(),this.date=e,this.amount=s}getDate(){return new Date(this.date)}getAmount(){return this.amount}setAmount(t){this.amount=t}}class O1{constructor(t,e,s,o,u,f,d,p,g){this.toOrder=0,this.entries=[],this.aliases=[],this.onOrder=0,this.id=t,this.name=e,this.formName=s||null,this.group=o||"",this.display=u,this.min=f,this.max=d,this.pkg=p,this instanceof N1?this.docRef=mh(Oi,"aliases",this.id):this.docRef=mh(Oi,"meds",this.id);for(const v of g)if(v.date){const S=v.date.toDate().toISOString().slice(0,10);this.entries.push(new Eg(this,S,v.amount))}else this.entries.push(new Eg(this,"",v.amount))}calcOrder(){let t=this.getAmount()+this.onOrder;for(const e of this.aliases)t=t+e.getAmount();t<this.min?this.toOrder=Math.floor((this.max-t)/this.pkg)*this.pkg:this.toOrder=0}getAmount(){let t=0;for(const e of this.entries)e.date?e.getDate()>zy&&(t=t+e.getAmount()):t=t+e.getAmount();return t}getToOrder(){return this.toOrder}compare(t){return this.getGroup()===t.getGroup()?this.getName().localeCompare(t.getName()):this.getGroup().localeCompare(t.getGroup())}getGroup(){return this.group}getName(){return this.name}getMin(){return this.min}getMax(){return this.max}getPkg(){return this.pkg}getId(){return this.id}getRef(){return this.docRef}getEntries(){return[...this.entries]}newEntry(t){this.entries.push(t)}setEntries(t){this.entries=t}isAlias(){return!1}}class N1 extends O1{constructor(t,e,s,o){super(t,e,null,o.getGroup(),o.display,o.getMin(),o.getMax(),o.getPkg(),s),this.parent=o,this.parent.aliases.push(this)}compare(t){return this.getGroup()===t.getGroup()?this.getName().localeCompare(t.getName()):this.getGroup().localeCompare(t.getGroup())}getGroup(){return super.getGroup()}getName(){return super.getName()}getMin(){return super.getMin()}getMax(){return super.getMax()}getPkg(){return super.getPkg()}getId(){return super.getId()}getRef(){return super.getRef()}getEntries(){return super.getEntries()}getParent(){return this.parent}newEntry(t){const e=super.getEntries();e.push(t),this.setEntries(e)}setEntries(t){super.setEntries(t)}isAlias(){return!0}}var Hk=["color","size","title","className"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Tg.apply(null,arguments)}function qk(r,t){if(r==null)return{};var e,s,o=Fk(r,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(s=0;s<u.length;s++)e=u[s],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(r,e)&&(o[e]=r[e])}return o}function Fk(r,t){if(r==null)return{};var e={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)!==-1)continue;e[s]=r[s]}return e}var D1=w.forwardRef(function(r,t){var e=r.color,s=e===void 0?"currentColor":e,o=r.size,u=o===void 0?"1em":o,f=r.title,d=f===void 0?null:f,p=r.className,g=p===void 0?"":p,v=qk(r,Hk);return kn.createElement("svg",Tg({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:u,height:u,fill:s,className:["bi","bi-trash",g].filter(Boolean).join(" ")},v),d?kn.createElement("title",null,d):null,kn.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),kn.createElement("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"}))});D1.propTypes={color:hn.string,size:hn.oneOfType([hn.string,hn.number]),title:hn.string,className:hn.string};function Gk({handleClose:r,onDelete:t}){return C.jsxs(er,{show:!0,onHide:r,children:[C.jsx(er.Header,{closeButton:!0,children:C.jsx(er.Title,{children:"Are you sure you want to delete this entry?"})}),C.jsxs(er.Footer,{children:[C.jsx(Rn,{variant:"danger",onClick:()=>{r(),t()},children:"DELETE"}),C.jsx(Rn,{variant:"primary",onClick:r,children:"Cancel"})]})]})}function $k({onChange:r,children:t,onDelete:e}){const[s,o]=w.useState(t.getAmount()||void 0),[u,f]=w.useState(t.date),[d,p]=w.useState(!1),g=H=>{const P=H.target.value,Z=Number(P);isNaN(Z)||P===""?o(void 0):Z<0?(t.setAmount(0),o(0)):(t.setAmount(Z),o(Z),r())},v=H=>{t.date=H.target.value,f(H.target.value),r()},T=()=>{s?p(!0):e()},S=()=>{p(!1)},I=()=>u===""?!1:new Date(u)<=zy,L=H=>{if(I())return new Date(u)<=Sg?C.jsxs(Fu,{...H,children:["Panic!",C.jsx("br",{})," This is expired!"]}):C.jsxs(Fu,{...H,children:["Panic soon!",C.jsx("br",{})," This is almost expired!"]})};return C.jsxs(C.Fragment,{children:[d&&C.jsx(Gk,{handleClose:S,onDelete:e}),C.jsx(le,{children:C.jsx(le.Group,{className:"mb-3",controlId:"fromDate",children:C.jsxs(Kw,{children:[I()?C.jsx(_g,{placement:"left",delay:{show:250,hide:400},overlay:L,children:C.jsx(le.Control,{className:new Date(u)<=Sg?"w-50 bg-danger":"w-50 bg-warning",type:"date",value:u,onChange:v})}):C.jsx(le.Control,{className:"w-50",type:"date",value:u,onChange:v}),C.jsx(le.Control,{className:"w-25",type:"number",value:s===void 0?"":s,onChange:g,min:"0"}),C.jsx(Rn,{type:"button",variant:"outline-secondary",onClick:T,children:C.jsx(D1,{})})]})})})]})}function Kk({children:r,pending:t}){const[e,s]=w.useState(r.getEntries());w.useEffect(()=>{const p=[];for(const g of e)g.date===""?p.push({date:"",amount:g.getAmount()}):p.push({date:oe.fromDate(g.getDate()),amount:g.getAmount()});Gh(r.getRef(),{entries:p})},[e]);const o=()=>{const p=new Eg(r);r.newEntry(p),s([...e,p])},u=p=>{r.setEntries(e.filter(g=>g.id!==p)),s(e.filter(g=>g.id!==p))},f=()=>{s([...e])},d=t?t.getEntry(r):null;if(e.length===0)o();else return C.jsx(C.Fragment,{children:C.jsx(Ln,{className:"h-100",style:{width:"18rem"},children:C.jsxs(Ln.Body,{className:"d-flex flex-column",children:[C.jsx(Ln.Title,{children:r.getName()}),C.jsxs(Ln.Subtitle,{className:"d-flex justify-content-around",children:[C.jsxs("p",{children:["Total: ",r.getAmount()]}),C.jsxs("p",{children:["Ordered:"," ",r.onOrder+(d?d.amount:0)]})]}),e.map(p=>C.jsx($k,{onChange:f,onDelete:()=>{u(p.id)},children:p},p.id)),C.jsx(Rn,{type:"button",className:"w-100 mt-auto",color:"blue",onClick:o,children:"+"})]})})})}function gS({setPage:r,setCurrentUser:t,admin:e}){const s=["Home","Orders","Submit"];return e&&s.push("Meds"),C.jsx(Hf,{expand:"lg",className:"bg-body-tertiary mb-5",children:C.jsxs(Ah,{children:[C.jsx(Hf.Brand,{onClick:()=>{r("home")},children:"BLLK"}),C.jsx(Hf.Toggle,{"aria-controls":"basic-navbar-nav"}),C.jsxs(Hf.Collapse,{id:"basic-navbar-nav",children:[C.jsx(hS,{className:"me-auto",children:s.map(o=>C.jsx(hS.Link,{onClick:()=>{r(o.toLocaleLowerCase())},children:o},o))}),C.jsx(Rn,{onClick:()=>{t(null),l2(By)},type:"button",children:"Log Out"})]})]})})}function Yk({setCurrentUser:r}){const[t,e]=w.useState(!0),[s,o]=w.useState(!1),[u,f]=w.useState(!1),d=p=>{p.preventDefault(),f(!0);const g=new FormData(p.target),v=Object.fromEntries(g);Ag(()=>i2(By,v.username+"@bllk.inv",v.password)).then(T=>{T&&(r(T.user),e(!1),f(!1),console.log("User signed in successfully."))}).catch(T=>{T.message==="auth/invalid-credential"&&o(!0),console.error("Error signing in:",T)})};return C.jsxs(er,{show:t,children:[C.jsx(er.Header,{children:C.jsx(er.Title,{children:"Log in"})}),C.jsxs(er.Body,{children:[s&&C.jsx(cV,{variant:"danger",onClose:()=>o(!1),dismissible:!0,children:C.jsx("p",{children:"Oh snap! You entered invalid credentials!"})}),C.jsxs(le,{onSubmit:d,children:[C.jsxs(le.Group,{className:"mb-3",controlId:"formUsername",children:[C.jsx(le.Label,{children:"Username"}),C.jsx(le.Control,{name:"username",autoFocus:!0,type:"text",placeholder:"Enter username"})]}),C.jsxs(le.Group,{className:"mb-3",controlId:"formPassword",children:[C.jsx(le.Label,{children:"Password"}),C.jsx(le.Control,{name:"password",type:"text",placeholder:"Password"})]}),C.jsx(Rn,{variant:"primary",type:"submit",children:"Log In"}),u&&C.jsx(I1,{animation:"border"})]})]})]})}async function Qk(r){const t={},e=await ng(Ho(Oi,"orders"));for(const u of e.docs){const f=u.data(),d=[];for(const p of f.meds)d.push({med:r[p.id],amount:p.amount});t[u.id]=new x1(u.id,f.date.toDate(),d,f.status)}const s=Object.entries(t);return s.sort((u,f)=>u[1].compare(f[1])),Object.fromEntries(s)}class x1{constructor(t,e,s,o){if(this.id=t,this.date=e,this.status=o,this.docRef=mh(Oi,"orders",this.id),this.entries=s,this.status==="Ordered")for(const u of this.entries)u.med.onOrder=u.med.onOrder+u.amount}getEntry(t){for(const e of this.entries)if(e.med===t)return{med:t,amount:e.amount};return null}getId(){return this.id}getDate(){return this.date}getDateString(){return this.date.toDateString()}getStatus(){return this.status}getEntries(){return[...this.entries]}getRef(){return this.docRef}setStatus(t){this.status=t}getStatusColour(){if(this.status==="Ordered")return"secondary";if(this.status==="Received")return"success";if(this.status==="Zeroed")return"warning";if(this.status==="Pending")return"info"}getContent(){const t=[];for(const e of this.entries)t.push(e.med.getName()+": x"+e.amount);return t}isReceived(){return this.status==="Received"}compare(t){return this.getDate()>t.getDate()?-1:1}}function yS({children:r,handleMedChange:t}){const[e,s]=w.useState(!0),[o,u]=w.useState(r?r.getGroup():""),[f,d]=w.useState(r?r.getMin()<0?void 0:r.getMin():void 0),[p,g]=w.useState(r?r.getMax()<0?void 0:r.getMax():void 0),[v,T]=w.useState(r?r.getPkg()<0?void 0:r.getPkg():void 0),S=X=>{const Y=X.target.value;u(Y),s(!1)},I=X=>{const Y=X.target.value,W=Number(Y);isNaN(W)?d(void 0):W<0?d(0):(d(Y),s(!1))},L=X=>{const Y=X.target.value,W=Number(Y);isNaN(W)?g(void 0):W<0?g(0):(g(Y),s(!1))},H=X=>{const Y=X.target.value,W=Number(Y);isNaN(W)?T(void 0):W<0?T(0):(T(Y),s(!1))},P=X=>{X.preventDefault();const Y=new FormData(X.target),W=Object.fromEntries(Y);if(console.log(W),r){const it={name:r.getName(),group:W.group,min:Number(W.min),max:Number(W.max),pkg:Number(W.pkg)};Gh(r.getRef(),it),s(!0)}else{const it={name:W.name,group:W.group,min:W.min===""?-1:Number(W.min),max:W.max===""?-1:Number(W.max),pkg:W.pkg===""?-1:Number(W.pkg),entries:[]};u(""),d(void 0),g(void 0),T(void 0),document.getElementById("floatingName").value="",hb(Ho(Oi,"meds"),it).then(()=>t())}},Z=X=>{r&&(u(r.getGroup()),d(r.getMin()),g(r.getMax()),T(r.getPkg()),s(!0))};return C.jsx(C.Fragment,{children:C.jsx(Ln,{className:"h-100",style:{width:"18rem"},children:C.jsxs(Ln.Body,{className:"d-flex flex-column",children:[r&&C.jsx(Ln.Title,{className:"mb-4",children:r.getName()}),!e&&r&&C.jsx(Ln.Subtitle,{className:"fst-italic text-muted",children:"Unsaved"}),C.jsxs(le,{onSubmit:P,children:[r===void 0&&C.jsx(yi,{controlId:"floatingName",label:"Name",children:C.jsx(le.Control,{onChange:()=>s(!1),type:"text",placeholder:"Medication",name:"name"})}),C.jsx(yi,{controlId:"floatingGroup",label:"Group",children:C.jsx(le.Control,{onChange:S,type:"text",placeholder:"Injectable",name:"group",value:o||""})}),C.jsxs(Kw,{className:"mb-3",children:[C.jsx(yi,{controlId:"floatingMin",label:"Min",children:C.jsx(le.Control,{onChange:I,type:"number",placeholder:"0",name:"min",min:"0",value:f||""})}),C.jsx(yi,{controlId:"floatingMax",label:"Max",children:C.jsx(le.Control,{onChange:L,type:"number",placeholder:"0",name:"max",min:"0",value:p||""})}),C.jsx(yi,{controlId:"floaingPkg",label:"Pkg",children:C.jsx(le.Control,{onChange:H,type:"number",placeholder:"0",name:"pkg",min:"0",value:v||""})})]}),C.jsx(Rn,{className:r?"w-50":"w-100",variant:"primary",type:"submit",children:r?"Save":"Create"}),r&&C.jsx(Rn,{onClick:Z,className:"w-50",variant:"secondary",type:"button",children:"Cancel"})]})]})})})}function vS({order:r,eventKey:t,onReceive:e,meds:s}){const o=[];if(r===null||r.getStatus()==="Pending"){const u=Object.values(s);u.forEach(d=>{d.calcOrder()});const f=u.filter(d=>d.getToOrder()>0);r&&r.entries.forEach(d=>{f.includes(d.med)?d.amount>d.med.getToOrder()&&(o.push(d.med.getName()+": x"+d.amount),f.splice(f.indexOf(d.med),1)):o.push(d.med.getName()+": x"+d.amount)}),f.forEach(d=>{o.push(d.getName()+": x"+d.getToOrder())})}return r?C.jsxs(Ln,{children:[C.jsx(_S,{disableButton:r.getStatus()==="Received"||r.getStatus()==="Pending",onButtonClick:e,eventKey:t,children:r}),C.jsx(fg.Collapse,{eventKey:t,children:C.jsx(Ln.Body,{children:r.getStatus()==="Pending"?o.map((u,f)=>C.jsx("p",{className:"mb-0",children:u},f)):r.getContent().map((u,f)=>C.jsx("p",{className:"mb-0",children:u},f))})})]}):C.jsxs(Ln,{children:[C.jsx(_S,{disableButton:!0,onButtonClick:e,eventKey:t,children:null}),C.jsx(fg.Collapse,{eventKey:t,children:C.jsx(Ln.Body,{children:o.map((u,f)=>C.jsx("p",{className:"mb-0",children:u},f))})})]})}function Xk({handleClose:r,onReceive:t}){return C.jsxs(er,{show:!0,onHide:r,children:[C.jsx(er.Header,{closeButton:!0,children:C.jsx(er.Title,{children:"Are you sure you want to receive this order? Cannot Undo"})}),C.jsxs(er.Footer,{children:[C.jsx(Rn,{variant:"primary",onClick:()=>{r(),t()},children:"Receive"}),C.jsx(Rn,{variant:"secondary",onClick:r,children:"Cancel"})]})]})}function _S({children:r,eventKey:t,onButtonClick:e,disableButton:s}){const[o,u]=w.useState(!1),f=iw(t);let d;if(r)d=r.getDateString();else{const p=new Date;p.setDate(p.getDate()+(8-p.getDay())%7),d=p.toDateString()}return C.jsxs(C.Fragment,{children:[o&&C.jsx(Xk,{handleClose:()=>u(!1),onReceive:e}),C.jsx(Ln.Header,{children:C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[C.jsxs("div",{onClick:f,style:{flexGrow:1,cursor:"pointer"},children:[d,C.jsx(mw,{bg:r?r.getStatusColour():"info",className:"ms-3",children:r?r.getStatus():"Pending"})]}),C.jsx(Rn,{disabled:s,variant:s?"secondary":"primary",onClick:()=>u(!0),children:"Receive"})]})})]})}async function Wk(r){try{const t=await fetch(r);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching data:",t),t}}function Zk({show:r,meds:t,pendingOrder:e,onSubmit:s}){const o=Object.values(t).filter(g=>g.formName!==null);o.sort((g,v)=>g.formName.localeCompare(v.formName));const u=g=>{const v=[];for(let T=0;T<g.length;T=T+2){const S=g[T],I=g[T+1];v.push(C.jsxs(Vo,{children:[C.jsx(Ea,{children:C.jsxs(le.Group,{className:"w-100 mb-3",as:Vo,children:[C.jsx(le.Label,{className:"w-50",children:S.formName}),C.jsx(yi,{controlId:"form"+S.getId(),label:S.getName(),className:"mb-3 w-50",children:C.jsx(le.Control,{type:"number",placeholder:"name@example.com"})})]})}),C.jsx(Ea,{children:C.jsxs(le.Group,{className:"w-100 mb-3",as:Vo,children:[C.jsx(le.Label,{className:"w-50",children:I.formName}),C.jsx(yi,{controlId:"form"+I.getId(),label:I.getName(),className:"mb-3 w-50",children:C.jsx(le.Control,{type:"number",placeholder:"name@example.com"})})]})})]},S.getId()))}return v},f=()=>{const g={};for(const v of o){const T=document.getElementById("form"+v.getId()),S=parseInt(T.value);S>0&&(g[v.getId()]=S),T.value=""}if(console.log(g,e),Object.keys.length>0)if(e===null){const v=new Date;v.setDate(v.getDate()+(8-v.getDay())%7),console.log("new order");const T=Object.entries(g).map(S=>({id:S[0],amount:S[1]}));hb(Ho(Oi,"orders"),{status:"Pending",meds:T,date:v})}else{console.log("update order");for(const T of e.entries){const S=T.med.getId();g[S]?g[S]=g[S]+T.amount:g[S]=T.amount}const v=Object.entries(g).map(T=>({id:T[0],amount:T[1]}));Gh(e.docRef,{meds:v})}return g},d=()=>{f(),Wk("https://script.google.com/macros/s/AKfycbytzNY1-2wxFBA5thGS6wyh9KbATV3zY1EH4eEPuQ_PMTZL1udBZFRCDLearabBLi7O5w/exec"),s()},p=()=>{f(),s()};return C.jsxs(le,{className:r?"":"d-none",children:[u(o),C.jsx(_g,{placement:"top",delay:{show:250,hide:400},overlay:g=>C.jsx(Fu,{id:"button-tooltip",...g,children:"Will add the above amounts to the order on Monday morning."}),children:C.jsx(Rn,{className:"ms-3",variant:"primary",type:"button",onClick:p,children:"Add To Next Order"})}),C.jsx(_g,{placement:"top",delay:{show:250,hide:400},overlay:g=>C.jsx(Fu,{id:"button-tooltip",...g,children:"Will add some automatic meds to the order and submit immediately"}),children:C.jsx(Rn,{className:"ms-3",variant:"secondary",type:"button",onClick:d,children:"Order Now"})})]})}const Jk={apiKey:"AIzaSyD9-6prflaJhhuFut_6-ze9H5JI2ROG0b8",authDomain:"bllkinventory-bd8eb.firebaseapp.com",projectId:"bllkinventory-bd8eb",storageBucket:"bllkinventory-bd8eb.firebasestorage.app",messagingSenderId:"803086724359",appId:"1:803086724359:web:dcb95778290927a225e9a2"},M1=DS(Jk),Oi=$D(M1),By=_M(M1),tP=Ho(Oi,"orders"),Sg=new Date,zy=new Date;zy.setDate(Sg.getDate()+14);async function Ag(r,t=3,e=1e3){let s=0;for(;s<t;)try{return await r()}catch(o){if(o.code==="unavailable"||o.code==="deadline-exceeded")console.warn(`Firestore operation failed (retry ${s+1}/${t}):`,o.message),await new Promise(u=>setTimeout(u,e*Math.pow(2,s))),s++;else throw o}throw new Error(`Firestore operation failed after ${t} retries.`)}function eP(){const[r,t]=w.useState({}),[e,s]=w.useState({}),[o,u]=w.useState(null),[f,d]=w.useState(!0),[p,g]=w.useState("home"),[v,T]=w.useState(null);return w.useEffect(()=>{const S=o2(By,I=>{u(I),d(!1)});return()=>S()},[]),w.useEffect(()=>{!f&&o&&xp().then(S=>{t(S),Qk(S).then(I=>s(I))})},[o]),w.useEffect(()=>{if(!f&&Object.keys(r).length>0){const S=sx(tP,I=>{const L={};Object.values(r).forEach(X=>X.onOrder=0);let H=null;for(const X of I.docs){const Y=X.data(),W=[];for(const it of Y.meds)W.push({med:r[it.id],amount:it.amount});L[X.id]=new x1(X.id,Y.date.toDate(),W,Y.status),Y.status==="Pending"&&(H=L[X.id])}const P=Object.entries(L);P.sort((X,Y)=>X[1].compare(Y[1]));const Z=Object.fromEntries(P);s(Z),T(H)});return()=>S()}},[r]),f?C.jsx("div",{children:"Loading authentication status..."}):o?C.jsxs(C.Fragment,{children:[C.jsx(gS,{admin:o.email==="admin@bllk.inv",setCurrentUser:u,setPage:g}),p==="home"&&C.jsx(Ah,{children:C.jsx(Vo,{children:Object.values(r).map(S=>S.display&&C.jsx(Ea,{className:"mb-3",children:C.jsx(Kk,{pending:v,children:S})},S.getId()))})}),p==="orders"&&C.jsxs(fg,{children:[v===null&&C.jsx(vS,{eventKey:"pending",meds:r,order:null,onReceive:()=>null}),Object.values(e).map((S,I)=>C.jsx(vS,{eventKey:I.toString(),meds:r,order:S,onReceive:()=>{if(S.getStatus()==="Ordered")for(const L of S.getEntries())L.med.onOrder=L.med.onOrder-L.amount;S.setStatus("Received"),s({...e}),Gh(S.getRef(),{status:"Received"})}},S.getId()))]}),C.jsx(Zk,{show:p==="submit",pendingOrder:v,meds:r,onSubmit:()=>g("orders")}),p==="meds"&&C.jsx(Ah,{children:C.jsxs(Vo,{children:[Object.values(r).map(S=>S.display&&C.jsx(Ea,{className:"mb-3",children:C.jsx(yS,{handleMedChange:()=>{xp().then(I=>{t(I)})},children:S})},S.getId())),C.jsx(Ea,{className:"mb-3",children:C.jsx(yS,{handleMedChange:()=>{xp().then(S=>{t(S)})},children:void 0})})]})})]}):C.jsxs(C.Fragment,{children:[C.jsx(Yk,{setCurrentUser:u}),C.jsx(gS,{admin:!1,setCurrentUser:u,setPage:g})]})}hC.createRoot(document.getElementById("root")).render(C.jsx(w.StrictMode,{children:C.jsx(eP,{})}));
